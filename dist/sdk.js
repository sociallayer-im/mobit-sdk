!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MobitSdk=t():e.MobitSdk=t()}(this,(()=>(()=>{var __webpack_modules__={73513:(e,t,r)=>{"use strict";var n=r(48287).Buffer,i=r(9598),o=r(39615),a=r(22623);function s(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var c=s(i);const u="Expected Private",f="Expected Point",d="Expected Tweak",l="Expected Signature",h="Expected Extra Data (32 bytes)",p="Expected Scalar";c.utils.hmacSha256Sync=(e,...t)=>o.hmac(a.sha256,e,c.utils.concatBytes(...t)),c.utils.sha256Sync=(...e)=>a.sha256(c.utils.concatBytes(...e));const b=c.utils._normalizePrivateKey,y=32,g=32,m=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),v=32,_=new Uint8Array(32),w=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function S(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function x(e){return 0===S(e,_)}function A(e){return e instanceof Uint8Array&&e.length===g&&!(S(e,m)>=0)}function E(e){return e instanceof Uint8Array&&64===e.length&&S(e.subarray(0,32),m)<0&&S(e.subarray(32,64),m)<0}function I(e){return e instanceof Uint8Array&&64===e.length&&S(e.subarray(0,32),w)<0}function k(e){return e instanceof Uint8Array&&e.length===y}function T(e){return void 0===e||e instanceof Uint8Array&&e.length===v}function C(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function O(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private scalar");t=C(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==e.length)throw new Error("Expected 32 bytes of private scalar");r=e,t=C(c.utils.bytesToHex(r))}var r;if(t<0)throw new Error("Expected private scalar >= 0");return t}const P=(e,t,r)=>{const n=c.Point.fromHex(e),i=O(t),o=c.Point.BASE.multiplyAndAddUnsafe(n,i,BigInt(1));if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)};function M(e,t){return void 0===e?void 0===t||L(t):!!e}function B(e){try{return e()}catch(e){return null}}function D(e,t){if(32===e.length!==t)return!1;try{return!!c.Point.fromHex(e)}catch(e){return!1}}function R(e){return D(e,!1)}function L(e){return D(e,!1)&&33===e.length}function N(e){return c.utils.isValidPrivateKey(e)}function j(e){return D(e,!0)}function U(e){if(!R(e))throw new Error(f);return e.slice(1,33)}function H(e,t){if(!N(e))throw new Error(u);return B((()=>c.getPublicKey(e,M(t))))}t.isPoint=R,t.isPointCompressed=L,t.isPrivate=N,t.isXOnlyPoint=j,t.pointAdd=function(e,t,r){if(!R(e)||!R(t))throw new Error(f);return B((()=>{const n=c.Point.fromHex(e),i=c.Point.fromHex(t);return n.equals(i.negate())?null:n.add(i).toRawBytes(M(r,e))}))},t.pointAddScalar=function(e,t,r){if(!R(e))throw new Error(f);if(!A(t))throw new Error(d);return B((()=>P(e,t,M(r,e))))},t.pointCompress=function(e,t){if(!R(e))throw new Error(f);return c.Point.fromHex(e).toRawBytes(M(t,e))},t.pointFromScalar=H,t.pointMultiply=function(e,t,r){if(!R(e))throw new Error(f);if(!A(t))throw new Error(d);return B((()=>((e,t,r)=>{const n=c.Point.fromHex(e),i="string"==typeof t?t:c.utils.bytesToHex(t),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)})(e,t,M(r,e))))},t.privateAdd=function(e,t){if(!1===N(e))throw new Error(u);if(!1===A(t))throw new Error(d);return B((()=>((e,t)=>{const r=b(e),n=O(t),i=c.utils._bigintTo32Bytes(c.utils.mod(r+n,c.CURVE.n));return c.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.privateNegate=function(e){if(!1===N(e))throw new Error(u);return(e=>{const t=b(e),r=c.utils._bigintTo32Bytes(c.CURVE.n-t);return c.utils.isValidPrivateKey(r)?r:null})(e)},t.privateSub=function(e,t){if(!1===N(e))throw new Error(u);if(!1===A(t))throw new Error(d);return B((()=>((e,t)=>{const r=b(e),n=O(t),i=c.utils._bigintTo32Bytes(c.utils.mod(r-n,c.CURVE.n));return c.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.recover=function(e,t,r,n){if(!k(e))throw new Error("Expected Hash");if(!E(t)||!function(e){return!(x(e.subarray(0,32))||x(e.subarray(32,64)))}(t))throw new Error(l);if(2&r&&!I(t))throw new Error("Bad Recovery Id");if(!j(t.subarray(0,32)))throw new Error(l);return c.recoverPublicKey(e,t,r,M(n))},t.sign=function(e,t,r){if(!N(t))throw new Error(u);if(!k(e))throw new Error(p);if(!T(r))throw new Error(h);return c.signSync(e,t,{der:!1,extraEntropy:r})},t.signRecoverable=function(e,t,r){if(!N(t))throw new Error(u);if(!k(e))throw new Error(p);if(!T(r))throw new Error(h);const[n,i]=c.signSync(e,t,{der:!1,extraEntropy:r,recovered:!0});return{signature:n,recoveryId:i}},t.signSchnorr=function(e,t,r=n.alloc(32,0)){if(!N(t))throw new Error(u);if(!k(e))throw new Error(p);if(!T(r))throw new Error(h);return c.schnorr.signSync(e,t,r)},t.verify=function(e,t,r,n){if(!R(t))throw new Error(f);if(!E(r))throw new Error(l);if(!k(e))throw new Error(p);return c.verify(r,e,t,{strict:n})},t.verifySchnorr=function(e,t,r){if(!j(t))throw new Error(f);if(!E(r))throw new Error(l);if(!k(e))throw new Error(p);return c.schnorr.verifySync(r,e,t)},t.xOnlyPointAddTweak=function(e,t){if(!j(e))throw new Error(f);if(!A(t))throw new Error(d);return B((()=>{const r=P(e,t,!0);return{parity:r[0]%2==1?1:0,xOnlyPubkey:r.slice(1)}}))},t.xOnlyPointFromPoint=U,t.xOnlyPointFromScalar=function(e){if(!N(e))throw new Error(u);return U(H(e))}},59819:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,s="ArrayBuffer"in r;if(s)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function b(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=b(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(y)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=b(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];S.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(i,a){var c=new _(e,n);if(c.signal&&c.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var n="response"in u?u.response:u.responseText;setTimeout((function(){i(new S(n,r))}),0)},u.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){a(new t.DOMException("Aborted","AbortError"))}),0)},u.open(c.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":s&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?c.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){u.setRequestHeader(e,d(n.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",f),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",f)}),u.send(void 0===c._bodyInit?null:c._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=h,r.Request=_,r.Response=S),t.Headers=h,t.Request=_,t.Response=S,t.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},67164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},13892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessArgs=t.UncleBlockVec=t.UncleBlock=t.TransactionVec=t.Transaction=t.ScriptOpt=t.Script=t.RawTransaction=t.RawHeader=t.ProposalShortIdVec=t.ProposalShortId=t.OutPoint=t.Header=t.HashType=t.DepType=t.CellbaseWitness=t.CellOutputVec=t.CellOutput=t.CellInputVec=t.CellInput=t.CellDepVec=t.CellDep=t.BytesVec=t.BytesOptVec=t.BytesOpt=t.Bytes=t.Byte32Vec=t.Byte32=t.BlockV1=t.Block=t.BaseHeader=void 0,t.WitnessArgsOf=x,t.createFixedHexBytesCodec=g,t.deTransformHeaderCodecType=Y,t.deTransformTransactionCodecType=G,t.transformHeaderCodecType=Q,t.transformTransactionCodecType=W;var n=r(71313),i=r(92900);function o(e){return{...e,unpack:t=>i.BI.from(e.unpack(t)).toHexString()}}const a=o(n.number.Uint8),s=o(n.number.Uint32LE),c=o(n.number.Uint64LE),u=o(n.number.Uint128LE),{byteVecOf:f,option:d,table:l,vector:h,struct:p}=n.molecule,{bytify:b,hexify:y}=n.bytes;function g(e){return(0,n.createFixedBytesCodec)({byteLength:e,pack:e=>b(e),unpack:e=>y(e)})}const m=t.Bytes=f({pack:b,unpack:y}),v=t.BytesOpt=d(m),_=t.BytesVec=h(m),w=(t.BytesOptVec=h(v),t.Byte32=g(32)),S=t.Byte32Vec=h(w);function x(e){return l({lock:d(f(e.lock)),inputType:d(f(e.inputType)),outputType:d(f(e.outputType))},["lock","inputType","outputType"])}const A=(0,n.createBytesCodec)({pack:b,unpack:y}),E=(t.WitnessArgs=x({lock:A,inputType:A,outputType:A}),t.HashType=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("type"===e)return n.number.Uint8.pack(1);if("data"===e)return n.number.Uint8.pack(0);if("data1"===e)return n.number.Uint8.pack(2);if("data2"===e)return n.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(1===t)return"type";if(0===t)return"data";if(2===t)return"data1";if(4===t)return"data2";throw new Error(`Invalid hash type: ${t}`)}})),I=t.DepType=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("code"===e)return a.pack(0);if("depGroup"===e)return a.pack(1);throw new Error(`Invalid dep type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(0===t)return"code";if(1===t)return"depGroup";throw new Error(`Invalid dep type: ${t}`)}}),k=t.Script=l({codeHash:w,hashType:E,args:m},["codeHash","hashType","args"]),T=t.ScriptOpt=d(k),C=t.OutPoint=p({txHash:w,index:s},["txHash","index"]),O=t.CellInput=p({since:c,previousOutput:C},["since","previousOutput"]),P=t.CellInputVec=h(O),M=t.CellOutput=l({capacity:c,lock:k,type:T},["capacity","lock","type"]),B=t.CellOutputVec=h(M),D=t.CellDep=p({outPoint:C,depType:I},["outPoint","depType"]),R=t.CellDepVec=h(D),L=t.RawTransaction=l({version:s,cellDeps:R,headerDeps:S,inputs:P,outputs:B,outputsData:_},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),N=l({raw:L,witnesses:_},["raw","witnesses"]),j=t.Transaction=(0,n.createBytesCodec)({pack:e=>N.pack(W(e)),unpack:e=>G(N.unpack(e))}),U=t.TransactionVec=h(j),H=t.RawHeader=p({version:s,compactTarget:s,timestamp:c,number:c,epoch:c,parentHash:w,transactionsRoot:w,proposalsHash:w,extraHash:w,dao:w},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),F=t.BaseHeader=p({raw:H,nonce:u},["raw","nonce"]),z=t.Header=(0,n.createBytesCodec)({pack:e=>F.pack(Q(e)),unpack:e=>Y(F.unpack(e))}),q=t.ProposalShortId=g(10),K=t.ProposalShortIdVec=h(q),V=t.UncleBlock=l({header:z,proposals:K},["header","proposals"]),$=t.UncleBlockVec=h(V);t.Block=l({header:z,uncles:$,transactions:U,proposals:K},["header","uncles","transactions","proposals"]),t.BlockV1=l({header:z,uncles:$,transactions:U,proposals:K,extension:m},["header","uncles","transactions","proposals","extension"]),t.CellbaseWitness=l({lock:k,message:m},["lock","message"]);function W(e){return{raw:{version:e.version,cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData},witnesses:e.witnesses}}function G(e){return{cellDeps:e.raw.cellDeps.map((e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType}))),headerDeps:e.raw.headerDeps,inputs:e.raw.inputs.map((e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since}))),outputs:e.raw.outputs.map((e=>({capacity:e.capacity,lock:e.lock,type:e.type}))),outputsData:e.raw.outputsData,version:e.raw.version,witnesses:e.witnesses}}function Q(e){return{raw:{timestamp:e.timestamp,number:e.number,epoch:e.epoch,compactTarget:Number(e.compactTarget),dao:e.dao,parentHash:e.parentHash,proposalsHash:e.proposalsHash,transactionsRoot:e.transactionsRoot,extraHash:e.extraHash,version:e.version},nonce:e.nonce}}function Y(e){return{timestamp:e.raw.timestamp,number:e.raw.number,epoch:e.raw.epoch,compactTarget:e.raw.compactTarget,dao:e.raw.dao,parentHash:e.raw.parentHash,proposalsHash:e.raw.proposalsHash,transactionsRoot:e.raw.transactionsRoot,extraHash:e.raw.extraHash,version:e.raw.version,nonce:e.nonce,hash:""}}},88701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCellMatchQueryOptions=function(e,{lock:t,type:r,argsLen:a=-1,data:s="any",fromBlock:c,toBlock:u}){let f=null,d=null;t&&!o(t)?f={script:t,argsLen:a}:t&&(f=t,t.argsLen||(f.argsLen=a));r&&"empty"===r?d=r:r&&"object"==typeof r&&!o(r)?d={script:r,argsLen:a}:r&&"object"==typeof r&&o(r)&&(d=r,r.argsLen||(d.argsLen=a));if(f&&f.script&&-1===f.argsLen&&!new n.ScriptValue(e.cellOutput.lock,{validate:!1}).equals(new n.ScriptValue(f.script,{validate:!1})))return!1;if(f&&f.script&&"any"===f.argsLen){const t=e.cellOutput.lock;if(t.codeHash!==f.script.codeHash||t.hashType!==f.script.hashType||!t.args.startsWith(f.script.args))return!1}if(f&&f.script&&"number"==typeof f.argsLen&&f.argsLen>=0){const t=2*f.argsLen+2,r=f.script.args.length,n=Math.min(t,r),i=e.cellOutput.lock;if(i.args.length!==t)return!1;if(i.codeHash!==f.script.codeHash||i.hashType!==f.script.hashType||i.args.slice(0,n)!==f.script.args.slice(0,n))return!1}if(d&&"empty"===d&&e.cellOutput.type)return!1;if(d&&"object"==typeof d&&(!e.cellOutput.type||!new n.ScriptValue(e.cellOutput.type,{validate:!1}).equals(new n.ScriptValue(d.script,{validate:!1}))))return!1;if(s&&"any"!==s&&e.data!==s)return!1;if(c&&e.blockNumber&&i.BI.from(e.blockNumber).lt(i.BI.from(c)))return!1;if(u&&e.blockNumber&&i.BI.from(e.blockNumber).gt(i.BI.from(u)))return!1;return!0},t.isScriptWrapper=o;var n=r(16112),i=r(92900);function o(e){return null!==e&&void 0!==e.script}},41600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var i=p(r(16112));t.values=i;var o=p(r(54617));t.utils=o;var a=p(r(37462));t.since=a;var s=p(r(88701));t.helpers=s;var c=p(r(28735));t.indexer=c,Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=p(r(13022));t.logger=u;var f=p(r(13892));t.blockchain=f;var d=r(20073);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var l=r(67164);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}))},28735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionCollector=t.Indexer=void 0;var n=r(49805),i=r(54617),o=r(88701);t.Indexer=class{};class a{constructor(e,{lock:t,type:r,argsLen:a=-1,fromBlock:s,toBlock:c,order:u="asc",skip:f}={},{skipMissing:d=!1,includeStatus:l=!0}={}){if(!(t||r&&"empty"!==r))throw new Error("Either lock or type script must be provided!");if(t&&!(0,o.isScriptWrapper)(t)?(n.validators.ValidateScript(t),this.lock={script:t,ioType:"both",argsLen:a}):t&&t.script&&(n.validators.ValidateScript(t.script),this.lock=t,t.argsLen||(this.lock.argsLen=a),t.ioType||(this.lock.ioType="both")),"empty"===r?this.type=r:r&&!(0,o.isScriptWrapper)(r)?(n.validators.ValidateScript(r),this.type={script:r,ioType:"both",argsLen:a}):r&&r.script&&(n.validators.ValidateScript(r.script),this.type=r,r.argsLen||(this.type.argsLen=a),r.ioType||(this.type.ioType="both")),s&&(0,i.assertHexadecimal)("fromBlock",s),c&&(0,i.assertHexadecimal)("toBlock",c),"asc"!==u&&"desc"!==u)throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=d,this.includeStatus=l,this.fromBlock=s,this.toBlock=c,this.order=u,this.skip=f,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const t of e){const e=await this.rpc.get_transaction(t);if(!this.skipMissing&&!e)throw new Error(`Transaction ${t} is missing!`);this.includeStatus?yield e:yield e.transaction}}}t.TransactionCollector=a;const s={TransactionCollector:a};t.default=s},13022:(e,t)=>{"use strict";function r(e,t){const r=`[${e}] ${t}`;return"error"===e||"warn"===e?console.warn(r):void console.log(`[${e}] ${t}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLogger=r,t.deprecated=function(e){r("deprecated",e)}},20073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},37462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAbsoluteEpochSince=s,t.generateHeaderEpoch=c,t.generateSince=o,t.maximumAbsoluteEpochSince=function(...e){const t=e.map((e=>u(e))),r=Math.max(...t.map((e=>e.number))),i=t.filter((e=>e.number===r));let o=i[0];for(let e=1;e<i.length;++e){const t=i[e];n.BI.from(t.index).mul(o.length).gte(n.BI.from(o.index).mul(t.length))&&(o=t)}return s(o)},t.parseAbsoluteEpochSince=u,t.parseEpoch=a,t.parseSince=function(e){const t=i(e);return"epochNumber"===t.type?t:{...t,value:t.value.toBigInt()}},t.parseSinceCompatible=i,t.validateAbsoluteEpochSince=f,t.validateSince=function(e,t,r){const{relative:o,type:s,value:c}=i(e);if(o){if("epochNumber"===s){const e=a(t.epoch),i=a(r.epoch),o={number:n.BI.from(c.number).add(i.number),index:n.BI.from(c.index).mul(i.length).add(n.BI.from(i.index).mul(c.length)),length:n.BI.from(c.length).mul(i.length)};return 0===c.length&&0!==i.length?(o.index=n.BI.from(i.index),o.length=n.BI.from(i.length)):0===i.length&&0!==c.length&&(o.index=n.BI.from(c.index),o.length=n.BI.from(c.length)),!n.BI.from(o.length).eq(0)&&n.BI.from(o.index).gte(o.length)&&(o.number=o.index.div(o.length).add(o.number),o.index=o.index.mod(o.length)),n.BI.from(o.number).lt(e.number)||n.BI.from(o.number).eq(e.number)&&n.BI.from(o.index).mul(e.length).lte(n.BI.from(e.index).mul(o.length))}if("blockNumber"===s)return n.BI.from(c).add(r.blockNumber).lte(t.blockNumber);if("blockTimestamp"===s){if(!t.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return n.BI.from(c).mul(1e3).add(r.median_timestamp).lte(t.median_timestamp)}}else{if("epochNumber"===s)return f(e,t.epoch);if("blockNumber"===s)return n.BI.from(c).lte(t.blockNumber);if("blockTimestamp"===s){if(!t.median_timestamp)throw new Error("Must provide tip median_timestamp!");return n.BI.from(c).mul(1e3).lte(t.median_timestamp)}}return!1};var n=r(92900);function i(e){const t=n.BI.from(e),r=t.shr(56),i=r.shr(5).and("0b11");let o,a;if(i.eq(0))o="blockNumber",a=t.and("0xFFFFFFFFFFFFFF");else if(i.eq(1))o="epochNumber",a={length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()};else{if(!i.eq(2))throw new Error("Invalid metric flag!");o="blockTimestamp",a=t.and("0xFFFFFFFFFFFFFF")}return{relative:!r.and("0x80").eq(0),type:o,value:a}}function o({relative:e,type:t,value:r}){let i,o=n.BI.from(0);return e&&(o=o.add(128)),"epochNumber"===t?o=o.add(32):"blockTimestamp"===t&&(o=o.add(64)),i=(0,n.isBIish)(r)?n.BI.from(r):"object"==typeof r?c(r):n.BI.from(r),d(o.shl(56).add(i))}function a(e){const t=n.BI.from(e);return{length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()}}function s({length:e,index:t,number:r}){return o({relative:!1,type:"epochNumber",value:{length:e,index:t,number:r}})}function c({length:e,index:t,number:r}){return d(n.BI.from(e).shl(40).add(n.BI.from(t).shl(24)).add(r))}function u(e){const{relative:t,type:r,value:n}=i(e);if(!1!==t||"epochNumber"!==r)throw new Error("Since format error!");return n}function f(e,t){const r=i(e).value,o=a(t);return n.BI.from(r.number).lt(o.number)||n.BI.from(r.number).eq(o.number)&&n.BI.from(r.index).mul(o.length).lte(n.BI.from(o.index).mul(r.length))}function d(e){return"0x"+e.toString(16)}},54617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CKBHasher=void 0,t.assertHexString=function(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)},t.assertHexadecimal=v,t.ckbHash=p,t.ckbHash160=function(e){return p(e).slice(0,42)},t.computeScriptHash=function(e){return p(s.Script.pack(e))},t.deepCamel=S,t.deepCamelizeTransaction=function(e){return x(S(e))},t.generateTypeIdScript=function(e,t="0x0"){s.CellInput.pack(e),v("outputIndex",t);const r=function(e,t){const r=s.CellInput.pack(e),n=a.bytes.hexify(a.number.Uint64LE.pack(t)),i=new h;return i.update(r),i.update(n),i.digestHex()}(e,t);return{codeHash:_,hashType:"type",args:r}},t.hashCode=function(e){return(0,o.xxHash32)(e,0)},t.readBigUInt128LE=function(e){return m(e).toBigInt()},t.readBigUInt128LECompatible=m,t.readBigUInt64LE=function(e){return y(e).toBigInt()},t.readBigUInt64LECompatible=y,t.toBigUInt128LE=function(e){return g(e)},t.toBigUInt128LECompatible=g,t.toBigUInt64LE=function(e){return b(e)},t.toBigUInt64LECompatible=b;var n,i=(n=r(72206))&&n.__esModule?n:{default:n},o=r(52290),a=r(71313),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13892)),c=r(6435);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}const{bytify:f,hexify:d,bytifyRawString:l}=a.bytes;class h{constructor(e={}){const{outLength:t=32}=e;this.outLength=t,this.hasher=(0,i.default)(t,void 0,void 0,l("ckb-default-hash"))}update(e){return this.hasher.update(f(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),d(e.buffer)}}function p(e){const t=new h;return t.update(a.bytes.bytify(e)),t.digestHex()}function b(e){return a.bytes.hexify(c.Uint64LE.pack(e))}function y(e){return c.Uint64LE.unpack(e)}function g(e){return a.bytes.hexify(c.Uint128LE.pack(e))}function m(e){return c.Uint128LE.unpack(e)}function v(e,t){if(!/^0x(0|[0-9a-fA-F]+)$/.test(t))throw new Error(`${e} must be a hexadecimal!`)}t.CKBHasher=h;const _="0x00000000000000000000000000000000000000000000000000545950455f4944";function w(e){return e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_","")))}function S(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>S(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[w(r)]=S(n):t[w(r)]=n}return t}return e}function x(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>x(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[r]=x(n):t[r]="dep_group"===n?"depGroup":n}return t}return e}},16112:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionValue=t.ScriptValue=t.RawTransactionValue=t.OutPointValue=void 0;var i=r(52290),o=r(54617),a=r(71313),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13892));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const{hexify:u}=a.bytes;class f{constructor(e){this.buffer=e}equals(e){return u(this.buffer)===u(e.buffer)}hashCode(){return(0,i.xxHash32)(n.from(this.buffer),0)}hash(){return(0,o.ckbHash)(this.buffer)}}t.ScriptValue=class extends f{constructor(e,t={}){super(s.Script.pack(e))}};t.OutPointValue=class extends f{constructor(e,t={}){super(s.OutPoint.pack(e))}};t.RawTransactionValue=class extends f{constructor(e,t={}){super(s.RawTransaction.pack(e))}};t.TransactionValue=class extends f{constructor(e,t={}){super(s.Transaction.pack(e))}}},92900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ckbDecimals=t.BI=void 0,t.formatUnit=function(e,t){const r=l(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=a.from(e);const n=e.isNegative();n&&(e=e.mul(d));const i=e.div(r).toString();let o=i;if(r.length>1){let t=e.mod(r).toString();for(;t.length<r.length-1;)t="0"+t;t=t.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+t}n&&(o="-"+o);return o}(e,r)},t.isBIish=o,t.parseUnit=function(e,t){const r=l(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n="-"===e.substring(0,1);n&&(e=e.substring(1));let i,o;const s=e.split(".");if(1===s.length)i=s[0],o="0";else{if(2!==s.length)throw new Error("too many decimal points (should not happen)");i=s[0],o=s[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const c=a.from(i),u=a.from(o);let f=c.mul(r).add(u);n&&(f=f.mul(d));return f}(e,r)},t.toJSBI=c;var n,i=(n=r(62686))&&n.__esModule?n:{default:n};function o(e){return null!==e&&("number"==typeof e&&e%1==0||"string"==typeof e&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||"bigint"==typeof e||a.isBI(e))}class a{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return s(i.default.add(this.jsbi,c(e)))}sub(e){return s(i.default.subtract(this.jsbi,c(e)))}div(e){return s(i.default.divide(this.jsbi,c(e)))}mul(e){return s(i.default.multiply(this.jsbi,c(e)))}mod(e){return s(i.default.remainder(this.jsbi,c(e)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,c(0))?s(this.jsbi):s(i.default.unaryMinus(this.jsbi))}pow(e){return s(i.default.exponentiate(this.jsbi,c(e)))}and(e){return s(i.default.bitwiseAnd(this.jsbi,c(e)))}or(e){return s(i.default.bitwiseOr(this.jsbi,c(e)))}xor(e){return s(i.default.bitwiseXor(this.jsbi,c(e)))}not(){return s(i.default.bitwiseNot(this.jsbi))}mask(e){const t=c(e);if(i.default.lessThan(t,c(0))||i.default.lessThan(this.jsbi,c(0)))throw new Error("mask works only with positive numbers");const r=c(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,t))return s(this.jsbi);{const e=i.default.leftShift(i.default.signedRightShift(this.jsbi,t),t);return s(i.default.bitwiseXor(this.jsbi,e))}}shl(e){return s(i.default.leftShift(this.jsbi,c(e)))}shr(e){return s(i.default.signedRightShift(this.jsbi,c(e)))}eq(e){return i.default.equal(this.jsbi,c(e))}lt(e){return i.default.lessThan(this.jsbi,c(e))}lte(e){return i.default.lessThanOrEqual(this.jsbi,c(e))}gt(e){return i.default.greaterThan(this.jsbi,c(e))}gte(e){return i.default.greaterThanOrEqual(this.jsbi,c(e))}isNegative(){return i.default.lessThan(this.jsbi,c(0))}isZero(){return i.default.equal(this.jsbi,c(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(e){throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return i.default.lessThan(this.jsbi,c(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof a)return e;if(o(e))return s(c(e));if(e instanceof i.default)return s(c(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return function(e){return null!=e&&"object"==typeof e}(e)&&!!e._isBI}}function s(e){return new a(e)}function c(e){return"number"==typeof e||"string"==typeof e?i.default.BigInt(e):i.default.BigInt(e.toString())}t.BI=a;const u=["shannon","ckb"],f=t.ckbDecimals=8,d=a.from(-1);function l(e){let t=0;if("string"==typeof e){if(-1===u.indexOf(e))throw new Error(`invalid unit name, supported names are ${u.join(", ")}`);"ckb"===e&&(t=f)}else{if(!h(e))throw new Error("unit of integer must be a non-negative integer");t=e}return t}function h(e){return Number.isInteger(e)&&e>=0}},62686:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(){return f=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i},f.apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){function r(){return f(e,arguments,s(this).constructor)}if(null===e||!d(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},l(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function b(e){var t=u();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function y(e,t){return g(e)||m(e,t)||v(e,t)||w()}function g(e){if(Array.isArray(e))return e}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var x=function(e){var t=Math.abs,i=Math.max,s=Math.floor;function c(e,t){var r;if(n(this,c),(r=u.call(this,e)).sign=t,Object.setPrototypeOf(h(r),c.prototype),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}a(c,e);var u=b(c);return o(c,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=S(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?c.__toStringGeneric(this,e,!1):c.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return c.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,a=t,s=0;s<r;s++){var u=this.__digit(s),f=32767&u,d=u>>>15,l=c.__imul(f,n),h=c.__imul(f,i),p=c.__imul(d,n),b=a+l+o;o=b>>>30,b&=1073741823,o+=(b+=((32767&h)<<15)+((32767&p)<<15))>>>30,a=c.__imul(d,i)+(h>>>15)+(p>>>15),this.__setDigit(s,1073741823&b)}if(0!==o||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,a=0;a<r-1>>>1;a++){var s=e.__digit(a),c=(i>>>15)-(32767&s)-n;n=1&c>>>15,this.__setDigit(t+a,(32767&c)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(t+a+1)))-(s>>>15)-n)>>>15}var u=e.__digit(a),f=(i>>>15)-(32767&u)-n;if(n=1&f>>>15,this.__setDigit(t+a,(32767&f)<<15|32767&o),t+a+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(32767&(i=this.__digit(t+a+1)))-(u>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var l=this.__digit(t+d),h=e.__digit(d),p=(32767&l)-(32767&h)-n,b=(l>>>15)-(h>>>15)-(n=1&p>>>15);n=1&b>>>15,this.__setDigit(t+d,(32767&b)<<15|32767&p)}var y=this.__digit(t+d),g=e.__digit(d),m=(32767&y)-(32767&g)-n;n=1&m>>>15;var v=0;!(1&r)&&(n=1&(v=(y>>>15)-(g>>>15)-n)>>>15),this.__setDigit(t+d,(32767&v)<<15|32767&m)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return c.__zero();if(c.__isOneDigitInt(e))return 0>e?c.__oneDigit(-e,!0):c.__oneDigit(e,!1);if(!t(e)||s(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(e)}if("string"==typeof e){var n=c.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?c.__oneDigit(1,!1):c.__zero();if("object"===r(e)){if(e.constructor===c)return e;var i=c.__toPrimitive(e);return c.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=c.__clz30(n),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var a=o-1,s=n,u=t-1,f=i+3,d=32===f?0:s<<f;d>>>=12;var l=f-12,h=12<=f?0:s<<20+f,p=20+f;for(0<l&&0<u&&(u--,d|=(s=e.__digit(u))>>>30-l,h=s<<l+2,p=l+2);0<p&&0<u;)u--,s=e.__digit(u),h|=30<=p?s<<p-30:s>>>30-p,p-=30;var b=c.__decideRounding(e,p,u,s);if((1===b||0===b&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++d>>>20&&(d=0,1023<++a))return e.sign?-1/0:1/0;var y=e.sign?-2147483648:0;return a=a+1023<<20,c.__kBitConversionInts[1]=y|a|d,c.__kBitConversionInts[0]=h,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return c.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:c.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=new c(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var a=null,s=e;for(!!(1&r)&&(a=e),r>>=1;0!==r;r>>=1)s=c.multiply(s,s),1&r&&(a=null===a?s:c.multiply(a,s));return a}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new c(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)c.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:c.unaryMinus(e);r=c.__absoluteDivSmall(e,i,null)}else r=c.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return c.__zero();var n=c.__absoluteModSmall(e,r);return 0===n?c.__zero():c.__oneDigit(n,e.sign)}var i=c.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?c.__absoluteAdd(e,t,r):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r):c.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return n=c.__absoluteOr(n,o,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length),n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return c.__absoluteXor(n,o,n).__trim()}var a=i(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var u=c.__absoluteSubOne(t,a);return u=c.__absoluteXor(u,e,u),c.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return n=c.__absoluteAnd(n,o,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var s=c.__absoluteSubOne(t,r);return s=c.__absoluteAndNot(s,e,s),c.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i)return t;if((n&i)!==i)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(c.__isBigInt(e))return c.__isBigInt(t)?c.equal(e,t):c.EQ(t,e);if("number"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("string"==typeof e){if(c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.equal(e,t);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("boolean"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("symbol"===r(e)){if(c.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==c)return e==t;e=c.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return c.asIntN(64,c.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=y(r?[4,0]:[0,4],2),i=n[0],o=n[1],a=e.getUint32(t+i,r),s=e.getUint32(t+o,r),u=new c(3,!1);return u.__setDigit(0,1073741823&s),u.__setDigit(1,(268435455&a)<<2|s>>>30),u.__setDigit(2,a>>>28),u.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];c.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(r=c.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var a=r.__digit(1);o|=a<<30,i=a>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var s=y(n?[4,0]:[0,4],2),u=s[0],f=s[1];e.setUint32(t+u,i,n),e.setUint32(t+f,o,n)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new c(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=29}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,r=(2047&c.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new c(n,0>e),o=1048575&c.__kBitConversionInts[1]|1048576,a=c.__kBitConversionInts[0],s=20,u=r%30,f=0;if(u<s){var d=s-u;f=d+32,t=o>>>d,o=o<<32-d|a>>>d,a<<=32-d}else if(u===s)f=32,t=o,o=a,a=0;else{var l=u-s;f=32-l,t=o<<l|a>>>32-l,o=a<<l,a=0}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--)0<f?(f-=30,t=o>>>2,o=o<<30|a>>>2,a<<=30):t=0,i.__setDigit(h,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return c.__zero();for(var o=e.charCodeAt(i);c.__isWhitespace(o);){if(++i===n)return c.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++i===n)return c.__zero();o=e.charCodeAt(i)}var a=n-i,s=c.__kMaxBitsPerChar[t],u=c.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s)return null;var f=new c(0|(29+(s*a+u>>>c.__kBitsPerCharTableShift))/30,!1),d=10>t?t:10,l=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var h=!1,p=0;do{for(var b,y=0,g=1;;){if(b=void 0,o-48>>>0<d)b=o-48;else{if(!((32|o)-97>>>0<l)){h=!0;break}b=(32|o)-87}var m=g*t;if(1073741823<m)break;if(g=m,y=y*t+b,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var v=0|(s*p+(u=30*c.__kBitsPerCharTableMultiplier-1)>>>c.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(g,y,v)}while(!h)}else{s>>=c.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var x,A=0,E=0;;){if(x=void 0,o-48>>>0<d)x=o-48;else{if(!((32|o)-97>>>0<l)){S=!0;break}x=(32|o)-87}if(E+=s,A=A<<s|x,++i===n){S=!0;break}if(o=e.charCodeAt(i),30<E+s)break}_.push(A),w.push(E)}while(!S);c.__fillFromParts(f,_,w)}if(i!==n){if(!c.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!c.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,a=t.length-1;0<=a;a--){var s=t[a],c=r[a];i|=s<<o,30===(o+=c)?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),i=s>>>c-(o-=30))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,a=e.__digit(r-1),s=0|(30*r-c.__clz30(a)+i-1)/i;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var u=Array(s),f=s-1,d=0,l=0,h=0;h<r-1;h++){var p=e.__digit(h),b=(d|p<<l)&o;u[f--]=c.__kConversionChars[b];var y=i-l;for(d=p>>>y,l=30-y;l>=i;)u[f--]=c.__kConversionChars[d&o],d>>>=i,l-=i}var g=(d|a<<l)&o;for(u[f--]=c.__kConversionChars[g],d=a>>>i-l;0!==d;)u[f--]=c.__kConversionChars[d&o],d>>>=i;if(e.sign&&(u[f--]="-"),-1!==f)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,a,s=30*n-c.__clz30(e.__digit(n-1)),u=c.__kMaxBitsPerChar[t]-1,f=s*c.__kBitsPerCharTableMultiplier,d=1+(f=0|(f+=u-1)/u)>>1,l=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(d,!1)),h=l.__unsignedDigit(0);if(1===l.length&&32767>=h){(o=new c(e.length,!1)).__initializeDigits();for(var p,b=0,y=2*e.length-1;0<=y;y--)p=b<<15|e.__halfDigit(y),o.__setHalfDigit(y,0|p/h),b=0|p%h;a=b.toString(t)}else{var g=c.__absoluteDivLarge(e,l,!0,!0);o=g.quotient;var m=g.remainder.__trim();a=c.__toStringGeneric(m,t,!0)}o.__trim();for(var v=c.__toStringGeneric(o,t,!0);a.length<d;)a="0"+a;return!1===r&&e.sign&&(v="-"+v),v+a}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return c.__unequalSign(r);var n=c.__absoluteCompare(e,t);return 0<n?c.__absoluteGreater(r):0>n?c.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(c.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i)return c.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return c.__absoluteGreater(n);var o=t(r),a=e.__unsignedDigit(0);return a>o?c.__absoluteGreater(n):a<o?c.__absoluteLess(n):0}return c.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return c.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;c.__kBitConversionDouble[0]=t;var n=2047&c.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return c.__absoluteGreater(r);var o=e.length,a=e.__digit(o-1),s=c.__clz30(a),u=30*o-s,f=i+1;if(u<f)return c.__absoluteLess(r);if(u>f)return c.__absoluteGreater(r);var d=1048576|1048575&c.__kBitConversionInts[1],l=c.__kBitConversionInts[0],h=20,p=29-s;if(p!==(0|(u-1)%30))throw new Error("implementation bug");var b,y=0;if(p<h){var g=h-p;y=g+32,b=d>>>g,d=d<<32-g|l>>>g,l<<=32-g}else if(p===h)y=32,b=d,d=l,l=0;else{var m=p-h;y=32-m,b=d<<m|l>>>32-m,d=l<<m,l=0}if((a>>>=0)>(b>>>=0))return c.__absoluteGreater(r);if(a<b)return c.__absoluteLess(r);for(var v=o-2;0<=v;v--){0<y?(y-=30,b=d>>>2,d=d<<30|l>>>2,l<<=30):b=0;var _=e.__unsignedDigit(v);if(_>b)return c.__absoluteGreater(r);if(_<b)return c.__absoluteLess(r)}if(0!==d||0!==l){if(0===y)throw new Error("implementation bug");return c.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return c.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===c.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&"string"==typeof t)return null!==(t=c.__fromString(t))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("string"==typeof e&&c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return c.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new c(n,r),a=0,s=0;s<t.length;s++)a=(i=e.__digit(s)+t.__digit(s)+a)>>>30,o.__setDigit(s,1073741823&i);for(;s<e.length;s++){var u=e.__digit(s)+a;a=u>>>30,o.__setDigit(s,1073741823&u)}return s<o.length&&o.__setDigit(s,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);for(var n,i=new c(e.length,r),o=0,a=0;a<t.length;a++)o=1&(n=e.__digit(a)-t.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&n);for(;a<e.length;a++){var s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new c(n,t):r.sign=t;for(var i,o=1,a=0;a<n;a++)o=(i=e.__digit(a)+o)>>>30,r.__setDigit(a,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new c(t=t||n,!1),o=1,a=0;a<n;a++)o=1&(r=e.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var s=n;s<t;s++)i.__setDigit(s,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=o;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var a=n;null===r?r=new c(a,!1):a=r.length;for(var s=0;s<o;s++)r.__setDigit(s,e.__digit(s)&~t.__digit(s));for(;s<n;s++)r.__setDigit(s,e.__digit(s));for(;s<a;s++)r.__setDigit(s,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,a=0,s=0,u=0;u<e.length;u++,n++){var f=r.__digit(n),d=e.__digit(u),l=32767&d,h=d>>>15,p=c.__imul(l,i),b=c.__imul(l,o),y=c.__imul(h,i);a=(f+=s+p+a)>>>30,f&=1073741823,a+=(f+=((32767&b)<<15)+((32767&y)<<15))>>>30,s=c.__imul(h,o)+(b>>>15)+(y>>>15),r.__setDigit(n,1073741823&f)}for(;0!==a||0!==s;n++){var g=r.__digit(n);g+=a+s,s=0,a=g>>>30,r.__setDigit(n,1073741823&g)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,a=0,s=0;s<n;s++){var u=e.__digit(s),f=c.__imul(32767&u,t),d=c.__imul(u>>>15,t),l=f+((32767&d)<<15)+a+o;o=l>>>30,a=d>>>15,i.__setDigit(s,1073741823&l)}if(i.length>n)for(i.__setDigit(n++,o+a);n<i.length;)i.__setDigit(n++,0);else if(0!==o+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new c(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,a=0|o/t,s=0|(o=((n=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,a<<15|s)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,a=e.__halfDigitLength()-i,s=null;r&&(s=new c(a+2>>>1,!1)).__initializeDigits();var u=new c(i+2>>>1,!1);u.__initializeDigits();var f=c.__clz15(t.__halfDigit(i-1));0<f&&(t=c.__specialLeftShift(t,f,0));for(var d=c.__specialLeftShift(e,f,1),l=t.__halfDigit(i-1),h=0,p=a;0<=p;p--){var b=32767,y=d.__halfDigit(p+i);if(y!==l){var g=(y<<15|d.__halfDigit(p+i-1))>>>0;b=0|g/l;for(var m=0|g%l,v=t.__halfDigit(i-2),_=d.__halfDigit(p+i-2);c.__imul(b,v)>>>0>(m<<16|_)>>>0&&(b--,!(32767<(m+=l))););}c.__internalMultiplyAdd(t,b,0,o,u);var w=d.__inplaceSub(u,p,i+1);0!==w&&(w=d.__inplaceAdd(t,p,i),d.__setHalfDigit(p+i,32767&d.__halfDigit(p+i)+w),b--),r&&(1&p?h=b<<15:s.__setDigit(p>>>1,h|b))}if(n)return d.__inplaceRightShift(f),r?{quotient:s,remainder:d}:d;if(r)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return c.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new c(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var a,s=0,u=0;u<n;u++)a=e.__digit(u),i.__setDigit(u,1073741823&a<<t|s),s=a>>>30-t;return 0<r&&i.__setDigit(n,s),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=c.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=e.length,a=0!==i&&0!=e.__digit(o-1)>>>30-i,s=o+n+(a?1:0),u=new c(s,e.sign);if(0===i){for(var f=0;f<n;f++)u.__setDigit(f,0);for(;f<s;f++)u.__setDigit(f,e.__digit(f-n))}else{for(var d=0,l=0;l<n;l++)u.__setDigit(l,0);for(var h,p=0;p<o;p++)h=e.__digit(p),u.__setDigit(p+n,1073741823&h<<i|d),d=h>>>30-i;if(a)u.__setDigit(o+n,d);else if(0!==d)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=c.__toShiftAmount(t);if(0>i)return c.__rightShiftByMaximum(n);var o=0|i/30,a=i%30,s=r-o;if(0>=s)return c.__rightShiftByMaximum(n);var u=!1;if(n)if(e.__digit(o)&(1<<a)-1)u=!0;else for(var f=0;f<o;f++)if(0!==e.__digit(f)){u=!0;break}u&&0===a&&0==~e.__digit(r-1)&&s++;var d=new c(s,n);if(0===a){d.__setDigit(s-1,0);for(var l=o;l<r;l++)d.__setDigit(l-o,e.__digit(l))}else{for(var h,p=e.__digit(o)>>>a,b=r-o-1,y=0;y<b;y++)h=e.__digit(y+o+1),d.__setDigit(y,1073741823&h<<30-a|p),p=h>>>a;d.__setDigit(b,p)}return u&&(d=c.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===c)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var a=o.call(e);if("object"!==r(a))return a}var s=e.toString;if(s){var u=s.call(e);if("object"!==r(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new c(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var a=t.__digit(i);if(0!=e%30){var s=32-e%30;a=a<<s>>>s}return n.__setDigit(i,a),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,i=Math.min,o=0|(e+29)/30,a=new c(o,r),s=0,u=o-1,f=0,d=i(u,t.length);s<d;s++)f=1&(n=0-t.__digit(s)-f)>>>30,a.__setDigit(s,1073741823&n);for(;s<u;s++)a.__setDigit(s,1073741823&-f);var l,h=u<t.length?t.__digit(u):0,p=e%30;if(0===p)l=0-h-f,l&=1073741823;else{var b=32-p,y=1<<32-b;l=y-(h=h<<b>>>b)-f,l&=y-1}return a.__setDigit(u,l),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),c}(l(Array));return x.__kMaxLength=33554432,x.__kMaxLengthBits=x.__kMaxLength<<5,x.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],x.__kBitsPerCharTableShift=5,x.__kBitsPerCharTableMultiplier=1<<x.__kBitsPerCharTableShift,x.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],x.__kBitConversionBuffer=new ArrayBuffer(8),x.__kBitConversionDouble=new Float64Array(x.__kBitConversionBuffer),x.__kBitConversionInts=new Int32Array(x.__kBitConversionBuffer),x.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},x.__imul=e||function(e,t){return 0|e*t},x}()},8648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertQueryOptionToLumosSearchKey=a,t.filterByLumosQueryOptions=function(e,t){const r=a(t);let n=e.filter((e=>s(e,r)));t.argsLen&&"any"!==t.argsLen&&-1!==t.argsLen&&(n=n.filter((e=>i.bytes.bytify(e.cellOutput.lock.args).length===t.argsLen)));if(t.data&&"any"!==t.data)if(d(t.data)&&"exact"===t.data.searchMode){const e=t.data;n=n.filter((t=>i.bytes.equal(i.bytes.bytify(t.data),i.bytes.bytify(e.data))))}else if(d(t.data)&&"prefix"===t.data.searchMode){const e=t.data;n=n.filter((t=>{const r=i.bytes.bytify(e.data),n=i.bytes.bytify(t.data).slice(0,r.length);return i.bytes.equal(r,n)}))}else n=n.filter((e=>{const r=i.bytes.bytify(t.data),n=i.bytes.bytify(e.data).slice(0,r.length);return i.bytes.equal(r,n)}));return n},t.filterByLumosSearchKey=s,t.instanceOfDataWithSearchMode=d,t.instanceOfScriptWrapper=f,t.unwrapScriptWrapper=t.unwrapDataWrapper=void 0;var n=r(41600),i=r(71313),o=r(92900);function a(e){let t,r,n;const i=e.lock,o=e.type;if(i&&(t=f(i)?i.script:i),o&&"empty"!==o&&(r=f(o)?o.script:o),t)n={script:t,scriptType:"lock",scriptSearchMode:f(i)&&i.searchMode||"prefix",filter:{}},r&&(n.filter.script=r);else{if(!r)throw new Error("query.lock and query.type can't be both empty");n={script:r,scriptType:"type",scriptSearchMode:f(o)&&o.searchMode||"prefix",filter:{}}}const{outputDataLenRange:a,outputCapacityRange:s,scriptLenRange:c}=e;return n.filter.outputDataLenRange=a,n.filter.outputCapacityRange=s,n.filter.scriptLenRange=c,"empty"===o&&(n.filter.scriptLenRange=["0x0","0x1"]),n}function s(e,t){const r="exact"===t.scriptSearchMode,{cellOutput:a}=e,{scriptType:s,script:f,filter:d}=t;if(r){if("lock"===s){if(!i.bytes.equal(n.blockchain.Script.pack(a.lock),n.blockchain.Script.pack(f)))return!1}else if(!a.type||!i.bytes.equal(n.blockchain.Script.pack(a.type),n.blockchain.Script.pack(f)))return!1}else if("lock"===s){if(!c(a.lock,f))return!1}else if(!c(a.type,f))return!1;if(!d)return!0;if("lock"===s){if(d.script&&!c(a.type,d.script))return!1;if(d.scriptLenRange&&!u(a.type,d.scriptLenRange))return!1}else{if(d.script&&!c(a.lock,d.script))return!1;if(d.scriptLenRange&&!u(a.lock,d.scriptLenRange))return!1}const{outputCapacityRange:l,outputDataLenRange:h}=d;if(l){const e=o.BI.from(a.capacity),t=o.BI.from(l[0]),r=o.BI.from(l[1]);if(e.lt(t)||e.gte(r))return!1}if(h){const t=o.BI.from(i.bytes.bytify(e.data).length),r=o.BI.from(h[0]),n=o.BI.from(h[1]);if(t.lt(r)||t.gte(n))return!1}return!0}function c(e,t){if(!e)return!1;if(!i.bytes.equal(t.codeHash,e.codeHash))return!1;const r=i.bytes.bytify(t.args),n=i.bytes.bytify(e.args).slice(0,r.length);return!!i.bytes.equal(r,n)&&e.hashType===t.hashType}function u(e,t){const r=e?o.BI.from(i.bytes.concat(e.codeHash,e.args).length+1):o.BI.from(0),n=o.BI.from(t[0]),a=o.BI.from(t[1]);return!r.lt(n)&&!r.gte(a)}function f(e){return"object"==typeof e&&null!=e&&"script"in e}function d(e){return"object"==typeof e&&null!=e&&"data"in e}t.unwrapScriptWrapper=e=>f(e)?e.script:e;t.unwrapDataWrapper=e=>d(e)?e.data:e},94182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CKBCellCollector=void 0;var n,i=r(41600),o=r(49805),a=r(26861),s=(n=r(74945))&&n.__esModule?n:{default:n},c=r(8648);t.CKBCellCollector=class{constructor(e,t,r){this.terminableCellFetcher=e,this.otherQueryOptions=r;const n={lock:void 0,type:void 0,argsLen:-1,data:"any",fromBlock:void 0,toBlock:void 0,order:"asc",skip:void 0,outputDataLenRange:void 0,outputCapacityRange:void 0,bufferSize:void 0};this.queries=(Array.isArray(t)?t:[t]).map((e=>({...n,...e}))),this.queries.forEach((e=>{this.validateQueryOption(e)})),this.convertQueryOptionToSearchKey()}validateQueryOption(e){if(!(e.lock||e.type&&"empty"!==e.type))throw new Error("Either lock or type script must be provided!");if(e.lock&&((0,c.instanceOfScriptWrapper)(e.lock)?(0,c.instanceOfScriptWrapper)(e.lock)&&o.validators.ValidateScript(e.lock.script):o.validators.ValidateScript(e.lock)),e.type&&"empty"!==e.type&&("object"!=typeof e.type||(0,c.instanceOfScriptWrapper)(e.type)?"object"==typeof e.type&&(0,c.instanceOfScriptWrapper)(e.type)&&o.validators.ValidateScript(e.type.script):o.validators.ValidateScript(e.type)),e.fromBlock&&i.utils.assertHexadecimal("fromBlock",e.fromBlock),e.toBlock&&i.utils.assertHexadecimal("toBlock",e.toBlock),"asc"!==e.order&&"desc"!==e.order)throw new Error("Order must be either asc or desc!");if(e.outputCapacityRange&&(i.utils.assertHexadecimal("outputCapacityRange[0]",e.outputCapacityRange[0]),i.utils.assertHexadecimal("outputCapacityRange[1]",e.outputCapacityRange[1])),e.outputDataLenRange&&(i.utils.assertHexadecimal("outputDataLenRange[0]",e.outputDataLenRange[0]),i.utils.assertHexadecimal("outputDataLenRange[1]",e.outputDataLenRange[1])),e.scriptLenRange&&(i.utils.assertHexadecimal("scriptLenRange[0]",e.scriptLenRange[0]),i.utils.assertHexadecimal("scriptLenRange[1]",e.scriptLenRange[1])),e.outputDataLenRange&&e.data&&"any"!==e.data){const t=(0,a.getHexStringBytes)((0,c.unwrapDataWrapper)(e.data));if(t<Number(e.outputDataLenRange[0])||t>=Number(e.outputDataLenRange[1]))throw new Error("data length not match outputDataLenRange")}if(e.skip&&"number"!=typeof e.skip)throw new Error("skip must be a number!");if(e.bufferSize&&"number"!=typeof e.bufferSize)throw new Error("bufferSize must be a number!")}convertQueryOptionToSearchKey(){this.queries.forEach((e=>{const t=e.lock;if(t&&(0,c.instanceOfScriptWrapper)(t)&&(o.validators.ValidateScript(t.script),e.lock=t.script),e.type&&"empty"!==e.type&&"object"==typeof e.type&&(0,c.instanceOfScriptWrapper)(e.type)&&(o.validators.ValidateScript(e.type.script),e.type=e.type.script),!e.outputDataLenRange&&e.data&&"any"!==e.data){const t=(0,a.getHexStringBytes)((0,c.unwrapDataWrapper)(e.data));e.outputDataLenRange=["0x"+t.toString(16),"0x"+(t+1).toString(16)]}e.scriptLenRange||"empty"!==e.type||(e.scriptLenRange=["0x0","0x1"])}))}async getLiveCell(e,t){const r={sizeLimit:e.bufferSize,order:e.order,lastCursor:t};return await this.terminableCellFetcher.getCells((0,a.generateSearchKey)(e),void 0,r)}async count(){let e=0;for await(const t of this.collect())e++;return e}async request(e,t){const r=await(0,s.default)(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(200!==r.status)throw new Error(`indexer request failed with HTTP code ${r.status}`);const n=await r.json();if(void 0!==n.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(n.error)}`);return n}async getLiveCellWithBlockHash(e,t){if(!this.otherQueryOptions)throw new Error("CKB Rpc URL must provide");const r=await this.getLiveCell(e,t);if(0===r.objects.length)return r;const n=r.objects.map(((e,t)=>({id:t,jsonrpc:"2.0",method:"get_block_hash",params:[e.blockNumber]}))),i=await this.request(this.otherQueryOptions.ckbRpcUrl,n);return r.objects=r.objects.map(((e,t)=>{const r=i.find((e=>e.id===t));return{...e,blockHash:r&&r.result}})),r}async*collect(){const e=new Set;for(const n of this.queries)for await(const i of this.collectBySingleQuery(n)){var t,r;const n=`${null===(t=i.outPoint)||void 0===t?void 0:t.txHash}-${null===(r=i.outPoint)||void 0===r?void 0:r.index}`;e.has(n)||(e.add(n),yield i)}}async*collectBySingleQuery(e){const t=this.otherQueryOptions&&"withBlockHash"in this.otherQueryOptions&&this.otherQueryOptions.withBlockHash;let r;const n=async()=>{const n=await(t?this.getLiveCellWithBlockHash(e,r):this.getLiveCell(e,r));return r=n.lastCursor,n.objects};let i=await n();if(i=(0,c.filterByLumosQueryOptions)(i,e),0===i.length)return;let o=n(),a=0,s=0;for(;;)if(e.skip&&s<e.skip?s++:yield i[a],a++,a===i.length){if(a=0,i=await o,0===i.length)break;o=n()}}}},44837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CKBCellCollector}}),Object.defineProperty(t,"Indexer",{enumerable:!0,get:function(){return i.CkbIndexer}}),Object.defineProperty(t,"RPC",{enumerable:!0,get:function(){return a.RPC}}),Object.defineProperty(t,"TerminableCellAdapter",{enumerable:!0,get:function(){return i.TerminableCellAdapter}}),Object.defineProperty(t,"TransactionCollector",{enumerable:!0,get:function(){return o.CKBIndexerTransactionCollector}});var n=r(94182),i=r(7870),o=r(7109),a=r(24006)},7870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminableCellAdapter=t.CkbIndexer=void 0;var n=r(41600),i=r(26861),o=r(94182),a=r(37007),s=r(21001),c=r(92900),u=r(24006),f=r(24980),d=r(49805),l=r(8648);const h=()=>({stop:!1,push:!0});function p(e,t){console.log(`[${e}] ${t}`)}t.CkbIndexer=class{static version="0.4.1";medianTimeEmitters=[];emitters=[];isSubscribeRunning=!1;constructor(e,t){this.ckbIndexerUrl=e,this.ckbRpcUrl=t,this.uri=t||e,this.ckbIndexerUri=e}getCkbRpc(){return new f.CKBRPC(this.uri)}getIndexerRpc(){if(this.uri===this.ckbIndexerUri){const e=this.getCkbRpc();return{...e,getTip:e.getIndexerTip}}return new u.RPC(this.ckbIndexerUri)}async tip(){return await this.getIndexerRpc().getTip()}asyncSleep(e){return new Promise((t=>setTimeout(t,e)))}async waitForSync(e=0){const t=parseInt((await this.getCkbRpc().getTipHeader()).number,16);for(;;){if(parseInt((await this.tip()).blockNumber,16)+e>=t)return;await this.asyncSleep(1e3)}}collector(e,t){return new o.CKBCellCollector(this,e,t)}async getCells(e,t=h,r={}){return new b(this.getIndexerRpc()).getCells(e,t,r)}async getTransactions(e,t={}){let r=[],n=t.lastCursor;const i=t.sizeLimit||100,o=t.order||"asc";for(;;){const t=await this.getIndexerRpc().getTransactions(e,o,`0x${i.toString(16)}`,n),a=t.objects;if(n=t.lastCursor,r=r.concat(a),a.length<=i)break}return{objects:r,lastCursor:n}}running(){return!0}start(){p("warn","deprecated: no need to start the ckb-indexer manually")}startForever(){p("warn","deprecated: no need to startForever the ckb-indexer manually")}stop(){p("warn","deprecated: no need to stop the ckb-indexer manually")}subscribe(e){if(this.isSubscribeRunning=!0,this.scheduleLoop(),e.lock&&e.type)throw new Error("The notification machanism only supports you subscribing for one script once so far!");null===e.toBlock&&null===e.skip||p("warn","The passing fields such as toBlock and skip are ignored in subscribe() method.");const t=new s.IndexerEmitter;if(t.argsLen=e.argsLen,t.outputData=e.data&&(0,l.unwrapDataWrapper)(e.data),e.fromBlock&&n.utils.assertHexadecimal("fromBlock",e.fromBlock),t.fromBlock=e.fromBlock?c.BI.from(e.fromBlock):c.BI.from(0),e.lock)d.validators.ValidateScript(e.lock),t.lock=e.lock;else{if(!e.type||"empty"===e.type)throw new Error("Either lock or type script must be provided!");d.validators.ValidateScript(e.type),t.type=e.type}return this.emitters.push(t),t}loop(){this.isSubscribeRunning&&this.poll().then((e=>{this.scheduleLoop(e)})).catch((e=>{p("error",`Error occurs: ${e} ${e.stack}, stopping indexer!`),this.isSubscribeRunning=!1}))}scheduleLoop(e=1){setTimeout((()=>{this.loop()}),e)}async poll(){let e=1;const t=await this.tip(),{blockNumber:r,blockHash:n}=t;if("0x0"===r){const e=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(e)}const i=c.BI.from(r).add(1),o=await this.getCkbRpc().getBlockByNumber(`0x${i.toString(16)}`);if(o)if(o.header.parentHash===n)await this.publishAppendBlockEvents(o);else{const e=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(e)}else{const t=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(t),e=3e3}return e}async publishAppendBlockEvents(e){for(const[t,r]of e.transactions.entries()){const n=e.header.number;if(t>0){const e=r.inputs.map((e=>e.previousOutput.txHash));(await(0,i.requestBatchTransactionWithStatus)(this.uri,e).then((e=>e.map(((e,t)=>{const n=r.inputs[t].previousOutput.index;return{output:e.transaction.outputs[parseInt(n)],outputData:e.transaction.outputsData[parseInt(n)]}}))))).forEach((({output:e,outputData:t})=>{this.filterEvents(e,n,t)}))}for(const[e,t]of r.outputs.entries()){const i=r.outputsData[e];this.filterEvents(t,n,i)}}await this.emitMedianTimeEvents()}filterEvents(e,t,r){for(const n of this.emitters)void 0!==n.lock&&this.checkFilterOptions(n,t,r,n.lock,e.lock)&&n.emit("changed");if(null!==e.type)for(const n of this.emitters)void 0!==n.type&&this.checkFilterOptions(n,t,r,n.type,e.type)&&n.emit("changed")}checkFilterOptions(e,t,r,n,i){const o=!e.fromBlock||c.BI.from(e.fromBlock).lte(t),a="any"===e.outputData||!e.outputData||e.outputData===r,s=!i||n.codeHash===i.codeHash&&n.hashType===i.hashType&&this.checkArgs(e.argsLen,n.args,i.args);return o&&a&&s}checkArgs(e,t,r){return-1===e||!e&&0!==e?t===r:("number"==typeof e&&r.length===2*e+2||"any"===e)&&r.substring(0,t.length)===t}async emitMedianTimeEvents(){if(0===this.medianTimeEmitters.length)return;const e=(await this.getCkbRpc().getBlockchainInfo()).medianTime;for(const t of this.medianTimeEmitters)t.emit("changed",e)}subscribeMedianTime(){this.isSubscribeRunning=!0,this.scheduleLoop();const e=new a.EventEmitter;return this.medianTimeEmitters.push(e),e}};class b{constructor(e){this.getCellsableRpc=e}async getCells(e,t=h,r={}){const n=[];let i=r.lastCursor;const o=r.sizeLimit||100,a=r.order||"asc";for(;;){const r=await this.getCellsableRpc.getCells(e,a,`0x${o.toString(16)}`,i),s=r.objects;i=r.lastCursor;for(const e of s){const r={cellOutput:e.output,data:e.outputData,outPoint:e.outPoint?e.outPoint:void 0,blockNumber:e.blockNumber},{stop:o,push:a}=t(0,r);if(a&&n.push(r),o)return{objects:n,lastCursor:i}}if(s.length<=o)break}return{objects:n,lastCursor:i}}}t.TerminableCellAdapter=b},32341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSearchKey=t.toSearchFilter=t.toScript=t.toGetTransactionsSearchKey=t.toGetCellsSearchKey=void 0;const r=e=>({code_hash:e.codeHash,hash_type:e.hashType,args:e.args});t.toScript=r;const n=e=>({script:e.script?r(e.script):e.script,output_data_len_range:e.outputDataLenRange,output_capacity_range:e.outputCapacityRange,block_range:e.blockRange,script_len_range:e.scriptLenRange});t.toSearchFilter=n;const i=e=>({script:r(e.script),script_type:e.scriptType,filter:e.filter?n(e.filter):e.filter,script_search_mode:e.scriptSearchMode?e.scriptSearchMode:"prefix"});t.toSearchKey=i;t.toGetCellsSearchKey=e=>({...i(e),with_data:e.withData});t.toGetTransactionsSearchKey=e=>({...i(e),group_by_transaction:e.groupByTransaction})},33896:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toTip=t.toSearchKey=t.toSearchFilter=t.toScript=t.toOutPoint=t.toCellOutPut=void 0;t.toTip=e=>({blockHash:e.block_hash,blockNumber:e.block_number});const r=e=>({codeHash:e.code_hash,hashType:e.hash_type,args:e.args});t.toScript=r;t.toOutPoint=e=>({txHash:e.tx_hash,index:e.index});t.toCellOutPut=e=>({...e,lock:r(e.lock),type:e.type?r(e.type):void 0});const n=e=>({script:e.script?r(e.script):e.script,outputDataLenRange:e.output_data_len_range,outputCapacityRange:e.output_capacity_range,scriptLenRange:e.script_len_range,blockRange:e.block_range});t.toSearchFilter=n;t.toSearchKey=e=>({script:r(e.script),scriptType:e.script_type,filter:e.filter?n(e.filter):e.filter,scriptSearchMode:e.script_search_mode})},24006:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RPC=void 0;var n,i=r(41600),o=(n=r(74945))&&n.__esModule?n:{default:n},a=r(32341);t.RPC=class{constructor(e){this.uri=e}async getTip(){return i.utils.deepCamel(await s(this.uri,"get_tip"))}async getCells(e,t,r,n){const o=[(0,a.toGetCellsSearchKey)(e),t,r,n];return i.utils.deepCamel(await s(this.uri,"get_cells",o))}async getTransactions(e,t,r,n){const o=[(0,a.toGetTransactionsSearchKey)(e),t,r,n];return i.utils.deepCamel(await s(this.uri,"get_transactions",o))}async getIndexerInfo(){return i.utils.deepCamel(await s(this.uri,"get_indexer_info"))}};const s=async(e,t,r)=>{const n=await(0,o.default)(e,{method:"POST",body:JSON.stringify({id:0,jsonrpc:"2.0",method:t,params:r}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`indexer request failed with HTTP code ${n.status}`);const i=await n.json();if(void 0!==i.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(i.error)}`);return i.result}},26861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHexStringBytes=t.generateSearchKey=void 0,t.requestBatch=l,t.requestBatchTransactionWithStatus=async function(e,t){if(0===t.length)return[];const r=t.map(((e,t)=>({id:t,jsonrpc:"2.0",method:"get_transaction",params:[e]})));return(await l(e,r)).map((e=>f.ResultFormatter.toTransactionWithStatus(e.result)))};var n,i=r(41600),o=(n=r(74945))&&n.__esModule?n:{default:n},a=r(92900),s=r(32341),c=r(33896),u=r(8648),f=r(24980);t.generateSearchKey=e=>{let t;const r={};let n,i="prefix";if(e.lock){const i=(0,u.unwrapScriptWrapper)(e.lock);if(t=(0,s.toScript)(i),n="lock",e.type&&"string"!=typeof e.type){const t=(0,u.unwrapScriptWrapper)(e.type);r.script=(0,s.toScript)(t)}}else if(e.type&&"string"!=typeof e.type){const r=(0,u.unwrapScriptWrapper)(e.type);t=(0,s.toScript)(r),n="type"}let o=null;if(e.fromBlock&&e.toBlock&&(o=[e.fromBlock,`0x${a.BI.from(e.toBlock).add(1).toString(16)}`]),o&&(r.block_range=o),e.outputDataLenRange&&(r.output_data_len_range=e.outputDataLenRange),e.outputCapacityRange&&(r.output_capacity_range=e.outputCapacityRange),e.scriptLenRange&&(r.script_len_range=e.scriptLenRange),e.scriptSearchMode&&(i=e.scriptSearchMode),!t)throw new Error("Either lock or type script must be provided!");if(!n)throw new Error("script_type must be provided");return(0,c.toSearchKey)({script:t,script_type:n,filter:r,script_search_mode:i})};t.getHexStringBytes=e=>(i.utils.assertHexString("",e),Math.ceil(e.substr(2).length/2));let d=0;async function l(e,t){if(!t.length)return[];const r=await(0,o.default)(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.map((e=>({id:d++,...e}))))});if(200!==r.status)throw new Error(`Indexer request failed with HTTP code ${r.status}`);const n=await r.json();if(void 0!==n.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(n.error)}`);return n}},7109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CKBIndexerTransactionCollector=void 0;var n=r(41600),i=r(8648),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(26861));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}class s extends n.indexer.TransactionCollector{constructor(e,t,r,n){super(e,t,n),this.indexer=e,this.queries=t,this.CKBRpcUrl=r,this.options=n;this.filterOptions={skipMissing:!1,includeStatus:!0,...this.options}}static asBaseTransactionCollector(e){return class extends n.indexer.TransactionCollector{constructor(t,r,n){return super(t,r,n),new s(t,r,e,n)}}}async fetchIndexerTransaction(e,t){const r={sizeLimit:e.bufferSize,order:e.order};t&&(r.lastCursor=t);let n={objects:[],lastCursor:""};return(0,i.instanceOfScriptWrapper)(e.lock)&&(0,i.instanceOfScriptWrapper)(e.type)?(n=await this.getTransactionByLockAndTypeIndependent(r),t=n.lastCursor):(n=await this.indexer.getTransactions(o.generateSearchKey(e),r),t=n.lastCursor),n.objects=this.filterByTypeIoTypeAndLockIoType(n.objects,e),n}getResolvedTransactionRequestPayload(e,t){const r=[];return e.forEach(((e,n)=>{const i=t.objects[n];if("input"===i.ioType){const t=e.transaction.inputs[Number(i.ioIndex)].previousOutput;r.push(t.txHash)}})),r}getResolvedCell(e,t,r){if("input"!==r.ioType)return e.transaction.outputs[Number(r.ioIndex)];{const n=e.transaction.inputs[Number(r.ioIndex)].previousOutput,i=t.find((e=>e.transaction.hash===n.txHash));if(!i)throw new Error("Impossible: can NOT find resolved transaction!");return i.transaction.outputs[Number(n.index)]}}filterTransaction(e,t,r){return e.filter(((e,n)=>{const i=this.getResolvedCell(e,t,r.objects[n]);return this.isCellScriptArgsValid(i)})).map((e=>({transaction:e.transaction,txStatus:e.txStatus,cycles:e.cycles,timeAddedToPool:e.timeAddedToPool,minReplaceFee:e.minReplaceFee,fee:e.fee})))}async getTransactions(e){const t=await this.fetchIndexerTransaction(this.queries,e);if(e=t.lastCursor,0===t.objects.length)return{objects:[],lastCursor:e};const r=await this.getTransactionListFromRpc(t),n=this.getResolvedTransactionRequestPayload(r,t),i=await o.requestBatchTransactionWithStatus(this.CKBRpcUrl,n);return{objects:this.filterTransaction(r,i,t),lastCursor:e}}async getTransactionByLockAndTypeIndependent(e){const t={...e},r={...e};if(e.lastCursor){const[n,i]=e.lastCursor.split("-");r.lastCursor=n,t.lastCursor=i}const n={...this.queries,type:void 0},i=await this.indexer.getTransactions(o.generateSearchKey(n),t),a={...this.queries,lock:void 0},s=await this.indexer.getTransactions(o.generateSearchKey(a),r);return{objects:((e,t)=>{const r=[];return e.forEach((e=>{const n=t.find((t=>t.txHash===e.txHash));if(n){const t="output"===e.ioType?e:n;r.push({...t,ioType:"both"})}})),r})(s.objects,i.objects),lastCursor:i.lastCursor+"-"+s.lastCursor}}getTransactionListFromRpc=async e=>{const t=e.objects.map((e=>e.txHash));return await o.requestBatchTransactionWithStatus(this.CKBRpcUrl,t).then((t=>t.map(((t,r)=>{if(!this.filterOptions.skipMissing&&!t.transaction)throw new Error(`Transaction ${e.objects[r].txHash} is missing!`);return t}))))};isLockArgsLenMatched=(e,t)=>!t||("any"===t||(-1===t||o.getHexStringBytes(e)===t));isCellScriptArgsValid=e=>{if(this.queries.lock){const t=(0,i.instanceOfScriptWrapper)(this.queries.lock)?this.queries.lock.argsLen:this.queries.argsLen;if(!this.isLockArgsLenMatched(e.lock.args,t))return!1}if(this.queries.type&&"empty"!==this.queries.type){var t;const r=(0,i.instanceOfScriptWrapper)(this.queries.type)?this.queries.type.argsLen:this.queries.argsLen;if(!this.isLockArgsLenMatched(null===(t=e.type)||void 0===t?void 0:t.args,r))return!1}return!this.queries.type||"empty"!==this.queries.type||!e.type};filterByIoType=(e,t)=>"both"===t?e:"input"===t||"output"===t?e.filter((e=>e.ioType===t||"both"===e.ioType)):e;filterByTypeIoTypeAndLockIoType=(e,t)=>{let r=e;return(0,i.instanceOfScriptWrapper)(t.lock)&&t.lock.ioType&&(r=this.filterByIoType(r,t.lock.ioType)),(0,i.instanceOfScriptWrapper)(t.type)&&t.type.ioType&&(r=this.filterByIoType(r,t.type.ioType)),r};async count(){let e;const t=async()=>{const t=await this.getTransactions(e);return e=t.lastCursor,t.objects};let r=0,n=await t();if(0===n.length)return 0;let i=t(),o=0,a=0;for(;;)if(this.queries.skip&&a<this.queries.skip?a++:r+=1,o++,o===n.length){if(o=0,n=await i,0===n.length)break;i=t()}return r}async getTransactionHashes(){let e;const t=async()=>{const t=await this.getTransactions(e);return e=t.lastCursor,t.objects},r=[];let n=await t();if(0===n.length)return[];let i=t(),o=0,a=0;for(;;)if(this.queries.skip&&a<this.queries.skip?a++:n[o].transaction.hash&&r.push(n[o].transaction.hash),o++,o===n.length){if(o=0,n=await i,0===n.length)break;i=t()}return r}async*collect(){let e;const t=async()=>{const t=await this.getTransactions(e);return e=t.lastCursor,t.objects};let r=await t();if(0===r.length)return;let n=t(),i=0,o=0;for(;;)if(this.queries.skip&&o<this.queries.skip?o++:this.filterOptions.includeStatus?yield r[i]:yield r[i].transaction,i++,i===r.length){if(i=0,r=await n,0===r.length)break;n=t()}}}t.CKBIndexerTransactionCollector=s},21001:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexerEmitter=void 0;var n=r(37007);class i extends n.EventEmitter{}t.IndexerEmitter=i},83556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBytesCodec=o,t.createFixedBytesCodec=function(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...o({pack:r=>{const i=e.pack(r);return(0,n.assertBufferLength)(i,t),i},unpack:r=>((0,n.assertBufferLength)(r,t),e.unpack(r))})}},t.isFixedCodec=function(e){return(0,n.isObjectLike)(e)&&!!e.__isFixedCodec__};var n=r(56828),i=r(14962);function o(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,i.bytify)(t))}}},30555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessArgs=t.BytesVec=t.BytesOpt=t.Bytes=t.Byte32Vec=t.Byte32=void 0,t.WitnessArgsOf=u,t.createFixedHexBytesCodec=a;var n=r(83556),i=r(14962),o=r(72042);function a(e){return(0,n.createFixedBytesCodec)({byteLength:e,pack:e=>(0,i.bytify)(e),unpack:e=>(0,i.hexify)(e)})}const s=t.Bytes=(0,o.byteVecOf)({pack:i.bytify,unpack:i.hexify}),c=(t.BytesOpt=(0,o.option)(s),t.BytesVec=(0,o.vector)(s),t.Byte32=a(32));t.Byte32Vec=(0,o.vector)(c);function u(e){return(0,o.table)({lock:(0,o.option)((0,o.byteVecOf)(e.lock)),input_type:(0,o.option)((0,o.byteVecOf)(e.input_type)),output_type:(0,o.option)((0,o.byteVecOf)(e.output_type))},["lock","input_type","output_type"])}const f=(0,n.createBytesCodec)({pack:i.bytify,unpack:i.hexify});t.WitnessArgs=u({lock:f,input_type:f,output_type:f})},14962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytify=u,t.bytifyRawString=function(e){(0,n.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);r.setUint8(t,n)}return new Uint8Array(t)},t.concat=function(...e){const t=e.map(u),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);let i=0;return t.forEach((e=>{n.set(e,i),i+=e.length})),n},t.equal=function(e,t){const r=u(e),n=u(t);return function(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}(r,n)},t.hexify=function(e){let t="";const r=u(e);for(let e=0;e<r.length;e++)t+=f[r[e]];return"0x"+t};var n=r(56828);const i="0".charCodeAt(0),o="9".charCodeAt(0),a="A".charCodeAt(0),s="F".charCodeAt(0),c="a".charCodeAt(0);function u(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e)return function(e){(0,n.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r+=2,n++){const u=e.charCodeAt(r),f=e.charCodeAt(r+1),d=u<=o?u-i:u<=s?u-a+10:u-c+10,l=f<=o?f-i:f<=s?f-a+10:f-c+10;t[n]=d<<4|l}return t}(e);if(Array.isArray(e))return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}(e);throw new Error(`Cannot convert ${e}`)}const f=Array.from({length:256}).map(((e,t)=>t.toString(16).padStart(2,"0")))},10851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodecExecuteError=t.CodecBaseParseError=t.CODEC_OPTIONAL_PATH=void 0,t.isCodecExecuteError=function(e){return e instanceof Error&&e.name===i};const r=t.CODEC_OPTIONAL_PATH="__lc_option__";class n extends Error{constructor(e,t){super(e),this.expectedType=t}}t.CodecBaseParseError=n;const i="CodecExecuteError";class o extends Error{name=i;constructor(e){super(),this.origin=e}keys=[];updateKey(e){this.keys.push(e),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var e;const t=this.keys.reduceRight(((e,t,n)=>e+(t=t===r?0===n?"?":"?.":"number"==typeof t?`[${t}]`:`.${t}`)),"input");return`${this.origin instanceof n?`Expect type ${this.origin.expectedType} at ${t} but got error:`:`Error at ${t}:`} ${this.origin.message}\n    ${null===(e=this.origin.stack)||void 0===e?void 0:e.replace(/Error:.+?\n/,"")}\n    `}}t.CodecExecuteError=o},32819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(70776)},70776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayCodec=function(e){return{pack:t=>t.map(((t,r)=>(0,n.trackCodeExecuteError)(r,(()=>e.pack(t))))),unpack:t=>t.map((t=>e.unpack(t)))}},t.createNullableCodec=function(e){return{pack:t=>null==t?t:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>e.pack(t))),unpack:t=>null==t?t:e.unpack(t)}},t.createObjectCodec=function(e){const t=Object.entries(e);return{pack:e=>{const r={};return t.forEach((([t,i])=>{Object.assign(r,{[t]:(0,n.trackCodeExecuteError)(t,(()=>i.pack(e[t])))})})),r},unpack:e=>{const r={};return t.forEach((([t,n])=>{Object.assign(r,{[t]:n.unpack(e[t])})})),r}}},t.enhancePack=function(e,t,r){return{pack:r=>t(e.pack(r)),unpack:t=>e.unpack(r(t))}};var n=r(56828),i=r(10851)},71313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),t.number=t.molecule=void 0;var i=r(83556),o=r(32819);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=f(r(14962));t.bytes=a;var s=f(r(6435));t.number=s;var c=f(r(72042));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.molecule=c},27732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayOf=s,t.byteOf=function(e){return s({...e,byteLength:1})},t.byteVecOf=function(e){return(0,o.createBytesCodec)({pack(t){const r=e.pack(t),n=a.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(t){(0,n.assertMinBufferLength)(t,4);const r=a.Uint32LE.unpack(t.slice(0,4));return(0,n.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})};var n=r(56828),i=r(14962),o=r(83556),a=r(6435);function s(e){const t=e.byteLength;return(0,o.createFixedBytesCodec)({byteLength:t,pack:t=>e.pack(t),unpack:t=>e.unpack(t)})}},72042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(27732),i=r(37786)},37786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=c,t.dynvec=l,t.fixvec=d,t.option=function(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createNullableCodec)(e);return null!=t?r.pack(t):Uint8Array.from([])},unpack(t){if(0!==t.byteLength)return e.unpack(t)}})},t.struct=function(e,t){f(e,t);const r=(0,s.createObjectCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:t.reduce(((t,r)=>t+e[r].byteLength),0),pack(e){const n=r.pack(e);return t.reduce(((e,t)=>(0,o.concat)(e,n[t])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return t.forEach((t=>{const o=e[t],a=r.slice(i,i+o.byteLength);Object.assign(n,{[t]:o.unpack(a)}),i+=o.byteLength})),n}})},t.table=function(e,t){return f(e,t),(0,n.createBytesCodec)({pack(r){const n=4+4*t.length,a=(0,s.createObjectCodec)(e).pack(r),c=t.reduce(((e,t)=>{const r=a[t],n=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,n),body:(0,o.concat)(e.body,r),offset:e.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),u=i.Uint32LE.pack(c.header.byteLength+c.body.byteLength+4);return(0,o.concat)(u,c.header,c.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===t.length)return{};{const o=t.map(((e,t)=>i.Uint32LE.unpack(r.slice(4+4*t,8+4*t))));o.push(n);const a={};for(let n=0;n<o.length-1;n++){const i=o[n],s=o[n+1],c=t[n],u=e[c],f=r.slice(i,s);Object.assign(a,{[c]:u.unpack(f)})}return a}}})},t.union=function(e,t){if(f(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const e=Object.values(t);if(e.length!==new Set(e).size)throw new Error(`Duplicated id in union: ${e.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(e),s=r.type,c=`Union(${n.join(" | ")})`;if("string"!=typeof s)throw new a.CodecBaseParseError("Invalid type in union, type must be a string",c);const u=Array.isArray(t)?t.indexOf(s):t[s];if(u<0)throw new a.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,c);const f=i.Uint32LE.pack(u),d=e[s].pack(r.value);return(0,o.concat)(f,d)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(t))return t[n];const e=Object.entries(t).find((([,e])=>e===n));return null==e?void 0:e[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:o,value:e[o].unpack(r.slice(4))}}})},t.vector=function(e){if((0,n.isFixedCodec)(e))return d(e);return l(e)};var n=r(83556),i=r(6435),o=r(14962),a=r(10851),s=r(32819);function c(e,t){const r=(0,s.createArrayCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(e){const t=r.pack(e);return(0,o.concat)(...t)},unpack(t){const r=[],n=e.byteLength;for(let i=0;i<t.byteLength;i+=n)r.push(e.unpack(t.slice(i,i+n)));return r}})}function u(e,t){return e.filter((e=>!t.includes(e)))}function f(e,t){const r=Object.keys(e),n=u(r,t),i=u(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function d(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createArrayCodec)(e);return(0,o.concat)(i.Uint32LE.pack(t.length),r.pack(t).reduce(((e,t)=>(0,o.concat)(e,t)),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=i.Uint32LE.unpack(t.slice(0,4));return c(e,r).unpack(t.slice(4))}})}function l(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createArrayCodec)(e).pack(t).reduce(((e,t)=>{const r=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,r),body:(0,o.concat)(e.body,t),offset:e.offset+t.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*t.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(t){const r=i.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(t.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((e,r)=>i.Uint32LE.unpack(t.slice(4+4*r,8+4*r))));o.push(r);const a=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],s=t.slice(n,i);a.push(e.unpack(s))}return a}}})}},6435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65991);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},65991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return n.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var n=r(92900),i=r(83556),o=r(10851);function a(e,t=!1){const r=s(e,t);return{__isFixedCodec__:!0,byteLength:e,pack:e=>r.pack(e),unpack:e=>r.unpack(e).toNumber()}}const s=(e,t=!1)=>{const r=n.BI.from(1).shl(8*e).sub(1);return(0,i.createFixedBytesCodec)({byteLength:e,pack(i){let a=t?"LE":"BE";e<=1&&(a="");const s=`Uint${8*e}${a}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,s);let c=n.BI.from(i);!function(e,t,r,i){if((e=n.BI.from(e)).lt(t)||e.gt(r))throw new o.CodecBaseParseError(`Value must be between ${t.toString()} and ${r.toString()}, but got ${e.toString()}`,i)}(c,0,r,s);const u=new DataView(new ArrayBuffer(e));for(let r=0;r<e;r++)t?u.setUint8(r,c.and(255).toNumber()):u.setUint8(e-r-1,c.and(255).toNumber()),c=c.shr(8);return new Uint8Array(u.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<e;r++)o=t?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},c=(t.Uint8=a(1),t.Uint16LE=a(2,!0)),u=(t.Uint16BE=a(2),t.Uint16=c,t.Uint32LE=a(4,!0)),f=(t.Uint32BE=a(4),t.Uint32=u,t.Uint64LE=s(8,!0)),d=(t.Uint64BE=s(8),t.Uint64=f,t.Uint128LE=s(16,!0)),l=(t.Uint128BE=s(16),t.Uint128=d,t.Uint256LE=s(32,!0)),h=(t.Uint256BE=s(32),t.Uint256=l,t.Uint512LE=s(64,!0));t.Uint512BE=s(64),t.Uint512=h},56828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBufferLength=function(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)},t.assertHexDecimal=function(e,t){if(f(e),2===e.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if("number"==typeof t&&r>2*t+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);d(e)},t.assertHexString=function(e,t){f(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof t&&r!==2*t+2)throw new Error("Invalid hex string length, not match with byteLength!");d(e)},t.assertMinBufferLength=function(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)},t.assertUtf8String=function(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}},t.isObjectLike=function(e){return!!e&&"object"==typeof e},t.trackCodeExecuteError=function(e,t){try{return t()}catch(t){const r=(0,n.isCodecExecuteError)(t)?t:new n.CodecExecuteError(t);throw r.updateKey(e),r}};var n=r(10851);const i="0".charCodeAt(0),o="9".charCodeAt(0),a="A".charCodeAt(0),s="F".charCodeAt(0),c="a".charCodeAt(0),u="f".charCodeAt(0);function f(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function d(e){const t=e.length;for(let r=2;r<t;r++){const t=e[r].charCodeAt(0);if(!(t>=i&&t<=o||t>=c&&t<=u||t>=a&&t<=s))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}},83127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellCollector=void 0,t.checkLimit=g,t.default=void 0,t.injectCapacity=v,t.prepareSigningEntries=_,t.setupInputCell=y,t.setupOutputCell=m,t.withdraw=w;var n=r(41600),i=r(71313),o=r(14105),a=r(28670),s=r(49568),c=r(92900),u=r(45524),f=r(33089),d=r(6437);const{ScriptValue:l}=n.values,{CKBHasher:h,ckbHash:p}=n.utils,b=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,o.getConfig)(),this.fromScript=(0,u.parseFromInfo)(e,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,f.isAcpScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function y(e,t,r,{config:a,defaultWitness:s="0x",since:c}={}){a=a||(0,o.getConfig)();const u=t.cellOutput.lock;if(!(0,f.isAcpScript)(u,a))throw new Error("Not anyone-can-pay input!");e=e.update("inputs",(e=>e.push(t))),c&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,c)))),e=e.update("witnesses",(e=>e.push(s)));const d={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=(e=e.update("outputs",(e=>e.push(d)))).update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1})));const h=a.SCRIPTS.ANYONE_CAN_PAY;if(!h)throw new Error("ANYONE_CAN_PAY script not defined in config!");const p={txHash:h.TX_HASH,index:h.INDEX},b=(e=(0,f.addCellDep)(e,{outPoint:p,depType:h.DEP_TYPE})).get("inputs").findIndex((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(u,{validate:!1}))));if(-1!==b){for(;b>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let t=e.get("witnesses").get(b);const r={lock:f.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==t){const e=n.blockchain.WitnessArgs.unpack(i.bytes.bytify(t)),o=e.lock;if(o&&r.lock&&!i.bytes.equal(o,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const a=e.inputType;a&&(r.inputType=a);const s=e.outputType;s&&(r.outputType=s)}t=i.bytes.hexify(n.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(b,t)))}return e}function g(e,t){const r=c.BI.from(t);let n,i;if(e.length>=46&&(n=c.BI.from(10).pow("0x"+e.slice(44,46))),e.length>=44){const t=c.BI.from(10).pow("0x"+e.slice(42,44)),r=c.BI.from(10).pow(8);i=t.mul(r)}if(i&&n){if(r.lt(i))throw new Error(`capacity(${t}) less than toAddress minimal capacity limit(${i}), and amount less then toAddress minimal amount limit(${n})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(i&&r.lt(i))throw new Error(`capacity(${t}) less than toAddress minimal capacity limit(${i})!`)}async function m(e,t,{config:r}={}){r=r||(0,o.getConfig)();const n=t.cellOutput.lock,i=c.BI.from(t.cellOutput.capacity);g(n.args,i.toString());const s=e.get("cellProvider");if(!s)throw new Error("Cell Provider is missing!");const u=(0,a.generateAddress)(n,{config:r}),d=new b(u,s,{config:r}),l=(await d.collect().next()).value;let h=i;if(l&&(h=i.add(l.cellOutput.capacity),e=(e=e.update("inputs",(e=>e.push(l)))).update("witnesses",(e=>e.push("0x")))),t.cellOutput.capacity="0x"+h.toString(16),e=e.update("outputs",(e=>e.push(t))),l){const t=r.SCRIPTS.ANYONE_CAN_PAY;if(!t)throw new Error("ANYONE_CAN_PAY script not defined in config!");const n={txHash:t.TX_HASH,index:t.INDEX};e=(0,f.addCellDep)(e,{outPoint:n,depType:t.DEP_TYPE})}return e}async function v(e,t,r,n,{config:i}={}){if(i=i||(0,o.getConfig)(),r>=t.get("outputs").size)throw new Error("Invalid output index!");let u=c.BI.from(n);if(!i.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const f=e.fromScript,d=t.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let h=d?d.index+1:0;for(;h<t.get("outputs").size&&u.gt(0);h++){const e=t.get("outputs").get(h);if(new l(e.cellOutput.lock,{validate:!1}).equals(new l(f,{validate:!1}))){const t=c.BI.from(e.cellOutput.capacity),r=t.sub((0,a.minimalCellCapacityCompatible)(e)),n=u.gte(r)?r:u;u=u.sub(n),e.cellOutput.capacity="0x"+t.sub(n).toString(16)}}t=t.update("outputs",(e=>e.filter((e=>!c.BI.from(e.cellOutput.capacity).eq(0)))));const p=e=>`${e.outPoint.txHash}_${e.outPoint.index}`;if(u.gt(0)){const r={cellOutput:{capacity:"0x0",lock:f,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let n=c.BI.from(0);const o=c.BI.from((0,a.minimalCellCapacityCompatible)(r));let d=(0,s.Set)();for(const e of t.get("inputs"))d=d.add(p(e));for await(const a of e.collect()){if(d.has(p(a)))continue;const e=(t=await y(t,a,0,{config:i})).get("outputs").size-1,s=(t=t.update("outputs",(t=>t.remove(e)))).get("fixedEntries").findIndex((t=>"outputs"===t.field&&t.index===e));s>=0&&(t=t.update("fixedEntries",(e=>e.remove(s))));const f=c.BI.from(a.cellOutput.capacity);let l=f;if(l.gt(u)&&(l=u),u=u.sub(l),n=n.add(f.sub(l)),u.eq(0)&&n.gte(o))break;r.cellOutput.capacity="0x"+n.toString(16),t=t.update("outputs",(e=>e.push(r)))}if(u.gt(0)||n<o)throw new Error("Not enough capacity in from address!");r.cellOutput.capacity="0x"+n.toString(16),t=t.update("outputs",(e=>e.push(r)))}return t}function _(e,{config:t}={}){const r="ANYONE_CAN_PAY",i=(t=t||(0,o.getConfig)()).SCRIPTS[r];if(!i)throw new Error(`Provided config does not have ${r} script setup!`);let u=(0,s.Set)();const b=(0,a.createTransactionFromSkeleton)(e),y=p(n.blockchain.RawTransaction.pack(b)),g=e.get("inputs"),m=e.get("witnesses");let v=e.get("signingEntries");for(let t=0;t<g.size;t++){const r=g.get(t);if(i.CODE_HASH===r.cellOutput.lock.codeHash&&i.HASH_TYPE===r.cellOutput.lock.hashType&&!u.has(r.cellOutput.lock.args)){u=u.add(r.cellOutput.lock.args);const i=e.get("outputs").filter((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(r.cellOutput.lock,{validate:!1})))),o=i.map((e=>c.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),c.BI.from(0)),a=i.filter((e=>"0x"!==e.data)).map((e=>(0,d.unpackAmount)(e.data))).reduce(((e,t)=>e.add(t)),c.BI.from(0)),s=g.filter((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(r.cellOutput.lock,{validate:!1})))),p=s.map((e=>c.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),c.BI.from(0)),b=s.filter((e=>"0x"!==e.data)).map((e=>c.BI.from((0,d.unpackAmount)(e.data)))).reduce(((e,t)=>e.add(t)),c.BI.from(0));if(p.lte(o)&&b.lte(a))continue;const _=new n.values.ScriptValue(r.cellOutput.lock,{validate:!1}),w=new h;if(w.update(y),t>=m.size)throw new Error(`The first witness in the script group starting at input index ${t} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,f.hashWitness)(w,m.get(t));for(let e=t+1;e<g.size&&e<m.size;e++){const t=g.get(e);_.equals(new n.values.ScriptValue(t.cellOutput.lock,{validate:!1}))&&(0,f.hashWitness)(w,m.get(e))}for(let e=g.size;e<m.size;e++)(0,f.hashWitness)(w,m.get(e));const S={type:"witness_args_lock",index:t,message:w.digestHex()};v=v.push(S)}}return e=e.set("signingEntries",v)}async function w(e,t,r,n,{config:i}={}){if(i=i||(0,o.getConfig)(),!(0,f.isAcpScript)(t.cellOutput.lock,i))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const s=c.BI.from(n),u=c.BI.from(t.cellOutput.capacity),d=c.BI.from((0,a.minimalCellCapacityCompatible)(t));if(!(s.gte(0)&&s.lte(u.sub(d))||s.eq(u)))throw new Error(`capacity must be in [0, ${u.sub(d)}] or ${u} !`);const l=(0,a.parseAddress)(r,{config:i}),h={cellOutput:{capacity:"0x"+n.toString(16),lock:l,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,f.isAcpScript)(l,i)){g(l.args,n);const t=e.get("cellProvider");if(!t)throw new Error("Cell Provider is missing!");const o=new b(r,t,{config:i}),a=(await o.collect().next()).value;if(!a)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const c=s.add(a.cellOutput.capacity);h.cellOutput.capacity="0x"+c.toString(16),e=(e=e.update("inputs",(e=>e.push(a)))).update("witnesses",(e=>e.push("0x")))}e=e.update("outputs",(e=>e.push(h)));const p=(e=await y(e,t,(0,a.generateAddress)(t.cellOutput.lock,{config:i}),{config:i})).get("outputs").size-1,m=(e=e.update("outputs",(e=>e.remove(p)))).get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===p));return m>=0&&(e=e.update("fixedEntries",(e=>e.remove(m)))),s.eq(u)||(e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+u.sub(n).toString(16),lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data})))),e}t.default={CellCollector:b,setupInputCell:y,setupOutputCell:m,injectCapacity:v,prepareSigningEntries:_,withdraw:w}},10640:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.injectCapacity=A,t.payFee=E,t.payFeeByFeeRate=P,t.prepareSigningEntries=I,t.registerCustomLockScriptInfos=w,t.setupInputCell=O,t.transfer=x;var i=r(28670),o=g(r(94467)),a=r(45524),s=g(r(1874)),c=r(14105),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(24900)),f=r(41600),d=g(r(83127)),l=r(49568),h=r(33089),p=r(92900),b=g(r(60699));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}const{ScriptValue:m}=f.values;function v(e,t){console.log(`[${e}] ${t}`)}const _={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function w(e){_._customInfos=e}function S({config:e}={}){e=e||(0,c.getConfig)();const t=()=>{var t,r,n,i;const a=null===(t=e)||void 0===t?void 0:t.SCRIPTS.SECP256K1_BLAKE160,c=null===(r=e)||void 0===r?void 0:r.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,u=null===(n=e)||void 0===n?void 0:n.SCRIPTS.ANYONE_CAN_PAY,f=null===(i=e)||void 0===i?void 0:i.SCRIPTS.OMNILOCK,l=[];return a?l.push({codeHash:a.CODE_HASH,hashType:a.HASH_TYPE,lockScriptInfo:s.default}):v("warn","SECP256K1_BLAKE160 script info not found in config!"),c?l.push({codeHash:c.CODE_HASH,hashType:c.HASH_TYPE,lockScriptInfo:o.default}):v("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),u?l.push({codeHash:u.CODE_HASH,hashType:u.HASH_TYPE,lockScriptInfo:d.default}):v("warn","ANYONE_CAN_PAY script info not found in config!"),f?l.push({codeHash:f.CODE_HASH,hashType:f.HASH_TYPE,lockScriptInfo:b.default}):v("warn","OMNILOCK script info not found in config!"),l},r=f.utils.hashCode(n.from(JSON.stringify(e)));0===_.infos.length?(_._predefinedInfos=t(),_.configHashCode=r):r!==_.configHashCode&&(v("warn","`config` changed, regenerate lockScriptInfos!"),_._predefinedInfos=t(),_.configHashCode=r)}async function x(e,t,r,n,o,a,{config:s,useLocktimeCellsFirst:f=!0,LocktimePoolCellCollector:d=u.CellCollector}={}){var l;s=s||(0,c.getConfig)();const h=p.BI.from(n);if(!r)throw new Error("You must provide a to address!");const b=(0,i.parseAddress)(r,{config:s}),y={cellOutput:{capacity:"0x"+h.toString(16),lock:b,type:void 0},data:"0x"};S({config:s});const g=_.infos.find((e=>e.codeHash===b.codeHash&&e.hashType===b.hashType));return e=g&&null!==(l=g.lockScriptInfo)&&void 0!==l&&l.setupOutputCell?await g.lockScriptInfo.setupOutputCell(e,y,{config:s}):e.update("outputs",(e=>e.push(y))),e=await A(e,t,h.toString(),o,a,{config:s,useLocktimeCellsFirst:f,LocktimePoolCellCollector:d})}async function A(e,t,r,n,o,{config:s,useLocktimeCellsFirst:f=!0,LocktimePoolCellCollector:d=u.CellCollector,enableDeductCapacity:l=!0}={}){s=s||(0,c.getConfig)();let h=p.BI.from(r);if(0===t.length)throw new Error("No from info provided!");const b={cellOutput:{capacity:"0x0",lock:(0,a.parseFromInfo)(n||t[0],{config:s}).fromScript,type:void 0},data:"0x"},y=p.BI.from((0,i.minimalCellCapacityCompatible)(b));let g=p.BI.from(0);if(f){if(o){const r=await u.default.injectCapacityWithoutChangeCompatible(e,t,h.toString(),o,y.toString(),{config:s,LocktimeCellCollector:d,enableDeductCapacity:l});e=r.txSkeleton,h=p.BI.from(r.capacity),g=p.BI.from(r.changeCapacity)}if(h.gt(0)){const r=await k(e,t,h,y,{config:s,enableDeductCapacity:l});e=r.txSkeleton,h=r.capacity,g=r.changeCapacity}else if(h.eq(0)&&g.gt(0)&&g.lt(y)){const r=await k(e,t,y.sub(g),p.BI.from(0),{config:s,enableDeductCapacity:l});e=r.txSkeleton,h=r.capacity,g=r.changeCapacity}}else{const r=await k(e,t,h,y,{config:s,enableDeductCapacity:l});if(e=r.txSkeleton,h=r.capacity,g=r.changeCapacity,o)if(h.gt(0)){const r=await u.default.injectCapacityWithoutChangeCompatible(e,t,h.toString(),o,y.toString(),{config:s,LocktimeCellCollector:d,enableDeductCapacity:l});e=r.txSkeleton,h=p.BI.from(r.capacity),g=p.BI.from(r.changeCapacity)}else if(h.eq(0)&&g.gt(0)&&g.lt(y)){const r=await u.default.injectCapacityWithoutChangeCompatible(e,t,y.sub(g).toString(),o,0,{config:s,LocktimeCellCollector:d,enableDeductCapacity:l});e=r.txSkeleton,h=p.BI.from(r.capacity),g=p.BI.from(r.changeCapacity)}}if(h.gt(0))throw new Error("Not enough capacity in from infos!");if(g.gt(0)&&g.lt(y))throw new Error("Not enough capacity in from infos for change!");return g.gt(0)&&(b.cellOutput.capacity="0x"+g.toString(16),e=e.update("outputs",(e=>e.push(b)))),e}async function E(e,t,r,n,{config:i,useLocktimeCellsFirst:o=!0,enableDeductCapacity:a=!0}={}){return A(e,t,r,void 0,n,{config:i,useLocktimeCellsFirst:o,enableDeductCapacity:a})}function I(e,{config:t}={}){S({config:t=t||(0,c.getConfig)()});for(const r of _.infos)e=r.lockScriptInfo.prepareSigningEntries(e,{config:t});return e}async function k(e,t,r,n,{config:i,enableDeductCapacity:o=!0}={}){i=i||(0,c.getConfig)();let s=p.BI.from(r);const u=e.get("cellProvider");if(!u)throw new Error("Cell Provider is missing!");const f=e=>{var t,r;return`${null===(t=e.outPoint)||void 0===t?void 0:t.txHash}_${null===(r=e.outPoint)||void 0===r?void 0:r.index}`};let d=(0,l.Set)();for(const t of e.get("inputs"))d=d.add(f(t));const h=t.map((e=>(0,a.parseFromInfo)(e,{config:i}).fromScript));for(const t of h)o&&s.gt(0)&&([e,s]=T(e,t,s));S({config:i});let b=p.BI.from(0);if(s.gt(0))e:for(const r of t){const t=_.infos.map((e=>new e.lockScriptInfo.CellCollector(r,u,{config:i})));for(const o of t)for await(const t of o.collect()){const o=f(t);if(d.has(o))continue;d=d.add(o);const a=await C(e,t,r,{config:i,needCapacity:s});e=a.txSkeleton;const c=p.BI.from(a.availableCapacity);let u=c;if(u.gt(s)&&(u=s),s=s.sub(u),b=b.add(c.sub(u)),s.eq(0)&&(b.eq(0)||b.gt(n)))break e}}return{txSkeleton:e,capacity:s,changeCapacity:b}}function T(e,t,r){let n=p.BI.from(r);const o=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let a=o?o.index+1:0;for(;a<e.get("outputs").size&&n.gt(0);a++){const o=e.get("outputs").get(a);if(o&&new m(o.cellOutput.lock,{validate:!1}).equals(new m(t,{validate:!1}))){const t=JSON.parse(JSON.stringify(o)),s=p.BI.from(t.cellOutput.capacity),c=s;let u;n.gte(c)?u=c:(u=s.sub((0,i.minimalCellCapacityCompatible)(t)),u.gt(r)&&(u=r)),n=n.sub(u),t.cellOutput.capacity="0x"+s.sub(u).toString(16),e=e.update("outputs",(e=>e.update(a,(()=>t))))}}return[e=e.update("outputs",(e=>e.filter((e=>p.BI.from(e.cellOutput.capacity).toString()!==p.BI.from(0).toString())))),n]}async function C(e,t,r,{config:n,since:o,defaultWitness:a="0x",needCapacity:s}={}){n=n||(0,c.getConfig)();const u=(e=await O(e,t,r,{config:n,since:o,defaultWitness:a})).get("outputs").size-1,f=e.get("outputs").get(u);if(!f)throw new Error("Impossible: can not find last output");const d=p.BI.from(f.cellOutput.capacity),l=e.get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===u)),b=t.cellOutput.lock;let y=p.BI.from(0);if(n.SCRIPTS.ANYONE_CAN_PAY&&(0,h.isAcpScript)(b,n)){const t=!!(r&&"object"==typeof r&&"destroyable"in r&&r.destroyable),n=s?p.BI.from(s):d;if(t)y=d,e=e.update("outputs",(e=>e.remove(u))),l>=0&&(e=e.update("fixedEntries",(e=>e.remove(l))));else{const t=p.BI.from((0,i.minimalCellCapacityCompatible)(f)),r=d.sub(t),o=JSON.parse(JSON.stringify(f));let a=t;y=r,n.lt(r)&&(a=d.sub(n),y=n),o.cellOutput.capacity="0x"+a.toString(16),e=e.update("outputs",(e=>e.update(u,(()=>o))))}}else{var g;if(l<0)y=p.BI.from(null===(g=e.get("outputs").get(u))||void 0===g?void 0:g.cellOutput.capacity),e=e.update("outputs",(e=>e.remove(u)))}return{txSkeleton:e,availableCapacity:y}}async function O(e,t,r,{config:n,since:i,defaultWitness:o}={}){S({config:n=n||(0,c.getConfig)()});const a=t.cellOutput.lock,s=_.infos.find((e=>e.codeHash===a.codeHash&&e.hashType===a.hashType));if(!s)throw new Error("No LockScriptInfo found for setupInputCell!");return s.lockScriptInfo.setupInputCell(e,t,r,{config:n,since:i,defaultWitness:o})}async function P(e,t,r,n,{config:i,useLocktimeCellsFirst:o=!0,enableDeductCapacity:a=!0}={}){let s=0,c=e,u=B(c);for(;u>s;){s=u;const f=M(s,r);c=await E(e,t,f,n,{config:i,useLocktimeCellsFirst:o,enableDeductCapacity:a}),u=B(c)}return c}function M(e,t){const r=p.BI.from(1e3),n=p.BI.from(e).mul(t),i=n.div(r);return i.mul(r).lt(n)?i.add(1):p.BI.from(i)}function B(e){return D((0,i.createTransactionFromSkeleton)(e))}function D(e){return f.blockchain.Transaction.pack(e).byteLength+4}t.default={transfer:x,payFee:E,prepareSigningEntries:I,injectCapacity:A,setupInputCell:O,registerCustomLockScriptInfos:w,payFeeByFeeRate:P,__tests__:{_commonTransfer:async function(e,t,r,n,{config:i,enableDeductCapacity:o=!0}={}){const a=await k(e,t,r,n,{config:i,enableDeductCapacity:o});return{txSkeleton:a.txSkeleton,capacity:BigInt(a.capacity.toString()),changeCapacity:BigInt(a.changeCapacity.toString())}},resetLockScriptInfos:function(){_.configHashCode=0,_._predefinedInfos=[],_._customInfos=[]},getLockScriptInfos:function(){return _},generateLockScriptInfos:S,getTransactionSizeByTx:D,getTransactionSize:B,calculateFee:function(e,t){const r=M(e,t);return BigInt(r.toString())},calculateFeeCompatible:M}}},91461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellCollector=void 0,t.calculateDaoEarliestSince=A,t.calculateDaoEarliestSinceCompatible=E,t.calculateMaximumWithdraw=C,t.calculateMaximumWithdrawCompatible=O,t.default=void 0,t.deposit=_,t.extractDaoDataCompatible=T,t.listDaoCells=v,t.unlock=x;var n=r(28670),i=r(41600),o=r(71313),a=r(14105),s=p(r(1874)),c=p(r(94467)),u=r(45524),f=r(33089),d=r(92900),l=r(24980),h=p(r(10640));function p(e){return e&&e.__esModule?e:{default:e}}const{parseSince:b}=i.since,y="0x0000000000000000",g=d.BI.from(180);class m{constructor(e,t,r,{config:n}={}){if(!t)throw new Error("Cell Provider is missing!");n=n||(0,a.getConfig)();const i=(0,u.parseFromInfo)(e,{config:n}).fromScript,o=(0,f.generateDaoScript)(n),s="deposit"===r?y:"any";this.cellType=r,this.cellCollector=t.collector({lock:i,type:o,data:s})}async*collect(){for await(const e of this.cellCollector.collect())"withdraw"===this.cellType&&e.data===y||(yield e)}}async function*v(e,t,r,{config:n}={}){const i=new m(t,e,r,{config:n});for await(const e of i.collect())yield e}async function _(e,t,r,i,{config:l,enableNonSystemScript:p=!1}={}){const g=(l=l||(0,a.getConfig)()).SCRIPTS.DAO;if(!g)throw new Error("Provided config does not have DAO script setup!");if(function(e,t){let r;if("string"==typeof e){const i=(0,n.parseAddress)(e,{config:t}).args;58===i.length&&(r=o.number.Uint64LE.unpack("0x"+i.slice(42)).toHexString())}else"R"in e&&(r=e.since);if(null!=r){const{relative:e,type:t}=b(r);if(e||"epochNumber"!==t)throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}(t,l),e=k(e,l),!r)throw new Error("You must provide a to address!");const m=(0,n.parseAddress)(r,{config:l}),v={codeHash:g.CODE_HASH,hashType:g.HASH_TYPE,args:"0x"},_=(e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+d.BI.from(i).toString(16),lock:m,type:v},data:y,outPoint:void 0,blockHash:void 0})))).get("outputs").size-1;if(e=e.update("fixedEntries",(e=>e.push({field:"outputs",index:_}))),"string"==typeof t){const r=(0,n.parseAddress)(t,{config:l});(0,f.isSecp256k1Blake160Script)(r,l)?e=await s.default.injectCapacity(e,_,t,{config:l}):(0,f.isSecp256k1Blake160MultisigScript)(r,l)?e=await c.default.injectCapacity(e,_,t,{config:l}):p&&(e=await h.default.injectCapacity(e,[t],i,(0,n.encodeToAddress)((0,u.parseFromInfo)(t).fromScript,{config:l}),void 0,{config:l}))}else t&&((0,u.isMultisigFromInfo)(t)?e=await c.default.injectCapacity(e,_,t,{config:l}):p&&(e=await h.default.injectCapacity(e,[t],i,(0,n.encodeToAddress)((0,u.parseFromInfo)(t).fromScript,{config:l}),void 0,{config:l})));return e}function w(e){const t=d.BI.from(e);return{length:t.shr(40).and(4095),index:t.shr(24).and(4095),number:t.and(16777215)}}function S({length:e,index:t,number:r}){const n=d.BI.from(e),i=d.BI.from(t),o=d.BI.from(r);return d.BI.from(32).shl(56).add(n.shl(40)).add(i.shl(24)).add(o)}async function x(e,t,r,u,h,{config:p,RpcClient:b=l.RPC}={}){if(I(p=p||(0,a.getConfig)()),e=k(e,p),!p.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const m=e.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const v=new b(m.uri),_=t.cellOutput.type,x=p.SCRIPTS.DAO;if(!_||_.codeHash!==x.CODE_HASH||_.hashType!==x.HASH_TYPE||t.data!==y)throw new Error("depositInput is not a DAO deposit cell.");const A=r.cellOutput.type;if(!A||A.codeHash!==x.CODE_HASH||A.hashType!==x.HASH_TYPE||r.data===y)throw new Error("withdrawInput is not a DAO withdraw cell.");const E=await v.getHeader(t.blockHash),T=w(E.epoch),C=await v.getHeader(r.blockHash),P=w(C.epoch),M=P.index.mul(T.length),B=T.index.mul(P.length);let D=P.number.sub(T.number);M.gt(B)&&(D=D.add(1));const R=D.add(g).sub(1).div(g).mul(g),L=S({number:d.BI.from(T.number.add(R)),index:d.BI.from(T.index),length:d.BI.from(T.length)}),N="0x"+O(r,E.dao,C.dao).toString(16),j=(0,n.parseAddress)(u,{config:p});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:N,lock:j,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})));const U="0x"+L.toString(16);for(;e.get("witnesses").size<e.get("inputs").size-1;)e=e.update("witnesses",(e=>e.push("0x")));const H=(e=e.update("headerDeps",(e=>e.push(t.blockHash,r.blockHash)))).get("headerDeps").size-2,F={inputType:o.bytes.hexify(o.number.Uint64LE.pack(H))},z=o.bytes.hexify(i.blockchain.WitnessArgs.pack(F)),q=r.cellOutput.lock;(0,f.isSecp256k1Blake160Script)(q,p)?e=await s.default.setupInputCell(e,r,void 0,{config:p,since:U,defaultWitness:z}):(0,f.isSecp256k1Blake160MultisigScript)(q,p)&&(e=await c.default.setupInputCell(e,r,h||(0,n.generateAddress)(q,{config:p}),{config:p,since:U,defaultWitness:z}));const K=e.get("outputs").size-1;return e=(e=e.update("outputs",(e=>e.remove(K)))).update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"outputs",index:e.get("outputs").size-1},{field:"witnesses",index:e.get("witnesses").size-1},{field:"headerDeps",index:e.get("headerDeps").size-2})))}function A(e,t){const r=E(e,t);return BigInt(r.toString())}function E(e,t){const r=w(e),n=w(t),i=n.index.mul(r.length),o=r.index.mul(n.length);let a=n.number.sub(r.number);i.gt(o)&&(a=a.add(1));const s=a.add(g).sub(1).div(g).mul(g);return S({number:d.BI.from(r.number.add(s)),index:d.BI.from(r.index),length:d.BI.from(r.length)})}function I(e){if(!e.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function k(e,t){const r=t.SCRIPTS.DAO;return(0,f.addCellDep)(e,{outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE})}function T(e){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(e))throw new Error("Invalid dao format!");const t=e.startsWith("0x")?e.slice(2):e;return["c","ar","s","u"].map(((e,r)=>({[e]:o.number.Uint64LE.unpack("0x"+t.slice(16*r,16*(r+1)))}))).reduce(((e,t)=>({...e,...t})),{})}function C(e,t,r){return O(e,t,r).toBigInt()}function O(e,t,r){const i=d.BI.from(T(t).ar),o=d.BI.from(T(r).ar),a=d.BI.from((0,n.minimalCellCapacityCompatible)(e));return d.BI.from(e.cellOutput.capacity).sub(a).mul(o).div(i).add(a)}t.CellCollector=m;t.default={deposit:_,withdraw:async function(e,t,r,{config:i,enableNonSystemScript:u=!1}={}){if(I(i=i||(0,a.getConfig)()),(e=k(e,i)).get("inputs").size!==e.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!i.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!e.get("cellProvider"))throw new Error("Cell provider is missing!");const d=t.cellOutput.type,l=i.SCRIPTS.DAO;if(!d||d.codeHash!==l.CODE_HASH||d.hashType!==l.HASH_TYPE||t.data!==y)throw new Error("fromInput is not a DAO deposit cell.");const p=t.cellOutput.lock;(0,f.isSecp256k1Blake160Script)(p,i)?e=await s.default.setupInputCell(e,t,void 0,{config:i}):(0,f.isSecp256k1Blake160MultisigScript)(p,i)?e=await c.default.setupInputCell(e,t,r||(0,n.generateAddress)(p,{config:i}),{config:i}):u&&(e=await h.default.setupInputCell(e,t,r||(0,n.encodeToAddress)(p,{config:i}),{config:i}));const b=e.get("outputs").size-1,g=e.get("outputs").get(b),m=JSON.parse(JSON.stringify(g));if(!t.blockNumber)throw new Error("fromInput has no blockNumber!");return m.data=o.bytes.hexify(o.number.Uint64.pack(t.blockNumber)),e=(e=(e=e.update("outputs",(e=>e.update(b,(()=>m))))).update("headerDeps",(e=>e.push(t.blockHash)))).update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"outputs",index:e.get("outputs").size-1})))},unlock:x,calculateMaximumWithdraw:C,calculateMaximumWithdrawCompatible:O,calculateDaoEarliestSince:A,calculateDaoEarliestSinceCompatible:E,CellCollector:m,listDaoCells:v}},92642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareScriptBinaryWithOnChainData=x,t.default=void 0,t.generateDeployWithDataTx=_,t.generateDeployWithTypeIdTx=w,t.generateUpgradeTypeIdDataTx=S;var n=r(41600),i=r(71313),o=r(14105),a=r(28670),s=r(49568),c=r(45524),u=r(92900);const{ScriptValue:f}=n.values;function d(e,t){const r=(0,a.minimalCellCapacityCompatible)(t);return t.cellOutput.capacity=`0x${r.toString(16)}`,e=e.update("outputs",(e=>e.push(t)))}function l(e,t){e=e.update("cellDeps",(e=>e.clear()));const r=(t=t||(0,o.getConfig)()).SCRIPTS.SECP256K1_BLAKE160,n=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return e=e.update("cellDeps",(e=>e.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})))}async function h(e,t,r,d){const l=e.get("inputs").map((e=>u.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),u.BI.from(0)),h=e.get("outputs").map((e=>u.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),u.BI.from(0)).sub(l);return e=await async function(e,t,r,{config:d,feeRate:l}){d=d||(0,o.getConfig)();const h=l||1e3;let b=u.BI.from(r);const{fromScript:g,multisigScript:m}=(0,c.parseFromInfo)(t,{config:d});b=b.add(p);let v=p;const _={cellOutput:{capacity:"0x0",lock:g,type:void 0},data:"0x"},w=u.BI.from((0,a.minimalCellCapacityCompatible)(_)).add(p);b.lt(0)&&(v=v.sub(b),b=u.BI.from(0));if(b.gt(0)||v.lt(w)){const t=e.get("cellProvider");if(!t)throw new Error("Cell provider is missing!");const r=t.collector({lock:g,type:"empty",data:"0x"});let n=(0,s.Set)();for(const t of e.get("inputs"))n=n.add(`${t.outPoint.txHash}_${t.outPoint.index}`);for await(const t of r.collect()){if(n.has(`${t.outPoint.txHash}_${t.outPoint.index}`))continue;e=(e=e.update("inputs",(e=>e.push(t)))).update("witnesses",(e=>e.push("0x")));const r=u.BI.from(t.cellOutput.capacity);let i=r;if(i.gt(b)&&(i=b),b=b.sub(i),v=v.add(r).sub(i),b.eq(0)&&(v.eq(0)||v.gte(w)))break}}v.gt(0)&&(_.cellOutput.capacity="0x"+v.toString(16),e=e.update("outputs",(e=>e.push(_))));if(b.gt(0)||v.lt(w))throw new Error("Not enough capacity in from address!");const S=e.get("inputs").findIndex((e=>new f(e.cellOutput.lock,{validate:!1}).equals(new f(g,{validate:!1}))));if(-1!==S){for(;S>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let r,o=e.get("witnesses").get(S);const a="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(r="string"!=typeof t?{lock:i.bytes.hexify(i.bytes.concat(m,...new Array(t.M).fill(a)))}:{lock:a},"0x"!==o){const e=n.blockchain.WitnessArgs.unpack(i.bytes.bytify(o)),t=e.lock;if(t&&r.lock&&!i.bytes.equal(t,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const a=e.inputType;a&&(r.inputType=a);const s=e.outputType;s&&(r.outputType=s)}o=i.bytes.hexify(n.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(S,o)))}const x=y(e,h);v=v.sub(x),e=e.update("outputs",(e=>e.pop())),v.gt(0)&&(_.cellOutput.capacity="0x"+v.toString(16),e=e.update("outputs",(e=>e.push(_))));return e}(e,t,u.BI.from(h),{config:r,feeRate:d}),e}const p=(0,u.parseUnit)("1","ckb");function b(e){return function(e){const t=n.blockchain.Transaction.pack(e),r=4;return t.byteLength+r}((0,a.createTransactionFromSkeleton)(e))}function y(e,t){const r=b(e);return u.BI.from(function(e,t){const r=u.BI.from(1e3),n=u.BI.from(e).mul(t),i=n.div(r);return i.mul(r).lt(n)?i.add(1):u.BI.from(i)}(r,t))}function g(e){const t=(0,a.createTransactionFromSkeleton)(e);return n.utils.ckbHash(n.blockchain.RawTransaction.pack(t))}function m(e,t){const r=e.outputs.get(t);if(null==r)throw new Error("Invalid txSkeleton or outputIndex");return void 0!==r.cellOutput.type?function(e,t){const r=e.outputs.get(t).cellOutput.type;return{CODE_HASH:n.utils.computeScriptHash(r),HASH_TYPE:"type",TX_HASH:g(e),INDEX:"0x0",DEP_TYPE:"code"}}(e,t):function(e,t){const r=e.outputs.get(t).data;return{CODE_HASH:n.utils.ckbHash(i.bytes.bytify(r)),HASH_TYPE:"data1",TX_HASH:g(e),INDEX:"0x0",DEP_TYPE:"code"}}(e,t)}function v(e,{config:t}={}){if(t=t||(0,o.getConfig)(),"string"==typeof e){if("SECP256K1_BLAKE160"!==o.helpers.nameOfScript((0,a.parseAddress)(e,{config:t}),t.SCRIPTS))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!function(e){return"object"==typeof e&&"M"in e&&"R"in e&&Array.isArray(e.publicKeyHashes)}(e))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function _(e){v(e.fromInfo,{config:e.config});let t=(0,a.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,c.parseFromInfo)(e.fromInfo,{config:e.config});t=d(t,{cellOutput:{capacity:"0x0",lock:r},data:i.bytes.hexify(e.scriptBinary)}),t=l(t,e.config),t=await h(t,e.fromInfo,e.config,e.feeRate);return{txSkeleton:t,scriptConfig:m(t,0)}}async function w(e){v(e.fromInfo,{config:e.config});let t=(0,a.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,c.parseFromInfo)(e.fromInfo,{config:e.config}),[o]=await async function(e,t){const r=t.collector({lock:e,type:"empty",data:"0x"}),n=[];for await(const e of r.collect())n.push(e);return n}(r,e.cellProvider);if(!o)throw new Error("fromAddress has no live ckb");const s=n.utils.generateTypeIdScript({previousOutput:o.outPoint,since:"0x0"},"0x0");t=d(t,{cellOutput:{capacity:"0x0",lock:r,type:s},data:i.bytes.hexify(e.scriptBinary)}),t=l(t,e.config),t=await h(t,e.fromInfo,e.config,e.feeRate);return{txSkeleton:t,scriptConfig:m(t,0),typeId:s}}async function S(e){v(e.fromInfo,{config:e.config});let t=(0,a.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,c.parseFromInfo)(e.fromInfo,{config:e.config}),n=e.cellProvider.collector({type:e.typeId}),o=[];for await(const e of n.collect())o.push(e);if(1!==o.length)throw new Error("the typeid maybe wrong");const s=o[0];t=t.update("inputs",(e=>e.push(s)));t=d(t,{cellOutput:{capacity:"0x0",lock:r,type:e.typeId},data:i.bytes.hexify(e.scriptBinary)}),t=l(t,e.config),t=await h(t,e.fromInfo,e.config,e.feeRate);return{txSkeleton:t,scriptConfig:m(t,0)}}async function x(e,t,r){const o=function(e){const t=e.valueOf();return(new n.utils.CKBHasher).update(t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset)).digestHex()}(e),a=await async function(e,t){const r=e.txHash,o=parseInt(e.index,10),a=await t.getTransaction(r);if(!a)throw new Error(`TxHash(${r}) is not found`);const s=a.transaction.outputsData[o];if(!s)throw new Error("cannot find output data");return(new n.utils.CKBHasher).update(i.bytes.bytify(s)).digestHex()}(t,r);return o===a}t.default={generateDeployWithDataTx:_,generateDeployWithTypeIdTx:w,generateUpgradeTypeIdDataTx:S,compareScriptBinaryWithOnChainData:x,__tests__:{calculateTxFee:y}}},45524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMultisigFromInfo=function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"number"==typeof(null==t?void 0:t.R)&&"number"==typeof(null==t?void 0:t.M)&&Array.isArray(null==t?void 0:t.publicKeyHashes)},t.multisigArgs=u,t.parseFromInfo=function(e,{config:t}={}){let r,n,a,s;if(t=t||(0,o.getConfig)(),"string"==typeof e)r=(0,i.parseAddress)(e,{config:t});else if("R"in e){const i=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!i)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=c(e);const o=u(n,e.since);r={codeHash:i.CODE_HASH,hashType:i.HASH_TYPE,args:o}}else if("address"in e){const n=t.SCRIPTS.ANYONE_CAN_PAY;if(!n)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=e.address;if(r=(0,i.parseAddress)(o,{config:t}),a=e.destroyable,r.codeHash!==n.CODE_HASH||r.hashType!==n.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else{if(!("script"in e))throw new Error("Invalid fromInfo format!");r=e.script,s=e.customData}return{fromScript:r,multisigScript:n,destroyable:a,customData:s}},t.serializeMultisigScript=c;var n=r(41600),i=r(28670),o=r(14105),a=r(71313);const{CKBHasher:s}=n.utils;function c({R:e,M:t,publicKeyHashes:r}){if(e<0||e>255)throw new Error("`R` should be less than 256!");if(t<0||t>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+e.toString(16)).slice(-2)+("00"+t.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map((e=>e.slice(2))).join("")}function u(e,t){let r="0x";return null!=t&&(r=a.bytes.hexify(a.number.Uint64LE.pack(t))),(new s).update(e).digestHex().slice(0,42)+r.slice(2)}},33089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECP_SIGNATURE_PLACEHOLDER=void 0,t.addCellDep=f,t.default=void 0,t.ensureScript=x,t.generateDaoScript=d,t.hashWitness=w,t.isAcpAddress=_,t.isAcpScript=v,t.isDaoScript=g,t.isOmnilockAddress=function(e,t){return p((0,i.parseAddress)(e,{config:t}),t)},t.isOmnilockScript=p,t.isSecp256k1Blake160Address=h,t.isSecp256k1Blake160MultisigAddress=y,t.isSecp256k1Blake160MultisigScript=b,t.isSecp256k1Blake160Script=l,t.isSudtScript=m,t.prepareSigningEntries=S;var n=r(49568),i=r(28670),o=r(71313),a=r(41600),s=r(6435);const{CKBHasher:c,ckbHash:u}=a.utils;function f(e,t){return e.get("cellDeps").find((e=>e.depType===t.depType&&new a.values.OutPointValue(e.outPoint,{validate:!1}).equals(new a.values.OutPointValue(t.outPoint,{validate:!1}))))||(e=e.update("cellDeps",(e=>e.push({outPoint:t.outPoint,depType:t.depType})))),e}function d(e){const t=e.SCRIPTS.DAO;return{codeHash:t.CODE_HASH,hashType:t.HASH_TYPE,args:"0x"}}function l(e,t){const r=t.SCRIPTS.SECP256K1_BLAKE160;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function h(e,t){return l((0,i.parseAddress)(e,{config:t}),t)}function p(e,t){const r=t.SCRIPTS.OMNILOCK;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function b(e,t){const r=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function y(e,t){return b((0,i.parseAddress)(e,{config:t}),t)}function g(e,t){const r=t.SCRIPTS.DAO;return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function m(e,t){const r=t.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function v(e,t){const r=t.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function _(e,t){return v((0,i.parseAddress)(e,{config:t}),t)}function w(e,t){const r=o.bytes.hexify(s.Uint64.pack(o.bytes.bytify(t).length));e.update(r),e.update(t)}function S(e,t,r){const o=t.SCRIPTS[r];if(!o)throw new Error(`Provided config does not have ${r} script setup!`);let s=(0,n.Set)();const f=(0,i.createTransactionFromSkeleton)(e),d=u(a.blockchain.RawTransaction.pack(f)),l=e.get("inputs"),h=e.get("witnesses");let p=e.get("signingEntries");for(let e=0;e<l.size;e++){const t=l.get(e);if(o.CODE_HASH===t.cellOutput.lock.codeHash&&o.HASH_TYPE===t.cellOutput.lock.hashType&&!s.has(t.cellOutput.lock.args)){s=s.add(t.cellOutput.lock.args);const r=new a.values.ScriptValue(t.cellOutput.lock,{validate:!1}),n=new c;if(n.update(d),e>=h.size)throw new Error(`The first witness in the script group starting at input index ${e} does not exist, maybe some other part has invalidly tampered the transaction?`);w(n,h.get(e));for(let t=e+1;t<l.size&&t<h.size;t++){const e=l.get(t);r.equals(new a.values.ScriptValue(e.cellOutput.lock,{validate:!1}))&&w(n,h.get(t))}for(let e=l.size;e<h.size;e++)w(n,h.get(e));const i={type:"witness_args_lock",index:e,message:n.digestHex()};p=p.push(i)}}return e=e.set("signingEntries",p)}function x(e,t,r){const n=t.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==e.codeHash||n.HASH_TYPE!==e.hashType)throw new Error(`Provided script is not ${r} script!`)}t.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";t.default={addCellDep:f,generateDaoScript:d,isSecp256k1Blake160Script:l,isSecp256k1Blake160MultisigScript:b,isDaoScript:g,isSudtScript:m,prepareSigningEntries:S,isSecp256k1Blake160Address:h,isSecp256k1Blake160MultisigAddress:y,ensureScript:x,isAcpScript:v,isAcpAddress:_}},35945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return d.createP2PKHMessageGroup}}),Object.defineProperty(t,"dao",{enumerable:!0,get:function(){return a.default}}),t.default=void 0,Object.defineProperty(t,"deploy",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"locktimePool",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"omnilock",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return o.parseFromInfo}}),Object.defineProperty(t,"secp256k1Blake160",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"sudt",{enumerable:!0,get:function(){return u.default}});var n=p(r(1874)),i=p(r(94467)),o=r(45524),a=p(r(91461)),s=p(r(24900)),c=p(r(10640)),u=p(r(6437)),f=p(r(83127)),d=r(53484),l=p(r(92642)),h=p(r(60699));function p(e){return e&&e.__esModule?e:{default:e}}t.default={secp256k1Blake160:n.default,secp256k1Blake160Multisig:i.default,dao:a.default,locktimePool:s.default,common:c.default,sudt:u.default,anyoneCanPay:f.default}},24900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=C,t.payFee=k,t.prepareSigningEntries=T,t.setupInputCell=P,t.transfer=x,t.transferCompatible=A;var n,i=r(28670),o=r(71313),a=r(45524),s=(n=r(1874))&&n.__esModule?n:{default:n},c=r(91461),u=r(41600),f=r(33089),d=r(49568),l=r(14105),h=r(35945),p=r(37462),b=r(92900),y=r(24980);const{ScriptValue:g}=u.values,{parseEpoch:m,maximumAbsoluteEpochSince:v,generateAbsoluteEpochSince:_,validateSince:w}=u.since,S=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={},tipHeader:i,NodeRPC:o=y.RPC}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,l.getConfig)();const s=(0,a.parseFromInfo)(e,{config:r}),c=s.fromScript;this.multisigScript=s.multisigScript,this.fromScript=c,this.config=r,this.tipHeader=i,i&&(this.tipSinceValidationInfo={blockNumber:i.number,epoch:i.epoch,median_timestamp:""}),this.rpc=new o(t.uri),n={...n,lock:this.fromScript};let u=(0,d.List)([]);if((0,f.isSecp256k1Blake160MultisigScript)(c,r)){const e={codeHash:c.codeHash,hashType:c.hashType,args:c.args.slice(0,42)};u=u.push(t.collector({lock:e,argsLen:n.argsLen||28,type:n.type||"empty",data:n.data||"0x"})),n.type||n.data&&"any"!==n.data||(u=u.push(t.collector({lock:e,type:(0,f.generateDaoScript)(r),data:"any"})),u=u.push(t.collector({lock:e,argsLen:28,type:(0,f.generateDaoScript)(r),data:"any"})))}else(0,f.isSecp256k1Blake160Script)(c,r)&&(n.type||n.data&&"any"!==n.data||(u=u.push(t.collector({lock:c,type:(0,f.generateDaoScript)(r),data:"any"}))));this.cellCollectors=u}async*collect(){for(const e of this.cellCollectors)for await(const t of e.collect()){const e=t.cellOutput.lock;let r,n,i,o,a;if(58===e.args.length){const n=await this.rpc.getHeader(t.blockHash);r="0x"+M(e.args).toString(16),a={epoch:n.epoch,blockNumber:n.number,median_timestamp:""}}if((0,f.isDaoScript)(t.cellOutput.type,this.config)){if("0x0000000000000000"===t.data)continue;const e=await this.rpc.getTransaction(t.outPoint.txHash);o=e.txStatus.blockHash;const a=e.transaction.inputs[+t.outPoint.index].previousOutput;i=(await this.rpc.getTransaction(a.txHash)).txStatus.blockHash;const s=await this.rpc.getHeader(i),u=await this.rpc.getHeader(o);let f="0x"+(0,c.calculateDaoEarliestSinceCompatible)(s.epoch,u.epoch).toString(16);n=(0,c.calculateMaximumWithdrawCompatible)(t,s.dao,u.dao);const d=m(u.epoch),l={number:d.number+4,length:d.length,index:d.index};if(f=v(f,_(l)),r){const e=(0,p.parseSinceCompatible)(r);if(!1!==e.relative||"epochNumber"!==e.type)continue;try{r=v(f,r)}catch{r=f}}else r=f}if("blockTimestamp"===(0,p.parseSinceCompatible)(r).type||this.tipHeader&&!w(r,this.tipSinceValidationInfo,a))continue;const s={...t,since:r,depositBlockHash:i,withdrawBlockHash:o,sinceValidationInfo:a};s.cellOutput.capacity="0x"+(n||b.BI.from(t.cellOutput.capacity)).toString(16),yield s}}};async function x(e,t,r,n,i,{config:o,requireToAddress:a=!0,assertAmountEnough:s=!0,LocktimeCellCollector:c=S}={}){const u=await A(e,t,r,n,i,{config:o,requireToAddress:a,assertAmountEnough:s,LocktimeCellCollector:c});let f,d;return u instanceof Array?(f=u[0],d=BigInt(u[1].toString()),[f,d]):(f=u,f)}async function A(e,t,r,n,i,{config:o,requireToAddress:a=!0,assertAmountEnough:s=!0,LocktimeCellCollector:c=S}={}){let u=b.BI.from(n);for(const[n,f]of t.entries()){const t=await E(e,f,0===n?r:void 0,u,i,{config:o,requireToAddress:0===n&&a,assertAmountEnough:!1,LocktimeCellCollector:c});if(e=t[0],u=t[1],u.eq(0))return s?e:[e,b.BI.from(u)]}if(s)throw new Error("Not enough capacity in from addresses!");return[e,b.BI.from(u)]}async function E(e,t,r,n,s,{config:c,requireToAddress:h=!0,assertAmountEnough:p=!0,LocktimeCellCollector:y=S,changeAddress:m}){c=c||(0,l.getConfig)();const{fromScript:v}=(0,a.parseFromInfo)(t,{config:c});if(!(0,f.isSecp256k1Blake160MultisigScript)(v,c)&&!(0,f.isSecp256k1Blake160Script)(v,c))throw new Error("fromInfo not supported!");if(h&&!r)throw new Error("You must provide a to address!");let _=b.BI.from(n||0);if(r){const t=(0,i.parseAddress)(r,{config:c});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+_.toString(16),lock:t,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const w=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let x=w?w.index+1:0;for(;x<e.get("outputs").size&&_.gt(0);++x){const t=e.get("outputs").get(x);if(new g(t.cellOutput.lock,{validate:!1}).equals(new g(v,{validate:!1}))){const r=b.BI.from(t.cellOutput.capacity);let n;_.gte(r)?n=r:(n=r.sub((0,i.minimalCellCapacityCompatible)(t)),n.gt(_)&&(n=_)),_=_.sub(n);const o=JSON.parse(JSON.stringify(t));o.cellOutput.capacity="0x"+r.sub(n).toString(16),e=e.update("outputs",(e=>e.update(x,(()=>o))))}}if(e=e.update("outputs",(e=>e.filter((e=>!b.BI.from(e.cellOutput.capacity).eq(0))))),_.gt(0)){const r=e.get("cellProvider");if(!r)throw new Error("cell provider is missing!");const n={cellOutput:{capacity:"0x0",lock:m?(0,i.parseAddress)(m,{config:c}):v,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let a=b.BI.from(0),l=(0,d.Set)();for(const t of e.get("inputs"))l=l.add(`${t.outPoint.txHash}_${t.outPoint.index}`);const h=new y(t,r,{config:c,tipHeader:s});for await(const r of h.collect()){const s=r;if(l.has(`${s.outPoint.txHash}_${s.outPoint.index}`))continue;let d;if((0,f.isSecp256k1Blake160MultisigScript)(v,c)){const e=s.cellOutput.lock.args;d=58===e.length?b.BI.from(M(e)):void 0}let h="0x";if((0,f.isDaoScript)(s.cellOutput.type,c)){const t=c.SCRIPTS.DAO,r=(e=(e=(0,f.addCellDep)(e,{depType:t.DEP_TYPE,outPoint:{txHash:t.TX_HASH,index:t.INDEX}})).update("headerDeps",(e=>e.push(s.depositBlockHash,s.withdrawBlockHash)))).get("headerDeps").size-2,n={inputType:o.bytes.hexify(o.number.Uint64.pack(r))};h=o.bytes.hexify(u.blockchain.WitnessArgs.pack(n))}e=await O(e,s,(0,f.isSecp256k1Blake160MultisigScript)(v,c)?Object.assign({},t,{since:d}):t,{config:c,defaultWitness:h,since:s.since});const p=b.BI.from(s.cellOutput.capacity);let y=p;if(y.gt(_)&&(y=_),_=_.sub(y),a=a.add(p).sub(y),(0,f.isDaoScript)(s.cellOutput.type,c)&&(e=e.update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"witnesses",index:e.get("witnesses").size-1},{field:"headerDeps",index:e.get("headerDeps").size-2})))),_.eq(0)&&(a.eq(0)||a.gt((0,i.minimalCellCapacityCompatible)(n))))break}a.gt(0)&&(n.cellOutput.capacity="0x"+a.toString(16),e=e.update("outputs",(e=>e.push(n))))}if(!p)return[e,_];if(_.gt(0))throw new Error("Not enough capacity in from address!");return e}async function I(e,t,r,n,s,{config:c,LocktimeCellCollector:h=S,enableDeductCapacity:p=!0}){c=c||(0,l.getConfig)();let y=b.BI.from(r);const m=b.BI.from(s);if(p)for(const r of t){const t=(0,a.parseFromInfo)(r,{config:c}).fromScript;if(!(0,f.isSecp256k1Blake160MultisigScript)(t,c)&&!(0,f.isSecp256k1Blake160Script)(t,c))continue;const n=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let o=n?n.index+1:0;for(;o<e.get("outputs").size&&y.gt(0);++o){const r=e.get("outputs").get(o);if(new g(r.cellOutput.lock,{validate:!1}).equals(new g(t,{validate:!1}))){const t=JSON.parse(JSON.stringify(r)),n=b.BI.from(t.cellOutput.capacity);let a;y.gte(n)?a=n:(a=n.sub((0,i.minimalCellCapacityCompatible)(t)),a.gt(y)&&(a=y)),y=y.sub(a),t.cellOutput.capacity="0x"+n.sub(a).toString(16),e=e.update("outputs",(e=>e.update(o,(()=>t))))}}e=e.update("outputs",(e=>e.filter((e=>!b.BI.from(e.cellOutput.capacity).eq(0)))))}let v=b.BI.from(0);if(y.gt(0)){const r=e.get("cellProvider");if(!r)throw new Error("cell provider is missing!");const i=e=>`${e.outPoint.txHash}_${e.outPoint.index}`;let s=(0,d.Set)();for(const t of e.get("inputs"))s=s.add(i(t));for(const d of t){const t=(0,a.parseFromInfo)(d,{config:c}).fromScript,l=new h(d,r,{config:c,tipHeader:n});for await(const r of l.collect()){const n=r;if(s.has(i(n)))continue;let a,l="0x";if((0,f.isDaoScript)(n.cellOutput.type,c)){const t=c.SCRIPTS.DAO,r=(e=(e=(0,f.addCellDep)(e,{depType:t.DEP_TYPE,outPoint:{txHash:t.TX_HASH,index:t.INDEX}})).update("headerDeps",(e=>e.push(n.depositBlockHash,n.withdrawBlockHash)))).get("headerDeps").size-2,i={inputType:o.bytes.hexify(o.number.Uint64.pack(r))};l=o.bytes.hexify(u.blockchain.WitnessArgs.pack(i))}if((0,f.isSecp256k1Blake160MultisigScript)(t,c)){const e=n.cellOutput.lock.args;a=58===e.length?b.BI.from(M(e)):void 0}e=await O(e,n,Object.assign({},d,{since:a}),{config:c,defaultWitness:l,since:n.since});const h=b.BI.from(n.cellOutput.capacity);let p=h;if(p.gt(y)&&(p=y),y=y.sub(p),v=v.add(h).sub(p),(0,f.isDaoScript)(n.cellOutput.type,c)&&(e=e.update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"witnesses",index:e.get("witnesses").size-1},{field:"headerDeps",index:e.get("headerDeps").size-2})))),y.eq(0)&&(v.eq(0)||v.gt(m)))break}}}return{txSkeleton:e,capacity:b.BI.from(y.toString()),changeCapacity:b.BI.from(v.toString())}}async function k(e,t,r,n,{config:i,LocktimeCellCollector:o=S}={}){return A(e,t,void 0,r,n,{config:i,requireToAddress:!1,LocktimeCellCollector:o})}function T(e,{config:t}={}){return t=t||(0,l.getConfig)(),e=(0,f.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160"),e=(0,f.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160_MULTISIG")}async function C(e,t,r,n,{config:i,LocktimeCellCollector:o=S}={}){if(i=i||(0,l.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const a=b.BI.from(e.get("outputs").get(t).cellOutput.capacity);return A(e,r,void 0,b.BI.from(a),n,{config:i,requireToAddress:!1,LocktimeCellCollector:o})}async function O(e,t,r,{config:n,since:i,defaultWitness:o="0x"}={}){return n=n||(0,l.getConfig)(),e=(e=await P(e,t,r,{config:n,since:i,defaultWitness:o})).update("outputs",(e=>e.remove(e.size-1)))}async function P(e,t,r,{config:n,since:i,defaultWitness:o="0x"}={}){n=n||(0,l.getConfig)();const a=t.cellOutput.lock;if((0,f.isSecp256k1Blake160Script)(a,n))return s.default.setupInputCell(e,t,r,{config:n,defaultWitness:o,since:i});if((0,f.isSecp256k1Blake160MultisigScript)(a,n))return h.secp256k1Blake160Multisig.setupInputCell(e,t,r,{config:n,defaultWitness:o,since:i});throw new Error("Not supported input lock!")}function M(e){if(58!==e.length)throw new Error("Invalid multisig with since args!");return o.number.Uint64LE.unpack("0x"+e.slice(42))}t.default={CellCollector:S,transfer:x,transferCompatible:A,payFee:k,prepareSigningEntries:T,injectCapacity:C,setupInputCell:P,injectCapacityWithoutChange:async function(e,t,r,n,i,{config:o,LocktimeCellCollector:a=S,enableDeductCapacity:s=!0}){const c=await I(e,t,r,n,i,{config:o,LocktimeCellCollector:a,enableDeductCapacity:s});return{txSkeleton:c.txSkeleton,capacity:c.capacity.toBigInt(),changeCapacity:c.changeCapacity.toBigInt()}},injectCapacityWithoutChangeCompatible:I}},51772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeAddress=function(e,t=["P2WPKH","P2PKH"]){if(u(e))return c(t,"P2WPKH"),o.bech32.fromWords(o.bech32.decode(e).words.slice(1));if(d(e))return c(t,"P2PKH"),a.default.decode(e).slice(1,21);if(f(e))return c(t,"P2SH-P2WPKH"),a.default.decode(e).slice(1,21);if(e.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.");throw new Error("Unsupported address: "+e+"Only Native SegWit(P2WPKH) and Legacy(P2PKH) addresses are supported")},t.signMessage=async function(e,t,r){const n=(()=>{if(r)return r;if("undefined"!=typeof window){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),o=await n.requestAccounts(),a=i.bytes.hexify(e).slice(2),c=await n.signMessage(`${s}${a}`,t),l=i.bytes.bytify(function(e){const t=atob(e);let r="";for(let e=0;e<t.length;e++)r+=t.charCodeAt(e).toString(16).padStart(2,"0");return"0x"+r}(c)),h=o[0];if(u(h))l[0]=39+(l[0]-27)%4;else if(f(h))l[0]=35+(l[0]-27)%4;else{if(!d(h))throw new Error(`Unsupported bitcoin address ${h}. Only supports SegWit, P2SH-P2WPKH, P2PKH`);l[0]=31+(l[0]-27)%4}return i.bytes.hexify(l)};var n,i=r(71313),o=r(22343),a=(n=r(16763))&&n.__esModule?n:{default:n};const s="CKB (Bitcoin Layer) transaction: 0x";function c(e,t){if(!e.includes(t))throw new Error(`'${t}' must be included in the 'allows' for the address`)}function u(e){return e.startsWith("bc1")||e.startsWith("tb1")}function f(e){return e.startsWith("3")||e.startsWith("2")}function d(e){return e.startsWith("1")||e.startsWith("m")||e.startsWith("n")}},53640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signMessage=async function(e,t,r){const a=null!=r?r:globalThis.ethereum;if(!a)throw new Error("No provider found, make sure you have installed MetaMask or the other EIP1193 compatible wallet");const s=await a.request({method:"personal_sign",params:[e,`${o}${(0,i.hexify)(t).slice(2)}`]}),c=n.bytes.bytify(s),[u]=c.slice(-1),f=u>=27?u-27:u;return c.set([f],c.length-1),n.bytes.hexify(c)};var n=r(71313),i=r(14962);const o="CKB transaction: 0x"},4224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signMessage=async function(e,t){const r=(()=>{if(t)return t;if("undefined"!=typeof window&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),o=n.bytes.hexify(e).slice(2),a=await r.signMessage((new TextEncoder).encode(`${i}${o}`));return n.bytes.hexify(n.bytes.concat(a.signature,a.publicKey.toBytes()))};var n=r(71313);const i="CKB transaction: 0x"},60699:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitcoin=t.OmnilockWitnessLock=t.CellCollector=void 0,t.createOmnilockScript=x,t.ethereumDisplaying=t.default=void 0,t.prepareSigningEntries=R,t.setupInputCell=B,t.solana=void 0;var n=r(71313),i=r(41600),o=r(14105),a=r(33089),s=r(45524),c=r(72042),u=r(30555),f=r(14962),d=g(r(51772));t.bitcoin=d;var l=g(r(4224));t.solana=l;var h=r(16763),p=r(54617),b=g(r(53640));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.ethereumDisplaying=b;const{ScriptValue:m}=i.values;var v=function(e){return e[e.IdentityFlagsCkb=0]="IdentityFlagsCkb",e[e.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",e[e.IdentityFlagsEos=2]="IdentityFlagsEos",e[e.IdentityFlagsTron=3]="IdentityFlagsTron",e[e.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",e[e.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",e[e.IdentityCkbMultisig=6]="IdentityCkbMultisig",e[e.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",e[e.IdentityFlagsSolana=19]="IdentityFlagsSolana",e[e.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",e[e.IdentityFlagsExec=253]="IdentityFlagsExec",e[e.IdentityFlagsDl=254]="IdentityFlagsDl",e}(v||{});const _=20,w=65,S=96;function x(e,t){const r=((null==t?void 0:t.config)||(0,o.getConfig)()).SCRIPTS.OMNILOCK;if(!r)throw new Error("OMNILOCK script config not found.");const i=[0],a=(()=>{const t=e.auth.flag;switch(t){case"ETHEREUM":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsEthereum],e.auth.content,i));case"ETHEREUM-DISPLAYING":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsEthereumDisplaying],e.auth.content,i));case"SECP256K1_BLAKE160":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsCkb],e.auth.content,i));case"BITCOIN":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsBitcoin],d.decodeAddress(e.auth.content,e.auth.allows),i));case"SOLANA":{const t=n.bytes.bytify((0,p.ckbHash)((0,h.decode)(e.auth.content))).slice(0,_);return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsSolana],t,i))}default:throw new Error(`Not supported flag: ${t}.`)}})();return{codeHash:r.CODE_HASH,hashType:r.HASH_TYPE,args:a}}const A={pack:f.bytify,unpack:f.hexify},E=(0,u.createFixedHexBytesCodec)(21),I=(0,c.byteVecOf)(A),k=(0,c.table)({mask:(0,c.byteOf)(A),proof:I},["mask","proof"]),T=(0,c.vector)(k),C=(0,c.table)({identity:E,proofs:T},["identity","proofs"]),O=(0,c.option)(C),P=t.OmnilockWitnessLock=(0,c.table)({signature:u.BytesOpt,omni_identity:O,preimage:u.BytesOpt},["signature","omni_identity","preimage"]),M=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,o.getConfig)(),this.fromScript=(0,s.parseFromInfo)(e,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,a.isOmnilockScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function B(e,t,r,{config:s,defaultWitness:c="0x",since:u}={}){s=s||(0,o.getConfig)();const f=t.cellOutput.lock;if(!(0,a.isOmnilockScript)(f,s))throw new Error("Not OMNILOCK input!");e=e.update("inputs",(e=>e.push(t)));const d={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",(e=>e.push(d))),u&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,u)))),e=e.update("witnesses",(e=>e.push(c)));const l=s.SCRIPTS.OMNILOCK,h=s.SCRIPTS.SECP256K1_BLAKE160;if(!l)throw new Error("OMNILOCK script not defined in config!");if(!h)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const p={txHash:l.TX_HASH,index:l.INDEX},b={txHash:h.TX_HASH,index:h.INDEX};e=(0,a.addCellDep)(e,{outPoint:p,depType:l.DEP_TYPE});const y=(e=(0,a.addCellDep)(e,{outPoint:b,depType:h.DEP_TYPE})).get("inputs").findIndex((e=>new m(e.cellOutput.lock,{validate:!1}).equals(new m(f,{validate:!1}))));if(-1!==y){for(;y>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let r=e.get("witnesses").get(y);const o={lock:D((()=>{const e=n.bytes.bytify(t.cellOutput.lock.args)[0];switch(e){case v.IdentityFlagsSolana:return S;case v.IdentityFlagsCkb:case v.IdentityFlagsEthereum:case v.IdentityFlagsEthereumDisplaying:case v.IdentityFlagsBitcoin:return w;default:throw new Error(`Unsupported flag: ${e}, please check if the script.args is expected`)}})())};r=n.bytes.hexify(i.blockchain.WitnessArgs.pack(o)),e=e.update("witnesses",(e=>e.set(y,r)))}return e}function D(e){const t=P.pack({signature:new Uint8Array(e)}).byteLength;return n.bytes.hexify(new Uint8Array(t))}function R(e,{config:t}={}){return t=t||(0,o.getConfig)(),(0,a.prepareSigningEntries)(e,t,"OMNILOCK")}t.default={prepareSigningEntries:R,setupInputCell:B,CellCollector:M,OmnilockWitnessLock:P,createOmnilockScript:x}},53484:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createP2PKHMessageGroup=function(e,t,{hasher:r=s}={}){const u=function(e,t){const r=new Set;for(const e of t){const t=n.utils.ckbHash(n.blockchain.Script.pack(e));r.add(t)}const i=new Map;for(let t=0;t<e.length;t++){const o=n.utils.ckbHash(n.blockchain.Script.pack(e[t].cellOutput.lock));r.has(o)&&(void 0===i.get(o)&&i.set(o,[]),i.get(o).push(t))}return i}(e.inputs.toArray(),t),f=function(e){const t=(0,i.createTransactionFromSkeleton)(e),r={cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData,version:t.version};return n.utils.ckbHash(n.blockchain.RawTransaction.pack(r))}(e);if(t.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const d=[];for(const t of u.keys()){const n=c(r),i=u.get(t),s=i[0],l=e.witnesses.get(s);if(void 0===l)throw new Error("Please fill witnesses with 0 first!");n.update(o.bytes.bytify(f));const h=new ArrayBuffer(8),p=new DataView(h),b=a.BI.from(o.bytes.bytify(l).length).toString(16);b.length<=8&&(p.setUint32(0,Number("0x"+b),!0),p.setUint32(4,Number("0x00000000"),!0)),b.length>8&&b.length<=16&&(p.setUint32(0,Number("0x"+b.slice(-8)),!0),p.setUint32(4,Number("0x"+b.slice(0,-8)),!0)),n.update(new Uint8Array(h)),n.update(o.bytes.bytify(l));for(let t=1;t<i.length;t++){const r=e.witnesses.get(i[t]);n.update(new Uint8Array(h)),n.update(o.bytes.bytify(r))}for(let t=e.inputs.toArray().length;t<e.witnesses.toArray().length;t++){const r=e.witnesses.get(t);n.update(new Uint8Array(h)),n.update(o.bytes.bytify(r))}const y=n.digest(),g={index:s,lock:e.inputs.get(s).cellOutput.lock,message:"0x"+Array.prototype.map.call(y,(e=>("00"+e.toString(16)).slice(-2))).join("")};d.push(g)}return d};var n=r(41600),i=r(28670),o=r(71313),a=r(92900);const s=()=>{const e=new n.utils.CKBHasher;return{update:t=>e.update(t.buffer),digest:()=>o.bytes.bytify(e.digestHex())}};function c(e){return e instanceof Function?e():e}},1874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=g,t.payFee=y,t.prepareSigningEntries=m,t.setupInputCell=h,t.transfer=p,t.transferCompatible=b;var n=r(49568),i=r(28670),o=r(71313),a=r(41600),s=r(14105),c=r(33089),u=r(45524),f=r(92900);const{ScriptValue:d}=a.values,l=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,s.getConfig)(),this.fromScript=(0,u.parseFromInfo)(e,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,c.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function h(e,t,r,{config:n,defaultWitness:i="0x",since:u}={}){n=n||(0,s.getConfig)();const f=t.cellOutput.lock;if(!(0,c.isSecp256k1Blake160Script)(f,n))throw new Error("Not SECP256K1_BLAKE160 input!");e=e.update("inputs",(e=>e.push(t)));const l={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",(e=>e.push(l))),u&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,u)))),e=e.update("witnesses",(e=>e.push(i)));const h=n.SCRIPTS.SECP256K1_BLAKE160;if(!h)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const p={txHash:h.TX_HASH,index:h.INDEX},b=(e=(0,c.addCellDep)(e,{outPoint:p,depType:h.DEP_TYPE})).get("inputs").findIndex((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(f,{validate:!1}))));if(-1!==b){for(;b>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let t=e.get("witnesses").get(b);const r={lock:c.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==t){const e=a.blockchain.WitnessArgs.unpack(o.bytes.bytify(t)),n=e.lock;if(n&&r.lock&&!o.bytes.equal(n,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const i=e.inputType;i&&(r.inputType=i);const s=e.outputType;s&&(r.outputType=s)}t=o.bytes.hexify(a.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(b,t)))}return e}async function p(e,t,r,n,{config:i,requireToAddress:o=!0,assertAmountEnough:a=!0}={}){const s=await b(e,t,r,n,{config:i,requireToAddress:o,assertAmountEnough:a});let c,u;return s instanceof Array?(c=s[0],u=BigInt(s[1].toString()),[c,u]):(c=s,c)}async function b(e,t,r,u,{config:l,requireToAddress:h=!0,assertAmountEnough:p=!0}={}){const b=(l=l||(0,s.getConfig)()).SCRIPTS.SECP256K1_BLAKE160;if(!b)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const y={txHash:b.TX_HASH,index:b.INDEX};e=(0,c.addCellDep)(e,{outPoint:y,depType:b.DEP_TYPE});const g=(0,i.parseAddress)(t,{config:l});if((0,c.ensureScript)(g,l,"SECP256K1_BLAKE160"),h&&!r)throw new Error("You must provide a to address!");let m=f.BI.from(u);if(r){const t=(0,i.parseAddress)(r,{config:l});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+m.toString(16),lock:t,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const v=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let _=v?v.index+1:0;for(;_<e.get("outputs").size&&m.gt(0);_++){const t=e.get("outputs").get(_);if(new d(t.cellOutput.lock,{validate:!1}).equals(new d(g,{validate:!1}))){const e=f.BI.from(t.cellOutput.capacity);let r;m.gte(e)?r=e:(r=e.sub((0,i.minimalCellCapacityCompatible)(t)),r.gt(m)&&(r=m)),m=m.sub(r),t.cellOutput.capacity="0x"+e.sub(r).toString(16)}}if(e=e.update("outputs",(e=>e.filter((e=>!f.BI.from(e.cellOutput.capacity).eq(0))))),m.gt(0)){const t=e.get("cellProvider");if(!t)throw new Error("Cell provider is missing!");const r=t.collector({lock:g}),o={cellOutput:{capacity:"0x0",lock:g,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let a=f.BI.from(0),s=(0,n.Set)();for(const t of e.get("inputs"))s=s.add(`${t.outPoint.txHash}_${t.outPoint.index}`);for await(const t of r.collect()){if(s.has(`${t.outPoint.txHash}_${t.outPoint.index}`))continue;e=(e=e.update("inputs",(e=>e.push(t)))).update("witnesses",(e=>e.push("0x")));const r=f.BI.from(t.cellOutput.capacity);let n=r;if(n.gt(m)&&(n=m),m=m.sub(n),a=a.add(r).sub(n),m.eq(0)&&(a.eq(0)||a.gt((0,i.minimalCellCapacityCompatible)(o))))break}a.gt(0)&&(o.cellOutput.capacity="0x"+a.toString(16),e=e.update("outputs",(e=>e.push(o))))}if(m.gt(0)&&p)throw new Error("Not enough capacity in from address!");const w=e.get("inputs").findIndex((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(g,{validate:!1}))));if(-1!==w){for(;w>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let t=e.get("witnesses").get(w);const r={lock:c.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==t){const e=a.blockchain.WitnessArgs.unpack(o.bytes.bytify(t)),n=e.lock;if(n&&r.lock&&!o.bytes.equal(n,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const i=e.inputType;i&&(r.inputType=i);const s=e.outputType;s&&(r.outputType=s)}t=o.bytes.hexify(a.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(w,t)))}return p?e:[e,f.BI.from(m)]}async function y(e,t,r,{config:n}={}){return n=n||(0,s.getConfig)(),await b(e,t,null,r,{config:n,requireToAddress:!1})}async function g(e,t,r,{config:n}={}){if(n=n||(0,s.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const i=f.BI.from(e.get("outputs").get(t).cellOutput.capacity);return await b(e,r,null,f.BI.from(i),{config:n,requireToAddress:!1})}function m(e,{config:t}={}){return t=t||(0,s.getConfig)(),(0,c.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160")}t.default={transfer:p,transferCompatible:b,payFee:y,prepareSigningEntries:m,injectCapacity:g,setupInputCell:h,CellCollector:l}},94467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=g,Object.defineProperty(t,"multisigArgs",{enumerable:!0,get:function(){return u.multisigArgs}}),t.payFee=y,t.prepareSigningEntries=m,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return u.serializeMultisigScript}}),t.setupInputCell=h,t.transfer=p,t.transferCompatible=b;var n=r(28670),i=r(71313),o=r(41600),a=r(14105),s=r(49568),c=r(33089),u=r(45524),f=r(92900);const{ScriptValue:d}=o.values,l=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,a.getConfig)();const i=(0,u.parseFromInfo)(e,{config:r});this.fromScript=i.fromScript,this.multisigScript=i.multisigScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,c.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function h(e,t,r,{config:n,defaultWitness:s="0x",since:f,requireMultisigScript:l=!0}={}){if(n=n||(0,a.getConfig)(),l&&"object"!=typeof r)throw new Error("`fromInfo` must be MultisigScript format!");const h=t.cellOutput.lock;if(r){const e=(0,u.parseFromInfo)(r,{config:n}).fromScript;if(!new d(e,{validate:!1}).equals(new d(h,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,c.isSecp256k1Blake160MultisigScript)(h,n))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");e=e.update("inputs",(e=>e.push(t))),f&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,f)))),e=e.update("witnesses",(e=>e.push(s)));const p={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",(e=>e.push(p)));const b=n.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!b)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const y={txHash:b.TX_HASH,index:b.INDEX},g=(e=(0,c.addCellDep)(e,{outPoint:y,depType:b.DEP_TYPE})).get("inputs").findIndex((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(h,{validate:!1}))));if(-1!==g){for(;g>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));if("0x"===e.get("witnesses").get(g)&&"object"!=typeof r)throw new Error("`fromInfo` must be MultisigScript format!");if("object"==typeof r){const t=(0,u.parseFromInfo)(r,{config:n}).multisigScript;let a=e.get("witnesses").get(g);const s={lock:"0x"+t.slice(2)+c.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(r.M)};if("0x"!==a){const e=o.blockchain.WitnessArgs.unpack(i.bytes.bytify(a)),t=e.lock;if(t&&s.lock&&!i.bytes.equal(t,s.lock))throw new Error("Lock field in first witness is set aside for signature!");const r=e.inputType;r&&(s.inputType=r);const n=e.outputType;n&&(s.outputType=n)}a=i.bytes.hexify(o.blockchain.WitnessArgs.pack(s)),e=e.update("witnesses",(e=>e.set(g,a)))}}return e}async function p(e,t,r,n,{config:i,requireToAddress:o=!0,assertAmountEnough:a=!0}={}){const s=await b(e,t,r,n,{config:i,requireToAddress:o,assertAmountEnough:a});let c,u;return s instanceof Array?(c=s[0],u=BigInt(s[1].toString()),[c,u]):(c=s,c)}async function b(e,t,r,l,{config:h,requireToAddress:p=!0,assertAmountEnough:b=!0}={}){const y=(h=h||(0,a.getConfig)()).SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!y)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const g={txHash:y.TX_HASH,index:y.INDEX};e=(0,c.addCellDep)(e,{outPoint:g,depType:y.DEP_TYPE});const{fromScript:m,multisigScript:v}=(0,u.parseFromInfo)(t,{config:h});(0,c.ensureScript)(m,h,"SECP256K1_BLAKE160_MULTISIG");const _=!e.get("inputs").find((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(m,{validate:!1}))));if(_&&"string"===t)throw new Error("MultisigScript is required for witness!");if(p&&!r)throw new Error("You must provide a to address!");let w=l?f.BI.from(l):f.BI.from(0);if(r){const t=(0,n.parseAddress)(r,{config:h});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+w.toString(16),lock:t,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const S=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let x=S?S.index+1:0;for(;x<e.get("outputs").size&&w.gt(0);++x){const t=e.get("outputs").get(x);if(new d(t.cellOutput.lock,{validate:!1}).equals(new d(m,{validate:!1}))){const e=f.BI.from(t.cellOutput.capacity);let r;w.gte(e)?r=e:(r=e.sub((0,n.minimalCellCapacityCompatible)(t)),r.gt(w)&&(r=w)),w=w.sub(r),t.cellOutput.capacity="0x"+e.sub(r).toString(16)}}if(e=e.update("outputs",(e=>e.filter((e=>!f.BI.from(e.cellOutput.capacity).eq(0))))),w.gt(0)){const t=e.get("cellProvider");if(!t)throw new Error("cell provider is missing!");const r=t.collector({lock:m}),i={cellOutput:{capacity:"0x0",lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let o=f.BI.from(0),a=(0,s.Set)();for(const t of e.get("inputs"))a=a.add(`${t.outPoint.txHash}_${t.outPoint.index}`);for await(const t of r.collect()){if(a.has(`${t.outPoint.txHash}_${t.outPoint.index}`))continue;e=(e=e.update("inputs",(e=>e.push(t)))).update("witnesses",(e=>e.push("0x")));const r=f.BI.from(t.cellOutput.capacity);let s=r;if(s.gt(w)&&(s=w),w=w.sub(s),o=o.add(r.sub(s)),w.eq(0)&&(o.eq(0)||o.gt((0,n.minimalCellCapacityCompatible)(i))))break}o.gt(0)&&(i.cellOutput.capacity="0x"+o.toString(16),e=e.update("outputs",(e=>e.push(i))))}if(w.gt(0)&&b)throw new Error("Not enough capacity in from address!");const A=e.get("inputs").findIndex((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(m,{validate:!1}))));if(-1!==A){for(;f.BI.from(A).gte(e.get("witnesses").size);)e=e.update("witnesses",(e=>e.push("0x")));if(_||"string"!=typeof t){let r=e.get("witnesses").get(A);const n={lock:"0x"+v.slice(2)+c.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(t.M)};if("0x"!==r){const e=o.blockchain.WitnessArgs.unpack(i.bytes.bytify(r)),t=e.lock;if(t&&n.lock&&!i.bytes.equal(t,n.lock))throw new Error("Lock field in first witness is set aside for signature!");const a=e.inputType;a&&(n.inputType=a);const s=e.outputType;s&&(n.outputType=s)}r=i.bytes.hexify(o.blockchain.WitnessArgs.pack(n)),e=e.update("witnesses",(e=>e.set(A,r)))}}return b?e:[e,f.BI.from(w)]}async function y(e,t,r,{config:n}={}){return b(e,t,void 0,r,{config:n=n||(0,a.getConfig)(),requireToAddress:!1})}async function g(e,t,r,{config:n}={}){if(n=n||(0,a.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const i=f.BI.from(e.get("outputs").get(t).cellOutput.capacity);return b(e,r,void 0,i,{config:n,requireToAddress:!1})}function m(e,{config:t}={}){return t=t||(0,a.getConfig)(),(0,c.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160_MULTISIG")}t.default={transfer:p,transferCompatible:b,payFee:y,prepareSigningEntries:m,serializeMultisigScript:u.serializeMultisigScript,multisigArgs:u.multisigArgs,injectCapacity:g,setupInputCell:h,CellCollector:l}},6437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.issueToken=_,t.ownerForSudt=S,t.packAmount=A,t.transfer=w,t.unpackAmount=x;var n=r(33089),i=r(41600),o=g(r(94467)),a=r(45524),s=g(r(10640)),c=r(28670),u=r(49568),f=r(14105),d=r(24900),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(83127)),h=g(r(1874)),p=r(92900),b=r(71313);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}const{computeScriptHash:m}=i.utils,{ScriptValue:v}=i.values;async function _(e,t,r,i,o,{config:u}={}){const d=(u=u||(0,f.getConfig)()).SCRIPTS.SUDT;if(!d)throw new Error("Provided config does not have SUDT script setup!");e=(0,n.addCellDep)(e,{outPoint:{txHash:d.TX_HASH,index:d.INDEX},depType:d.DEP_TYPE});const l=(0,a.parseFromInfo)(t,{config:u}).fromScript,h={cellOutput:{capacity:"0x0",lock:l,type:{codeHash:d.CODE_HASH,hashType:d.HASH_TYPE,args:m(l)}},data:b.bytes.hexify(b.number.Uint128LE.pack(r)),outPoint:void 0,blockHash:void 0};i||(i=(0,c.minimalCellCapacityCompatible)(h));const y=p.BI.from(i);h.cellOutput.capacity="0x"+y.toString(16);const g=(e=e.update("outputs",(e=>e.push(h)))).get("outputs").size-1;return e=e.update("fixedEntries",(e=>e.push({field:"outputs",index:g}))),e=await s.default.injectCapacity(e,[t],p.BI.from(p.BI.from(h.cellOutput.capacity)),void 0,o,{config:u})}async function w(e,t,r,i,y,g,m,_,{config:w,LocktimePoolCellCollector:S=d.CellCollector,splitChangeCell:A=!1}={}){w=w||(0,f.getConfig)();let E=p.BI.from(y),I=m?p.BI.from(m):void 0;const k=w.SCRIPTS.SUDT;if(!k)throw new Error("Provided config does not have SUDT script setup!");if(0===t.length)throw new Error("`fromInfos` can't be empty!");if(!i)throw new Error("You must provide a to address!");const T=(0,c.parseAddress)(i,{config:w}),C=t.map((e=>(0,a.parseFromInfo)(e,{config:w}).fromScript)),O=g?(0,c.parseAddress)(g,{config:w}):C[0];if(E.lte(0))throw new Error("amount must be greater than 0");const P=function(e,t){const r=t.SCRIPTS.SUDT;return{codeHash:r.CODE_HASH,hashType:r.HASH_TYPE,args:e}}(r,w),M=e.get("cellProvider");if(!M)throw new Error("Cell provider is missing!");let B=p.BI.from(0),D=p.BI.from(0);if((0,n.isAcpScript)(T,w)){const t=new l.CellCollector(i,M,{config:w,queryOptions:{type:P,data:"any"}}),r=(await t.collect().next()).value;if(!r)throw new Error("toAddress ANYONE_CAN_PAY input not found!");e=(e=e.update("inputs",(e=>e.push(r)))).update("witnesses",(e=>e.push("0x"))),B=p.BI.from(r.cellOutput.capacity),D=x(r.data)}const R={cellOutput:{capacity:"0x0",lock:T,type:P},data:b.bytes.hexify(b.number.Uint128LE.pack(E)),outPoint:void 0,blockHash:void 0};(0,n.isAcpScript)(T,w)?(I||(I=p.BI.from(0)),R.cellOutput.capacity="0x"+B.add(I).toString(16),R.data=b.bytes.hexify(b.number.Uint128LE.pack(D.add(E)))):(I||(I=p.BI.from((0,c.minimalCellCapacityCompatible)(R))),R.cellOutput.capacity="0x"+I.toString(16)),e=(e=e.update("outputs",(e=>e.push(R)))).update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1}))),e=(0,n.addCellDep)(e,{outPoint:{txHash:k.TX_HASH,index:k.INDEX},depType:k.DEP_TYPE});const L={cellOutput:{capacity:"0x0",lock:O,type:P},data:b.bytes.hexify(b.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},N={cellOutput:{capacity:"0x0",lock:O,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let j=p.BI.from(0),U=p.BI.from(0),H=(0,u.Set)();for(const t of e.get("inputs"))H=H.add(`${t.outPoint.txHash}_${t.outPoint.index}`);let F=(0,u.List)();_&&t.forEach(((e,t)=>{const r=new S(e,M,{config:w,tipHeader:_,queryOptions:{type:P,data:"any"}});F=F.push({cellCollector:r,index:t})})),t.forEach(((e,t)=>{const r=new h.default.CellCollector(e,M,{config:w,queryOptions:{type:P,data:"any"}}),n=new o.default.CellCollector(e,M,{config:w,queryOptions:{type:P,data:"any"}}),i=new l.default.CellCollector(e,M,{config:w,queryOptions:{type:P,data:"any"}});F=F.push({cellCollector:r,index:t},{cellCollector:n,index:t},{cellCollector:i,index:t,isAnyoneCanPay:!0,destroyable:(0,a.parseFromInfo)(e,{config:w}).destroyable})})),_&&t.forEach(((e,t)=>{const r=new S(e,M,{config:w,tipHeader:_});F=F.push({cellCollector:r,index:t})})),t.forEach(((e,t)=>{const r=new h.default.CellCollector(e,M,{config:w}),n=new o.default.CellCollector(e,M,{config:w}),i=new l.default.CellCollector(e,M,{config:w});F=F.push({cellCollector:r,index:t},{cellCollector:n,index:t},{cellCollector:i,index:t,isAnyoneCanPay:!0,destroyable:(0,a.parseFromInfo)(e,{config:w}).destroyable})}));for(const{index:r,cellCollector:n,isAnyoneCanPay:i,destroyable:o}of F)for await(const a of n.collect()){const n=`${a.outPoint.txHash}_${a.outPoint.index}`;if(H.has(n))continue;H=H.add(n);const u=t[r],f=(e=await s.default.setupInputCell(e,a,u,{config:w})).get("outputs").size-1,d=(e=e.update("outputs",(e=>e.remove(f)))).get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===f));d>=0&&(e=e.update("fixedEntries",(e=>e.remove(d))));const l=p.BI.from(a.cellOutput.capacity),h=a.cellOutput.type?x(a.data):p.BI.from(0);let y=i&&!o?l.sub((0,c.minimalCellCapacityCompatible)(a)):l,g=h;y.gt(I)&&(y=p.BI.from(I)),I=I.sub(y);const m=l.sub(y);(!i||i&&o)&&(j=j.add(m)),g.gt(E)&&(g=E),E=E.sub(g);const v=h.sub(g);if((!i||i&&o)&&(U=U.add(v)),i&&!o){const t={cellOutput:{capacity:"0x"+m.toString(16),lock:a.cellOutput.lock,type:a.cellOutput.type},data:a.cellOutput.type?b.bytes.hexify(b.number.Uint128LE.pack(v)):"0x"};e=e.update("outputs",(e=>e.push(t))),a.cellOutput.type&&(e=e.update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1}))))}if(I.eq(0)&&E.eq(0)&&(j.eq(0)&&U.eq(0)||j.gt((0,c.minimalCellCapacityCompatible)(N))&&U.eq(0))){L.cellOutput.type=void 0,L.data="0x";break}if(I.eq(0)&&E.eq(0)&&j.gt((0,c.minimalCellCapacityCompatible)(N))&&U.gt(0))break}let z=-1;if((0,n.isAcpScript)(L.cellOutput.lock,w)&&-1!==(z=e.get("outputs").findIndex((e=>new v(L.cellOutput.lock,{validate:!1}).equals(new v(e.cellOutput.lock,{validate:!1}))&&(U.eq(0)&&!L.cellOutput.type&&!e.cellOutput.type||U.gte(0)&&!!L.cellOutput.type&&!!e.cellOutput.type&&new v(L.cellOutput.type,{validate:!1}).equals(new v(e.cellOutput.type,{validate:!1}))))))&&-1===e.get("fixedEntries").findIndex((e=>"output"===e.field&&e.index===z))){const t=e.get("outputs").get(z),r=JSON.parse(JSON.stringify(t));r.cellOutput.capacity="0x"+p.BI.from(t.cellOutput.capacity).add(j).toString(16),U.gt(0)&&(r.data=b.bytes.hexify(b.number.Uint128LE.pack(x(t.data).add(U))));const n=p.BI.from((0,c.minimalCellCapacityCompatible)(L)),i=p.BI.from((0,c.minimalCellCapacityCompatible)(N));let o=!1;U.gt(0)&&A&&j.gte(n.add(i))&&(r.cellOutput.capacity=t.cellOutput.capacity,N.cellOutput.capacity="0x"+j.toString(16),o=!0),e=e.update("outputs",(e=>e.set(z,r))),o&&(e=e.update("outputs",(e=>e.push(N))))}else if(j.gte((0,c.minimalCellCapacityCompatible)(L))){L.cellOutput.capacity="0x"+j.toString(16),U.gt(0)&&(L.data=b.bytes.hexify(b.number.Uint128LE.pack(U)));const t=p.BI.from((0,c.minimalCellCapacityCompatible)(L)),r=p.BI.from((0,c.minimalCellCapacityCompatible)(N));let n=!1;U.gt(0)&&A&&j.gte(t.add(r))&&(L.cellOutput.capacity="0x"+t.toString(16),N.cellOutput.capacity="0x"+j.sub(t).toString(16),n=!0),e=e.update("outputs",(e=>e.push(L))),U.gt(0)&&(e=e.update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1})))),n&&(e=e.update("outputs",(e=>e.push(N))))}else if(U.gt(0)&&j.lt((0,c.minimalCellCapacityCompatible)(L)))throw new Error("Not enough capacity for change in from infos!");if(I.gt(0))throw new Error("Not enough capacity in from infos!");if(E.gt(0))throw new Error("Not enough amount in from infos!");return e}function S(e,{config:t}={}){t=t||(0,f.getConfig)();const{fromScript:r}=(0,a.parseFromInfo)(e,{config:t});return m(r)}function x(e){return b.number.Uint128LE.unpack(b.bytes.bytify(e).slice(0,16))}function A(e){return b.bytes.hexify(b.number.Uint128LE.pack(e))}t.default={issueToken:_,transfer:w,ownerForSudt:S,packAmount:A,unpackAmount:x}},58211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGHASH_OUTPUT_LOC=t.SIGHASH_GROUP_OUTPUT_LOC=t.MULTISIG_OUTPUT_LOC=t.MULTISIG_GROUP_OUTPUT_LOC=t.DAO_OUTPUT_LOC=void 0,t.generateGenesisScriptConfigs=function(e){if(!e||0!==Number(e.header.number))throw new Error("The block must be a genesis block");const t=e.transactions;return{SECP256K1_BLAKE160:{...u({transaction:t[i[0]],outputIndex:i[1],depGroupTransaction:t[s[0]],depGroupOutputIndex:s[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...u({transaction:t[o[0]],outputIndex:o[1],depGroupTransaction:t[c[0]],depGroupOutputIndex:c[1]}),SHORT_ID:1},DAO:u({transaction:t[a[0]],outputIndex:a[1]})}};var n=r(41600);const i=t.SIGHASH_OUTPUT_LOC=[0,1],o=t.MULTISIG_OUTPUT_LOC=[0,4],a=t.DAO_OUTPUT_LOC=[0,2],s=t.SIGHASH_GROUP_OUTPUT_LOC=[1,0],c=t.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function u(e){var t;const{transaction:r,outputIndex:i}=e,o=n.utils.computeScriptHash(f(null===(t=r.outputs[i])||void 0===t?void 0:t.type));if("depGroupTransaction"in e){const{depGroupOutputIndex:t,depGroupTransaction:r}=e;return{HASH_TYPE:"type",CODE_HASH:o,DEP_TYPE:"depGroup",TX_HASH:f(r.hash),INDEX:d(t)}}return{HASH_TYPE:"type",CODE_HASH:o,DEP_TYPE:"code",INDEX:d(i),TX_HASH:f(r.hash)}}function f(e){if(null==e)throw new Error("The block must be a genesis block");return e}function d(e){return`0x${e.toString(16)}`}},94308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findConfigByScript=function(e,t){const r=t||(0,n.getConfig)().SCRIPTS;return Object.values(r).find((t=>(null==t?void 0:t.CODE_HASH)===e.codeHash&&(null==t?void 0:t.HASH_TYPE)===e.hashType))},t.nameOfScript=function(e,t){const r=t||(0,n.getConfig)().SCRIPTS,i=Object.entries(r).find((([,t])=>(null==t?void 0:t.CODE_HASH)===e.codeHash&&(null==t?void 0:t.HASH_TYPE)===e.hashType));return i?i[0]:void 0};var n=r(74482)},14105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return s.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return u.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return u.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return a.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return c.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return o.getConfig}}),t.helpers=void 0,Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return o.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return a.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return s.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return u.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return o.validateConfig}});var i=r(23720);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(74482),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(94308));t.helpers=a;var s=r(88195),c=r(58211),u=r(86362);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}},74482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertHashType=s,t.getConfig=function(){return f},t.initializeConfig=function(e){u(e),f=(0,i.default)(e)},t.validateConfig=u;var n,i=(n=r(82229))&&n.__esModule?n:{default:n};function o(e,t){!function(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}(e,t);if(66!==t.length)throw new Error(`${e} must be a hex string of 66 characters long!`)}function a(e,t){if("0x0"!==t&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function s(e,t){if("type"!==t&&"data"!==t&&"data1"!==t&&"data2"!==t)throw new Error(`${e} must one of type, data, data1, data2!`)}function c(e,t="variable"){if(!e)throw new Error(`${t} is not valid`)}function u(e){c("object"==typeof e.SCRIPTS&&null!=e.SCRIPTS,"config.SCRIPT");for(const t of Object.keys(e.SCRIPTS)){const r=e.SCRIPTS[t];c(null==r?void 0:r.CODE_HASH),o(`SCRIPTS.${t}.CODE_HASH`,r.CODE_HASH),s(`SCRIPTS.${t}.HASH_TYPE`,r.HASH_TYPE),o(`SCRIPTS.${t}.TX_HASH`,r.TX_HASH),a(`SCRIPTS.${t}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if("depGroup"!==n&&"code"!==n)throw new Error(`SCRIPTS.${t}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(null!=i&&"number"!=typeof i)throw new Error("SHORT_ID must be a number!")}}let f=r(88195).predefined.LINA},88195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConfig=o,t.predefined=void 0;var n,i=(n=r(82229))&&n.__esModule?n:{default:n};function o(e){return(0,i.default)(e)}const a=o({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),s=o({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});t.predefined={LINA:a,AGGRON4:s}},86362:(e,t)=>{"use strict";function r(e,t){return async r=>{const o=await e(r.map((e=>e.txHash))),a=n(r,o,((e,t)=>(i(e),i(t,`Cannot find the OutPoint ${e.txHash}#${e.index}`),t.outputs[Number(e.index)].type))),s=await t(a.filter(Boolean));return n(r,a,((e,t)=>{if(i(e),!t)return e;const[r]=s.splice(0,1);return r.outPoint}))}}function n(e,t,r){return e.map(((n,i)=>r(e[i],t[i])))}function i(e,t="Not nullable"){if(null==e)throw new Error(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createLatestTypeIdResolver=r,t.createRpcResolver=function(e){return r((async t=>{const r=await e.createBatchRequest(t.map((e=>["getTransaction",e]))).exec();return n(t,r,((e,t)=>{if(null==t||!t.transaction)throw new Error(`Cannot find transaction ${e}`);return t.transaction}))}),(async t=>(await e.createBatchRequest(t.map((e=>["getCells",{script:e,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"]))).exec()).map((e=>e.objects[0]))))},t.refreshScriptConfigs=async function(e,{resolve:t,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const o=Object.entries(e).filter((([e,t])=>!r.includes(e)&&"type"===(null==t?void 0:t.HASH_TYPE))),a=o.map((([e,t])=>({txHash:t.TX_HASH,index:t.INDEX}))),s=await t(a),c=Object.fromEntries(n(o,s,((e,t)=>{i(e);const[r,n]=e;return i(t,`Refreshing failed, cannot load config of ${r}, please check whether the scriptConfig is correct`),[r,{...n,TX_HASH:t.txHash,INDEX:t.index}]})));return Object.assign({},e,c)}},23720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},79384:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedPublicKey=t.ExtendedPrivateKey=t.AddressType=t.AccountExtendedPublicKey=void 0;var i,o=(i=r(51401))&&i.__esModule?i:{default:i},a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(30510)),s=r(41600),c=r(74093);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}let f=t.AddressType=function(e){return e[e.Receiving=0]="Receiving",e[e.Change=1]="Change",e}({});class d{constructor(e,t){(0,c.assertPublicKey)(e),(0,c.assertChainCode)(t),this.publicKey=e,this.chainCode=t}serialize(){return this.publicKey+this.chainCode.slice(2)}static parse(e){return s.utils.assertHexString("serialized",e),new d(e.slice(0,68),"0x"+e.slice(68))}}t.ExtendedPublicKey=d;class l extends d{static ckbAccountPath="m/44'/309'/0'";static parse(e){return s.utils.assertHexString("serialized",e),new l(e.slice(0,68),"0x"+e.slice(68))}publicKeyInfo(e,t){const r=this.getPublicKey(e,t);return{publicKey:r,blake160:a.default.publicKeyToBlake160(r),path:l.pathFor(e,t)}}static pathForReceiving(e){return l.pathFor(f.Receiving,e)}static pathForChange(e){return l.pathFor(f.Change,e)}static pathFor(e,t){return`${l.ckbAccountPath}/${e}/${t}`}getPublicKey(e=f.Receiving,t){return"0x"+o.default.fromPublicKey(n.from(this.publicKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex"),l.ckbAccountPath).deriveChild(e,!1).deriveChild(t,!1).publicKey.toString("hex")}}t.AccountExtendedPublicKey=l;class h{constructor(e,t){(0,c.assertPrivateKey)(e),(0,c.assertChainCode)(t),this.privateKey=e,this.chainCode=t}serialize(){return this.privateKey+this.chainCode.slice(2)}toExtendedPublicKey(){const e=(0,a.privateToPublic)(this.privateKey);return new d(e,this.chainCode)}toAccountExtendedPublicKey(){const e=new o.default(n.from(this.privateKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex")).derivePath(l.ckbAccountPath);return new l("0x"+e.publicKey.toString("hex"),"0x"+e.chainCode.toString("hex"))}static fromSeed(e){const t=o.default.fromSeed(e);return new h("0x"+t.privateKey.toString("hex"),"0x"+t.chainCode.toString("hex"))}privateKeyInfo(e,t){const r=l.pathFor(e,t);return this.privateKeyInfoByPath(r)}privateKeyInfoByPath(e){const t=new o.default(n.from(this.privateKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex")).derivePath(e);return this.privateKeyInfoFromKeychain(t,e)}privateKeyInfoFromKeychain(e,t){return{privateKey:"0x"+e.privateKey.toString("hex"),publicKey:"0x"+e.publicKey.toString("hex"),path:t}}static parse(e){return s.utils.assertHexString("serialized",e),new h(e.slice(0,66),"0x"+e.slice(66))}}t.ExtendedPrivateKey=h},74093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertChainCode=function(e){if(i("chainCode",e),66!==e.length)throw new Error("chainCode must be length of 32 bytes!")},t.assertPrivateKey=function(e){if(i("privateKey",e),66!==e.length)throw new Error("privateKey must be length of 32 bytes!")},t.assertPublicKey=function(e,t){if(i(t=t||"publicKey",e),68!==e.length)throw new Error("publicKey must be length of 33 bytes!")};var n=r(41600);const{assertHexString:i}=n.utils},38605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AccountExtendedPublicKey",{enumerable:!0,get:function(){return a.AccountExtendedPublicKey}}),Object.defineProperty(t,"AddressType",{enumerable:!0,get:function(){return a.AddressType}}),Object.defineProperty(t,"ExtendedPrivateKey",{enumerable:!0,get:function(){return a.ExtendedPrivateKey}}),Object.defineProperty(t,"ExtendedPublicKey",{enumerable:!0,get:function(){return a.ExtendedPublicKey}}),Object.defineProperty(t,"IncorrectPassword",{enumerable:!0,get:function(){return n.IncorrectPassword}}),Object.defineProperty(t,"InvalidKeystore",{enumerable:!0,get:function(){return n.InvalidKeystore}}),Object.defineProperty(t,"Keychain",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Keystore",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"UnsupportedCipher",{enumerable:!0,get:function(){return n.UnsupportedCipher}}),Object.defineProperty(t,"XPubStore",{enumerable:!0,get:function(){return i.XPubStore}}),t.default=void 0,Object.defineProperty(t,"key",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"mnemonic",{enumerable:!0,get:function(){return s.default}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(56913)),i=r(41584),o=u(r(51401)),a=r(79384),s=u(r(69474)),c=u(r(30510));function u(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.default={mnemonic:s.default,Keystore:n.default,UnsupportedCipher:n.UnsupportedCipher,IncorrectPassword:n.IncorrectPassword,InvalidKeystore:n.InvalidKeystore,Keychain:o.default,AddressType:a.AddressType,ExtendedPublicKey:a.ExtendedPublicKey,AccountExtendedPublicKey:a.AccountExtendedPublicKey,ExtendedPrivateKey:a.ExtendedPrivateKey,key:c.default,XPubStore:i.XPubStore}},30510:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.privateKeyToBlake160=l,t.privateToPublic=f,t.publicKeyToBlake160=d,t.recoverFromSignature=u,t.signRecoverable=c;var i=r(41600),o=r(24153),a=r(74093);const s=new o.ec("secp256k1");function c(e,t){i.utils.assertHexString("message",e),(0,a.assertPrivateKey)(t);const r=s.keyFromPrivate(t.slice(2)),{r:n,s:o,recoveryParam:c}=r.sign(e.slice(2),{canonical:!0});if(null===c)throw new Error("Sign message failed!");return"0x"+n.toString(16).padStart(64,"0")+o.toString(16).padStart(64,"0")+c.toString(16).padStart(2,"0")}function u(e,t){i.utils.assertHexString("message",e),i.utils.assertHexString("signature",t);const r=n.from(e.slice(2),"hex"),o=n.from(t.slice(2),"hex"),a={r:o.slice(0,32),s:o.slice(32,64),recoveryParam:o[64]};return"0x"+s.recoverPubKey(r,a,a.recoveryParam).encode("hex",!0).toLowerCase()}function f(e){let t=e;if("string"==typeof e&&((0,a.assertPrivateKey)(e),t=n.from(e.slice(2),"hex")),32!==t.length)throw new Error("Private key must be 32 bytes!");const r=s.keyFromPrivate(t).getPublic(!0,"hex");return"string"==typeof e?"0x"+r:n.from(r,"hex")}function d(e){(0,a.assertPublicKey)(e);return(new i.utils.CKBHasher).update(e).digestHex().slice(0,42)}function l(e){return d(f(e))}t.default={signRecoverable:c,recoverFromSignature:u,privateToPublic:f,publicKeyToBlake160:d,privateKeyToBlake160:l}},51401:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(r(91565)),o=r(24153),a=c(r(32668)),s=r(30510);function c(e){return e&&e.__esModule?e:{default:e}}const u=new o.ec("secp256k1"),f=n.from("");class d{privateKey=f;publicKey=f;chainCode=f;index=0;depth=0;identifier=f;fingerprint=0;parentFingerprint=0;constructor(e,t){this.privateKey=e,this.chainCode=t,this.isNeutered()||(this.publicKey=(0,s.privateToPublic)(this.privateKey))}calculateFingerprint(){this.identifier=this.hash160(this.publicKey),this.fingerprint=this.identifier.slice(0,4).readUInt32BE(0)}static fromSeed(e){const t=i.default.createHmac("sha512",n.from("Bitcoin seed","utf8")).update(e).digest(),r=new d(t.slice(0,32),t.slice(32));return r.calculateFingerprint(),r}static fromPublicKey(e,t,r){const n=new d(f,t);n.publicKey=e,n.calculateFingerprint();const i=r.split("/");return n.depth=i.length-1,n.index=parseInt(i[i.length-1],10),n}deriveChild(e,t){let r;const o=n.allocUnsafe(4);if(t){const t=n.concat([n.alloc(1,0),this.privateKey]);o.writeUInt32BE(e+2147483648,0),r=n.concat([t,o])}else o.writeUInt32BE(e,0),r=n.concat([this.publicKey,o]);const a=i.default.createHmac("sha512",this.chainCode).update(r).digest(),s=a.slice(0,32),c=a.slice(32);let u;if(this.isNeutered())u=new d(f,c),u.publicKey=d.publicKeyAdd(this.publicKey,s),u.calculateFingerprint();else{const e=d.privateKeyAdd(this.privateKey,s);u=new d(e,c),u.calculateFingerprint()}return u.index=e,u.depth=this.depth+1,u.parentFingerprint=this.fingerprint,u}derivePath(e){if(["m","/",""].includes(e))return this;let t=this,r=e.split("/");return"m"===r[0]&&(r=r.slice(1)),r.forEach((e=>{const r=parseInt(e,10),n=e.length>1&&"'"===e[e.length-1];t=t.deriveChild(r,n)})),t}isNeutered(){return this.privateKey===f}hash160(e){const t=i.default.createHash("sha256").update(e).digest();return i.default.createHash("ripemd160").update(t).digest()}static privateKeyAdd(e,t){const r=new a.default(t);return r.iadd(new a.default(e)),r.cmp(u.curve.n)>=0&&r.isub(u.curve.n),r.toArrayLike(n,"be",32)}static publicKeyAdd(e,t){const r=new a.default(e.slice(1)).toRed(u.curve.red);let i=r.redSqr().redIMul(r).redIAdd(u.curve.b).redSqrt();3===e[0]!==i.isOdd()&&(i=i.redNeg());const o=u.curve.g.mul(new a.default(t)).add({x:r,y:i});return n.from(o.encode(!0,!0))}}t.default=d},56913:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnsupportedCipher=t.InvalidKeystore=t.IncorrectPassword=void 0;var i,o=(i=r(91565))&&i.__esModule?i:{default:i},a=r(18190),s=r(10611),c=r(79384),u=r(9983);class f extends Error{constructor(){super("Unsupported cipher!")}}t.UnsupportedCipher=f;class d extends Error{constructor(){super("Incorrect password!")}}t.IncorrectPassword=d;class l extends Error{constructor(){super("Invalid keystore, please check your file integrity.")}}t.InvalidKeystore=l;const h="aes-128-ctr",p=262144;class b{version=3;constructor(e,t,r){this.crypto=e,this.id=t,this.origin=r}static fromJson(e){try{const t=JSON.parse(e);return new b(t.crypto,t.id,t.origin)}catch{throw new l}}toJson(){return JSON.stringify(this)}isFromCkbCli(){return"ckb-cli"===this.origin}static createEmpty(){const e=o.default.randomBytes(32),t=o.default.randomBytes(16),r={dklen:32,salt:e.toString("hex"),n:p,r:8,p:1};return new b({ciphertext:"",cipherparams:{iv:t.toString("hex")},cipher:h,kdf:"scrypt",kdfparams:r,mac:""},(0,s.v4)())}static create(e,t,r={}){const i=r.salt||o.default.randomBytes(32),a=r.iv||o.default.randomBytes(16),c={dklen:32,salt:i.toString("hex"),n:p,r:8,p:1},d=n.from((0,u.syncScrypt)(n.from(t),i,c.n,c.r,c.p,c.dklen)),l=o.default.createCipheriv(h,d.slice(0,16),a);if(!l)throw new f;const y=n.concat([l.update(n.from(e.serialize().slice(2),"hex")),l.final()]);return new b({ciphertext:y.toString("hex"),cipherparams:{iv:a.toString("hex")},cipher:h,kdf:"scrypt",kdfparams:c,mac:b.mac(d,y)},(0,s.v4)())}isEmpty(){return""===this.crypto.ciphertext&&""===this.crypto.mac}decrypt(e){const t=this.derivedKey(e),r=n.from(this.crypto.ciphertext,"hex");if(b.mac(t,r)!==this.crypto.mac)throw new d;const i=o.default.createDecipheriv(this.crypto.cipher,t.slice(0,16),n.from(this.crypto.cipherparams.iv,"hex"));return"0x"+n.concat([i.update(r),i.final()]).toString("hex")}extendedPrivateKey(e){return c.ExtendedPrivateKey.parse(this.decrypt(e))}checkPassword(e){const t=this.derivedKey(e),r=n.from(this.crypto.ciphertext,"hex");return b.mac(t,r)===this.crypto.mac}derivedKey(e){const{kdfparams:t}=this.crypto;return n.from((0,u.syncScrypt)(n.from(e),n.from(t.salt,"hex"),t.n,t.r,t.p,t.dklen))}static mac(e,t){return new a.Keccak(256).update(n.concat([e.subarray(16,32),t])).digest("hex")}static scryptOptions(e){return{N:e.n,r:e.r,p:e.p,maxmem:128*(e.n+e.p+2)*e.r}}}t.default=b},69474:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.entropyToMnemonic=I,t.generateMnemonic=T,t.mnemonicToEntropy=E,t.mnemonicToSeed=A,t.mnemonicToSeedSync=x,t.validateMnemonic=k;var i=a(r(91565)),o=a(r(14991));function a(e){return e&&e.__esModule?e:{default:e}}const s=2048,c=64,u=16,f=32,d=12,l=24,h="Invalid mnemonic",p="Invalid checksum",b="Entropy should be divisable by 4",y=`Entropy should be shorter than ${f+1}`,g="Entropy should be longer than "+(u-1),m=`Words should be shorter than ${l+1}`,v="Words should be longer than "+(d-1);if(2048!==o.default.length)throw new Error(`Word list should have 2048 words, but ${o.default.length} received in fact`);function _(e){return e.reduce(((e,t)=>e+t.toString(2).padStart(8,"0")),"")}function w(e){const t=8*e.length/32;return _(i.default.createHash("sha256").update(e).digest()).slice(0,t)}function S(e=""){return`mnemonic${e}`}function x(e="",t=""){const r=n.from(e.normalize("NFKD"),"utf8"),o=n.from(S(t.normalize("NFKD")),"utf8");return i.default.pbkdf2Sync(r,o,s,c,"sha512")}function A(e="",t=""){return new Promise(((r,o)=>{try{const a=n.from(e.normalize("NFKD"),"utf8"),u=n.from(S(t.normalize("NFKD")),"utf8");i.default.pbkdf2(a,u,s,c,"sha512",((e,t)=>{e&&o(e),r(t)}))}catch(e){o(e)}}))}function E(e=""){const t=e.normalize("NFKD").split(" ");if(t.length<d)throw new Error(v);if(t.length>l)throw new Error(m);if(t.length%3!=0)throw new Error(h);const r=t.map((e=>{const t=o.default.indexOf(e);if(-1===t)throw new Error(h);return t.toString(2).padStart(11,"0")})).join(""),i=32*Math.floor(r.length/33),a=r.slice(0,i),s=r.slice(i),c=a.match(/(.{1,8})/g).map((e=>parseInt(e,2)));if(c.length<u)throw new Error(g);if(c.length>f)throw new Error(y);if(c.length%4!=0)throw new Error(b);const _=n.from(c);if(w(_)!==s)throw new Error(p);return"0x"+_.toString("hex")}function I(e){const t=n.from(e.slice(2),"hex");if(t.length<u)throw new TypeError(g);if(t.length>f)throw new TypeError(y);if(t.length%4!=0)throw new TypeError(b);return(_(t)+w(t)).match(/(.{1,11})/g).map((e=>{const t=parseInt(e,2);return o.default[t]})).join(" ")}function k(e){try{E(e)}catch(e){return!1}return!0}function T(){return I("0x"+i.default.randomBytes(16).toString("hex"))}t.default={entropyToMnemonic:I,mnemonicToEntropy:E,mnemonicToSeed:A,mnemonicToSeedSync:x,validateMnemonic:k,generateMnemonic:T}},14991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},41584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XPubStore=void 0;var n=r(79384);class i{constructor(e){this.accountExtendedPublicKey=e}toAccountExtendedPublicKey(){return this.accountExtendedPublicKey}toJson(){return JSON.stringify({xpubkey:this.accountExtendedPublicKey.serialize().slice(2)})}static fromJson(e){const t=JSON.parse(e).xpubkey,r=n.AccountExtendedPublicKey.parse("0x"+t);return new i(r)}}t.XPubStore=i},32668:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(84102).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,a=0,s=Math.min(e.length,r),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&a<i,"Invalid character"),o+=a}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,f=r;f<s;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,f,e.length,t),f=0;f<a;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?l[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],f=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var b=d.modrn(f).toString(e);r=(d=d.idivn(f)).isZero()?b+r:l[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,f=0|a[0],d=8191&f,l=f>>>13,h=0|a[1],p=8191&h,b=h>>>13,y=0|a[2],g=8191&y,m=y>>>13,v=0|a[3],_=8191&v,w=v>>>13,S=0|a[4],x=8191&S,A=S>>>13,E=0|a[5],I=8191&E,k=E>>>13,T=0|a[6],C=8191&T,O=T>>>13,P=0|a[7],M=8191&P,B=P>>>13,D=0|a[8],R=8191&D,L=D>>>13,N=0|a[9],j=8191&N,U=N>>>13,H=0|s[0],F=8191&H,z=H>>>13,q=0|s[1],K=8191&q,V=q>>>13,$=0|s[2],W=8191&$,G=$>>>13,Q=0|s[3],Y=8191&Q,X=Q>>>13,J=0|s[4],Z=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,fe=0|s[8],de=8191&fe,le=fe>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(l,F)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var me=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(l,W)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0;var ve=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(l,Y)|0))<<13)|0;u=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(k,F)|0,o=Math.imul(k,z),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var xe=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Ae=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,le)|0;var Ie=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,le)|0;var ke=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Te=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Oe=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,le)|0;var Pe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,le)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var Be=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,be))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ye,c[1]=ge,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Se,c[7]=xe,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=ke,c[12]=Te,c[13]=Ce,c[14]=Oe,c[15]=Pe,c[16]=Me,c[17]=Be,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),l=67108863&d;s=67108863&(l=l+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return g(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(y=b),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?b(this,e,t):r<1024?g(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var d=c,l=u,h=0;h<a;h++){var p=r[f+h],b=n[f+h],y=r[f+h+a],g=n[f+h+a],m=d*y-l*g;g=d*g+l*y,y=m,r[f+h]=p+y,n[f+h]=b+g,r[f+h+a]=p-y,n[f+h+a]=b-g,h!==s&&(m=c*d-u*l,l=c*l+u*d,d=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,f,d,n,i);for(var h=0;h<n;h++){var p=s[h]*f[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*f[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&s}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(i,l,d);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=l)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;!(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(f),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;!(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,l=1;!(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new I(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(S,w),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,w),i(A,w),i(E,w),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new x;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return _[e]=t,t},I.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,y=0;0!==b.cmp(s);y++)b=b.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));l=l.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return l},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,I),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},24153:(e,t,r)=>{"use strict";var n=t;n.version=r(5908).rE,n.utils=r(55955),n.rand=r(15037),n.curve=r(63854),n.curves=r(31280),n.ec=r(7287),n.eddsa=r(80442)},55701:(e,t,r)=>{"use strict";var n=r(46746),i=r(55955),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var f=a+r.step-1;f>=a;f--)c=(c<<1)+n[f];u.push(c)}for(var d=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?l=l.mixedAdd(r.points[a]):c===-h&&(l=l.mixedAdd(r.points[a].neg()));d=d.add(l)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&0===a[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var d=a[u];s(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,u,f=this._wnafT1,d=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(u=t[s])._getNAFPoints(e);f[s]=p.wnd,d[s]=p.points}for(s=n-1;s>=1;s-=2){var b=s-1,y=s;if(1===f[b]&&1===f[y]){var g=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(g[1]=t[b].add(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].add(t[y].neg())):(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[b],r[y]);for(h=Math.max(v[0].length,h),l[b]=new Array(h),l[y]=new Array(h),c=0;c<h;c++){var _=0|v[0][c],w=0|v[1][c];l[b][c]=m[3*(_+1)+(w+1)],l[y][c]=0,d[b]=g}}else l[b]=o(r[b],f[b],this._bitLength),l[y]=o(r[y],f[y],this._bitLength),h=Math.max(l[b].length,h),h=Math.max(l[y].length,h)}var S=this.jpoint(null,null,null),x=this._wnafT4;for(s=h;s>=0;s--){for(var A=0;s>=0;){var E=!0;for(c=0;c<n;c++)x[c]=0|l[c][s],0!==x[c]&&(E=!1);if(!E)break;A++,s--}if(s>=0&&A++,S=S.dblp(A),s<0)break;for(c=0;c<n;c++){var I=x[c];0!==I&&(I>0?u=d[c][I-1>>1]:I<0&&(u=d[c][-I-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(s=0;s<n;s++)d[s]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},53170:(e,t,r)=>{"use strict";var n=r(55955),i=r(46746),o=r(56698),a=r(55701),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),f=i.redMul(s),d=a.redMul(o);return this.curve.point(c,u,d,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),f=s.redMul(c),d=o.redMul(c),l=a.redMul(s);return this.curve.point(u,f,l,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},63854:(e,t,r)=>{"use strict";var n=t;n.base=r(55701),n.short=r(39140),n.mont=r(31442),n.edwards=r(53170)},31442:(e,t,r)=>{"use strict";var n=r(46746),i=r(56698),o=r(55701),a=r(55955);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39140:(e,t,r)=>{"use strict";var n=r(55955),i=r(46746),o=r(56698),a=r(55701),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,u,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new i(1),b=new i(0),y=new i(0),g=new i(1),m=0;0!==l.cmpn(0);){var v=h.div(l);u=h.sub(v.mul(l)),f=y.sub(v.mul(p));var _=g.sub(v.mul(b));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++m)break;c=u,h=l,l=u,y=p,p=f,g=b,b=_}a=u.neg(),s=f;var w=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),d=n.redMul(u),l=c.redSqr().redIAdd(f).redISub(d).redISub(d),h=c.redMul(d.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(l,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(f).redISub(f),l=s.redMul(f.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,l,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),l=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),b=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),g=h.redMul(y);g=g.redIAdd(g).redISub(l);var m=u.redMul(s);t+1<e&&(c=c.redMul(l)),o=b,s=m,u=g}return this.curve.jpoint(o,u.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(l);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),l=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),f=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),l=a.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=s.redMul(d).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(s).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,l,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},31280:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),a=r(63854),s=r(55955).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(93803)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7287:(e,t,r)=>{"use strict";var n=r(46746),i=r(32723),o=r(55955),a=r(31280),s=r(15037),c=o.assert,u=r(92256),f=r(17905);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),l=0;;l++){var h=o.k?o.k(l):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==b.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new f({r:y,s:g,recoveryParam:m})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),s=t.r,u=t.s,d=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),b=u.mul(h).umod(o);return this.g.mulAdd(p,s,b)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},92256:(e,t,r)=>{"use strict";var n=r(46746),i=r(55955).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},17905:(e,t,r)=>{"use strict";var n=r(46746),i=r(55955),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),a=[48];return f(a,o.length),a=a.concat(o),i.encode(a,e)}},80442:(e,t,r)=>{"use strict";var n=r(77952),i=r(31280),o=r(55955),a=o.assert,s=o.parseBytes,c=r(88821),u=r(82908);function f(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},88821:(e,t,r)=>{"use strict";var n=r(55955),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},82908:(e,t,r)=>{"use strict";var n=r(46746),i=r(55955),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},93803:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},55955:(e,t,r)=>{"use strict";var n=t,i=r(46746),o=r(43349),a=r(64367);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,a=e.clone();for(n=0;n<i.length;n++){var s,c=a.andln(o-1);a.isOdd()?(s=c>(o>>1)-1?(o>>1)-c:c,a.isubn(s)):s=0,i[n]=s,a.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),s=1&u?3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:0,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},46746:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(26272).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,f=r;f<s;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,f,e.length,t),f=0;f<a;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],h=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?b+r:f[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),f=this.clone();if(c){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,f=0|a[0],d=8191&f,l=f>>>13,h=0|a[1],p=8191&h,b=h>>>13,y=0|a[2],g=8191&y,m=y>>>13,v=0|a[3],_=8191&v,w=v>>>13,S=0|a[4],x=8191&S,A=S>>>13,E=0|a[5],I=8191&E,k=E>>>13,T=0|a[6],C=8191&T,O=T>>>13,P=0|a[7],M=8191&P,B=P>>>13,D=0|a[8],R=8191&D,L=D>>>13,N=0|a[9],j=8191&N,U=N>>>13,H=0|s[0],F=8191&H,z=H>>>13,q=0|s[1],K=8191&q,V=q>>>13,$=0|s[2],W=8191&$,G=$>>>13,Q=0|s[3],Y=8191&Q,X=Q>>>13,J=0|s[4],Z=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,fe=0|s[8],de=8191&fe,le=fe>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(l,F)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var me=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(l,W)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0;var ve=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(l,Y)|0))<<13)|0;u=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(k,F)|0,o=Math.imul(k,z),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var xe=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Ae=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,le)|0;var Ie=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,le)|0;var ke=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Te=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Oe=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,le)|0;var Pe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,le)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var Be=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,be))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ye,c[1]=ge,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Se,c[7]=xe,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=ke,c[12]=Te,c[13]=Ce,c[14]=Oe,c[15]=Pe,c[16]=Me,c[17]=Be,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function b(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),l=67108863&d;s=67108863&(l=l+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):b(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var d=c,l=u,h=0;h<a;h++){var p=r[f+h],b=n[f+h],y=r[f+h+a],g=n[f+h+a],m=d*y-l*g;g=d*g+l*y,y=m,r[f+h]=p+y,n[f+h]=b+g,r[f+h+a]=p-y,n[f+h+a]=b-g,h!==s&&(m=c*d-u*l,l=c*l+u*d,d=m)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,f,d,n,i);for(var h=0;h<n;h++){var p=s[h]*f[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*f[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&s}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(i,l,d);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=l)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;!(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(f),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;!(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,l=1;!(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},i(v,m),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,m),i(w,m),i(S,m),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return g[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,y=0;0!==b.cmp(s);y++)b=b.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));l=l.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},36340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADDRESS_FORMAT_SHORT=t.ADDRESS_FORMAT_FULLTYPE=t.ADDRESS_FORMAT_FULLDATA=t.ADDRESS_FORMAT_FULL=void 0,t.parseDeprecatedCkb2019Address=function(e,{config:t}){t=t||(0,o.getConfig)();const{prefix:r,words:n}=a.bech32.decode(e,s);if(r!==t.PREFIX)throw Error(`Invalid prefix! Expected: ${t.PREFIX}, actual: ${r}`);const[c,...l]=a.bech32.fromWords(n);switch(c){case u:{const[e,...r]=l;if(20!==r.length)throw Error("Invalid payload length!");const n=Object.values(t.SCRIPTS).find((t=>t&&t.SHORT_ID===e));if(!n)throw Error(`Invalid code hash index: ${e}!`);return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:i.bytes.hexify(r)}}case f:if(l.length<32)throw Error("Invalid payload length!");return{codeHash:i.bytes.hexify(l.slice(0,32)),hashType:"data",args:i.bytes.hexify(l.slice(32))};case d:if(l.length<32)throw Error("Invalid payload length!");return{codeHash:i.bytes.hexify(l.slice(0,32)),hashType:"type",args:i.bytes.hexify(l.slice(32))}}throw Error(`Invalid payload format type: ${c}`)},t.parseFullFormatAddress=function(e,{config:t}){t=t||(0,o.getConfig)();const{words:r,prefix:u}=a.bech32m.decode(e,s);if(u!==t.PREFIX)throw Error(`Invalid prefix! Expected: ${t.PREFIX}, actual: ${u}`);const[f,...d]=a.bech32m.fromWords(r);if(f!==c)throw new Error("Invalid address format type");if(d.length<33)throw new Error("Invalid payload length, too short!");const l=i.bytes.hexify(d.slice(0,32)),h=n.blockchain.HashType.unpack(d.slice(32,33)),p=i.bytes.hexify(d.slice(33));return{codeHash:l,hashType:h,args:p}};var n=r(41600),i=r(71313),o=r(14105),a=r(22343);const s=1023,c=t.ADDRESS_FORMAT_FULL=0,u=t.ADDRESS_FORMAT_SHORT=1,f=t.ADDRESS_FORMAT_FULLDATA=2,d=t.ADDRESS_FORMAT_FULLTYPE=4},28670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};t.addressToScript=t.TransactionSkeleton=void 0,t.createTransactionFromSkeleton=O,t.createTransactionSkeleton=async function(e,t){let r=C();r=r.update("cellDeps",(t=>t.push(...e.cellDeps))),r=r.update("headerDeps",(t=>t.push(...e.headerDeps)));const n=await Promise.all(e.inputs.map((e=>t(e.previousOutput))));r=r.update("inputs",(e=>e.push(...n))),r=r.update("inputSinces",(t=>e.inputs.reduce(((e,t,r)=>e.set(r,t.since)),t)));const i=e.outputs.map(((t,r)=>{var n;return{cellOutput:t,data:null!==(n=e.outputsData[r])&&void 0!==n?n:"0x"}}));return r=r.update("outputs",(e=>e.push(...i))),r=r.update("witnesses",(t=>t.push(...e.witnesses))),r},t.encodeToAddress=T,t.encodeToConfigAddress=function(e,t,r){const n=(null==r?void 0:r.config)||(0,c.getConfig)(),i=n.SCRIPTS[t];if(!i){const e=Object.keys(n.SCRIPTS);throw new Error(`Invalid script type: ${String(t)}, only support: ${e}`)}return T({codeHash:i.CODE_HASH,hashType:i.HASH_TYPE,args:e},{config:n})},t.generateAddress=E,t.generateSecp256k1Blake160Address=function(e,{config:t}={}){return I(e,"SECP256K1_BLAKE160",{config:t})},t.generateSecp256k1Blake160MultisigAddress=function(e,{config:t}={}){return I(e,"SECP256K1_BLAKE160_MULTISIG",{config:t})},t.locateCellDep=function(e,{config:t}={}){t=t||(0,c.getConfig)();const r=Object.values(t.SCRIPTS).find((t=>t&&t.CODE_HASH===e.codeHash&&t.HASH_TYPE===e.hashType));if(r)return{depType:r.DEP_TYPE,outPoint:{txHash:r.TX_HASH,index:r.INDEX}};return null},t.minimalCellCapacity=function(e,{validate:t=!0}={}){const r=w(e,{validate:t});return BigInt(r.toString())},t.minimalCellCapacityCompatible=w,t.minimalScriptCapacity=function(e,{validate:t=!0}={}){const r=_(e,{validate:t});return BigInt(r.toString())},t.minimalScriptCapacityCompatible=_,t.objectToTransactionSkeleton=function(e){let t=(0,s.Map)();for(const[r,n]of Object.entries(e.inputSinces))t=t.set(+r,n);return C({cellProvider:e.cellProvider,cellDeps:(0,s.List)(e.cellDeps),headerDeps:(0,s.List)(e.headerDeps),inputs:(0,s.List)(e.inputs),outputs:(0,s.List)(e.outputs),witnesses:(0,s.List)(e.witnesses),fixedEntries:(0,s.List)(e.fixedEntries),signingEntries:(0,s.List)(e.signingEntries),inputSinces:t})},t.parseAddress=k,Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return p.refreshTypeIdCellDeps}}),t.scriptToAddress=void 0,t.sealTransaction=function(e,t){const r=O(e);if(t.length!==e.get("signingEntries").size)throw new Error(`Requiring ${e.get("signingEntries").size} sealing contents but provided ${t.length}!`);return e.get("signingEntries").forEach(((e,n)=>{switch(e.type){case"witness_args_lock":{const i=r.witnesses[e.index],a=o.blockchain.WitnessArgs.unpack(y(i)),s={lock:t[n]},c=a.inputType;c&&(s.inputType=c);const u=a.outputType;u&&(s.outputType=u),r.witnesses[e.index]=g(o.blockchain.WitnessArgs.pack(s));break}default:throw new Error(`Invalid signing entry type: ${e.type}`)}})),r},t.transactionSkeletonToObject=function(e){return e.toJS()};var i=r(71313),o=r(41600),a=r(22343),s=r(49568),c=r(14105),u=r(92900),f=r(36340),d=r(88591),l=r(49805),h=r(13892),p=r(81149),b=r(91997);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));const{bytify:y,hexify:g}=i.bytes,m=1023;const v=1e8;function _(e,{validate:t=!0}={}){t&&l.validators.ValidateScript(e);let r=0;return r+=y(e.codeHash).length,r+=y(e.args).length,r+=1,u.BI.from(r).mul(v)}function w(e,{validate:t=!0}={}){t&&o.blockchain.CellOutput.pack(e.cellOutput);let r=8;return r+=y(e.cellOutput.lock.codeHash).length,r+=y(e.cellOutput.lock.args).length,r+=1,e.cellOutput.type&&(r+=y(e.cellOutput.type.codeHash).length,r+=y(e.cellOutput.type.args).length,r+=1),e.data&&(r+=y(e.data).length),u.BI.from(r).mul(v)}let S=!1;const x=2,A=4;function E(e,{config:t}={}){t=t||(0,c.getConfig)(),S||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),S=!0),l.validators.ValidateScript(e);const r=Object.values(t.SCRIPTS).find((t=>t&&t.CODE_HASH===e.codeHash&&t.HASH_TYPE===e.hashType)),n=[];if(r&&void 0!==r.SHORT_ID)n.push(1,r.SHORT_ID),n.push(...(0,d.hexToByteArray)(e.args));else{if("type"===e.hashType)n.push(A);else{if("data"!==e.hashType)throw new Error(`Invalid hashType ${e.hashType}`);n.push(x)}n.push(...(0,d.hexToByteArray)(e.codeHash)),n.push(...(0,d.hexToByteArray)(e.args))}const i=a.bech32.toWords(n);return a.bech32.encode(t.PREFIX,i,m)}t.scriptToAddress=E;function I(e,t,{config:r}={}){const n=(r=r||(0,c.getConfig)()).SCRIPTS[t];if(!n){const e=Object.keys(r.SCRIPTS);throw new Error(`Invalid script type: ${t}, only support: ${e}`)}return E({codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:e},{config:r})}function k(e,{config:t}={}){t=t||(0,c.getConfig)();try{return(0,f.parseFullFormatAddress)(e,{config:t})}catch{return(0,f.parseDeprecatedCkb2019Address)(e,{config:t})}}t.addressToScript=k;function T(e,{config:t}={}){l.validators.ValidateScript(e),t=t||(0,c.getConfig)();const r=i.bytes.concat([0],e.codeHash,h.HashType.pack(e.hashType),e.args);return a.bech32m.encode(t.PREFIX,a.bech32m.toWords(r),m)}const C=t.TransactionSkeleton=(0,s.Record)({cellProvider:null,cellDeps:(0,s.List)(),headerDeps:(0,s.List)(),inputs:(0,s.List)(),outputs:(0,s.List)(),witnesses:(0,s.List)(),fixedEntries:(0,s.List)(),signingEntries:(0,s.List)(),inputSinces:(0,s.Map)()});function O(e,{validate:t=!0}={}){const r={version:"0x0",cellDeps:e.get("cellDeps").toArray(),headerDeps:e.get("headerDeps").toArray(),inputs:e.get("inputs").map(((t,r)=>{if(!t.outPoint)throw new Error(`cannot find OutPoint in Inputs[${r}] when createTransactionFromSkeleton`);return{since:e.get("inputSinces").get(r,"0x0"),previousOutput:t.outPoint}})).toArray(),outputs:e.get("outputs").map((e=>e.cellOutput)).toArray(),outputsData:e.get("outputs").map((e=>e.data||"0x0")).toArray(),witnesses:e.get("witnesses").toArray()};return t&&l.validators.ValidateTransaction(r),r}},53048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createModelHelper=function(e){return{create:t=>e.unpack(e.pack(t)),hash:t=>n.bytes.bytify((0,i.ckbHash)(e.pack(t))),equals:(t,r)=>n.bytes.equal(e.pack(t),e.pack(r)),clone:o}},t.defaultDeepClone=o;var n=r(71313),i=r(54617);function o(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t||"bigint"===t||null==e)return e;if(Array.isArray(e))return e.map(o);if("object"===t)return Object.entries(e).reduce(((e,[t,r])=>Object.assign(e,{[t]:o(r)})),{});throw new Error("Cannot clone the value: "+String(e))}},61311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outPointHelper=void 0;var n=r(41600),i=r(53048);t.outPointHelper=(0,i.createModelHelper)(n.blockchain.OutPoint)},39505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellHelper=void 0;var n=r(53048),i=r(41600),o=r(82206),a=r(92900),s=r(71313),c=r(72042),u=r(61311),f=r(28670);const d=(0,c.table)({cellOutput:i.blockchain.CellOutput,data:i.blockchain.Bytes,outPoint:(0,c.option)(i.blockchain.OutPoint)},["cellOutput","data","outPoint"]);t.cellHelper=(0,n.createModelHelper)({pack:e=>{const t=(r=e)&&"object"==typeof r&&"lock"in r?{cellOutput:{capacity:a.BI.from(e.capacity||"0x0").toHexString(),lock:o.scriptHelper.create(e.lock),type:e.type&&o.scriptHelper.create(e.type)},outPoint:e.outPoint&&u.outPointHelper.create(e.outPoint),data:s.bytes.hexify(e.data||"0x")}:e;var r;return a.BI.from(t.cellOutput.capacity).eq(0)&&(t.cellOutput.capacity=(0,f.minimalCellCapacityCompatible)(t).toHexString()),d.pack(t)},unpack:e=>d.unpack(e)})},91997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return i.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return n.createModelHelper}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return a.outPointHelper}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return o.scriptHelper}});var n=r(53048),i=r(39505),o=r(82206),a=r(61311)},82206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scriptHelper=void 0;var n=r(41600),i=r(14105),o=r(28670),a=r(53048);t.scriptHelper=(0,a.createModelHelper)({pack:e=>n.blockchain.Script.pack("string"==typeof e?function(e){if(e.startsWith("ckb"))return(0,o.parseAddress)(e,{config:i.predefined.LINA});if(e.startsWith("ckt"))return(0,o.parseAddress)(e,{config:i.predefined.AGGRON4});throw new Error(`The address prefix ${e} is unknown`)}(e):e),unpack:e=>n.blockchain.Script.unpack(e)})},81149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshTypeIdCellDeps=async function(e,{resolve:t}){const r=e.cellDeps.map((({outPoint:e})=>e)).toArray(),n=await t(r);return e.update("cellDeps",(e=>e.map(((e,t)=>({...e,outPoint:n[t]})))))}},88591:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToByteArray=function(e){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error("Invalid hex string!");e.startsWith("0x")&&(e=e.slice(2));const t=[];for(;e.length>=2;)t.push(parseInt(e.slice(0,2),16)),e=e.slice(2);return t}},98465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LightClientRPC",{enumerable:!0,get:function(){return n.LightClientRPC}});var n=r(63818)},73596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLightClientScript=t.toFetchTransactionResult=t.toFetchHeaderResult=void 0;var n=r(66501),i=r(24980);t.toFetchHeaderResult=e=>e&&e.status===n.FetchFlag.Fetched?{status:e.status,data:i.ResultFormatter.toHeader(e.data)}:e;t.toFetchTransactionResult=e=>e&&e.status===n.FetchFlag.Fetched?{status:e.status,data:i.ResultFormatter.toTransactionWithStatus(e.data)}:e;t.toLightClientScript=e=>e?{script:i.ResultFormatter.toScript(e.script),blockNumber:e.block_number,scriptType:e.script_type}:e},63818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LightClientRPC=void 0;var n,i=r(24980),o=r(73596),a=(n=r(74945))&&n.__esModule?n:{default:n};t.LightClientRPC=class{constructor(e){this.uri=e}async getTipHeader(){return i.ResultFormatter.toHeader(await s(this.uri,"get_tip_header"))}async getPeers(){return i.ResultFormatter.toPeers(await s(this.uri,"get_peers"))}async localNodeInfo(){return i.ResultFormatter.toLocalNodeInfo(await s(this.uri,"local_node_info"))}async fetchHeader(e){const t=[e];return(0,o.toFetchHeaderResult)(await s(this.uri,"fetch_header",t))}async getHeader(e){const t=[e];return i.ResultFormatter.toHeader(await s(this.uri,"get_header",t))}async fetchTransaction(e){const t=[e];return(0,o.toFetchTransactionResult)(await s(this.uri,"fetch_transaction",t))}async getTransaction(e){const t=[e];return i.ResultFormatter.toTransactionWithStatus(await s(this.uri,"get_transaction",t))}async sendTransaction(e){const t=[i.ParamsFormatter.toRawTransaction(e)];return i.ResultFormatter.toHash(await s(this.uri,"send_transaction",t))}async getScripts(){return(await s(this.uri,"get_scripts")).map(o.toLightClientScript)}async setScripts(e,t){const r=[e.map((({script:e,scriptType:t,blockNumber:r})=>({script:i.ParamsFormatter.toScript(e),script_type:t,block_number:r}))),t];await s(this.uri,"set_scripts",r)}async getCells(e,t,r,n){const o=[i.ParamsFormatter.toGetCellsSearchKey(e),t,r,n];return i.ResultFormatter.toGetCellsResult(await s(this.uri,"get_cells",o))}async getCellsCapacity(e){const t=[i.ParamsFormatter.toSearchKey(e)];return i.ResultFormatter.toCellsCapacity(await s(this.uri,"get_cells_capacity",t))}async getGenesisBlock(){return i.ResultFormatter.toBlock(await s(this.uri,"get_genesis_block"))}async getTransactions(e,t,r,n){const o=[i.ParamsFormatter.toGetTransactionsSearchKey(e),t,r,n];return i.ResultFormatter.toGetTransactionsResult(await s(this.uri,"get_transactions",o))}};const s=async(e,t,r)=>{const n=await(0,a.default)(e,{method:"POST",body:JSON.stringify({id:0,jsonrpc:"2.0",method:t,params:r}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`indexer request failed with HTTP code ${n.status}`);const i=await n.json();if(void 0!==i.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(i.error)}`);return i.result}},66501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LightClientRPC=t.FetchFlag=void 0;t.FetchFlag=function(e){return e.Fetched="fetched",e.Fetching="fetching",e.Added="added",e.NotFound="not_found",e}({}),t.LightClientRPC=void 0},92144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"setupOutputCell",{enumerable:!0,get:function(){return n.setupOutputCell}}),Object.defineProperty(t,"withdraw",{enumerable:!0,get:function(){return n.withdraw}});var n=r(83127)},10219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(t,"payFeeByFeeRate",{enumerable:!0,get:function(){return n.payFeeByFeeRate}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"registerCustomLockScriptInfos",{enumerable:!0,get:function(){return n.registerCustomLockScriptInfos}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}});var n=r(10640)},79712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"calculateDaoEarliestSince",{enumerable:!0,get:function(){return n.calculateDaoEarliestSince}}),Object.defineProperty(t,"calculateDaoEarliestSinceCompatible",{enumerable:!0,get:function(){return n.calculateDaoEarliestSinceCompatible}}),Object.defineProperty(t,"calculateMaximumWithdraw",{enumerable:!0,get:function(){return n.calculateMaximumWithdraw}}),Object.defineProperty(t,"calculateMaximumWithdrawCompatible",{enumerable:!0,get:function(){return n.calculateMaximumWithdrawCompatible}}),Object.defineProperty(t,"deposit",{enumerable:!0,get:function(){return n.deposit}}),Object.defineProperty(t,"extractDaoDataCompatible",{enumerable:!0,get:function(){return n.extractDaoDataCompatible}}),Object.defineProperty(t,"listDaoCells",{enumerable:!0,get:function(){return n.listDaoCells}}),Object.defineProperty(t,"unlock",{enumerable:!0,get:function(){return n.unlock}});var n=r(91461)},87144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omnilock=t.dao=t.common=t.anyoneCanPay=void 0,Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return f.parseFromInfo}}),t.secp256k1Blake160Multisig=t.secp256k1Blake160=void 0,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return f.serializeMultisigScript}}),t.sudt=void 0;var n=l(r(10219));t.common=n;var i=l(r(79712));t.dao=i;var o=l(r(56022));t.sudt=o;var a=l(r(39787));t.secp256k1Blake160=a;var s=l(r(52850));t.secp256k1Blake160Multisig=s;var c=l(r(92144));t.anyoneCanPay=c;var u=l(r(45408));t.omnilock=u;var f=r(45524);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}},45408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"OmnilockWitnessLock",{enumerable:!0,get:function(){return n.OmnilockWitnessLock}}),Object.defineProperty(t,"bitcoin",{enumerable:!0,get:function(){return n.bitcoin}}),Object.defineProperty(t,"createOmnilockScript",{enumerable:!0,get:function(){return n.createOmnilockScript}}),Object.defineProperty(t,"ethereumDisplaying",{enumerable:!0,get:function(){return n.ethereumDisplaying}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"solana",{enumerable:!0,get:function(){return n.solana}});var n=r(60699)},52850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return n.serializeMultisigScript}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}}),Object.defineProperty(t,"transferCompatible",{enumerable:!0,get:function(){return n.transferCompatible}});var n=r(94467)},39787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}}),Object.defineProperty(t,"transferCompatible",{enumerable:!0,get:function(){return n.transferCompatible}});var n=r(1874)},56022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"issueToken",{enumerable:!0,get:function(){return n.issueToken}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}});var n=r(6437)},33701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TESTNET=t.MAINNET=void 0,Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return i.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return i.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return i.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return i.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return i.getConfig}}),Object.defineProperty(t,"helpers",{enumerable:!0,get:function(){return i.helpers}}),Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return i.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return i.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return i.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return i.validateConfig}});var n=r(88195),i=r(14105);t.TESTNET=n.predefined.AGGRON4,t.MAINNET=n.predefined.LINA},24862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TransactionSkeleton",{enumerable:!0,get:function(){return n.TransactionSkeleton}}),Object.defineProperty(t,"addCellDep",{enumerable:!0,get:function(){return i.addCellDep}}),Object.defineProperty(t,"addressToScript",{enumerable:!0,get:function(){return n.addressToScript}}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return o.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return o.createModelHelper}}),Object.defineProperty(t,"createTransactionFromSkeleton",{enumerable:!0,get:function(){return n.createTransactionFromSkeleton}}),Object.defineProperty(t,"createTransactionSkeleton",{enumerable:!0,get:function(){return n.createTransactionSkeleton}}),Object.defineProperty(t,"encodeToAddress",{enumerable:!0,get:function(){return n.encodeToAddress}}),Object.defineProperty(t,"encodeToConfigAddress",{enumerable:!0,get:function(){return n.encodeToConfigAddress}}),Object.defineProperty(t,"minimalCellCapacity",{enumerable:!0,get:function(){return n.minimalCellCapacity}}),Object.defineProperty(t,"minimalCellCapacityCompatible",{enumerable:!0,get:function(){return n.minimalCellCapacityCompatible}}),Object.defineProperty(t,"minimalScriptCapacity",{enumerable:!0,get:function(){return n.minimalScriptCapacity}}),Object.defineProperty(t,"minimalScriptCapacityCompatible",{enumerable:!0,get:function(){return n.minimalScriptCapacityCompatible}}),Object.defineProperty(t,"objectToTransactionSkeleton",{enumerable:!0,get:function(){return n.objectToTransactionSkeleton}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return o.outPointHelper}}),Object.defineProperty(t,"parseAddress",{enumerable:!0,get:function(){return n.parseAddress}}),Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return n.refreshTypeIdCellDeps}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return o.scriptHelper}}),Object.defineProperty(t,"sealTransaction",{enumerable:!0,get:function(){return n.sealTransaction}}),Object.defineProperty(t,"transactionSkeletonToObject",{enumerable:!0,get:function(){return n.transactionSkeletonToObject}});var n=r(28670),i=r(33089),o=r(91997)},3599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return d.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return d.BIish}}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return c.CellCollector}}),Object.defineProperty(t,"Indexer",{enumerable:!0,get:function(){return c.Indexer}}),Object.defineProperty(t,"LightClientRPC",{enumerable:!0,get:function(){return l.LightClientRPC}}),Object.defineProperty(t,"RPC",{enumerable:!0,get:function(){return a.RPC}}),t.helpers=t.hd=t.config=t.commons=void 0,Object.defineProperty(t,"since",{enumerable:!0,get:function(){return n.since}}),t.utils=void 0;var n=r(41600),i=p(r(3018));t.utils=i;var o=p(r(33701));t.config=o;var a=r(24980),s=p(r(38605));t.hd=s;var c=r(44837),u=p(r(24862));t.helpers=u;var f=p(r(35945));t.commons=f;var d=r(92900),l=r(98465);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}},3018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CKBHasher",{enumerable:!0,get:function(){return n.CKBHasher}}),Object.defineProperty(t,"assertHexString",{enumerable:!0,get:function(){return n.assertHexString}}),Object.defineProperty(t,"assertHexadecimal",{enumerable:!0,get:function(){return n.assertHexadecimal}}),Object.defineProperty(t,"ckbHash",{enumerable:!0,get:function(){return n.ckbHash}}),Object.defineProperty(t,"computeScriptHash",{enumerable:!0,get:function(){return n.computeScriptHash}}),Object.defineProperty(t,"formatUnit",{enumerable:!0,get:function(){return i.formatUnit}}),Object.defineProperty(t,"generateTypeIdScript",{enumerable:!0,get:function(){return n.generateTypeIdScript}}),Object.defineProperty(t,"parseUnit",{enumerable:!0,get:function(){return i.parseUnit}});var n=r(54617),i=r(92900)},30469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:i.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:i.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:i.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[n.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toBlock},getHeader:{method:"get_header",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[n.formatter.toOutPoint],resultFormatters:i.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[n.formatter.toArray(n.formatter.toHash),n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[n.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:i.toConsensus}}},80720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184);t.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[n.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[n.formatter.toOutPoint,n.formatter.toHash]}}},15172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcProperties=t.Base=void 0;var n=u(r(30469)),i=u(r(80720)),o=u(r(85387)),a=u(r(79916)),s=u(r(31751)),c=u(r(95131));function u(e){return e&&e.__esModule?e:{default:e}}const f=t.rpcProperties={...n.default,...i.default,...c.default,...o.default,...a.default,...s.default};t.Base=class{#e=f;get rpcProperties(){return this.#e}}},95131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}const a={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:i.toTip},getCells:{method:"get_cells",paramsFormatters:[n.formatter.toGetCellsSearchKey,n.formatter.toOrder,n.formatter.toNumber,n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[n.formatter.toGetTransactionsSearchKey,n.formatter.toOrder,n.formatter.toNumber,n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[n.formatter.toSearchKey],resultFormatters:i.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toNullable(i.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[n.formatter.toArray(n.formatter.toHash),n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[n.formatter.toTransactionAndWitnessProof],resultFormatters:i.toArray(i.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[n.formatter.toHash,n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toNullable(i.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[n.formatter.toRawTransaction],resultFormatters:i.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toFeeRateStatistics)}};t.default=a},85387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:i.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:i.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:i.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:i.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[n.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}}},79916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default={sendTransaction:{method:"send_transaction",paramsFormatters:[n.formatter.toRawTransaction,n.formatter.toOutputsValidator],resultFormatters:i.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:i.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:i.toRawTxPool}}},31751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(27753));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}t.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:n.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:n.toDeploymentsInfo}}},24228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ErrorCode=void 0;let r=t.ErrorCode=function(e){return e[e.ParameterInvalid=101]="ParameterInvalid",e[e.IdNotMatch=201]="IdNotMatch",e[e.MethodNotFound=202]="MethodNotFound",e[e.PayloadMessage=203]="PayloadMessage",e[e.ResponseMessage=204]="ResponseMessage",e}({});t.default=r},39915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PayloadInBatchException=t.MethodInBatchNotFoundException=t.IdNotMatchedInBatchException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n},o=r(49580);const a="Batch Request";class s extends Error{code=i.default.MethodNotFound;constructor(e){super(`[${a}]: Method ${e} is not found`)}}t.MethodInBatchNotFoundException=s;class c extends Error{code=i.default.PayloadMessage;constructor(e,t){super(`[${a} ${e}]: ${t}`),this.index=e}}t.PayloadInBatchException=c;class u extends o.IdNotMatchException{constructor(e,t,r){super(t,r),this.message=`[${a} ${e}]: ${this.message}`,this.index=e}}t.IdNotMatchedInBatchException=u;t.default={MethodInBatchNotFoundException:s,PayloadInBatchException:c,IdNotMatchedInBatchException:u}},91173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StringHashTypeException=t.PageSizeTooSmallException=t.PageSizeTooLargeException=t.OutputsValidatorTypeException=t.HexStringWithout0xException=t.BigintOrHexStringTypeException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n};class o extends RangeError{code=i.default.ParameterInvalid;constructor(e,t){super(`Expect page size to be at most ${t}, but ${e} received`)}}t.PageSizeTooLargeException=o;class a extends RangeError{code=i.default.ParameterInvalid;constructor(e,t){super(`Expect page size to be at least ${t}, but ${e} received`)}}t.PageSizeTooSmallException=a;class s extends TypeError{code=i.default.ParameterInvalid;constructor(){super("Expect outputs validator to be 'default' or 'passthrough'")}}t.OutputsValidatorTypeException=s;class c extends TypeError{code=i.default.ParameterInvalid;constructor(e){super(`Expect number to be bigint or hex string, but ${e} received`)}}t.BigintOrHexStringTypeException=c;class u extends TypeError{code=i.default.ParameterInvalid;constructor(e){super(`Expect hash to be string, but ${e} received`)}}t.StringHashTypeException=u;class f extends Error{code=i.default.ParameterInvalid;constructor(e){super(`Hex string ${e} should start with 0x`)}}t.HexStringWithout0xException=f;t.default={PageSizeTooLargeException:o,PageSizeTooSmallException:a,OutputsValidatorTypeException:s,BigintOrHexStringTypeException:c,StringHashTypeException:u,HexStringWithout0xException:f}},29383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(91173);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var i=r(49580);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(39915);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},49580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ResponseException=t.IdNotMatchException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n};class o extends Error{code=i.default.IdNotMatch;constructor(e,t){super(`Expect json rpc id to be ${e}, but ${t} received`)}}t.IdNotMatchException=o;class a extends Error{code=i.default.ResponseMessage}t.ResponseException=a;t.default={IdNotMatchException:o,ResponseException:a}},24980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultFormatter=t.RPC=t.ParamsFormatter=t.DEFAULT_RPC_TIMEOUT=t.CKBRPC=void 0;var n=r(15172),i=r(7395),o=r(41184),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(27753)),s=r(29383),c=f(r(74945)),u=f(r(25568));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.ParamsFormatter=o.formatter,t.ResultFormatter=a;const l=t.DEFAULT_RPC_TIMEOUT=3e4;class h extends n.Base{#t;#r={url:""};get node(){return this.#r}#n=o.formatter;get paramsFormatter(){return this.#n}#i=a;get resultFormatter(){return this.#i}constructor(e,t={}){super(),this.setNode({url:e});const{timeout:r=l,fetch:n=c.default}=t;this.#t={timeout:r,fetch:n},Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach((e=>{this.addMethod({name:e,...this.rpcProperties[e]},this.#t)}))}setNode(e){return Object.assign(this.node,e),this.node}addMethod=(e,t)=>{const r=new i.Method(this.node,e,t);Object.defineProperty(this,e.name,{value:r.call,enumerable:!0})};createBatchRequest=(e=[])=>{const t=this,r=new Proxy([],{set(...e){const r=Object.keys(t);if("length"!==e[1]){var n;const t=null==e||null===(n=e[2])||void 0===n?void 0:n[0];if(-1===r.indexOf(t))throw new s.MethodInBatchNotFoundException(t)}return Reflect.set(...e)}});return Object.defineProperties(r,{add:{value(...e){return this.push(e),this}},remove:{value(e){return this.splice(e,1),this}},exec:{async value(){const e=r.map((([e,...r],n)=>{try{return new i.Method(t.node,{...t.rpcProperties[e],name:e}).getPayload(...r)}catch(e){throw new s.PayloadInBatchException(n,e.message)}})),n=new u.default,o=n.signal,a=setTimeout((()=>n.abort()),t.#t.timeout),c=await t.#t.fetch(t.#r.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:o}).then((e=>e.json()));return clearTimeout(a),c.map(((n,i)=>{var o,a,c;return n.id!==e[i].id?new s.IdNotMatchedInBatchException(i,e[i].id,n.id):null!==(o=null===(a=(c=t.rpcProperties[r[i][0]]).resultFormatters)||void 0===a?void 0:a.call(c,n.result))&&void 0!==o?o:n.result}))}}}),e.forEach((e=>r.push(e))),r}}t.RPC=t.CKBRPC=h},7395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Method=void 0;var n=r(29383),i=r(24980),o=s(r(25568)),a=s(r(74945));function s(e){return e&&e.__esModule?e:{default:e}}t.Method=class{#o;#t;get name(){return this.#o}#a={name:"",method:"",paramsFormatters:[],resultFormatters:void 0};#r;constructor(e,t,r={}){this.#r=e,this.#a=t,this.#o=t.name;const{timeout:n=i.DEFAULT_RPC_TIMEOUT,fetch:o=a.default}=r;this.#t={timeout:n,fetch:o},Object.defineProperty(this.call,"name",{value:t.name,configurable:!1,writable:!1})}call=async(...e)=>{const t=this.getPayload(...e),r=new o.default,i=r.signal,a=setTimeout((()=>r.abort()),this.#t.timeout),s=await this.#t.fetch(this.#r.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),signal:i}).then((e=>e.json())).then((e=>{var r,i,o;if(e.id!==t.id)throw new n.IdNotMatchException(t.id,e.id);if(e.error)throw new n.ResponseException(JSON.stringify(e.error));return null!==(r=null===(i=(o=this.#a).resultFormatters)||void 0===i?void 0:i.call(o,e.result))&&void 0!==r?r:e.result}));return clearTimeout(a),s};getPayload=(...e)=>{const t=e.map(((e,t)=>this.#a.paramsFormatters[t]&&this.#a.paramsFormatters[t](e)||e));return{id:Math.round(1e4*Math.random()),method:this.#a.method,params:t,jsonrpc:"2.0"}}}},41184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatter=void 0;var n=r(29383),i=r(92900);const o=t.formatter={toOptional:e=>t=>e&&null!=t?e(t):t,toArray:e=>t=>"function"==typeof e&&Array.isArray(t)?t.map(e):t,toHash:e=>{if("string"!=typeof e)throw new n.StringHashTypeException(e);return e.startsWith("0x")?e:`0x${e}`},toNumber:e=>{if("bigint"==typeof e)return`0x${e.toString(16)}`;if("string"!=typeof e)throw new n.BigintOrHexStringTypeException(e);if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return e},toScript:e=>{const{codeHash:t,hashType:r,...n}=e;return{code_hash:o.toHash(t),hash_type:r,...n}},toOutPoint:e=>{const{txHash:t,index:r,...n}=e;return{tx_hash:o.toHash(t),index:o.toNumber(r),...n}},toInput:e=>{if(!e)return e;const{previousOutput:t,since:r,...n}=e;return{previous_output:o.toOutPoint(t),since:o.toNumber(r),...n}},toOutput:e=>{if(!e)return e;const{capacity:t,lock:r,type:n,...i}=e;return{capacity:o.toNumber(t),lock:o.toScript(r),type:n?o.toScript(n):n,...i}},toDepType:e=>"depGroup"===e?"dep_group":e,toOrder:e=>e,toCellDep:e=>{if(!e)return e;const{outPoint:t,depType:r="code",...n}=e;return{out_point:o.toOutPoint(t),dep_type:o.toDepType(r),...n}},toRawTransaction:e=>{if(!e)return e;const{version:t,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:a=[],headerDeps:s=[],...c}=e,u=n.map((e=>o.toInput(e))),f=i.map((e=>o.toOutput(e))),d=r.map((e=>o.toCellDep(e)));return{version:o.toNumber(t),cell_deps:d,inputs:u,outputs:f,outputs_data:a,header_deps:s,...c}},toPageNumber:(e="0x1")=>o.toNumber(e),toPageSize:(e="0x32")=>{const t=i.BI.from(e);if(i.BI.from(t).gt(50))throw new n.PageSizeTooLargeException(e,50);if(i.BI.from(t).lt(0))throw new n.PageSizeTooSmallException(e,0);return o.toNumber(`0x${t.toString(16)}`)},toReverseOrder:(e=!1)=>!!e,toOutputsValidator:e=>{if(!e)return;if(["default","passthrough"].indexOf(e)>-1)return e;throw new n.OutputsValidatorTypeException},toBoolean:e=>!!e,toTransactionProof:e=>{if(!e)return e;const{blockHash:t,witnessesRoot:r,...n}=e;return{block_hash:t,witnesses_root:r,...n}},toTransactionAndWitnessProof:e=>({block_hash:e.blockHash,witnesses_proof:e.witnessesProof,transactions_proof:e.transactionsProof}),toSearchFilter:e=>e?{script:e.script?o.toScript(e.script):e.script,output_data_len_range:e.outputDataLenRange,output_capacity_range:e.outputCapacityRange,block_range:e.blockRange,script_len_range:e.scriptLenRange}:e,toSearchKey:e=>e?{script:o.toScript(e.script),script_type:e.scriptType,filter:e.filter?o.toSearchFilter(e.filter):e.filter,script_search_mode:e.scriptSearchMode?e.scriptSearchMode:"prefix"}:e,toGetCellsSearchKey:e=>e?{...o.toSearchKey(e),with_data:e.withData}:e,toGetTransactionsSearchKey:e=>e?{...o.toSearchKey(e),group_by_transaction:e.groupByTransaction}:e}},27753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBannedAddresses=t.toBannedAddress=t.toArray=t.toAlertMessage=void 0,t.toBlock=function e(t){if(!t)return t;if("string"==typeof t)return t;if("block"in t&&"cycles"in t)return{cycles:t.cycles,block:e(t.block)};const{header:n,uncles:i=[],transactions:o=[],...a}=t;return{header:r(n),uncles:i.map(f),transactions:o.map(u),...a}},t.toHash=t.toGetTransactionsResult=t.toGetCellsResult=t.toForkBlockResult=t.toFeeRateStatistics=t.toFeeRate=t.toEstimateCycles=t.toEpoch=t.toDeploymentsInfo=t.toDeploymentInfo=t.toDeployment=t.toDeployState=t.toDepType=t.toConsensus=t.toCellsIncludingOutPoint=t.toCellsCapacity=t.toCells=t.toCellbaseOutputCapacityDetails=t.toCellIncludingOutPoint=t.toCellDep=t.toCell=t.toCapacityByLockHash=t.toBlockchainInfo=t.toBlockFilter=t.toBlockEconomicState=void 0,t.toHeader=r,t.toTip=t.toSyncState=t.toScript=t.toRemoteNodeInfo=t.toRawTxPool=t.toPeers=t.toOutput=t.toOutPoint=t.toNumber=t.toNullable=t.toLockHashIndexStates=t.toLockHashIndexState=t.toLocalNodeInfo=t.toLiveCellsByLockHash=t.toLiveCellWithStatus=t.toLiveCell=t.toInput=void 0,t.toTransaction=u,t.toUncleBlock=t.toTxPoolInfo=t.toTransactionsByLockHash=t.toTransactionWithStatus=t.toTransactionProof=t.toTransactionPoint=t.toTransactionAndWitnessProof=void 0;t.toArray=e=>t=>"function"==typeof e&&Array.isArray(t)?t.map(e):t;t.toNullable=e=>t=>e&&null!==t?e(t):t;t.toNumber=e=>e.toString();function r(e){if("string"==typeof e)return e;if(!e)return e;const{compact_target:t,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:o,...a}=e;return{compactTarget:t,parentHash:o,transactionsRoot:r,proposalsHash:n,extraHash:i,...a}}t.toHash=e=>e;const n=e=>{if(!e)return e;const{code_hash:t,hash_type:r,...n}=e;return{codeHash:t,hashType:r,...n}};t.toScript=n;const i=e=>{if(!e)return e;const{previous_output:t,...r}=e;return{previousOutput:t?a(t):t,...r}};t.toInput=i;const o=e=>{if(!e)return e;const{lock:t,type:r,...i}=e;return{lock:n(t),type:r?n(r):r,...i}};t.toOutput=o;const a=e=>{const{tx_hash:t,...r}=e;return{txHash:t,...r}};t.toOutPoint=a;const s=e=>"dep_group"===e?"depGroup":e;t.toDepType=s;const c=e=>{if(!e)return e;const{out_point:t,dep_type:r="code",...n}=e;return{outPoint:a(t),depType:s(r),...n}};function u(e){if(!e||"object"!=typeof e)return e;const{cell_deps:t=[],inputs:r=[],outputs:n=[],outputs_data:a=[],header_deps:s=[],...u}=e;return{cellDeps:t.map(c),inputs:r.map(i),outputs:n.map(o),outputsData:a,headerDeps:s,...u}}t.toCellDep=c;const f=e=>{if(!e)return e;const{header:t,...n}=e;return{header:r(t),...n}};t.toUncleBlock=f;t.toTip=e=>({blockHash:e.block_hash,blockNumber:e.block_number});const d=e=>{if(!e)return e;const{notice_until:t,...r}=e;return{noticeUntil:t,...r}};t.toAlertMessage=d;t.toBlockchainInfo=e=>{if(!e)return e;const{is_initial_block_download:t,median_time:r,alerts:n,...i}=e;return{isInitialBlockDownload:t,medianTime:r,alerts:n.map(d),...i}};t.toLocalNodeInfo=e=>{if(!e)return e;const{node_id:t,protocols:r,...n}=e;return{nodeId:t,protocols:r.map((({id:e,name:t,support_versions:r})=>({id:e,name:t,supportVersions:r}))),...n}};const l=e=>{if(!e)return e;const{node_id:t,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:o,...a}=e;return{nodeId:t,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:o.best_known_header_hash,bestKnownHeaderNumber:o.best_known_header_number,canFetchCount:o.can_fetch_count,inflightCount:o.inflight_count,lastCommonHeaderHash:o.last_common_header_hash,lastCommonHeaderNumber:o.last_common_header_number,unknownHeaderListSize:o.unknown_header_list_size},...a}};t.toRemoteNodeInfo=l;t.toTxPoolInfo=e=>{if(!e)return e;const{last_txs_updated_at:t,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:o,min_fee_rate:a,min_rbf_rate:s,tx_size_limit:c,max_tx_pool_size:u,...f}=e;return{lastTxsUpdatedAt:t,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:o,minFeeRate:a,minRbfRate:s,txSizeLimit:c,maxTxPoolSize:u,...f}};t.toPeers=e=>Array.isArray(e)?e.map(l):[];const h=e=>{if(!e)return e;const{lock:t,type:r,...i}=e;return{lock:n(t),type:r?n(r):void 0,...i}};t.toCell=h;const p=e=>{if(!e)return e;const{data:t,output:r,...n}=e;return{data:t,output:o(r),...n}};t.toLiveCell=p;t.toLiveCellWithStatus=e=>{if(!e)return e;const{cell:t,...r}=e;return{cell:p(t),...r}};t.toCells=e=>Array.isArray(e)?e.map(h):[];const b=e=>{if(!e)return e;const{lock:t,block_hash:r,out_point:i,output_data_len:o,...s}=e;return{blockHash:r,lock:n(t),outPoint:a(i),outputDataLen:o,...s}};t.toCellIncludingOutPoint=b;t.toCellsIncludingOutPoint=e=>Array.isArray(e)?e.map(b):[];t.toTransactionWithStatus=e=>{if(!e)return e;const{transaction:t,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:o,fee:a,...s}=e;return{transaction:u(t),txStatus:{blockHash:r,status:n,..."reason"in e.tx_status?{reason:e.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:o,fee:a,...s}};t.toEpoch=e=>{if(!e)return e;const{start_number:t,compact_target:r,...n}=e;return{compactTarget:r,startNumber:t,...n}};const y=e=>{if(!e)return e;const{block_number:t,tx_hash:r,...n}=e;return{blockNumber:t,txHash:r,...n}};t.toTransactionPoint=y;t.toTransactionsByLockHash=e=>e?e.map((e=>({consumedBy:e.consumed_by?y(e.consumed_by):e.consumed_by,createdBy:y(e.created_by)}))):e;t.toLiveCellsByLockHash=e=>e?e.map((e=>({cellOutput:h(e.cell_output),createdBy:y(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}))):e;const g=e=>{if(!e)return e;const{block_hash:t,block_number:r,lock_hash:n,...i}=e;return{blockHash:t,blockNumber:r,lockHash:n,...i}};t.toLockHashIndexState=g;t.toLockHashIndexStates=e=>e?e.map(g):e;const m=e=>{if(!e)return e;const{ban_reason:t,ban_until:r,created_at:n,...i}=e;return{banReason:t,banUntil:r,createdAt:n,...i}};t.toBannedAddress=m;t.toBannedAddresses=e=>e?e.map((e=>m(e))):e;t.toCellbaseOutputCapacityDetails=e=>{if(!e)return e;const{proposal_reward:t,tx_fee:r,...n}=e;return{proposalReward:t,txFee:r,...n}};t.toFeeRate=e=>{if(!e)return e;const{fee_rate:t,...r}=e;return{feeRate:t,...r}};t.toCapacityByLockHash=e=>{if(!e)return e;const{cells_count:t,block_number:r,capacity:n,...i}=e;return{blockNumber:r,capacity:n,cellsCount:t,...i}};t.toBlockEconomicState=e=>{if(!e)return e;const{finalized_at:t,miner_reward:r,txs_fee:n,...i}=e;return{finalizedAt:t,minerReward:r,txsFee:n,...i}};t.toSyncState=e=>e?{bestKnownBlockNumber:e.best_known_block_number,bestKnownBlockTimestamp:e.best_known_block_timestamp,fastTime:e.fast_time,ibd:e.ibd,inflightBlocksCount:e.inflight_blocks_count,lowTime:e.low_time,normalTime:e.normal_time,orphanBlocksCount:e.orphan_blocks_count}:e;t.toTransactionProof=e=>{if(!e)return e;const{block_hash:t,witnesses_root:r,...n}=e;return{blockHash:t,witnessesRoot:r,...n}};const v=e=>({rfc:e.rfc,epochNumber:e.epoch_number}),_=e=>({bit:e.bit,start:e.start,timeout:e.timeout,minActivationEpoch:e.min_activation_epoch,period:e.period,threshold:e.threshold});t.toDeployment=_;const w=e=>"rfc0043"in e?{status:e.status,rfc0043:_(e.rfc0043)}:e;t.toConsensus=e=>{if(!e)return e;const t=e.hardfork_features,r=e.softforks,n=r.light_client&&w(r.light_client),i=r.testdummy&&w(r.testdummy);return{blockVersion:e.block_version,cellbaseMaturity:e.cellbase_maturity,daoTypeHash:e.dao_type_hash,epochDurationTarget:e.epoch_duration_target,genesisHash:e.genesis_hash,id:e.id,initialPrimaryEpochReward:e.initial_primary_epoch_reward,maxBlockBytes:e.max_block_bytes,maxBlockCycles:e.max_block_cycles,maxBlockProposalsLimit:e.max_block_proposals_limit,maxUnclesNum:e.max_uncles_num,medianTimeBlockCount:e.median_time_block_count,orphanRateTarget:e.orphan_rate_target,permanentDifficultyInDummy:e.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:e.primary_epoch_reward_halving_interval,proposerRewardRatio:e.proposer_reward_ratio,secondaryEpochReward:e.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:e.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:e.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:e.tx_proposal_window,txVersion:e.tx_version,typeIdCodeHash:e.type_id_code_hash,hardforkFeatures:t.map(v),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};t.toRawTxPool=e=>{if(!e)return e;if((e=>Array.isArray(e.pending))(e))return e;const t=({ancestors_count:e,ancestors_cycles:t,ancestors_size:r,...n})=>({ancestorsCount:e,ancestorsCycles:t,ancestorsSize:r,...n}),r={},n={};return Object.keys(e.proposed).forEach((n=>{r[n]=t(e.proposed[n])})),Object.keys(e.pending).forEach((r=>{n[r]=t(e.pending[r])})),{proposed:r,pending:n}};t.toGetCellsResult=e=>({lastCursor:e.last_cursor,objects:e.objects.map((e=>{return(t=e)?{blockNumber:t.block_number,outPoint:a(t.out_point),output:o(t.output),outputData:t.output_data,txIndex:t.tx_index}:t;var t}))});t.toGetTransactionsResult=e=>e?{lastCursor:e.last_cursor,objects:e.objects.map((e=>{return(t=e)?t.cells?{txHash:t.tx_hash,txIndex:t.tx_index,blockNumber:t.block_number,cells:t.cells}:{txHash:t.tx_hash,blockNumber:t.block_number,ioIndex:t.io_index,ioType:t.io_type,txIndex:t.tx_index}:t;var t}))}:e;t.toCellsCapacity=e=>e?{capacity:e.capacity,blockHash:e.block_hash,blockNumber:e.block_number}:e;t.toBlockFilter=e=>({hash:e.hash,data:e.data});t.toTransactionAndWitnessProof=e=>({blockHash:e.block_hash,transactionsProof:e.transactions_proof,witnessesProof:e.witnesses_proof});t.toFeeRateStatistics=e=>({mean:e.mean,median:e.median});t.toForkBlockResult=e=>"string"==typeof e?e:{header:r(e.header),uncles:e.uncles.map(f),transactions:e.transactions.map(u),proposals:e.proposals,extension:e.extension};t.toEstimateCycles=e=>({cycles:e.cycles});const S=e=>"locked_in"===e?"lockedIn":e;t.toDeployState=S;const x=e=>({bit:e.bit,start:e.start,timeout:e.timeout,minActivationEpoch:e.min_activation_epoch,period:e.period,threshold:e.threshold,since:e.since,state:S(e.state)});t.toDeploymentInfo=x;t.toDeploymentsInfo=e=>{const{light_client:t,testdummy:r}=e.deployments;return{hash:e.hash,epoch:e.epoch,deployments:{...t?{lightClient:x(t)}:{},...r?{testdummy:x(r)}:{}}}}},49805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return n.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var n=r(42314),i=c(r(69869));t.normalizers=i;var o=c(r(93561));t.transformers=o;var a=c(r(20630));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.validators=a;t.VERSION="__development_build__"},69869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizeBlock=function(e,{debugPath:t="block"}={}){return s(t,e,{header:f(m),uncles:p(f(v)),transactions:p(f(y)),proposals:p(a(10))})},t.NormalizeCellDep=h,t.NormalizeCellInput=d,t.NormalizeCellOutput=l,t.NormalizeCellbaseWitness=function(e,{debugPath:t="cellbase_witness"}={}){return s(t,e,{lock:f(c),message:a(-1)})},t.NormalizeHeader=m,t.NormalizeOutPoint=u,t.NormalizeRawHeader=g,t.NormalizeRawTransaction=b,t.NormalizeScript=c,t.NormalizeTransaction=y,t.NormalizeUncleBlock=v,t.NormalizeWitnessArgs=function(e,{debugPath:t="witness_args"}={}){const r={};e.lock&&(r.lock=a(-1)(`${t}.lock`,e.lock));e.inputType&&(r.inputType=a(-1)(`${t}.inputType`,e.inputType));e.outputType&&(r.outputType=a(-1)(`${t}.outputType`,e.outputType));return r};var n=r(92900),i=r(42314);function o(e){return function(t,r){if(!(r instanceof ArrayBuffer)){let i=n.BI.from(r).toString(16);if(i.length%2!=0&&(i="0"+i),i.length/2>e)throw new Error(`${t} is ${i.length/2} bytes long, expected length is ${e}!`);const o=new DataView(new ArrayBuffer(e));for(let e=0;e<i.length/2;e++){const t=i.length-2*(e+1);o.setUint8(e,parseInt(i.substr(t,2),16))}r=o.buffer}if(r.byteLength<e){const t=new Uint8Array(e);t.set(new Uint8Array(r),0),r=t.buffer}return r}}function a(e){return function(t,r){if(r=new i.Reader(r).toArrayBuffer(),e>0&&r.byteLength!==e)throw new Error(`${t} has invalid length ${r.byteLength}, required: ${e}`);return r}}function s(e,t,r){const n={};for(const[i,o]of Object.entries(r)){const r=t[i];if(null==r)throw new Error(`${e} is missing ${i}!`);n[i]=o(`${e}.${i}`,r)}return n}function c(e,{debugPath:t="script"}={}){return s(t,e,{codeHash:a(32),hashType:function(e,t){switch(t){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:case 1:case 2:case 4:return t;default:throw new Error(`${e}.hashType has invalid value: ${t}`)}},args:a(-1)})}function u(e,{debugPath:t="outPoint"}={}){return s(t,e,{txHash:a(32),index:o(4)})}function f(e){return function(t,r){return e(r,{debugPath:t})}}function d(e,{debugPath:t="cell_input"}={}){return s(t,e,{since:o(8),previousOutput:f(u)})}function l(e,{debugPath:t="cellOutput"}={}){const r=s(t,e,{capacity:o(8),lock:f(c)});return e.type&&(r.type_=c(e.type,{debugPath:`${t}.type`})),r}function h(e,{debugPath:t="cell_dep"}={}){return s(t,e,{outPoint:f(u),depType:function(e,t){switch(t){case"code":return 0;case"depGroup":return 1;case 0:case 1:return t;default:throw new Error(`${e}.depType has invalid value: ${t}`)}}})}function p(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function b(e,{debugPath:t="raw_transaction"}={}){return s(t,e,{version:o(4),cellDeps:p(f(h)),headerDeps:p(a(32)),inputs:p(f(d)),outputs:p(f(l)),outputsData:p(a(-1))})}function y(e,{debugPath:t="transaction"}={}){const r=b(e,{debugPath:`(raw)${t}`}),n=s(t,e,{witnesses:p(a(-1))});return n.raw=r,n}function g(e,{debugPath:t="raw_header"}={}){return s(t,e,{version:o(4),compactTarget:o(4),timestamp:o(8),number:o(8),epoch:o(8),parentHash:a(32),transactionsRoot:a(32),proposalsHash:a(32),extraHash:a(32),dao:a(32)})}function m(e,{debugPath:t="header"}={}){const r=g(e,{debugPath:`(raw)${t}`}),n=s(t,e,{nonce:o(16)});return n.raw=r,n}function v(e,{debugPath:t="uncle_block"}={}){return s(t,e,{header:f(m),proposals:p(a(10))})}},42314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=void 0;class r{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return null!=e&&(e instanceof r||!0===e.__isByteLikeReader__)}}class n extends r{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),(e=>("00"+e.toString(16)).slice(-2))).join("")}}class i extends r{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+2*e,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),t=new DataView(e);for(let e=0;e<this.length();e++)t.setUint8(e,this.indexAt(e));return e}serializeJson(){return this.string}}class o extends r{constructor(e){if(super(),e instanceof i||e instanceof n)return e;if("string"==typeof e){if(!e.startsWith("0x")||e.length%2!=0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new i(e)}if(e instanceof ArrayBuffer)return new n(e);if(e instanceof Uint8Array)return new n(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new o(e)}static fromRawString(e){const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>255)throw new Error("fromRawString can only accept UTF-8 raw string!");r.setUint8(t,n)}return new n(t)}}t.Reader=o},93561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformBlock=function(e,{validation:t=!0,debugPath:r="block"}={}){e=a(r,e,{header:u(b),uncles:h(u(y)),transactions:h(u(p)),proposals:h(o)}),t&&n.ValidateBlock(e,{debugPath:`(transformed) ${r}`});return e},t.TransformCellInput=f,t.TransformCellOutput=d,t.TransformCellbaseWitness=function(e,{validation:t=!0,debugPath:r="cellbase_witness"}={}){e=a(r,e,{lock:u(s),message:o}),t&&n.ValidateCellbaseWitness(e,{debugPath:`(transformed) ${r}`});return e},t.TransformHeader=b,t.TransformOutPoint=c,t.TransformRawHeader=function(e,{validation:t=!0,debugPath:r="raw_header"}={}){e=a(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o}),t&&n.ValidateRawHeader(e,{debugPath:`(transformed) ${r}`});return e},t.TransformRawTransaction=function(e,{validation:t=!0,debugPath:r="raw_transaction"}={}){e=a(r,e,{version:o,cellDeps:h(u(l)),headerDeps:h(o),inputs:h(u(f)),outputs:h(u(d)),outputsData:h(o)}),t&&n.ValidateRawTransaction(e,{debugPath:`(transformed) ${r}`});return e},t.TransformScript=s,t.TransformTransaction=p,t.TransformUncleBlock=y,t.TransformWitnessArgs=function(e,{validation:t=!0,debugPath:r="witness_args"}={}){e=a(r,e,{lock:o,inputType:o,outputType:o}),t&&n.ValidateWitnessArgs(e,{debugPath:`(transformed) ${r}`});return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(20630));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){return t instanceof Object&&t.serializeJson instanceof Function?t.serializeJson.call(t):t}function a(e,t,r){if(!((t=o(0,t))instanceof Object))throw new Error(`Transformed ${e} is not an object!`);const n={};for(const[i,o]of Object.entries(r)){let r=t[i];if(!r){r=t[i.replace(/(_[a-z])/g,(e=>e.toUpperCase().replace("_","")))]}r&&(n[i]=o(`${e}.${i}`,r))}return n}function s(e,{validation:t=!0,debugPath:r="script"}={}){return e=a(r,e,{codeHash:o,hashType:o,args:o}),t&&n.ValidateScript(e,{debugPath:`(transformed) ${r}`}),e}function c(e,{validation:t=!0,debugPath:r="outPoint"}={}){return e=a(r,e,{txHash:o,index:o}),t&&n.ValidateOutPoint(e,{debugPath:`(transformed) ${r}`}),e}function u(e){return function(t,r){return e(r,{validation:!1,debugPath:t})}}function f(e,{validation:t=!0,debugPath:r="cell_input"}={}){return e=a(r,e,{since:o,previousOutput:u(c)}),t&&n.ValidateCellInput(e,{debugPath:`(transformed) ${r}`}),e}function d(e,{validation:t=!0,debugPath:r="cellOutput"}={}){return e=a(r,e,{capacity:o,lock:u(s),type:u(s)}),t&&n.ValidateCellOutput(e,{debugPath:`(transformed) ${r}`}),e}function l(e,{validation:t=!0,debugPath:r="cell_dep"}={}){return e=a(r,e,{outPoint:u(c),depType:o}),t&&n.ValidateCellDep(e,{debugPath:`(transformed) ${r}`}),e}function h(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function p(e,{validation:t=!0,debugPath:r="transaction"}={}){return e=a(r,e,{version:o,cellDeps:h(u(l)),headerDeps:h(o),inputs:h(u(f)),outputs:h(u(d)),outputsData:h(o),witnesses:h(o)}),t&&n.ValidateTransaction(e,{debugPath:`(transformed) ${r}`}),e}function b(e,{validation:t=!0,debugPath:r="header"}={}){return e=a(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o,nonce:o}),t&&n.ValidateHeader(e,{debugPath:`(transformed) ${r}`}),e}function y(e,{validation:t=!0,debugPath:r="uncle_block"}={}){return e=a(r,e,{header:u(b),proposals:h(o)}),t&&n.ValidateUncleBlock(e,{debugPath:`(transformed) ${r}`}),e}},20630:(e,t)=>{"use strict";function r(e,t,r,n=[]){!function(e,t){if(!(t instanceof Object))throw new Error(`${e} is not an object!`)}(e,t);const i=Object.keys(t).sort(),o=r.length,a=r.length+n.length,s=`${e} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<o||i.length>a)throw new Error(s);let c=i.filter((e=>!r.includes(e)));if(i.length-c.length!==o)throw new Error(s);if(c.find((e=>!n.includes(e))))throw new Error(s)}function n(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function i(e,t){if(n(e,t),66!==t.length)throw new Error(`${e} must be a hex string of 66 bytes long!`)}function o(e,t){if("0x0"!==t&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function a(e,{nestedValidation:t=!0,debugPath:o="script"}={}){if(r(o,e,["codeHash","hashType","args"],[]),i(`${o}.codeHash`,e.codeHash),n(`${o}.args`,e.args),"data"!==e.hashType&&"type"!==e.hashType&&"data1"!==e.hashType&&"data2"!==e.hashType)throw new Error(`${o}.hashType must be either data or type!`)}function s(e,{nestedValidation:t=!0,debugPath:n="outPoint"}={}){r(n,e,["txHash","index"],[]),i(`${n}.txHash`,e.txHash),o(`${n}.index`,e.index)}function c(e,{nestedValidation:t=!0,debugPath:n="cellInput"}={}){r(n,e,["since","previousOutput"],[]),o(`${n}.since`,e.since),t&&s(e.previousOutput,{debugPath:`${n}.previousOutput`})}function u(e,{nestedValidation:t=!0,debugPath:n="cellOutput"}={}){r(n,e,["capacity","lock"],["type"]),o(`${n}.capacity`,e.capacity),t&&(a(e.lock,{debugPath:`${n}.lock`}),e.type&&a(e.type,{debugPath:`${n}.type`}))}function f(e,{nestedValidation:t=!0,debugPath:n="cellDep"}={}){if(r(n,e,["outPoint","depType"],[]),"code"!==e.depType&&"depGroup"!==e.depType)throw new Error(`${n}.depType must be either code or depGroup!`);t&&s(e.outPoint,{debugPath:`${n}.outPoint`})}function d(e,t,r,n){if(!Array.isArray(t))throw new Error(`${e} is not an array!`);if(n)for(let n=0;n<t.length;n++)r(`${e}[${n}]`,t[n])}function l(e,t){return function(r,n){e(n,{nestedValidation:t,debugPath:r})}}function h(e,t,r){o(`${e}.version`,t.version),d(`${e}.cellDeps`,t.cellDeps,l(f,r),r),d(`${e}.headerDeps`,t.headerDeps,i,r),d(`${e}.inputs`,t.inputs,l(c,r),r),d(`${e}.outputs`,t.outputs,l(u,r),r),d(`${e}.outputsData`,t.outputsData,n,r)}function p(e,{nestedValidation:t=!0,debugPath:i="transaction"}={}){r(i,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),h(i,e,t),d(`${i}.witnesses`,e.witnesses,n,t)}function b(e,{nestedValidation:t=!0,debugPath:i="header"}={}){if(r(i,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),n(`${i}.nonce`,e.nonce),34!==e.nonce.length)throw new Error(`${i}.nonce must be a hex string of 34 bytes long!`)}function y(e,t){if(n(e,t),22!==t.length)throw new Error(`${e} must be a hex string of 22 bytes long!`)}function g(e,{nestedValidation:t=!0,debugPath:n="uncleBlock"}={}){r(n,e,["header","proposals"],[]),t&&b(e.header,{debugPath:`${n}.header`}),d(`${n}.proposals`,e.proposals,y,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateBlock=function(e,{nestedValidation:t=!0,debugPath:n="block"}={}){r(n,e,["header","uncles","transactions","proposals"],[]),t&&b(e.header,{debugPath:`${n}.header`});d(`${n}.uncles`,e.uncles,l(g,t),t),d(`${n}.transactions`,e.transactions,l(p,t),t),d(`${n}.proposals`,e.proposals,y,t)},t.ValidateCellDep=f,t.ValidateCellInput=c,t.ValidateCellOutput=u,t.ValidateCellbaseWitness=function(e,{nestedValidation:t=!0,debugPath:i="cellbaseWitness"}={}){r(i,e,["lock","message"],[]),n(`${i}.message`,e.message),t&&a(e.lock,{debugPath:`${i}.lock`})},t.ValidateHeader=b,t.ValidateOutPoint=s,t.ValidateRawHeader=function(e,{nestedValidation:t=!0,debugPath:n="rawHeader"}={}){r(n,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),function(e,t){o(`${e}.version`,t.version),o(`${e}.compactTarget`,t.compactTarget),o(`${e}.timestamp`,t.timestamp),o(`${e}.number`,t.number),o(`${e}.epoch`,t.epoch),i(`${e}.parentHash`,t.parentHash),i(`${e}.transactionsRoot`,t.transactionsRoot),i(`${e}.proposalsHash`,t.proposalsHash),i(`${e}.extraHash`,t.extraHash),i(`${e}.dao`,t.dao)}(n,e)},t.ValidateRawTransaction=function(e,{nestedValidation:t=!0,debugPath:n="rawTransaction"}={}){r(n,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),h(n,e,t)},t.ValidateScript=a,t.ValidateTransaction=p,t.ValidateUncleBlock=g,t.ValidateWitnessArgs=function(e,{nestedValidation:t=!0,debugPath:i="witnessArgs"}={}){r(i,e,[],["lock","inputType","outputType"]),e.lock&&n(`${i}.lock`,e.lock);e.inputType&&n(`${i}.inputType`,e.inputType);e.outputType&&n(`${i}.outputType`,e.outputType)}},59045:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in r,s="ArrayBuffer"in r;if(s)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function b(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=b(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(y)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=b(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];S.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(i,a){var c=new _(e,n);if(c.signal&&c.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var n="response"in u?u.response:u.responseText;setTimeout((function(){i(new S(n,r))}),0)},u.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){a(new t.DOMException("Aborted","AbortError"))}),0)},u.open(c.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":s&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?c.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){u.setRequestHeader(e,d(n.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",f),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",f)}),u.send(void 0===c._bodyInit?null:c._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=h,r.Request=_,r.Response=S),t.Headers=h,t.Request=_,t.Response=S,t.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},69535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeftCells=t.getInputs=t.getTargetOutputs=t.getKeyAndCellsPairs=t.getBigInts=void 0;const n=r(44764),i=r(61933),o=r(14958),a=r(11030),s=`0x${61e8.toString(16)}`;t.getBigInts=({fee:e,capacityThreshold:t,changeThreshold:r})=>((0,a.assertToBeHexStringOrBigint)(e),(0,a.assertToBeHexStringOrBigint)(t),(0,a.assertToBeHexStringOrBigint)(r),{targetFee:i.JSBI.BigInt(`${e}`),minCapacity:i.JSBI.BigInt(`${t}`),minChange:i.JSBI.BigInt(`${r}`),zeroBigInt:i.JSBI.BigInt(0)});t.getKeyAndCellsPairs=e=>{const t="inputScript"in e?[e.inputScript]:e.inputScripts,r="outputScript"in e?[{lock:e.outputScript,capacity:e.capacity}]:e.outputs;let n=new Map;if("inputScript"in e){const t=(0,i.scriptToHash)(e.inputScript);n.set(t,e.cells||[])}else n=e.cells||new Map;return{inputScripts:t,outputs:r,unspentCellsMap:n}};t.getTargetOutputs=({outputs:e,minCapacity:t})=>e.map((e=>{const r=i.JSBI.BigInt(`${e.capacity}`);if(i.JSBI.lessThan(r,t))throw new Error(`Capacity should be at least ${t} shannon`);return Object.assign(Object.assign({},e),{capacity:r})}));t.getInputs=({inputScripts:e,safeMode:t,costCapacity:r,unspentCellsMap:n})=>{const o=[];let a=i.JSBI.BigInt(0);for(let s=0;s<e.length;s++){const c=(0,i.scriptToHash)(e[s]),u=n.get(c)||[];for(let e=0;e<u.length;e++){const n=u[e];if((!t||"0x"===n.data&&!n.type)&&(o.push({previousOutput:n.outPoint,since:"0x0",lockhash:c}),a=i.JSBI.add(a,i.JSBI.BigInt(n.capacity)),i.JSBI.greaterThanOrEqual(a,r)))break}if(i.JSBI.greaterThan(a,r))break}if(i.JSBI.lessThan(a,r))throw new Error("Input capacity is not enough");return{inputs:o,sum:a}};t.getLeftCells=({usedCells:e,inputScripts:t,unspentCellsMap:r})=>{const n=[];return t.forEach((t=>{const o=(0,i.scriptToHash)(t),a=r.get(o);(null==a?void 0:a.length)&&a.forEach((t=>{"0x"!==t.data||t.type||(t=>e.some((e=>{var r,n,i,o;return(null===(r=e.previousOutput)||void 0===r?void 0:r.txHash)===(null===(n=t.outPoint)||void 0===n?void 0:n.txHash)&&(null===(i=e.previousOutput)||void 0===i?void 0:i.index)===(null===(o=t.outPoint)||void 0===o?void 0:o.index)})))(t)||n.push({outPoint:t.outPoint,capacity:t.capacity})}))})),n};const c=e=>"object"!=typeof e;t.default=e=>{var r,a,{fee:u="0x0",changeLockScript:f,safeMode:d=!0,deps:l,capacityThreshold:h=s,changeThreshold:p=s}=e,b=(0,n.__rest)(e,["fee","changeLockScript","safeMode","deps","capacityThreshold","changeThreshold"]);if(!l)throw new Error("The dep is not loaded");const{targetFee:y,minCapacity:g,minChange:m,zeroBigInt:v}=(0,t.getBigInts)({fee:c(u)?u:"0x0",capacityThreshold:h,changeThreshold:p}),{inputScripts:_,outputs:w,unspentCellsMap:S}=(0,t.getKeyAndCellsPairs)(b),x=(0,t.getTargetOutputs)({outputs:w,minCapacity:g}),A=x.reduce(((e,t)=>i.JSBI.add(e,t.capacity)),v),E=i.JSBI.add(i.JSBI.add(A,y),m),I={capacity:v,lock:f||_[0]},{inputs:k,sum:T}=(0,t.getInputs)({inputScripts:_,safeMode:d,costCapacity:E,unspentCellsMap:S});i.JSBI.greaterThan(T,i.JSBI.add(A,y))&&(I.capacity=i.JSBI.subtract(i.JSBI.subtract(T,A),y));const C=x.map((e=>Object.assign(Object.assign({},e),{capacity:`0x${e.capacity.toString(16)}`})));i.JSBI.greaterThan(I.capacity,v)&&C.push(Object.assign(Object.assign({},I),{capacity:`0x${I.capacity.toString(16)}`}));const O=Array.isArray(l)?l:[l],P=null!==(r=b.witnesses)&&void 0!==r?r:[];k.forEach(((e,t)=>{var r;P[t]||(P[t]=e.lockhash!==(null===(r=k[t-1])||void 0===r?void 0:r.lockhash)?o.EMPTY_WITNESS_ARGS:"0x")}));const M=null!==(a=b.outputsData)&&void 0!==a?a:[];C.forEach(((e,t)=>{M[t]||(M[t]="0x")}));const B={version:"0x0",cellDeps:O.map((e=>({outPoint:e.outPoint,depType:e.depType}))),headerDeps:[],inputs:k.map((({previousOutput:e,since:t})=>({previousOutput:e,since:t}))),outputs:C,witnesses:P,outputsData:M};if(!c(u)){const e=(0,t.getLeftCells)({inputScripts:_,usedCells:B.inputs,unspentCellsMap:S});return u.reconciler({tx:B,feeRate:u.feeRate,changeThreshold:p,cells:e,extraCount:10})}return B}},35191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupScripts=void 0;const n=r(61933);t.groupScripts=e=>{const t=new Map;return e.forEach(((e,r)=>{const i=(0,n.scriptToHash)(e.lock),o=t.get(i)||[];t.set(i,[...o,r])})),t},t.default=t.groupScripts},98660:(e,t,r)=>{"use strict";var n,i,o,a,s,c,u;Object.defineProperty(t,"__esModule",{value:!0});const f=r(44764),d=(0,f.__importDefault)(r(80006)),l=r(53772),h=(0,f.__importStar)(r(61933)),p=(0,f.__importDefault)(r(69535)),b=(0,f.__importDefault)(r(68094)),y=(0,f.__importStar)(r(94976)),g=r(53165);n=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap,t.default=class{constructor(e="http://localhost:8114"){this.cells=new Map,this.utils=h,this.config={},this.generateLockHash=(e,t=this.config.secp256k1Dep)=>{if(!t)throw new l.ParameterRequiredException("deps");return this.utils.scriptToHash(Object.assign(Object.assign({},t),{args:e}))},this.loadDeps=()=>(0,f.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.rpc.getBlockByNumber("0x0");if(!e)throw new Error("Fail to load the genesis block");return(0,f.__classPrivateFieldGet)(this,u,"f").call(this,e),(0,f.__classPrivateFieldGet)(this,c,"f").call(this,e),this.config})),this.loadCells=e=>(0,f.__awaiter)(this,void 0,void 0,(function*(){const t=this.utils.scriptToHash(e.lock),r=yield(0,b.default)(e);return e.save&&this.cells.set(t,r),r})),this.signWitnesses=y.default,this.signTransaction=e=>(t,r=[])=>{if(!e)throw new l.ParameterRequiredException("Private key or address object");(0,f.__classPrivateFieldGet)(this,o,"f").call(this,t);const n=this.utils.rawTransactionToHash(t),i=(0,y.isMap)(e)?(0,g.filterCellsByInputs)(r,t.inputs):void 0,a=this.signWitnesses(e)({transactionHash:n,witnesses:t.witnesses,inputCells:i});return Object.assign(Object.assign({},t),{witnesses:a.map((e=>"string"==typeof e?e:this.utils.serializeWitnessArgs(e)))})},this.generateRawTransaction=e=>{var t,{fee:r,safeMode:n=!0,deps:i,capacityThreshold:o,changeThreshold:c,witnesses:u,outputsData:d}=e,l=(0,f.__rest)(e,["fee","safeMode","deps","capacityThreshold","changeThreshold","witnesses","outputsData"]);if((0,f.__classPrivateFieldGet)(this,a,"f").call(this,l)){const[e,a]=[l.fromAddress,l.toAddress].map(this.utils.addressToScript);let s=l.cells||[];return s.length||(s=null!==(t=this.cells.get(this.utils.scriptToHash(e)))&&void 0!==t?t:s),(0,p.default)({inputScript:e,outputScript:a,capacity:l.capacity,fee:r,safeMode:n,cells:s,deps:i,capacityThreshold:o,changeThreshold:c,witnesses:u,outputsData:d})}if((0,f.__classPrivateFieldGet)(this,s,"f").call(this,l)){const e=l.fromAddresses.map(this.utils.addressToScript),t=l.receivePairs.map((e=>({lock:this.utils.addressToScript(e.address),capacity:e.capacity,type:e.type})));return(0,p.default)({inputScripts:e,outputs:t,cells:l.cells||this.cells,fee:r,safeMode:n,deps:i,capacityThreshold:o,changeThreshold:c,witnesses:u,outputsData:d})}throw new Error("Parameters of generateRawTransaction are invalid")},this.generateDaoDepositTransaction=({fromAddress:e,capacity:t,fee:r,cells:o=[]})=>{(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const a=this.generateRawTransaction({fromAddress:e,toAddress:e,capacity:t,fee:r,safeMode:!0,cells:o,deps:[this.config.secp256k1Dep,this.config.daoDep]});return a.outputs[0].type={codeHash:this.config.daoDep.typeHash,args:"0x",hashType:this.config.daoDep.hashType},a.outputsData[0]="0x0000000000000000",a},this.generateDaoWithdrawStartTransaction=({outPoint:e,fee:t,cells:r=[]})=>(0,f.__awaiter)(this,void 0,void 0,(function*(){(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const o=yield this.rpc.getLiveCell(e,!1);if("live"!==o.status)throw new Error("Cell is not live yet.");const a=yield this.rpc.getTransaction(e.txHash);if("committed"!==a.txStatus.status)throw new Error("Transaction is not committed yet");const s=yield this.rpc.getBlock(a.txStatus.blockHash).then((e=>e.header)),c=this.utils.toUint64Le(s.number),u=this.utils.bech32Address(o.cell.output.lock.args),d=this.generateRawTransaction({fromAddress:u,toAddress:u,capacity:"0x0",fee:t,safeMode:!0,deps:[this.config.secp256k1Dep,this.config.daoDep],capacityThreshold:"0x0",cells:r});return d.outputs[0]=a.transaction.outputs[+e.index],d.outputsData[0]=c,d.inputs.unshift({previousOutput:e,since:"0x0"}),d.headerDeps.push(s.hash),d})),this.generateDaoWithdrawTransaction=({depositOutPoint:e,withdrawOutPoint:t,fee:r})=>(0,f.__awaiter)(this,void 0,void 0,(function*(){var o,a;(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const{JSBI:s}=this.utils,c=yield this.rpc.getLiveCell(t,!0);if("live"!==c.status)throw new Error("Cell is not live yet");const u=yield this.rpc.getTransaction(t.txHash);if("committed"!==u.txStatus.status)throw new Error("Transaction is not committed yet");const d=this.utils.bytesToHex(this.utils.hexToBytes(null!==(a=null===(o=c.cell.data)||void 0===o?void 0:o.content)&&void 0!==a?a:"").reverse()),l=yield this.rpc.getBlockByNumber(BigInt(d)).then((e=>e.header)),h=yield this.rpc.getBlock(u.txStatus.blockHash).then((e=>e.header)),p=this.utils.getWithdrawEpoch(l.epoch,h.epoch),b=yield this.rpc.calculateDaoMaximumWithdraw(e,h.hash),y=s.BigInt(b),g=s.BigInt(`${r}`);if(s.lessThan(y,g))throw new Error(`The fee(${g}) is too big that withdraw(${y}) is not enough`);const m=[{capacity:`0x${s.subtract(y,g).toString(16)}`,lock:u.transaction.outputs[+t.index].lock}];return{version:"0x0",cellDeps:[{outPoint:this.config.secp256k1Dep.outPoint,depType:this.config.secp256k1Dep.depType},{outPoint:this.config.daoDep.outPoint,depType:this.config.daoDep.depType}],headerDeps:[l.hash,h.hash],inputs:[{previousOutput:t,since:p}],outputs:m,outputsData:["0x"],witnesses:[{lock:"",inputType:"0x0000000000000000",outputType:""}]}})),this.calculateDaoMaximumWithdraw=(e,t)=>(0,f.__awaiter)(this,void 0,void 0,(function*(){let r=yield this.rpc.getTransaction(e.txHash);if("committed"!==r.txStatus.status)throw new Error("Transaction is not committed yet");const n=r.txStatus.blockHash;let i,o=r.transaction.outputs[+e.index],a=r.transaction.outputsData[+e.index];if("string"==typeof t)i=t;else{if(r=yield this.rpc.getTransaction(t.txHash),"committed"!==r.txStatus.status)throw new Error("Transaction is not committed yet");i=r.txStatus.blockHash,o=r.transaction.outputs[+t.index],a=r.transaction.outputsData[+t.index]}const[s,c]=yield Promise.all([this.rpc.getHeader(n),this.rpc.getHeader(i)]);return h.calculateMaximumWithdraw(o,a,s.dao,c.dao)})),n.set(this,(()=>{if(!this.config.secp256k1Dep)throw new l.ParameterRequiredException("Secp256k1 dep")})),i.set(this,(()=>{if(!this.config.daoDep)throw new l.ParameterRequiredException("Dao dep")})),o.set(this,(e=>{if(!e)throw new l.ParameterRequiredException("Transaction");if(!e.witnesses)throw new l.ParameterRequiredException("Witnesses");if(!e.outputsData)throw new l.ParameterRequiredException("OutputsData");if(e.outputsData.length<e.outputs.length)throw new Error("Invalid count of outputsData")})),a.set(this,(e=>"fromAddress"in e&&"toAddress"in e)),s.set(this,(e=>"fromAddresses"in e&&"receivePairs"in e)),c.set(this,(e=>(0,f.__awaiter)(this,void 0,void 0,(function*(){var t,r;const n=null==e?void 0:e.transactions[1].hash,i=null===(r=null===(t=null==e?void 0:e.transactions[0])||void 0===t?void 0:t.outputs[1])||void 0===r?void 0:r.type,o=this.utils.scriptToHash(i);this.config.secp256k1Dep={hashType:"type",codeHash:o,outPoint:{txHash:n,index:"0x0"},depType:"depGroup"}})))),u.set(this,(e=>{var t,r,n;const i=null==e?void 0:e.transactions[0].hash,o=null===(r=null===(t=null==e?void 0:e.transactions[0])||void 0===t?void 0:t.outputs[2])||void 0===r?void 0:r.type,a=null===(n=null==e?void 0:e.transactions[0])||void 0===n?void 0:n.outputsData[2],s=this.utils.scriptToHash(o),c=h.blake2b(32,null,null,h.PERSONAL);c.update(h.hexToBytes(a));const u=`0x${c.digest("hex")}`;this.config.daoDep={hashType:"type",codeHash:u,typeHash:s,outPoint:{txHash:i,index:"0x2"},depType:"code"}})),this._node={url:e},this.rpc=new d.default(e)}setNode(e){return"string"==typeof e?this._node.url=e:this._node=e,this.rpc.setNode(this._node),this._node}get node(){return this._node}}},68094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCellsFromIndexer=void 0;const n=r(44764);t.loadCellsFromIndexer=({CellCollector:e,indexer:t,lock:r,start:i,end:o})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){var a,s;const c=new e(t,{lock:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},fromBlock:i,toBlock:o}),u=[];try{for(var f,d=(0,n.__asyncValues)(c.collect());!(f=yield d.next()).done;){const{data:e,cell_output:{capacity:t,type:n},out_point:i}=f.value;u.push({data:e,lock:r,type:n&&{codeHash:n.code_hash,hashType:n.hash_type,args:n.args},capacity:t,outPoint:{txHash:i.tx_hash,index:i.index}})}}catch(e){a={error:e}}finally{try{f&&!f.done&&(s=d.return)&&(yield s.call(d))}finally{if(a)throw a.error}}return u})),t.default=t.loadCellsFromIndexer},71812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMultisigStatus=t.hashMultisig=t.serializeMultisigConfig=t.SignStatus=t.isMultisigConfig=void 0;const n=r(61933);var i;t.isMultisigConfig=function(e){return e&&!Number.isNaN(+e.r)&&!Number.isNaN(+e.m)&&!Number.isNaN(+e.n)&&Array.isArray(e.blake160s)},function(e){e.Signed="Signed",e.Unsigned="Unsigned",e.PartiallySigned="PartiallySigned"}(i=t.SignStatus||(t.SignStatus={}));const o=e=>{if(e<0||e>255)throw new Error("For multisig sign, signer should between 0 and 255")},a=e=>e.toString(16).padStart(2,"0");t.serializeMultisigConfig=e=>((e=>{if(o(e.r),o(e.m),o(e.n),e.m>e.n)throw new Error("For m of n multisig sign, m shouldn't be greater than n");if(e.r>e.m)throw new Error("For m of n multisig sign, r shouldn't be greater than m");if(e.n!==e.blake160s.length)throw new Error("For m of n multisig sign, signer's length should equal with n")})(e),`0x00${a(e.r)}${a(e.m)}${a(e.n)}${e.blake160s.reduce(((e,t)=>e+t.slice(2)),"")}`);t.hashMultisig=e=>{const r=(0,n.blake2b)(32,null,null,n.PERSONAL);return r.update((0,n.hexToBytes)((0,t.serializeMultisigConfig)(e))),`0x${r.digest("hex")}`.slice(0,42)};t.getMultisigStatus=(e,t=[])=>{let r=0,n=0;for(let i=0;i<e.n;i++)t.includes(e.blake160s[i])&&(i<e.r?n+=1:r+=1);if(r+n===0)return i.Unsigned;if(r>e.m-e.r)throw new Error("More signature for multisig");return r+n<e.m?i.PartiallySigned:i.Signed}},98509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44764),i=r(61933),o=(0,n.__importDefault)(r(58590)),a=r(71812);t.default=function(e,t,r,n){if(!r.length)throw new Error("WitnessGroup cannot be empty");if("object"!=typeof r[0])throw new Error("The first witness in the group should be type of WitnessArgs");const s=Object.assign(Object.assign({},r[0]),{lock:`0x${"0".repeat(130)}`});n&&(s.lock=`${(0,a.serializeMultisigConfig)(n)}${"0".repeat(130*n.m)}`);const c=(0,i.hexToBytes)((0,i.serializeWitnessArgs)(s)),u=c.length,f=(0,i.blake2b)(32,null,null,i.PERSONAL);f.update((0,i.hexToBytes)(t)),f.update((0,i.hexToBytes)((0,i.toUint64Le)(`0x${u.toString(16)}`))),f.update(c),r.slice(1).forEach((e=>{const t=(0,i.hexToBytes)("string"==typeof e?e:(0,i.serializeWitnessArgs)(e));f.update((0,i.hexToBytes)((0,i.toUint64Le)(`0x${t.length.toString(16)}`))),f.update(t)}));const d=`0x${f.digest("hex")}`;if("string"==typeof e){const t=new o.default(e);return s.lock=t.signRecoverable(d),[n?s:(0,i.serializeWitnessArgs)(s),...r.slice(1)]}{const t=e(d,[s,...r.slice(1)]);return"string"==typeof t?(s.lock=t,[n?s:(0,i.serializeWitnessArgs)(s),...r.slice(1)]):t.then((e=>(s.lock=e,[n?s:(0,i.serializeWitnessArgs)(s),...r.slice(1)])))}}},94976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMap=void 0;const n=r(44764),i=r(61933),o=r(53772),a=(0,n.__importDefault)(r(98509)),s=(0,n.__importDefault)(r(35191)),c=r(71812);t.isMap=e=>void 0!==e.size;t.default=e=>({transactionHash:r,witnesses:n=[],inputCells:u=[],skipMissingKeys:f=!1})=>{if(!e)throw new o.ParameterRequiredException("Signature provider");if(!r)throw new o.ParameterRequiredException("Transaction hash");if(!n.length)throw new Error("Witnesses is empty");if((0,t.isMap)(e)){if(!u.length)throw new Error("Cell shouldn't be empty when key is Map");const t=n,o=n.slice(u.length);return(0,s.default)(u).forEach(((s,u)=>{const d=e.get(u);if(!d){if(f)return;throw new Error(`The signature provider to sign lockhash ${u} is not found`)}const l=[...s.map((e=>n[e])),...o];if("object"==typeof d&&function(e){if(e.sk&&e.blake160&&e.config&&e.signatures){if(("string"==typeof e.sk||"function"==typeof e.sk)&&"string"==typeof e.blake160&&Array.isArray(e.signatures)&&(0,c.isMultisigConfig)(e.config))return!0;throw new Error("Multisig options is incorrect")}throw new Error("Multisig options miss some property")}(d)){const e=(0,a.default)(d.sk,r,l,d.config)[0],n=t[s[0]];if("object"!=typeof n)throw new Error("The first witness in the group should be type of WitnessArgs");let o=e.lock;o=n.lock?n.lock+(null==o?void 0:o.slice(2)):(0,c.serializeMultisigConfig)(d.config)+(null==o?void 0:o.slice(2));const u=Object.assign(Object.assign({},n),{lock:o});t[s[0]]=u,(0,c.getMultisigStatus)(d.config,[...d.signatures,d.blake160])===c.SignStatus.Signed&&s.forEach((e=>{const r=t[e];t[e]="string"==typeof r?r:(0,i.serializeWitnessArgs)(r)}))}else{const e=(0,a.default)(d,r,l)[0];t[s[0]]=e}})),t}return(0,a.default)(e,r,n)}},53165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterCellsByInputs=void 0;t.filterCellsByInputs=(e,t)=>t.map((t=>{const r=t.previousOutput,n=e.find((e=>{var t,n;return(null===(t=e.outPoint)||void 0===t?void 0:t.txHash)===(null==r?void 0:r.txHash)&&(null===(n=e.outPoint)||void 0===n?void 0:n.index)===(null==r?void 0:r.index)}));if(!n)throw new Error(`Cell of ${JSON.stringify(r)} is not found`);return n})),t.default={filterCellsByInputs:t.filterCellsByInputs}},2802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addressToScript=t.parseAddress=t.pubkeyToAddress=t.fullPayloadToAddress=t.bech32Address=t.toAddressPayload=t.scriptToAddress=t.Bech32Type=t.AddressType=t.AddressPrefix=void 0;const n=r(61933),i=r(9738),o=r(29509),a=r(53772),s=1023;var c,u,f;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(c=t.AddressPrefix||(t.AddressPrefix={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(u=t.AddressType||(t.AddressType={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(f=t.Bech32Type||(t.Bech32Type={}));const d=({codeHash:e,hashType:t,args:r})=>{if(!r.startsWith("0x"))throw new a.HexStringWithout0xException(r);if(!e.startsWith("0x")||66!==e.length)throw new a.CodeHashException(e);let n;if(function(e){e.data="00",e.type="01",e.data1="02",e.data2="04"}(n||(n={})),!n[t])throw new a.HashTypeException(t);return(0,o.hexToBytes)(`0x00${e.slice(2)}${n[t]}${r.slice(2)}`)};t.scriptToAddress=(e,t=!0)=>((e,t=!0)=>n.bech32m.encode(t?c.Mainnet:c.Testnet,n.bech32m.toWords(e),s))(d(e),t);t.toAddressPayload=(e,t=u.HashIdx,r,n)=>{if("string"==typeof e&&!e.startsWith("0x"))throw new a.HexStringWithout0xException(e);if(![u.HashIdx,u.DataCodeHash,u.TypeCodeHash,u.FullVersion].includes(t))throw new a.AddressFormatTypeException(+t);if([u.DataCodeHash,u.TypeCodeHash].includes(t)&&console.warn("Address of 'AddressType.DataCodeHash' or 'AddressType.TypeCodeHash' is deprecated, please use address of AddressPrefix.FullVersion"),r||(r=t===u.HashIdx?"0x00":i.SECP256K1_BLAKE160.codeHash),t!==u.FullVersion)return new Uint8Array([...(0,o.hexToBytes)(t),...(0,o.hexToBytes)(r),..."string"==typeof e?(0,o.hexToBytes)(e):e]);if(n||r!==i.SECP256K1_BLAKE160.codeHash||(n=i.SECP256K1_BLAKE160.hashType),!r.startsWith("0x")||66!==r.length)throw new a.CodeHashException(r);if(!n)throw new a.ParameterRequiredException("hashType");return d({codeHash:r,hashType:n,args:"string"==typeof e?e:(0,o.bytesToHex)(e)})};t.bech32Address=(e,{prefix:r=c.Mainnet,type:i=u.HashIdx,codeHashOrCodeHashIndex:o=""}={})=>n.bech32.encode(r,n.bech32.toWords((0,t.toAddressPayload)(e,i,o)),s);t.fullPayloadToAddress=({args:e,prefix:r,type:n=u.DataCodeHash,codeHash:i})=>(0,t.bech32Address)(e,{prefix:r,type:n,codeHashOrCodeHashIndex:i});t.pubkeyToAddress=(e,r={})=>{const i=(0,n.blake160)(e);return(0,t.bech32Address)(i,r)};const l=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+u.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new a.AddressPayloadException(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new a.AddressPayloadException(e,"short");default:throw new a.AddressPayloadException(e,"short")}})(e,t);break;case+u.DataCodeHash:case+u.TypeCodeHash:if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);if(n.length<32)throw new a.AddressPayloadException(e,"full");break;case+u.FullVersion:{if(t!==f.Bech32m)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);const e=n.slice(0,32);if(e.length<32)throw new a.CodeHashException((0,o.bytesToHex)(e));const i=parseInt(n[32].toString(),16);if(![0,1,2,4].includes(i))throw new a.HashTypeException(`0x${i.toString(16)}`);break}default:throw new a.AddressPayloadException(e)}};t.parseAddress=(e,t="binary")=>{let r,i=new Uint8Array;try{const t=n.bech32.decode(e,s);r=f.Bech32,i=new Uint8Array(n.bech32.fromWords(new Uint8Array(t.words)))}catch(t){const o=n.bech32m.decode(e,s);r=f.Bech32m,i=new Uint8Array(n.bech32m.fromWords(new Uint8Array(o.words)))}try{l(i,r)}catch(t){if(t instanceof a.AddressFormatTypeAndEncodeMethodNotMatchException)throw t;throw new a.AddressException(e,t.stack,t.type)}return"binary"===t?i:(0,o.bytesToHex)(i)};t.addressToScript=e=>{const r=(0,t.parseAddress)(e),n=r[0];switch(n){case+u.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},t=(0,o.bytesToHex)(r);return{codeHash:`0x${t.substr(4,64)}`,hashType:e[t.substr(68,2)],args:`0x${t.substr(70)}`}}case+u.HashIdx:{const t=[i.SECP256K1_BLAKE160,i.SECP256K1_MULTISIG,e.startsWith(c.Mainnet)?i.ANYONE_CAN_PAY_MAINNET:i.ANYONE_CAN_PAY_TESTNET],n=r[1],a=r.slice(2),s=t[n];return{codeHash:s.codeHash,hashType:s.hashType,args:(0,o.bytesToHex)(a)}}case+u.DataCodeHash:case+u.TypeCodeHash:{const e=(0,o.bytesToHex)(r.slice(1)),t=n===+u.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:t,args:`0x${e.substr(66)}`}}default:throw new a.AddressFormatTypeException(n)}}},37125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransactionFee=void 0;const n=(0,r(44764).__importDefault)(r(75951)),i=r(11030);t.calculateTransactionFee=(e,t)=>{(0,i.assertToBeHexStringOrBigint)(e),(0,i.assertToBeHexStringOrBigint)(t);const r=n.default.BigInt(1e3),o=n.default.multiply(n.default.BigInt(`${e}`),n.default.BigInt(`${t}`)),a=n.default.divide(o,r);return n.default.lessThan(n.default.multiply(a,r),o)?`0x${n.default.add(a,n.default.BigInt(1)).toString(16)}`:`0x${a.toString(16)}`},t.default=t.calculateTransactionFee},14958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SECP_SIG=t.EMPTY_WITNESS_ARGS=t.PERSONAL=void 0,t.PERSONAL=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),t.EMPTY_WITNESS_ARGS={lock:"",inputType:"",outputType:""},t.EMPTY_SECP_SIG=`0x${"0".repeat(130)}`,t.default={PERSONAL:t.PERSONAL,EMPTY_WITNESS_ARGS:t.EMPTY_WITNESS_ARGS,EMPTY_SECP_SIG:t.EMPTY_SECP_SIG}},29509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToHex=t.toBigEndian=t.hexToBytes=t.toUint64Le=t.toUint32Le=t.toUint16Le=void 0;const n=r(11030),i=r(53772);t.toUint16Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(2));return t.setUint16(0,Number(e),!0),`0x${t.getUint16(0,!1).toString(16).padStart(4,"0")}`};t.toUint32Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`};t.toUint64Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const r=("bigint"==typeof e?e.toString(16):e.slice(2)).padStart(16,"0"),i=(0,t.toUint32Le)(`0x${r.slice(0,8)}`).slice(2);return`0x${(0,t.toUint32Le)(`0x${r.slice(8)}`).slice(2)}${i}`};t.hexToBytes=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new i.HexStringWithout0xException(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)};t.toBigEndian=e=>{(0,n.assertToBeHexString)(e);return`0x${(0,t.hexToBytes)(e).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`};t.bytesToHex=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`,t.default={toUint16Le:t.toUint16Le,toUint32Le:t.toUint32Le,toUint64Le:t.toUint64Le,hexToBytes:t.hexToBytes,bytesToHex:t.bytesToHex,toBigEndian:t.toBigEndian}},65865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake160=void 0;const n=(0,r(44764).__importDefault)(r(20370)),i=r(29509),o=r(14958);t.blake160=(e,t="binary")=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,a=(0,n.default)(32,null,null,o.PERSONAL);return a.update(r),a.digest(t).slice(0,"binary"===t?20:40)},t.default=t.blake160},20370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.Blake2b=void 0;const{OutLenTooSmallException:n,OutLenTooLargeException:i,KeyLenTooSmallException:o,KeyLenTooLargeException:a,OutTypeException:s,SaltTypeException:c,SaltLenException:u,InputTypeException:f,KeyTypeException:d,PersonalTypeException:l,PersonalLenException:h}=r(53772),p=new Uint32Array(32),b=new Uint32Array(32),y=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},g=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},m=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,v=(e,t,r,n,i,o)=>{const a=b[i],s=b[i+1],c=b[o],u=b[o+1];y(p,e,t),g(p,e,a,s);let f=p[n]^p[e],d=p[n+1]^p[e+1];p[n]=d,p[n+1]=f,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=f>>>24^d<<8,p[t+1]=d>>>24^f<<8,y(p,e,t),g(p,e,c,u),f=p[n]^p[e],d=p[n+1]^p[e+1],p[n]=f>>>16^d<<16,p[n+1]=d>>>16^f<<16,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=d>>>31^f<<1,p[t+1]=f>>>31^d<<1},_=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),S=(e,t)=>{let r=0;for(r=0;r<16;r++)p[r]=e.h[r],p[r+16]=_[r];for(p[24]^=e.t,p[25]^=e.t/4294967296,t&&(p[28]=~p[28],p[29]=~p[29]),r=0;r<32;r++)b[r]=m(e.b,4*r);for(r=0;r<12;r++)v(0,8,16,24,w[16*r+0],w[16*r+1]),v(2,10,18,26,w[16*r+2],w[16*r+3]),v(4,12,20,28,w[16*r+4],w[16*r+5]),v(6,14,22,30,w[16*r+6],w[16*r+7]),v(0,10,20,30,w[16*r+8],w[16*r+9]),v(2,12,22,24,w[16*r+10],w[16*r+11]),v(4,14,16,26,w[16*r+12],w[16*r+13]),v(6,8,18,28,w[16*r+14],w[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^p[r]^p[r+16]},x=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,S(e,!1),e.c=0),e.b[e.c++]=+t[r]},A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class E{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new f;return x(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new s;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;S(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,A.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,A[0]=e,t&&(A[1]=t.length),A[2]=1,A[3]=1,r&&A.set(r,32),n&&A.set(n,48);for(let e=0;e<16;e++)this.h[e]=_[e]^m(A,4*e);t&&(x(this,t),this.c=128)}}t.Blake2b=E;t.blake2b=(e,t,r,s,f)=>{if(!0!==f){if(e<16)throw new n(e,16);if(e>64)throw new i(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new d;if(t.length<16)throw new o(t.length,16);if(t.length>64)throw new a(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new c;if(16!==r.length)throw new u(r.length,16)}if(null!==s){if(!(s instanceof Uint8Array))throw new l;if(16!==s.length)throw new h(s.length,16)}}return new E(e,t,r,s)},t.default=t.blake2b},21807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44764),i=r(22343),o=(0,n.__importDefault)(r(20370)),a=(0,n.__importDefault)(r(65865));e.exports={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m},t.default={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m}},58590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(86729),i=r(29509),o=r(53772),a=new n.ec("secp256k1");t.default=class{constructor(e,{compressed:t=!0}={compressed:!0}){if(this.compressed=!1,this.getPrivateKey=(e="hex")=>"hex"===e?this.privateKey:this.key.getPrivate(e),this.getPublicKey=e=>"hex"===e?this.publicKey:this.key.getPublic(this.compressed,e),this.sign=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e;return`0x${this.key.sign(t,{canonical:!0}).toDER("hex")}`},this.verify=(e,t)=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,n="string"==typeof t?(0,i.hexToBytes)(t):t;return this.key.verify(r,n)},this.signRecoverable=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e,{r,s:n,recoveryParam:a}=this.key.sign(t,{canonical:!0});if(null===a)throw new o.SignMessageException;return`0x${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}0${a}`},void 0===e)throw new o.ParameterRequiredException("Private key");if("string"==typeof e&&!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);if("string"==typeof e&&66!==e.length)throw new o.PrivateKeyLenException;if("object"==typeof e&&32!==e.byteLength)throw new o.PrivateKeyLenException;this.key=a.keyFromPrivate("string"==typeof e?e.replace(/^0x/,""):e),this.compressed=t}get privateKey(){return`0x${this.key.getPrivate("hex").padStart(64,"0")}`}get publicKey(){return`0x${this.key.getPublic(this.compressed,"hex")}`}}},97035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithdrawEpoch=t.parseEpoch=t.serializeEpoch=void 0;const n=(0,r(44764).__importDefault)(r(75951)),i=r(11030);t.serializeEpoch=({length:e,index:t,number:r})=>{(0,i.assertToBeHexString)(e),(0,i.assertToBeHexString)(t),(0,i.assertToBeHexString)(r);return`0x${n.default.add(n.default.add(n.default.add(n.default.leftShift(n.default.BigInt(32),n.default.BigInt(56)),n.default.leftShift(n.default.BigInt(e),n.default.BigInt(40))),n.default.leftShift(n.default.BigInt(t),n.default.BigInt(24))),n.default.BigInt(r)).toString(16)}`};t.parseEpoch=e=>({length:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(40)),n.default.BigInt(65535)).toString(16)}`,index:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(24)),n.default.BigInt(65535)).toString(16)}`,number:`0x${n.default.bitwiseAnd(n.default.BigInt(e),n.default.BigInt(16777215)).toString(16)}`});t.getWithdrawEpoch=(e,r)=>{const n=180,i=(0,t.parseEpoch)(e),o=(0,t.parseEpoch)(r);let a=+o.number-+i.number;+o.index*+i.length>+i.index*+o.length&&(a+=1);const s=a<=n?n:(Math.floor((a-1)/n)+1)*n;return(0,t.serializeEpoch)({index:i.index,length:i.length,number:`0x${(+i.number+s).toString(16)}`})},t.default={serializeEpoch:t.serializeEpoch,parseEpoch:t.parseEpoch,getWithdrawEpoch:t.getWithdrawEpoch}},79347:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},70196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressFormatTypeAndEncodeMethodNotMatchException=t.AddressFormatTypeException=t.HashTypeException=t.CodeHashException=t.AddressException=t.AddressPayloadException=void 0;const n=(0,r(44764).__importDefault)(r(79347));class i extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=n.default.AddressInvalid,this.type=t}}t.AddressPayloadException=i;class o extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=n.default.AddressInvalid,this.type=r,this.stack=t}}t.AddressException=o;class a extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=n.default.AddressInvalid}}t.CodeHashException=a;class s extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=n.default.AddressInvalid}}t.HashTypeException=s;class c extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeException=c;class u extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeAndEncodeMethodNotMatchException=u,t.default={AddressPayloadException:i,AddressException:o,CodeHashException:a,HashTypeException:s,AddressFormatTypeException:c,AddressFormatTypeAndEncodeMethodNotMatchException:u}},41185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalLenException=t.PersonalTypeException=t.KeyTypeException=t.InputTypeException=t.SaltLenException=t.SaltTypeException=t.OutTypeException=t.KeyLenTooLargeException=t.KeyLenTooSmallException=t.OutLenTooLargeException=t.OutLenTooSmallException=void 0;const n=(0,r(44764).__importDefault)(r(79347));class i extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooSmallException=i;class o extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooLargeException=o;class a extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooSmallException=a;class s extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooLargeException=s;class c extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=n.default.ParameterInvalid}}t.OutTypeException=c;class u extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.SaltTypeException=u;class f extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.SaltLenException=f;class d extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.InputTypeException=d;class l extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.KeyTypeException=l;class h extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.PersonalTypeException=h;class p extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.PersonalLenException=p,t.default={OutLenTooSmallException:i,OutLenTooLargeException:o,KeyLenTooSmallException:a,KeyLenTooLargeException:s,OutTypeException:c,SaltTypeException:u,SaltLenException:f,InputTypeException:d,KeyTypeException:l,PersonalTypeException:h,PersonalLenException:p}},34727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignMessageException=t.ParameterRequiredException=void 0;const n=(0,r(44764).__importDefault)(r(79347));class i extends Error{constructor(e){super(`${e} is required`),this.code=n.default.ParameterRequired}}t.ParameterRequiredException=i;class o extends Error{constructor(){super("Fail to sign the message"),this.code=n.default.SignMessageFailed}}t.SignMessageException=o,t.default={ParameterRequiredException:i,SignMessageException:o}},53772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44764);(0,n.__exportStar)(r(79347),t),(0,n.__exportStar)(r(34727),t),(0,n.__exportStar)(r(86963),t),(0,n.__exportStar)(r(70196),t),(0,n.__exportStar)(r(41185),t),(0,n.__exportStar)(r(63228),t),(0,n.__exportStar)(r(64132),t)},63228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateKeyLenException=void 0;const n=(0,r(44764).__importDefault)(r(79347));class i extends Error{constructor(){super("Private key has invalid length"),this.code=n.default.ParameterInvalid}}t.PrivateKeyLenException=i,t.default={PrivateKeyLenException:i}},86963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=t.HexStringException=void 0;const n=(0,r(44764).__importDefault)(r(79347));class i extends Error{constructor(e){super(`${e} is an invalid hex string`),this.code=n.default.ParameterInvalid}}t.HexStringException=i;class o extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=n.default.ParameterInvalid}}t.HexStringWithout0xException=o,t.default={HexStringException:i,HexStringWithout0xException:o}},64132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReconciliationException=void 0;const n=(0,r(44764).__importDefault)(r(79347));class i extends Error{constructor(){super("Fail to reconcile transaction, try to increase extra count or check the transaction"),this.code=n.default.ReconciliationFailed}}t.ReconciliationException=i,t.default={ReconciliationException:i}},61933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMaximumWithdraw=t.extractDAOData=t.privateKeyToAddress=t.privateKeyToPublicKey=t.rawTransactionToHash=t.scriptToHash=t.blake160=t.bech32m=t.bech32=t.blake2b=t.PERSONAL=t.JSBI=t.serializeWitnessArgs=t.serializeTransaction=t.serializeRawTransaction=t.serializeScript=t.reconcilers=t.systemScripts=void 0;const n=r(44764),i=(0,n.__importDefault)(r(75951));t.JSBI=i.default;const o=(0,n.__importDefault)(r(58590)),a=r(29509),s=r(2802),c=r(53772),u=(0,n.__importDefault)(r(21807)),f=r(18270);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return f.serializeScript}});const d=r(45413),l=r(63842);Object.defineProperty(t,"serializeRawTransaction",{enumerable:!0,get:function(){return l.serializeRawTransaction}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return l.serializeTransaction}}),Object.defineProperty(t,"serializeWitnessArgs",{enumerable:!0,get:function(){return l.serializeWitnessArgs}});const h=r(14958);Object.defineProperty(t,"PERSONAL",{enumerable:!0,get:function(){return h.PERSONAL}}),(0,n.__exportStar)(r(2802),t),(0,n.__exportStar)(r(18270),t),(0,n.__exportStar)(r(29509),t),(0,n.__exportStar)(r(97035),t),(0,n.__exportStar)(r(45987),t),(0,n.__exportStar)(r(45413),t),t.systemScripts=(0,n.__importStar)(r(9738)),t.reconcilers=(0,n.__importStar)(r(41569)),t.blake2b=u.default.blake2b,t.bech32=u.default.bech32,t.bech32m=u.default.bech32m,t.blake160=u.default.blake160;t.scriptToHash=e=>{if(!e)throw new c.ParameterRequiredException("Script");const r=(0,f.serializeScript)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.rawTransactionToHash=e=>{if(!e)throw new c.ParameterRequiredException("Raw transaction");const r=(0,l.serializeRawTransaction)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.privateKeyToPublicKey=e=>new o.default(e).publicKey;t.privateKeyToAddress=(e,r)=>(0,s.pubkeyToAddress)((0,t.privateKeyToPublicKey)(e),r);t.extractDAOData=e=>{if(!e.startsWith("0x"))throw new c.HexStringWithout0xException(e);const t=e.replace("0x","");return{c:(0,a.toBigEndian)(`0x${t.slice(0,16)}`),ar:(0,a.toBigEndian)(`0x${t.slice(16,32)}`),s:(0,a.toBigEndian)(`0x${t.slice(32,48)}`),u:(0,a.toBigEndian)(`0x${t.slice(48,64)}`)}};t.calculateMaximumWithdraw=(e,r,n,o)=>{const a=(0,d.cellOccupied)(e)+r.slice(2).length/2,s=i.default.asUintN(128,i.default.multiply(i.default.BigInt(1e8),i.default.BigInt(a)));return`0x${i.default.add(i.default.divide(i.default.multiply(i.default.subtract(i.default.asUintN(128,i.default.BigInt(e.capacity)),s),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(o).ar))),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(n).ar))),s).toString(16)}`}},45413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellOccupied=t.scriptOccupied=void 0;t.scriptOccupied=e=>e.args.slice(2).length/2+32+1;t.cellOccupied=e=>8+(0,t.scriptOccupied)(e.lock)+(e.type?(0,t.scriptOccupied)(e.type):0)},44390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extraInputs=void 0;const n=r(44764),i=(0,n.__importDefault)(r(75951)),o=(0,n.__importDefault)(r(37125)),a=r(45987),s=r(53772);t.extraInputs=e=>{const t=i.default.BigInt(`${e.changeThreshold}`),r=i.default.BigInt(`${e.feeRate}`),n=e.tx.outputs[e.tx.outputs.length-1],c=i.default.BigInt(n.capacity),u=i.default.BigInt((0,o.default)(`0x${(0,a.getTransactionSize)(e.tx).toString(16)}`,`0x${r.toString(16)}`)),f=i.default.subtract(i.default.add(u,t),c);if(i.default.LE(f,i.default.BigInt(0)))return Object.assign(Object.assign({},e.tx),{outputs:[...e.tx.outputs.slice(0,-1),Object.assign(Object.assign({},n),{capacity:`0x${i.default.subtract(c,u).toString(16)}`})]});e.cells.sort(((e,t)=>+i.default.subtract(i.default.BigInt(e.capacity),i.default.BigInt(t.capacity))));const d=i.default.BigInt(44),l=i.default.divide(i.default.multiply(d,r),i.default.BigInt(1e3));for(let r=1;r<=Math.min(e.extraCount,e.cells.length);r++){const o=i.default.multiply(i.default.BigInt(r),l),a=i.default.add(f,o),s=e.cells.slice(0,r).reduce(((e,t)=>i.default.add(e,i.default.BigInt(t.capacity))),i.default.BigInt(0));if(i.default.GE(s,a)){const o=[...e.tx.inputs,...e.cells.slice(0,r).map((e=>({previousOutput:e.outPoint,since:"0x0"})))],c=i.default.add(t,i.default.subtract(s,a)),u=Object.assign(Object.assign({},n),{capacity:`0x${c.toString(16)}`}),f=[...e.tx.outputs.slice(0,-1),u];return Object.assign(Object.assign({},e.tx),{inputs:o,outputs:f})}}throw new s.ReconciliationException},t.default=t.extraInputs},41569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});(0,r(44764).__exportStar)(r(44390),t)},52020:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeOption=t.serializeTable=t.serializeDynVec=t.serializeFixVec=t.serializeStruct=t.serializeArray=t.getOffsets=t.fullLengthSize=t.offsetSize=void 0;const n=r(29509);t.offsetSize=4,t.fullLengthSize=4;t.getOffsets=e=>{const r=[t.fullLengthSize+t.offsetSize*e.length];return e.forEach(((t,n)=>{n&&r.push(r[r.length-1]+e[n-1])})),r};t.serializeArray=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?(0,n.hexToBytes)(e):e;return(0,n.bytesToHex)(t)};t.serializeStruct=e=>{let r="";return e.forEach((e=>{r+=(0,t.serializeArray)(e).slice(2)})),`0x${r}`};t.serializeFixVec=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const r=("string"==typeof e?[...(0,n.hexToBytes)(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>(0,t.serializeArray)(e).slice(2)));return`0x${(0,n.toUint32Le)(`0x${r.length.toString(16)}`).slice(2)}${r.join("")}`};t.serializeDynVec=e=>{if(!Array.isArray(e))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const r=e.map((e=>(0,t.serializeArray)(e).slice(2))),i=r.join("");let o="";r.length&&(o=(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join(""));const a=t.fullLengthSize+t.offsetSize*r.length;return`0x${(0,n.toUint32Le)(`0x${(a+i.length/2).toString(16)}`).slice(2)}${o}${i}`};t.serializeTable=e=>{const r=[];e.forEach((e=>{r.push((0,t.serializeArray)(e).slice(2))}));const i=r.join(""),o=t.fullLengthSize+t.offsetSize*e.size;return`0x${(0,n.toUint32Le)(`0x${(o+i.length/2).toString(16)}`).slice(2)}${(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join("")}${i}`};t.serializeOption=e=>e||"0x"},18270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44764);(0,n.__exportStar)(r(52020),t),(0,n.__exportStar)(r(71671),t),(0,n.__exportStar)(r(63842),t)},71671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=t.serializeArgs=t.serializeHashType=t.serializeCodeHash=void 0;const n=r(52020),i=r(53772);t.serializeCodeHash=e=>(0,n.serializeArray)(e);t.serializeHashType=e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data', 'type', 'data1' or 'data2'")};t.serializeArgs=e=>(0,n.serializeFixVec)(e);t.serializeScript=e=>{if(!e)throw new i.ParameterRequiredException("Script");const{codeHash:r="",hashType:o,args:a=""}=e,s=(0,t.serializeCodeHash)(r),c=(0,t.serializeHashType)(o),u=(0,t.serializeArgs)(a),f=new Map([["codeHash",s],["hashType",c],["args",u]]);return(0,n.serializeTable)(f)}},63842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransaction=t.serializeRawTransaction=t.serializeWitnesses=t.serializeWitnessArgs=t.serializeOutputsData=t.serializeOutputs=t.serializeOutput=t.serializeInputs=t.serializeInput=t.serializeHeaderDeps=t.serializeCellDeps=t.serializeCellDep=t.serializeDepType=t.serializeOutPoint=t.serializeVersion=void 0;const n=r(71671),i=r(29509),o=r(52020);t.serializeVersion=e=>(0,i.toUint32Le)(e);t.serializeOutPoint=e=>{if(!e)return"";const t=new Map([["txHash",e.txHash],["index",(0,i.toUint32Le)(e.index)]]);return(0,o.serializeStruct)(t)};t.serializeDepType=e=>{if("code"===e)return"0x00";if("depGroup"===e)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")};t.serializeCellDep=e=>{const r=(0,t.serializeOutPoint)(e.outPoint),n=(0,t.serializeDepType)(e.depType),i=new Map([["outPoint",r],["depType",n]]);return(0,o.serializeStruct)(i)};t.serializeCellDeps=e=>{const r=e.map((e=>(0,t.serializeCellDep)(e)));return(0,o.serializeFixVec)(r)};t.serializeHeaderDeps=e=>{const t=e.map((e=>(0,o.serializeArray)(e)));return(0,o.serializeFixVec)(t)};t.serializeInput=e=>{const r=(0,t.serializeOutPoint)(e.previousOutput),n=(0,i.toUint64Le)(e.since),a=new Map([["since",n],["previousOutput",r]]);return(0,o.serializeStruct)(a)};t.serializeInputs=e=>{const r=e.map((e=>(0,t.serializeInput)(e)));return(0,o.serializeFixVec)(r)};t.serializeOutput=e=>{const t=(0,i.toUint64Le)(e.capacity),r=(0,n.serializeScript)(e.lock),a=e.type?(0,n.serializeScript)(e.type):"",s=new Map([["capacity",t],["lock",r],["type",a]]);return(0,o.serializeTable)(s)};t.serializeOutputs=e=>{const r=e.map((e=>(0,t.serializeOutput)(e)));return(0,o.serializeDynVec)(r)};t.serializeOutputsData=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeWitnessArgs=e=>{const[t,r,n]=[e.lock,e.inputType,e.outputType].map((e=>"0x"===(0,o.serializeOption)(e)?"0x":(0,o.serializeFixVec)(e))),i=new Map([["lock",t],["inputType",r],["outputType",n]]);return(0,o.serializeTable)(i)};t.serializeWitnesses=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeRawTransaction=e=>{const r=(0,t.serializeVersion)(e.version),n=(0,t.serializeCellDeps)(e.cellDeps),i=(0,t.serializeHeaderDeps)(e.headerDeps),a=(0,t.serializeInputs)(e.inputs),s=(0,t.serializeOutputs)(e.outputs),c=(0,t.serializeOutputsData)(e.outputsData),u=new Map([["version",r],["cellDeps",n],["headerDeps",i],["inputs",a],["outputs",s],["outputsData",c]]);return(0,o.serializeTable)(u)};t.serializeTransaction=e=>{const r=(0,t.serializeRawTransaction)(e),n=(0,t.serializeWitnesses)(e.witnesses||[]),i=new Map([["raw",r],["witnesses",n]]);return(0,o.serializeTable)(i)}},45987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionSize=void 0;const n=r(63842);t.getTransactionSize=e=>{const t=Object.assign(Object.assign({},e),{witnesses:e.witnesses.map((e=>"string"==typeof e?e:(0,n.serializeWitnessArgs)(e)))});return(0,n.serializeTransaction)(t).slice(2).length/2+4},t.default={getTransactionSize:t.getTransactionSize}},9738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIMPLE_UDT=t.NERVOS_DAO=t.ANYONE_CAN_PAY_TESTNET=t.ANYONE_CAN_PAY_MAINNET=t.SECP256K1_MULTISIG=t.SECP256K1_BLAKE160=void 0,t.SECP256K1_BLAKE160={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},t.SECP256K1_MULTISIG={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},t.ANYONE_CAN_PAY_MAINNET={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},t.ANYONE_CAN_PAY_TESTNET={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},t.NERVOS_DAO={codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",depType:"code",mainnetOutPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:"0x2"},testnetOutPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:"0x2"}},t.SIMPLE_UDT={codeHash:"0x48dbf59b4c7ee1547238021b4869bceedf4eea6b43772e5d66ef8865b6ae7212",hashType:"data",depType:"code",testnetOutPoint:{txHash:"0xc1b2ae129fad7465aaa9acc9785f842ba3e6e8b8051d899defa89f5508a77958",index:"0x0"}}},11030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertToBeHexStringOrBigint=t.assertToBeHexString=void 0;const n=r(53772);t.assertToBeHexString=e=>{if("string"!=typeof e||!e.startsWith("0x")||Number.isNaN(+e))throw new n.HexStringException(e);return!0};t.assertToBeHexStringOrBigint=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},t.default={assertToBeHexString:t.assertToBeHexString,assertToBeHexStringOrBigint:t.assertToBeHexStringOrBigint}},44764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>T,__createBinding:()=>l,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>u,__param:()=>c,__read:()=>b,__rest:()=>a,__spread:()=>y,__spreadArray:()=>m,__spreadArrays:()=>g,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||l(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function g(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function c(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return A(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},25467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));t.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:o.default.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:o.default.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:o.default.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[i.default.toNumber]},getBlock:{method:"get_block",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toBlock},getHeader:{method:"get_header",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[i.default.toOutPoint],resultFormatters:o.default.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[i.default.toArray(i.default.toHash),i.default.toOptional(i.default.toHash)],resultFormatters:o.default.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[i.default.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:o.default.toConsensus}}},35874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(0,r(75310).__importDefault)(r(63950));t.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[n.default.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[n.default.toOutPoint,n.default.toHash]}}},18966:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Base=t.rpcProperties=void 0;const i=r(75310),o=(0,i.__importDefault)(r(25467)),a=(0,i.__importDefault)(r(35874)),s=(0,i.__importDefault)(r(94037)),c=(0,i.__importDefault)(r(38238)),u=(0,i.__importDefault)(r(3069));t.rpcProperties=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.default),a.default),s.default),c.default),u.default);class f{constructor(){n.set(this,t.rpcProperties)}get rpcProperties(){return(0,i.__classPrivateFieldGet)(this,n,"f")}}t.Base=f,n=new WeakMap,t.default=f},94037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));t.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:o.default.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:o.default.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:o.default.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:o.default.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[i.default.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}}},38238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));t.default={sendTransaction:{method:"send_transaction",paramsFormatters:[i.default.toRawTransaction,i.default.toOutputsValidator],resultFormatters:o.default.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:o.default.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:o.default.toRawTxPool}}},3069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(0,r(75310).__importDefault)(r(95895));t.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:n.default.toBlockchainInfo},getFeeRateStats:{method:"get_fee_rate_statistics",paramsFormatters:[]}}},74842:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.IdNotMatch=201]="IdNotMatch",e[e.MethodNotFound=202]="MethodNotFound",e[e.PayloadMessage=203]="PayloadMessage",e[e.ResponseMessage=204]="ResponseMessage"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},16697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdNotMatchedInBatchException=t.PayloadInBatchException=t.MethodInBatchNotFoundException=void 0;const n=(0,r(75310).__importDefault)(r(74842)),i=r(84026),o="Batch Request";class a extends Error{constructor(e){super(`[${o}]: Method ${e} is not found`),this.code=n.default.MethodNotFound}}t.MethodInBatchNotFoundException=a;class s extends Error{constructor(e,t){super(`[${o} ${e}]: ${t}`),this.code=n.default.PayloadMessage,this.index=e}}t.PayloadInBatchException=s;class c extends i.IdNotMatchException{constructor(e,t,r){super(t,r),this.message=`[${o} ${e}]: ${this.message}`,this.index=e}}t.IdNotMatchedInBatchException=c,t.default={MethodInBatchNotFoundException:a,PayloadInBatchException:s,IdNotMatchedInBatchException:c}},53491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringHashTypeException=t.BigintOrHexStringTypeException=t.OutputsValidatorTypeException=t.PageSizeTooSmallException=t.PageSizeTooLargeException=void 0;const n=r(13694);class i extends RangeError{constructor(e,t){super(`Expect page size to be at most ${t}, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.PageSizeTooLargeException=i;class o extends RangeError{constructor(e,t){super(`Expect page size to be at least ${t}, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.PageSizeTooSmallException=o;class a extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'"),this.code=n.ErrorCode.ParameterInvalid}}t.OutputsValidatorTypeException=a;class s extends TypeError{constructor(e){super(`Expect number to be bigint or hex string, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.BigintOrHexStringTypeException=s;class c extends TypeError{constructor(e){super(`Expect hash to be string, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.StringHashTypeException=c,t.default={PageSizeTooLargeException:i,PageSizeTooSmallException:o,OutputsValidatorTypeException:a,BigintOrHexStringTypeException:s,StringHashTypeException:c}},69073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=void 0;const n=r(75310);var i=r(13694);Object.defineProperty(t,"HexStringWithout0xException",{enumerable:!0,get:function(){return i.HexStringWithout0xException}}),(0,n.__exportStar)(r(53491),t),(0,n.__exportStar)(r(84026),t),(0,n.__exportStar)(r(16697),t)},84026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseException=t.IdNotMatchException=void 0;const n=(0,r(75310).__importDefault)(r(74842));class i extends Error{constructor(e,t){super(`Expect json rpc id to be ${e}, but ${t} received`),this.code=n.default.IdNotMatch}}t.IdNotMatchException=i;class o extends Error{constructor(){super(...arguments),this.code=n.default.ResponseMessage}}t.ResponseException=o,t.default={IdNotMatchException:i,ResponseException:o}},80006:(e,t,r)=>{"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0});const a=r(75310),s=(0,a.__importDefault)(r(7188)),c=(0,a.__importDefault)(r(18966)),u=(0,a.__importDefault)(r(7353)),f=(0,a.__importDefault)(r(63950)),d=(0,a.__importDefault)(r(95895)),l=r(69073);class h extends c.default{constructor(e){super(),n.set(this,{url:""}),i.set(this,f.default),o.set(this,d.default),this.addMethod=e=>{const t=new u.default(this.node,e);Object.defineProperty(this,e.name,{value:t.call,enumerable:!0})},this.createBatchRequest=(e=[])=>{const t=this,r=new Proxy([],{set(...e){var r;const n=Object.keys(t);if("length"!==e[1]){const t=null===(r=null==e?void 0:e[2])||void 0===r?void 0:r[0];if(-1===n.indexOf(t))throw new l.MethodInBatchNotFoundException(t)}return Reflect.set(...e)}});return Object.defineProperties(r,{add:{value(...e){return this.push(e),this}},remove:{value(e){return this.splice(e,1),this}},exec:{value(){return(0,a.__awaiter)(this,void 0,void 0,(function*(){const e=r.map((([e,...r],n)=>{try{return new u.default(t.node,Object.assign(Object.assign({},t.rpcProperties[e]),{name:e})).getPayload(...r)}catch(e){throw new l.PayloadInBatchException(n,e.message)}}));if(!e.length)return[];return(yield(0,s.default)({method:"POST",headers:{"content-type":"application/json"},data:e,url:(0,a.__classPrivateFieldGet)(t,n,"f").url,httpAgent:(0,a.__classPrivateFieldGet)(t,n,"f").httpAgent,httpsAgent:(0,a.__classPrivateFieldGet)(t,n,"f").httpsAgent})).data.map(((n,i)=>{var o,a,s;return n.id!==e[i].id?new l.IdNotMatchedInBatchException(i,e[i].id,n.id):null!==(s=null===(a=(o=t.rpcProperties[r[i][0]]).resultFormatters)||void 0===a?void 0:a.call(o,n.result))&&void 0!==s?s:n.result}))}))}}}),e.forEach((e=>r.push(e))),r},this.setNode({url:e}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1},createBatchRequest:{value:this.createBatchRequest,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach((e=>{this.addMethod(Object.assign({name:e},this.rpcProperties[e]))}))}get node(){return(0,a.__classPrivateFieldGet)(this,n,"f")}get paramsFormatter(){return(0,a.__classPrivateFieldGet)(this,i,"f")}get resultFormatter(){return(0,a.__classPrivateFieldGet)(this,o,"f")}setNode(e){return Object.assign(this.node,e),this.node}}n=new WeakMap,i=new WeakMap,o=new WeakMap,t.default=h},7353:(e,t,r)=>{"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0});const a=r(75310),s=(0,a.__importDefault)(r(7188)),c=r(69073);n=new WeakMap,i=new WeakMap,o=new WeakMap,t.default=class{constructor(e,t){n.set(this,void 0),i.set(this,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0}),o.set(this,void 0),this.call=(...e)=>{const t=this.getPayload(...e);return(0,s.default)({method:"POST",headers:{"content-type":"application/json"},data:t,url:(0,a.__classPrivateFieldGet)(this,o,"f").url,httpAgent:(0,a.__classPrivateFieldGet)(this,o,"f").httpAgent,httpsAgent:(0,a.__classPrivateFieldGet)(this,o,"f").httpsAgent}).then((e=>{var r,n,o;if(e.data.id!==t.id)throw new c.IdNotMatchException(t.id,e.data.id);if(e.data.error)throw new c.ResponseException(JSON.stringify(e.data.error));return null!==(o=null===(n=(r=(0,a.__classPrivateFieldGet)(this,i,"f")).resultFormatters)||void 0===n?void 0:n.call(r,e.data.result))&&void 0!==o?o:e.data.result}))},this.getPayload=(...e)=>{const t=e.map(((e,t)=>(0,a.__classPrivateFieldGet)(this,i,"f").paramsFormatters[t]&&(0,a.__classPrivateFieldGet)(this,i,"f").paramsFormatters[t](e)||e));return{id:Math.round(1e4*Math.random()),method:(0,a.__classPrivateFieldGet)(this,i,"f").method,params:t,jsonrpc:"2.0"}},(0,a.__classPrivateFieldSet)(this,o,e,"f"),(0,a.__classPrivateFieldSet)(this,i,t,"f"),(0,a.__classPrivateFieldSet)(this,n,t.name,"f"),Object.defineProperty(this.call,"name",{value:t.name,configurable:!1,writable:!1})}get name(){return(0,a.__classPrivateFieldGet)(this,n,"f")}}},63950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=r(22119),o=r(69073),a={toOptional:e=>t=>e&&null!=t?e(t):t,toArray:e=>t=>"function"==typeof e&&Array.isArray(t)?t.map(e):t,toHash:e=>{if("string"!=typeof e)throw new o.StringHashTypeException(e);return e.startsWith("0x")?e:`0x${e}`},toNumber:e=>{if("bigint"==typeof e)return`0x${e.toString(16)}`;if("string"!=typeof e)throw new o.BigintOrHexStringTypeException(e);if(!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);return e},toScript:e=>{const{codeHash:t,hashType:r}=e,i=(0,n.__rest)(e,["codeHash","hashType"]);return Object.assign({code_hash:a.toHash(t),hash_type:r},i)},toOutPoint:e=>{if(!e)return e;const{txHash:t,index:r}=e,i=(0,n.__rest)(e,["txHash","index"]);return Object.assign({tx_hash:a.toHash(t),index:a.toNumber(r)},i)},toInput:e=>{if(!e)return e;const{previousOutput:t,since:r}=e,i=(0,n.__rest)(e,["previousOutput","since"]);return Object.assign({previous_output:a.toOutPoint(t),since:a.toNumber(r)},i)},toOutput:e=>{if(!e)return e;const{capacity:t,lock:r,type:i=null}=e,o=(0,n.__rest)(e,["capacity","lock","type"]);return Object.assign({capacity:a.toNumber(t),lock:a.toScript(r),type:i?a.toScript(i):i},o)},toDepType:e=>"depGroup"===e?"dep_group":e,toCellDep:e=>{if(!e)return e;const{outPoint:t=null,depType:r="code"}=e,i=(0,n.__rest)(e,["outPoint","depType"]);return Object.assign({out_point:a.toOutPoint(t),dep_type:a.toDepType(r)},i)},toRawTransaction:e=>{if(!e)return e;const{version:t,cellDeps:r=[],inputs:i=[],outputs:o=[],outputsData:s=[],headerDeps:c=[]}=e,u=(0,n.__rest)(e,["version","cellDeps","inputs","outputs","outputsData","headerDeps"]),f=i.map((e=>a.toInput(e))),d=o.map((e=>a.toOutput(e))),l=r.map((e=>a.toCellDep(e)));return Object.assign({version:a.toNumber(t),cell_deps:l,inputs:f,outputs:d,outputs_data:s,header_deps:c},u)},toPageNumber:(e="0x1")=>a.toNumber(e),toPageSize:(e="0x32")=>{const t=i.JSBI.BigInt(`${e}`);if(i.JSBI.greaterThan(t,i.JSBI.BigInt(50)))throw new o.PageSizeTooLargeException(e,50);if(i.JSBI.lessThan(t,i.JSBI.BigInt(0)))throw new o.PageSizeTooSmallException(e,0);return a.toNumber(`0x${t.toString(16)}`)},toReverseOrder:(e=!1)=>!!e,toOutputsValidator:e=>{if(!e)return;if(["default","passthrough"].indexOf(e)>-1)return e;throw new o.OutputsValidatorTypeException},toBoolean:e=>!!e,toTransactionProof:e=>{if(!e)return e;const{blockHash:t,witnessesRoot:r}=e,i=(0,n.__rest)(e,["blockHash","witnessesRoot"]);return Object.assign({block_hash:t,witnesses_root:r},i)}};t.default=a},95895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=e=>{if(!e)return e;const{compact_target:t,transactions_root:r,proposals_hash:i,extra_hash:o,parent_hash:a}=e,s=(0,n.__rest)(e,["compact_target","transactions_root","proposals_hash","extra_hash","parent_hash"]);return Object.assign({compactTarget:t,parentHash:a,transactionsRoot:r,proposalsHash:i,extraHash:o},s)},o=e=>{if(!e)return e;const{code_hash:t,hash_type:r}=e,i=(0,n.__rest)(e,["code_hash","hash_type"]);return Object.assign({codeHash:t,hashType:r},i)},a=e=>{if(!e)return e;const{previous_output:t}=e,r=(0,n.__rest)(e,["previous_output"]);return Object.assign({previousOutput:t?c(t):t},r)},s=e=>{if(!e)return e;const{lock:t,type:r}=e,i=(0,n.__rest)(e,["lock","type"]);return Object.assign({lock:o(t),type:r?o(r):r},i)},c=e=>{if(!e)return e;const{tx_hash:t}=e,r=(0,n.__rest)(e,["tx_hash"]);return Object.assign({txHash:t},r)},u=e=>"dep_group"===e?"depGroup":e,f=e=>{if(!e)return e;const{out_point:t=null,dep_type:r="code"}=e,i=(0,n.__rest)(e,["out_point","dep_type"]);return Object.assign({outPoint:c(t),depType:u(r)},i)};function d(e){if(!e)return e;const{cell_deps:t=[],inputs:r=[],outputs:i=[],outputs_data:o=[],header_deps:c=[]}=e,u=(0,n.__rest)(e,["cell_deps","inputs","outputs","outputs_data","header_deps"]);return Object.assign({cellDeps:t.map(f),inputs:r.map(a),outputs:i.map(s),outputsData:o,headerDeps:c},u)}const l=e=>{if(!e)return e;const{header:t}=e,r=(0,n.__rest)(e,["header"]);return Object.assign({header:i(t)},r)},h=e=>{if(!e)return e;const{notice_until:t}=e,r=(0,n.__rest)(e,["notice_until"]);return Object.assign({noticeUntil:t},r)},p=e=>{if(!e)return e;const{node_id:t,connected_duration:r,is_outbound:i,last_ping_duration:o,sync_state:a}=e,s=(0,n.__rest)(e,["node_id","connected_duration","is_outbound","last_ping_duration","sync_state"]);return Object.assign({nodeId:t,connectedDuration:r,isOutbound:i,lastPingDuration:o,syncState:{bestKnownHeaderHash:a.best_known_header_hash,bestKnownHeaderNumber:a.best_known_header_number,canFetchCount:a.can_fetch_count,inflightCount:a.inflight_count,lastCommonHeaderHash:a.last_common_header_hash,lastCommonHeaderNumber:a.last_common_header_number,unknownHeaderListSize:a.unknown_header_list_size}},s)},b=e=>{if(!e)return e;const{lock:t,type:r}=e,i=(0,n.__rest)(e,["lock","type"]);return Object.assign({lock:o(t),type:r?o(r):null},i)},y=e=>{if(!e)return e;const{data:t,output:r}=e,i=(0,n.__rest)(e,["data","output"]);return Object.assign({data:t,output:s(r)},i)},g=e=>{if(!e)return e;const{lock:t,block_hash:r,out_point:i,output_data_len:a}=e,s=(0,n.__rest)(e,["lock","block_hash","out_point","output_data_len"]);return Object.assign({blockHash:r,lock:o(t),outPoint:c(i),outputDataLen:a},s)},m=e=>{if(!e)return e;const{block_number:t,tx_hash:r}=e,i=(0,n.__rest)(e,["block_number","tx_hash"]);return Object.assign({blockNumber:t,txHash:r},i)},v=e=>{if(!e)return e;const{block_hash:t,block_number:r,lock_hash:i}=e,o=(0,n.__rest)(e,["block_hash","block_number","lock_hash"]);return Object.assign({blockHash:t,blockNumber:r,lockHash:i},o)},_=e=>{if(!e)return e;const{ban_reason:t,ban_until:r,created_at:i}=e,o=(0,n.__rest)(e,["ban_reason","ban_until","created_at"]);return Object.assign({banReason:t,banUntil:r,createdAt:i},o)};t.default={toNumber:e=>e.toString(),toHash:e=>e,toHeader:i,toScript:o,toInput:a,toOutput:s,toOutPoint:c,toDepType:u,toCellDep:f,toTransaction:d,toUncleBlock:l,toBlock:e=>{if(!e)return e;const{header:t,uncles:r=[],transactions:o=[]}=e,a=(0,n.__rest)(e,["header","uncles","transactions"]);return Object.assign({header:i(t),uncles:r.map(l),transactions:o.map(d)},a)},toAlertMessage:h,toBlockchainInfo:e=>{if(!e)return e;const{is_initial_block_download:t,median_time:r,alerts:i}=e,o=(0,n.__rest)(e,["is_initial_block_download","median_time","alerts"]);return Object.assign({isInitialBlockDownload:t,medianTime:r,alerts:i.map(h)},o)},toLocalNodeInfo:e=>{if(!e)return e;const{node_id:t,protocols:r}=e,i=(0,n.__rest)(e,["node_id","protocols"]);return Object.assign({nodeId:t,protocols:r.map((({id:e,name:t,support_versions:r})=>({id:e,name:t,supportVersions:r})))},i)},toRemoteNodeInfo:p,toTxPoolInfo:e=>{if(!e)return e;const{last_txs_updated_at:t,tip_hash:r,tip_number:i,total_tx_cycles:o,total_tx_size:a,min_fee_rate:s}=e,c=(0,n.__rest)(e,["last_txs_updated_at","tip_hash","tip_number","total_tx_cycles","total_tx_size","min_fee_rate"]);return Object.assign({lastTxsUpdatedAt:t,tipHash:r,tipNumber:i,totalTxCycles:o,totalTxSize:a,minFeeRate:s},c)},toPeers:e=>Array.isArray(e)?e.map(p):[],toLiveCell:y,toLiveCellWithStatus:e=>{if(!e)return e;const{cell:t}=e,r=(0,n.__rest)(e,["cell"]);return Object.assign({cell:y(t)},r)},toCell:b,toCells:e=>Array.isArray(e)?e.map(b):[],toCellIncludingOutPoint:g,toCellsIncludingOutPoint:e=>Array.isArray(e)?e.map(g):[],toTransactionWithStatus:e=>{if(!e)return e;const{transaction:t,tx_status:{block_hash:r,status:i}}=e,o=(0,n.__rest)(e,["transaction","tx_status"]);return Object.assign({transaction:d(t),txStatus:{blockHash:r,status:i}},o)},toEpoch:e=>{if(!e)return e;const{start_number:t,compact_target:r}=e,i=(0,n.__rest)(e,["start_number","compact_target"]);return Object.assign({compactTarget:r,startNumber:t},i)},toTransactionPoint:m,toTransactionsByLockHash:e=>e?e.map((e=>({consumedBy:e.consumed_by?m(e.consumed_by):e.consumed_by,createdBy:m(e.created_by)}))):e,toLiveCellsByLockHash:e=>e?e.map((e=>({cellOutput:b(e.cell_output),createdBy:m(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}))):e,toLockHashIndexState:v,toLockHashIndexStates:e=>e?e.map(v):e,toBannedAddress:_,toBannedAddresses:e=>e?e.map((e=>_(e))):e,toCellbaseOutputCapacityDetails:e=>{if(!e)return e;const{proposal_reward:t,tx_fee:r}=e,i=(0,n.__rest)(e,["proposal_reward","tx_fee"]);return Object.assign({proposalReward:t,txFee:r},i)},toFeeRate:e=>{if(!e)return e;const{fee_rate:t}=e,r=(0,n.__rest)(e,["fee_rate"]);return Object.assign({feeRate:t},r)},toCapacityByLockHash:e=>{if(!e)return e;const{cells_count:t,block_number:r,capacity:i}=e,o=(0,n.__rest)(e,["cells_count","block_number","capacity"]);return Object.assign({blockNumber:r,capacity:i,cellsCount:t},o)},toBlockEconomicState:e=>{if(!e)return e;const{finalized_at:t,miner_reward:r,txs_fee:i}=e,o=(0,n.__rest)(e,["finalized_at","miner_reward","txs_fee"]);return Object.assign({finalizedAt:t,minerReward:r,txsFee:i},o)},toSyncState:e=>e?{bestKnownBlockNumber:e.best_known_block_number,bestKnownBlockTimestamp:e.best_known_block_timestamp,fastTime:e.fast_time,ibd:e.ibd,inflightBlocksCount:e.inflight_blocks_count,lowTime:e.low_time,normalTime:e.normal_time,orphanBlocksCount:e.orphan_blocks_count}:e,toTransactionProof:e=>{if(!e)return e;const{block_hash:t,witnesses_root:r}=e,i=(0,n.__rest)(e,["block_hash","witnesses_root"]);return Object.assign({blockHash:t,witnessesRoot:r},i)},toConsensus:e=>{var t,r;return e?{blockVersion:e.block_version,cellbaseMaturity:e.cellbase_maturity,daoTypeHash:e.dao_type_hash,epochDurationTarget:e.epoch_duration_target,genesisHash:e.genesis_hash,id:e.id,initialPrimaryEpochReward:e.initial_primary_epoch_reward,maxBlockBytes:e.max_block_bytes,maxBlockCycles:e.max_block_cycles,maxBlockProposalsLimit:e.max_block_proposals_limit,maxUnclesNum:e.max_uncles_num,medianTimeBlockCount:e.median_time_block_count,orphanRateTarget:e.orphan_rate_target,permanentDifficultyInDummy:e.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:e.primary_epoch_reward_halving_interval,proposerRewardRatio:e.proposer_reward_ratio,secondaryEpochReward:e.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:e.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:e.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:e.tx_proposal_window,txVersion:e.tx_version,typeIdCodeHash:e.type_id_code_hash,hardforkFeatures:null!==(r=null===(t=e.hardfork_features)||void 0===t?void 0:t.map((e=>{var{epoch_number:t}=e,r=(0,n.__rest)(e,["epoch_number"]);return Object.assign({epochNumber:t},r)})))&&void 0!==r?r:e.hardfork_features}:e},toRawTxPool:e=>{if(!e)return e;if((e=>Array.isArray(e.pending))(e))return e;const t=e=>{var{ancestors_count:t,ancestors_cycles:r,ancestors_size:i}=e,o=(0,n.__rest)(e,["ancestors_count","ancestors_cycles","ancestors_size"]);return Object.assign({ancestorsCount:t,ancestorsCycles:r,ancestorsSize:i},o)},r={},i={};return Object.keys(e.proposed).forEach((n=>{r[n]=t(e.proposed[n])})),Object.keys(e.pending).forEach((r=>{i[r]=t(e.pending[r])})),{proposed:r,pending:i}}}},84684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addressToScript=t.parseAddress=t.pubkeyToAddress=t.fullPayloadToAddress=t.bech32Address=t.toAddressPayload=t.scriptToAddress=t.Bech32Type=t.AddressType=t.AddressPrefix=void 0;const n=r(22119),i=r(34952),o=r(24423),a=r(13694),s=1023;var c,u,f;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(c=t.AddressPrefix||(t.AddressPrefix={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(u=t.AddressType||(t.AddressType={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(f=t.Bech32Type||(t.Bech32Type={}));const d=({codeHash:e,hashType:t,args:r})=>{if(!r.startsWith("0x"))throw new a.HexStringWithout0xException(r);if(!e.startsWith("0x")||66!==e.length)throw new a.CodeHashException(e);let n;if(function(e){e.data="00",e.type="01",e.data1="02",e.data2="04"}(n||(n={})),!n[t])throw new a.HashTypeException(t);return(0,o.hexToBytes)(`0x00${e.slice(2)}${n[t]}${r.slice(2)}`)};t.scriptToAddress=(e,t=!0)=>((e,t=!0)=>n.bech32m.encode(t?c.Mainnet:c.Testnet,n.bech32m.toWords(e),s))(d(e),t);t.toAddressPayload=(e,t=u.HashIdx,r,n)=>{if("string"==typeof e&&!e.startsWith("0x"))throw new a.HexStringWithout0xException(e);if(![u.HashIdx,u.DataCodeHash,u.TypeCodeHash,u.FullVersion].includes(t))throw new a.AddressFormatTypeException(+t);if([u.DataCodeHash,u.TypeCodeHash].includes(t)&&console.warn("Address of 'AddressType.DataCodeHash' or 'AddressType.TypeCodeHash' is deprecated, please use address of AddressPrefix.FullVersion"),r||(r=t===u.HashIdx?"0x00":i.SECP256K1_BLAKE160.codeHash),t!==u.FullVersion)return new Uint8Array([...(0,o.hexToBytes)(t),...(0,o.hexToBytes)(r),..."string"==typeof e?(0,o.hexToBytes)(e):e]);if(n||r!==i.SECP256K1_BLAKE160.codeHash||(n=i.SECP256K1_BLAKE160.hashType),!r.startsWith("0x")||66!==r.length)throw new a.CodeHashException(r);if(!n)throw new a.ParameterRequiredException("hashType");return d({codeHash:r,hashType:n,args:"string"==typeof e?e:(0,o.bytesToHex)(e)})};t.bech32Address=(e,{prefix:r=c.Mainnet,type:i=u.HashIdx,codeHashOrCodeHashIndex:o=""}={})=>n.bech32.encode(r,n.bech32.toWords((0,t.toAddressPayload)(e,i,o)),s);t.fullPayloadToAddress=({args:e,prefix:r,type:n=u.DataCodeHash,codeHash:i})=>(0,t.bech32Address)(e,{prefix:r,type:n,codeHashOrCodeHashIndex:i});t.pubkeyToAddress=(e,r={})=>{const i=(0,n.blake160)(e);return(0,t.bech32Address)(i,r)};const l=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+u.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new a.AddressPayloadException(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new a.AddressPayloadException(e,"short");default:throw new a.AddressPayloadException(e,"short")}})(e,t);break;case+u.DataCodeHash:case+u.TypeCodeHash:if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);if(n.length<32)throw new a.AddressPayloadException(e,"full");break;case+u.FullVersion:{if(t!==f.Bech32m)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);const e=n.slice(0,32);if(e.length<32)throw new a.CodeHashException((0,o.bytesToHex)(e));const i=parseInt(n[32].toString(),16);if(![0,1,2,4].includes(i))throw new a.HashTypeException(`0x${i.toString(16)}`);break}default:throw new a.AddressPayloadException(e)}};t.parseAddress=(e,t="binary")=>{let r,i=new Uint8Array;try{const t=n.bech32.decode(e,s);r=f.Bech32,i=new Uint8Array(n.bech32.fromWords(new Uint8Array(t.words)))}catch(t){const o=n.bech32m.decode(e,s);r=f.Bech32m,i=new Uint8Array(n.bech32m.fromWords(new Uint8Array(o.words)))}try{l(i,r)}catch(t){if(t instanceof a.AddressFormatTypeAndEncodeMethodNotMatchException)throw t;throw new a.AddressException(e,t.stack,t.type)}return"binary"===t?i:(0,o.bytesToHex)(i)};t.addressToScript=e=>{const r=(0,t.parseAddress)(e),n=r[0];switch(n){case+u.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},t=(0,o.bytesToHex)(r);return{codeHash:`0x${t.substr(4,64)}`,hashType:e[t.substr(68,2)],args:`0x${t.substr(70)}`}}case+u.HashIdx:{const t=[i.SECP256K1_BLAKE160,i.SECP256K1_MULTISIG,e.startsWith(c.Mainnet)?i.ANYONE_CAN_PAY_MAINNET:i.ANYONE_CAN_PAY_TESTNET],n=r[1],a=r.slice(2),s=t[n];return{codeHash:s.codeHash,hashType:s.hashType,args:(0,o.bytesToHex)(a)}}case+u.DataCodeHash:case+u.TypeCodeHash:{const e=(0,o.bytesToHex)(r.slice(1)),t=n===+u.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:t,args:`0x${e.substr(66)}`}}default:throw new a.AddressFormatTypeException(n)}}},9063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransactionFee=void 0;const n=(0,r(75310).__importDefault)(r(75951)),i=r(56824);t.calculateTransactionFee=(e,t)=>{(0,i.assertToBeHexStringOrBigint)(e),(0,i.assertToBeHexStringOrBigint)(t);const r=n.default.BigInt(1e3),o=n.default.multiply(n.default.BigInt(`${e}`),n.default.BigInt(`${t}`)),a=n.default.divide(o,r);return n.default.lessThan(n.default.multiply(a,r),o)?`0x${n.default.add(a,n.default.BigInt(1)).toString(16)}`:`0x${a.toString(16)}`},t.default=t.calculateTransactionFee},5180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SECP_SIG=t.EMPTY_WITNESS_ARGS=t.PERSONAL=void 0,t.PERSONAL=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),t.EMPTY_WITNESS_ARGS={lock:"",inputType:"",outputType:""},t.EMPTY_SECP_SIG=`0x${"0".repeat(130)}`,t.default={PERSONAL:t.PERSONAL,EMPTY_WITNESS_ARGS:t.EMPTY_WITNESS_ARGS,EMPTY_SECP_SIG:t.EMPTY_SECP_SIG}},24423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToHex=t.toBigEndian=t.hexToBytes=t.toUint64Le=t.toUint32Le=t.toUint16Le=void 0;const n=r(56824),i=r(13694);t.toUint16Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(2));return t.setUint16(0,Number(e),!0),`0x${t.getUint16(0,!1).toString(16).padStart(4,"0")}`};t.toUint32Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`};t.toUint64Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const r=("bigint"==typeof e?e.toString(16):e.slice(2)).padStart(16,"0"),i=(0,t.toUint32Le)(`0x${r.slice(0,8)}`).slice(2);return`0x${(0,t.toUint32Le)(`0x${r.slice(8)}`).slice(2)}${i}`};t.hexToBytes=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new i.HexStringWithout0xException(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)};t.toBigEndian=e=>{(0,n.assertToBeHexString)(e);return`0x${(0,t.hexToBytes)(e).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`};t.bytesToHex=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`,t.default={toUint16Le:t.toUint16Le,toUint32Le:t.toUint32Le,toUint64Le:t.toUint64Le,hexToBytes:t.hexToBytes,bytesToHex:t.bytesToHex,toBigEndian:t.toBigEndian}},71747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake160=void 0;const n=(0,r(75310).__importDefault)(r(12316)),i=r(24423),o=r(5180);t.blake160=(e,t="binary")=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,a=(0,n.default)(32,null,null,o.PERSONAL);return a.update(r),a.digest(t).slice(0,"binary"===t?20:40)},t.default=t.blake160},12316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.Blake2b=void 0;const{OutLenTooSmallException:n,OutLenTooLargeException:i,KeyLenTooSmallException:o,KeyLenTooLargeException:a,OutTypeException:s,SaltTypeException:c,SaltLenException:u,InputTypeException:f,KeyTypeException:d,PersonalTypeException:l,PersonalLenException:h}=r(13694),p=new Uint32Array(32),b=new Uint32Array(32),y=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},g=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},m=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,v=(e,t,r,n,i,o)=>{const a=b[i],s=b[i+1],c=b[o],u=b[o+1];y(p,e,t),g(p,e,a,s);let f=p[n]^p[e],d=p[n+1]^p[e+1];p[n]=d,p[n+1]=f,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=f>>>24^d<<8,p[t+1]=d>>>24^f<<8,y(p,e,t),g(p,e,c,u),f=p[n]^p[e],d=p[n+1]^p[e+1],p[n]=f>>>16^d<<16,p[n+1]=d>>>16^f<<16,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=d>>>31^f<<1,p[t+1]=f>>>31^d<<1},_=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),S=(e,t)=>{let r=0;for(r=0;r<16;r++)p[r]=e.h[r],p[r+16]=_[r];for(p[24]^=e.t,p[25]^=e.t/4294967296,t&&(p[28]=~p[28],p[29]=~p[29]),r=0;r<32;r++)b[r]=m(e.b,4*r);for(r=0;r<12;r++)v(0,8,16,24,w[16*r+0],w[16*r+1]),v(2,10,18,26,w[16*r+2],w[16*r+3]),v(4,12,20,28,w[16*r+4],w[16*r+5]),v(6,14,22,30,w[16*r+6],w[16*r+7]),v(0,10,20,30,w[16*r+8],w[16*r+9]),v(2,12,22,24,w[16*r+10],w[16*r+11]),v(4,14,16,26,w[16*r+12],w[16*r+13]),v(6,8,18,28,w[16*r+14],w[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^p[r]^p[r+16]},x=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,S(e,!1),e.c=0),e.b[e.c++]=+t[r]},A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class E{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new f;return x(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new s;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;S(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,A.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,A[0]=e,t&&(A[1]=t.length),A[2]=1,A[3]=1,r&&A.set(r,32),n&&A.set(n,48);for(let e=0;e<16;e++)this.h[e]=_[e]^m(A,4*e);t&&(x(this,t),this.c=128)}}t.Blake2b=E;t.blake2b=(e,t,r,s,f)=>{if(!0!==f){if(e<16)throw new n(e,16);if(e>64)throw new i(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new d;if(t.length<16)throw new o(t.length,16);if(t.length>64)throw new a(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new c;if(16!==r.length)throw new u(r.length,16)}if(null!==s){if(!(s instanceof Uint8Array))throw new l;if(16!==s.length)throw new h(s.length,16)}}return new E(e,t,r,s)},t.default=t.blake2b},91485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=r(22343),o=(0,n.__importDefault)(r(12316)),a=(0,n.__importDefault)(r(71747));e.exports={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m},t.default={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m}},79451:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(86729),i=r(24423),o=r(13694),a=new n.ec("secp256k1");t.default=class{constructor(e,{compressed:t=!0}={compressed:!0}){if(this.compressed=!1,this.getPrivateKey=(e="hex")=>"hex"===e?this.privateKey:this.key.getPrivate(e),this.getPublicKey=e=>"hex"===e?this.publicKey:this.key.getPublic(this.compressed,e),this.sign=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e;return`0x${this.key.sign(t,{canonical:!0}).toDER("hex")}`},this.verify=(e,t)=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,n="string"==typeof t?(0,i.hexToBytes)(t):t;return this.key.verify(r,n)},this.signRecoverable=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e,{r,s:n,recoveryParam:a}=this.key.sign(t,{canonical:!0});if(null===a)throw new o.SignMessageException;return`0x${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}0${a}`},void 0===e)throw new o.ParameterRequiredException("Private key");if("string"==typeof e&&!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);if("string"==typeof e&&66!==e.length)throw new o.PrivateKeyLenException;if("object"==typeof e&&32!==e.byteLength)throw new o.PrivateKeyLenException;this.key=a.keyFromPrivate("string"==typeof e?e.replace(/^0x/,""):e),this.compressed=t}get privateKey(){return`0x${this.key.getPrivate("hex").padStart(64,"0")}`}get publicKey(){return`0x${this.key.getPublic(this.compressed,"hex")}`}}},89065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithdrawEpoch=t.parseEpoch=t.serializeEpoch=void 0;const n=(0,r(75310).__importDefault)(r(75951)),i=r(56824);t.serializeEpoch=({length:e,index:t,number:r})=>{(0,i.assertToBeHexString)(e),(0,i.assertToBeHexString)(t),(0,i.assertToBeHexString)(r);return`0x${n.default.add(n.default.add(n.default.add(n.default.leftShift(n.default.BigInt(32),n.default.BigInt(56)),n.default.leftShift(n.default.BigInt(e),n.default.BigInt(40))),n.default.leftShift(n.default.BigInt(t),n.default.BigInt(24))),n.default.BigInt(r)).toString(16)}`};t.parseEpoch=e=>({length:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(40)),n.default.BigInt(65535)).toString(16)}`,index:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(24)),n.default.BigInt(65535)).toString(16)}`,number:`0x${n.default.bitwiseAnd(n.default.BigInt(e),n.default.BigInt(16777215)).toString(16)}`});t.getWithdrawEpoch=(e,r)=>{const n=180,i=(0,t.parseEpoch)(e),o=(0,t.parseEpoch)(r);let a=+o.number-+i.number;+o.index*+i.length>+i.index*+o.length&&(a+=1);const s=a<=n?n:(Math.floor((a-1)/n)+1)*n;return(0,t.serializeEpoch)({index:i.index,length:i.length,number:`0x${(+i.number+s).toString(16)}`})},t.default={serializeEpoch:t.serializeEpoch,parseEpoch:t.parseEpoch,getWithdrawEpoch:t.getWithdrawEpoch}},58817:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},83222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressFormatTypeAndEncodeMethodNotMatchException=t.AddressFormatTypeException=t.HashTypeException=t.CodeHashException=t.AddressException=t.AddressPayloadException=void 0;const n=(0,r(75310).__importDefault)(r(58817));class i extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=n.default.AddressInvalid,this.type=t}}t.AddressPayloadException=i;class o extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=n.default.AddressInvalid,this.type=r,this.stack=t}}t.AddressException=o;class a extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=n.default.AddressInvalid}}t.CodeHashException=a;class s extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=n.default.AddressInvalid}}t.HashTypeException=s;class c extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeException=c;class u extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeAndEncodeMethodNotMatchException=u,t.default={AddressPayloadException:i,AddressException:o,CodeHashException:a,HashTypeException:s,AddressFormatTypeException:c,AddressFormatTypeAndEncodeMethodNotMatchException:u}},14359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalLenException=t.PersonalTypeException=t.KeyTypeException=t.InputTypeException=t.SaltLenException=t.SaltTypeException=t.OutTypeException=t.KeyLenTooLargeException=t.KeyLenTooSmallException=t.OutLenTooLargeException=t.OutLenTooSmallException=void 0;const n=(0,r(75310).__importDefault)(r(58817));class i extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooSmallException=i;class o extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooLargeException=o;class a extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooSmallException=a;class s extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooLargeException=s;class c extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=n.default.ParameterInvalid}}t.OutTypeException=c;class u extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.SaltTypeException=u;class f extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.SaltLenException=f;class d extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.InputTypeException=d;class l extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.KeyTypeException=l;class h extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.PersonalTypeException=h;class p extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.PersonalLenException=p,t.default={OutLenTooSmallException:i,OutLenTooLargeException:o,KeyLenTooSmallException:a,KeyLenTooLargeException:s,OutTypeException:c,SaltTypeException:u,SaltLenException:f,InputTypeException:d,KeyTypeException:l,PersonalTypeException:h,PersonalLenException:p}},24913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignMessageException=t.ParameterRequiredException=void 0;const n=(0,r(75310).__importDefault)(r(58817));class i extends Error{constructor(e){super(`${e} is required`),this.code=n.default.ParameterRequired}}t.ParameterRequiredException=i;class o extends Error{constructor(){super("Fail to sign the message"),this.code=n.default.SignMessageFailed}}t.SignMessageException=o,t.default={ParameterRequiredException:i,SignMessageException:o}},13694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310);(0,n.__exportStar)(r(58817),t),(0,n.__exportStar)(r(24913),t),(0,n.__exportStar)(r(55805),t),(0,n.__exportStar)(r(83222),t),(0,n.__exportStar)(r(14359),t),(0,n.__exportStar)(r(866),t),(0,n.__exportStar)(r(19874),t)},866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateKeyLenException=void 0;const n=(0,r(75310).__importDefault)(r(58817));class i extends Error{constructor(){super("Private key has invalid length"),this.code=n.default.ParameterInvalid}}t.PrivateKeyLenException=i,t.default={PrivateKeyLenException:i}},55805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=t.HexStringException=void 0;const n=(0,r(75310).__importDefault)(r(58817));class i extends Error{constructor(e){super(`${e} is an invalid hex string`),this.code=n.default.ParameterInvalid}}t.HexStringException=i;class o extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=n.default.ParameterInvalid}}t.HexStringWithout0xException=o,t.default={HexStringException:i,HexStringWithout0xException:o}},19874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReconciliationException=void 0;const n=(0,r(75310).__importDefault)(r(58817));class i extends Error{constructor(){super("Fail to reconcile transaction, try to increase extra count or check the transaction"),this.code=n.default.ReconciliationFailed}}t.ReconciliationException=i,t.default={ReconciliationException:i}},22119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMaximumWithdraw=t.extractDAOData=t.privateKeyToAddress=t.privateKeyToPublicKey=t.rawTransactionToHash=t.scriptToHash=t.blake160=t.bech32m=t.bech32=t.blake2b=t.PERSONAL=t.JSBI=t.serializeWitnessArgs=t.serializeTransaction=t.serializeRawTransaction=t.serializeScript=t.reconcilers=t.systemScripts=void 0;const n=r(75310),i=(0,n.__importDefault)(r(75951));t.JSBI=i.default;const o=(0,n.__importDefault)(r(79451)),a=r(24423),s=r(84684),c=r(13694),u=(0,n.__importDefault)(r(91485)),f=r(24240);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return f.serializeScript}});const d=r(34171),l=r(69048);Object.defineProperty(t,"serializeRawTransaction",{enumerable:!0,get:function(){return l.serializeRawTransaction}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return l.serializeTransaction}}),Object.defineProperty(t,"serializeWitnessArgs",{enumerable:!0,get:function(){return l.serializeWitnessArgs}});const h=r(5180);Object.defineProperty(t,"PERSONAL",{enumerable:!0,get:function(){return h.PERSONAL}}),(0,n.__exportStar)(r(84684),t),(0,n.__exportStar)(r(24240),t),(0,n.__exportStar)(r(24423),t),(0,n.__exportStar)(r(89065),t),(0,n.__exportStar)(r(32389),t),(0,n.__exportStar)(r(34171),t),t.systemScripts=(0,n.__importStar)(r(34952)),t.reconcilers=(0,n.__importStar)(r(10067)),t.blake2b=u.default.blake2b,t.bech32=u.default.bech32,t.bech32m=u.default.bech32m,t.blake160=u.default.blake160;t.scriptToHash=e=>{if(!e)throw new c.ParameterRequiredException("Script");const r=(0,f.serializeScript)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.rawTransactionToHash=e=>{if(!e)throw new c.ParameterRequiredException("Raw transaction");const r=(0,l.serializeRawTransaction)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.privateKeyToPublicKey=e=>new o.default(e).publicKey;t.privateKeyToAddress=(e,r)=>(0,s.pubkeyToAddress)((0,t.privateKeyToPublicKey)(e),r);t.extractDAOData=e=>{if(!e.startsWith("0x"))throw new c.HexStringWithout0xException(e);const t=e.replace("0x","");return{c:(0,a.toBigEndian)(`0x${t.slice(0,16)}`),ar:(0,a.toBigEndian)(`0x${t.slice(16,32)}`),s:(0,a.toBigEndian)(`0x${t.slice(32,48)}`),u:(0,a.toBigEndian)(`0x${t.slice(48,64)}`)}};t.calculateMaximumWithdraw=(e,r,n,o)=>{const a=(0,d.cellOccupied)(e)+r.slice(2).length/2,s=i.default.asUintN(128,i.default.multiply(i.default.BigInt(1e8),i.default.BigInt(a)));return`0x${i.default.add(i.default.divide(i.default.multiply(i.default.subtract(i.default.asUintN(128,i.default.BigInt(e.capacity)),s),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(o).ar))),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(n).ar))),s).toString(16)}`}},34171:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellOccupied=t.scriptOccupied=void 0;t.scriptOccupied=e=>e.args.slice(2).length/2+32+1;t.cellOccupied=e=>8+(0,t.scriptOccupied)(e.lock)+(e.type?(0,t.scriptOccupied)(e.type):0)},87824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extraInputs=void 0;const n=r(75310),i=(0,n.__importDefault)(r(75951)),o=(0,n.__importDefault)(r(9063)),a=r(32389),s=r(13694);t.extraInputs=e=>{const t=i.default.BigInt(`${e.changeThreshold}`),r=i.default.BigInt(`${e.feeRate}`),n=e.tx.outputs[e.tx.outputs.length-1],c=i.default.BigInt(n.capacity),u=i.default.BigInt((0,o.default)(`0x${(0,a.getTransactionSize)(e.tx).toString(16)}`,`0x${r.toString(16)}`)),f=i.default.subtract(i.default.add(u,t),c);if(i.default.LE(f,i.default.BigInt(0)))return Object.assign(Object.assign({},e.tx),{outputs:[...e.tx.outputs.slice(0,-1),Object.assign(Object.assign({},n),{capacity:`0x${i.default.subtract(c,u).toString(16)}`})]});e.cells.sort(((e,t)=>+i.default.subtract(i.default.BigInt(e.capacity),i.default.BigInt(t.capacity))));const d=i.default.BigInt(44),l=i.default.divide(i.default.multiply(d,r),i.default.BigInt(1e3));for(let r=1;r<=Math.min(e.extraCount,e.cells.length);r++){const o=i.default.multiply(i.default.BigInt(r),l),a=i.default.add(f,o),s=e.cells.slice(0,r).reduce(((e,t)=>i.default.add(e,i.default.BigInt(t.capacity))),i.default.BigInt(0));if(i.default.GE(s,a)){const o=[...e.tx.inputs,...e.cells.slice(0,r).map((e=>({previousOutput:e.outPoint,since:"0x0"})))],c=i.default.add(t,i.default.subtract(s,a)),u=Object.assign(Object.assign({},n),{capacity:`0x${c.toString(16)}`}),f=[...e.tx.outputs.slice(0,-1),u];return Object.assign(Object.assign({},e.tx),{inputs:o,outputs:f})}}throw new s.ReconciliationException},t.default=t.extraInputs},10067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});(0,r(75310).__exportStar)(r(87824),t)},8982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeOption=t.serializeTable=t.serializeDynVec=t.serializeFixVec=t.serializeStruct=t.serializeArray=t.getOffsets=t.fullLengthSize=t.offsetSize=void 0;const n=r(24423);t.offsetSize=4,t.fullLengthSize=4;t.getOffsets=e=>{const r=[t.fullLengthSize+t.offsetSize*e.length];return e.forEach(((t,n)=>{n&&r.push(r[r.length-1]+e[n-1])})),r};t.serializeArray=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?(0,n.hexToBytes)(e):e;return(0,n.bytesToHex)(t)};t.serializeStruct=e=>{let r="";return e.forEach((e=>{r+=(0,t.serializeArray)(e).slice(2)})),`0x${r}`};t.serializeFixVec=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const r=("string"==typeof e?[...(0,n.hexToBytes)(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>(0,t.serializeArray)(e).slice(2)));return`0x${(0,n.toUint32Le)(`0x${r.length.toString(16)}`).slice(2)}${r.join("")}`};t.serializeDynVec=e=>{if(!Array.isArray(e))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const r=e.map((e=>(0,t.serializeArray)(e).slice(2))),i=r.join("");let o="";r.length&&(o=(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join(""));const a=t.fullLengthSize+t.offsetSize*r.length;return`0x${(0,n.toUint32Le)(`0x${(a+i.length/2).toString(16)}`).slice(2)}${o}${i}`};t.serializeTable=e=>{const r=[];e.forEach((e=>{r.push((0,t.serializeArray)(e).slice(2))}));const i=r.join(""),o=t.fullLengthSize+t.offsetSize*e.size;return`0x${(0,n.toUint32Le)(`0x${(o+i.length/2).toString(16)}`).slice(2)}${(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join("")}${i}`};t.serializeOption=e=>e||"0x"},24240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310);(0,n.__exportStar)(r(8982),t),(0,n.__exportStar)(r(21685),t),(0,n.__exportStar)(r(69048),t)},21685:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=t.serializeArgs=t.serializeHashType=t.serializeCodeHash=void 0;const n=r(8982),i=r(13694);t.serializeCodeHash=e=>(0,n.serializeArray)(e);t.serializeHashType=e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data', 'type', 'data1' or 'data2'")};t.serializeArgs=e=>(0,n.serializeFixVec)(e);t.serializeScript=e=>{if(!e)throw new i.ParameterRequiredException("Script");const{codeHash:r="",hashType:o,args:a=""}=e,s=(0,t.serializeCodeHash)(r),c=(0,t.serializeHashType)(o),u=(0,t.serializeArgs)(a),f=new Map([["codeHash",s],["hashType",c],["args",u]]);return(0,n.serializeTable)(f)}},69048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransaction=t.serializeRawTransaction=t.serializeWitnesses=t.serializeWitnessArgs=t.serializeOutputsData=t.serializeOutputs=t.serializeOutput=t.serializeInputs=t.serializeInput=t.serializeHeaderDeps=t.serializeCellDeps=t.serializeCellDep=t.serializeDepType=t.serializeOutPoint=t.serializeVersion=void 0;const n=r(21685),i=r(24423),o=r(8982);t.serializeVersion=e=>(0,i.toUint32Le)(e);t.serializeOutPoint=e=>{if(!e)return"";const t=new Map([["txHash",e.txHash],["index",(0,i.toUint32Le)(e.index)]]);return(0,o.serializeStruct)(t)};t.serializeDepType=e=>{if("code"===e)return"0x00";if("depGroup"===e)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")};t.serializeCellDep=e=>{const r=(0,t.serializeOutPoint)(e.outPoint),n=(0,t.serializeDepType)(e.depType),i=new Map([["outPoint",r],["depType",n]]);return(0,o.serializeStruct)(i)};t.serializeCellDeps=e=>{const r=e.map((e=>(0,t.serializeCellDep)(e)));return(0,o.serializeFixVec)(r)};t.serializeHeaderDeps=e=>{const t=e.map((e=>(0,o.serializeArray)(e)));return(0,o.serializeFixVec)(t)};t.serializeInput=e=>{const r=(0,t.serializeOutPoint)(e.previousOutput),n=(0,i.toUint64Le)(e.since),a=new Map([["since",n],["previousOutput",r]]);return(0,o.serializeStruct)(a)};t.serializeInputs=e=>{const r=e.map((e=>(0,t.serializeInput)(e)));return(0,o.serializeFixVec)(r)};t.serializeOutput=e=>{const t=(0,i.toUint64Le)(e.capacity),r=(0,n.serializeScript)(e.lock),a=e.type?(0,n.serializeScript)(e.type):"",s=new Map([["capacity",t],["lock",r],["type",a]]);return(0,o.serializeTable)(s)};t.serializeOutputs=e=>{const r=e.map((e=>(0,t.serializeOutput)(e)));return(0,o.serializeDynVec)(r)};t.serializeOutputsData=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeWitnessArgs=e=>{const[t,r,n]=[e.lock,e.inputType,e.outputType].map((e=>"0x"===(0,o.serializeOption)(e)?"0x":(0,o.serializeFixVec)(e))),i=new Map([["lock",t],["inputType",r],["outputType",n]]);return(0,o.serializeTable)(i)};t.serializeWitnesses=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeRawTransaction=e=>{const r=(0,t.serializeVersion)(e.version),n=(0,t.serializeCellDeps)(e.cellDeps),i=(0,t.serializeHeaderDeps)(e.headerDeps),a=(0,t.serializeInputs)(e.inputs),s=(0,t.serializeOutputs)(e.outputs),c=(0,t.serializeOutputsData)(e.outputsData),u=new Map([["version",r],["cellDeps",n],["headerDeps",i],["inputs",a],["outputs",s],["outputsData",c]]);return(0,o.serializeTable)(u)};t.serializeTransaction=e=>{const r=(0,t.serializeRawTransaction)(e),n=(0,t.serializeWitnesses)(e.witnesses||[]),i=new Map([["raw",r],["witnesses",n]]);return(0,o.serializeTable)(i)}},32389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionSize=void 0;const n=r(69048);t.getTransactionSize=e=>{const t=Object.assign(Object.assign({},e),{witnesses:e.witnesses.map((e=>"string"==typeof e?e:(0,n.serializeWitnessArgs)(e)))});return(0,n.serializeTransaction)(t).slice(2).length/2+4},t.default={getTransactionSize:t.getTransactionSize}},34952:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIMPLE_UDT=t.NERVOS_DAO=t.ANYONE_CAN_PAY_TESTNET=t.ANYONE_CAN_PAY_MAINNET=t.SECP256K1_MULTISIG=t.SECP256K1_BLAKE160=void 0,t.SECP256K1_BLAKE160={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},t.SECP256K1_MULTISIG={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},t.ANYONE_CAN_PAY_MAINNET={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},t.ANYONE_CAN_PAY_TESTNET={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},t.NERVOS_DAO={codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",depType:"code",mainnetOutPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:"0x2"},testnetOutPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:"0x2"}},t.SIMPLE_UDT={codeHash:"0x48dbf59b4c7ee1547238021b4869bceedf4eea6b43772e5d66ef8865b6ae7212",hashType:"data",depType:"code",testnetOutPoint:{txHash:"0xc1b2ae129fad7465aaa9acc9785f842ba3e6e8b8051d899defa89f5508a77958",index:"0x0"}}},56824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertToBeHexStringOrBigint=t.assertToBeHexString=void 0;const n=r(13694);t.assertToBeHexString=e=>{if("string"!=typeof e||!e.startsWith("0x")||Number.isNaN(+e))throw new n.HexStringException(e);return!0};t.assertToBeHexStringOrBigint=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},t.default={assertToBeHexString:t.assertToBeHexString,assertToBeHexStringOrBigint:t.assertToBeHexStringOrBigint}},75310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>T,__createBinding:()=>l,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>u,__param:()=>c,__read:()=>b,__rest:()=>a,__spread:()=>y,__spreadArray:()=>m,__spreadArrays:()=>g,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||l(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function g(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function c(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return A(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},67557:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=t.isBytes=void 0,t.number=r,t.bool=n,t.isBytes=i,t.bytes=o,t.hash=a,t.exists=s,t.output=c;const u={number:r,bool:n,bytes:o,hash:a,exists:s,output:c};t.default=u},37202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0;const n=r(67557),i=r(99175);t.Chi=(e,t,r)=>e&t^~e&r;t.Maj=(e,t,r)=>e&t^e&r^t&r;class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:o}=this,a=(e=(0,i.toBytes)(e)).length;for(let n=0;n<a;){const s=Math.min(o-this.pos,a-n);if(s!==o)r.set(e.subarray(n,n+s),this.pos),this.pos+=s,n+=s,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=a-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(r,0),s=0);for(let e=s;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,s,n)}(r,o-8,BigInt(8*this.length),a),this.process(r,0);const c=(0,i.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)c.setUint32(4*e,d[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.HashMD=o},25145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},39615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(67557),i=r(99175);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<a.length;e++)a[e]^=54;this.iHash.update(a),this.oHash=e.create();for(let e=0;e<a.length;e++)a[e]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},93238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const n=r(37202),i=r(99175),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),a=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let s=[a],c=[a.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[s,c])t.push(t[e].map((e=>o[e])));const u=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),f=s.map(((e,t)=>e.map((e=>u[t][e])))),d=c.map(((e,t)=>e.map((e=>u[t][e])))),l=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),h=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const b=new Uint32Array(16);class y extends n.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)b[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,o=0|this.h1,a=o,u=0|this.h2,y=u,g=0|this.h3,m=g,v=0|this.h4,_=v;for(let e=0;e<5;e++){const t=4-e,w=l[e],S=h[e],x=s[e],A=c[e],E=f[e],I=d[e];for(let t=0;t<16;t++){const n=(0,i.rotl)(r+p(e,o,u,g)+b[x[t]]+w,E[t])+v|0;r=v,v=g,g=0|(0,i.rotl)(u,10),u=o,o=n}for(let e=0;e<16;e++){const r=(0,i.rotl)(n+p(t,a,y,m)+b[A[e]]+S,I[e])+_|0;n=_,_=m,m=0|(0,i.rotl)(y,10),y=a,a=r}}this.set(this.h1+u+m|0,this.h2+g+_|0,this.h3+v+n|0,this.h4+r+a|0,this.h0+o+y|0)}roundClean(){b.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=y,t.ripemd160=(0,i.wrapConstructor)((()=>new y))},31549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha1=void 0;const n=r(37202),i=r(99175),o=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),a=new Uint32Array(80);class s extends n.HashMD{constructor(){super(64,20,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4]}get(){const{A:e,B:t,C:r,D:n,E:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<80;e++)a[e]=(0,i.rotl)(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);let{A:r,B:o,C:s,D:c,E:u}=this;for(let e=0;e<80;e++){let t,f;e<20?(t=(0,n.Chi)(o,s,c),f=1518500249):e<40?(t=o^s^c,f=1859775393):e<60?(t=(0,n.Maj)(o,s,c),f=2400959708):(t=o^s^c,f=3395469782);const d=(0,i.rotl)(r,5)+t+u+f+a[e]|0;u=c,c=s,s=(0,i.rotl)(o,30),o=r,r=d}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,c=c+this.D|0,u=u+this.E|0,this.set(r,o,s,c,u)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}t.sha1=(0,i.wrapConstructor)((()=>new s))},22623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(37202),i=r(99175),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class c extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=s[e-15],r=s[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;s[e]=o+s[e-7]+n+s[e-16]|0}let{A:r,B:a,C:c,D:u,E:f,F:d,G:l,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+(0,n.Chi)(f,d,l)+o[e]+s[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,a,c)|0;h=l,l=d,d=f,f=u+t|0,u=c,c=a,a=r,r=t+p|0}r=r+this.A|0,a=a+this.B|0,c=c+this.C|0,u=u+this.D|0,f=f+this.E|0,d=d+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(r,a,c,u,f,d,l,h)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new c)),t.sha224=(0,i.wrapConstructor)((()=>new u))},99175:(e,t,r)=>{"use strict";
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const n=r(25145),i=r(67557);t.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);t.rotr=(e,t)=>e<<32-t|e>>>t;t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e),t.byteSwap32=function(e){for(let r=0;r<e.length;r++)e[r]=(0,t.byteSwap)(e[r])};const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t};const a={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function s(e){return e>=a._0&&e<=a._9?e-a._0:e>=a._A&&e<=a._F?e-(a._A-10):e>=a._a&&e<=a._f?e-(a._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=s(e.charCodeAt(i)),o=s(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n};function c(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function u(e){return"string"==typeof e&&(e=c(e)),(0,i.bytes)(e),e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=c,t.toBytes=u,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};t.Hash=class{clone(){return this._cloneInto()}};const f={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==f.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(u(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(u(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},9598:(e,t,r)=>{"use strict";
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const n=r(14923),i=BigInt(0),o=BigInt(1),a=BigInt(2),s=BigInt(3),c=BigInt(8),u=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=u;const f=(e,t)=>(e+t/a)/t,d={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=u,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,s=BigInt("0x100000000000000000000000000000000"),c=f(a*e,t),d=f(-n*e,t);let l=U(e-c*r-d*i,t),h=U(-c*n-d*a,t);const p=l>s,b=h>s;if(p&&(l=t-l),b&&(h=t-h),l>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:p,k1:l,k2neg:b,k2:h}}},l=32,h=32,p=l+1,b=2*l+1;function y(e){const{a:t,b:r}=u,n=U(e*e),i=U(n*e);return U(i+t*e+r)}const g=u.a===i;class m extends Error{constructor(e){super(e)}}function v(e){if(!(e instanceof _))throw new TypeError("JacobianPoint expected")}class _{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof x))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(x.ZERO)?_.ZERO:new _(e.x,e.y,o)}static toAffineBatch(e){const t=function(e,t=u.P){const r=new Array(e.length),n=F(e.reduce(((e,n,o)=>n===i?e:(r[o]=e,U(e*n,t))),o),t);return e.reduceRight(((e,n,o)=>n===i?e:(r[o]=U(e*r[o],t),U(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return _.toAffineBatch(e).map(_.fromAffine)}equals(e){v(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:a}=e,s=U(n*n),c=U(a*a),u=U(t*c),f=U(i*s),d=U(U(r*a)*c),l=U(U(o*n)*s);return u===f&&d===l}negate(){return new _(this.x,U(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=U(e*e),i=U(t*t),o=U(i*i),u=e+i,f=U(a*(U(u*u)-n-o)),d=U(s*n),l=U(d*d),h=U(l-a*f),p=U(d*(f-h)-c*o),b=U(a*t*r);return new _(h,p,b)}add(e){v(e);const{x:t,y:r,z:n}=this,{x:o,y:s,z:c}=e;if(o===i||s===i)return this;if(t===i||r===i)return e;const u=U(n*n),f=U(c*c),d=U(t*f),l=U(o*u),h=U(U(r*c)*f),p=U(U(s*n)*u),b=U(l-d),y=U(p-h);if(b===i)return y===i?this.double():_.ZERO;const g=U(b*b),m=U(b*g),w=U(d*g),S=U(y*y-m-a*w),x=U(y*(w-S)-h*m),A=U(n*c*b);return new _(S,x,A)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=_.ZERO;if("bigint"==typeof e&&e===i)return t;let r=j(e);if(r===o)return this;if(!g){let e=t,n=this;for(;r>i;)r&o&&(e=e.add(n)),n=n.double(),r>>=o;return e}let{k1neg:n,k1:a,k2neg:s,k2:c}=d.splitScalar(r),u=t,f=t,l=this;for(;a>i||c>i;)a&o&&(u=u.add(l)),c&o&&(f=f.add(l)),l=l.double(),a>>=o,c>>=o;return n&&(u=u.negate()),s&&(f=f.negate()),f=new _(U(f.x*d.beta),f.y,f.z),u.add(f)}precomputeWindow(e){const t=g?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(_.BASE)&&(t=x.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&S.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=_.normalizeZ(n),S.set(t,n)));let i=_.ZERO,a=_.BASE;const s=1+(g?128/r:256/r),c=2**(r-1),u=BigInt(2**r-1),f=2**r,d=BigInt(r);for(let t=0;t<s;t++){const r=t*c;let s=Number(e&u);e>>=d,s>c&&(s-=f,e+=o);const l=r,h=r+Math.abs(s)-1,p=t%2!=0,b=s<0;0===s?a=a.add(w(p,n[l])):i=i.add(w(b,n[h]))}return{p:i,f:a}}multiply(e,t){let r,n,i=j(e);if(g){const{k1neg:e,k1:o,k2neg:a,k2:s}=d.splitScalar(i);let{p:c,f:u}=this.wNAF(o,t),{p:f,f:l}=this.wNAF(s,t);c=w(e,c),f=w(a,f),f=new _(U(f.x*d.beta),f.y,f.z),r=c.add(f),n=u.add(l)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return _.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(_.ZERO);null==e&&(e=i?c:F(n));const a=e,s=U(a*a),u=U(s*a),f=U(t*s),d=U(r*u),l=U(n*a);if(i)return x.ZERO;if(l!==o)throw new Error("invZ was invalid");return new x(f,d)}}function w(e,t){const r=t.negate();return e?r:t}_.BASE=new _(u.Gx,u.Gy,o),_.ZERO=new _(i,o,i);const S=new WeakMap;class x{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,S.delete(this)}hasEvenY(){return this.y%a===i}static fromCompressedHex(e){const t=32===e.length,r=L(t?e:e.subarray(1));if(!W(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=u,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),c=BigInt(44),f=BigInt(88),d=e*e*e%t,l=d*d*e%t,h=H(l,s)*l%t,p=H(h,s)*l%t,b=H(p,a)*d%t,y=H(b,n)*b%t,g=H(y,i)*y%t,m=H(g,c)*g%t,v=H(m,f)*m%t,_=H(v,c)*g%t,w=H(_,s)*l%t,S=H(w,o)*y%t,x=H(S,r)*d%t,A=H(x,a);if(A*A%t!==e)throw new Error("Cannot find square root");return A}(y(r));const i=(n&o)===o;if(t)i&&(n=U(-n));else{!(1&~e[0])!==i&&(n=U(-n))}const c=new x(r,n);return c.assertValidity(),c}static fromUncompressedHex(e){const t=L(e.subarray(1,l+1)),r=L(e.subarray(l+1,2*l+1)),n=new x(t,r);return n.assertValidity(),n}static fromHex(e){const t=N(e),r=t.length,n=t[0];if(r===l)return this.fromCompressedHex(t);if(r===p&&(2===n||3===n))return this.fromCompressedHex(t);if(r===b&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${b} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return x.BASE.multiply(Q(e))}static fromSignature(e,t,r){const{r:n,s:i}=X(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=z(N(e)),{n:a}=u,s=2===r||3===r?n+a:n,c=F(s,a),f=U(-o*c,a),d=U(i*c,a),l=1&r?"03":"02",h=x.fromHex(l+P(s)),p=x.BASE.multiplyAndAddUnsafe(h,f,d);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return R(this.toHex(e))}toHex(e=!1){const t=P(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${P(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!W(t)||!W(r))throw new Error(e);const n=U(r*r);if(U(n-y(t))!==i)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new x(this.x,U(-this.y))}double(){return _.fromAffine(this).double().toAffine()}add(e){return _.fromAffine(this).add(_.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return _.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=_.fromAffine(this),a=t===i||t===o||this!==x.BASE?n.multiplyUnsafe(t):n.multiply(t),s=_.fromAffine(e).multiplyUnsafe(r),c=a.add(s);return c.equals(_.ZERO)?void 0:c.toAffine()}}function A(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function E(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${C(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:L(r),left:e.subarray(t+2)}}t.Point=x,x.BASE=new x(u.Gx,u.Gy),x.ZERO=new x(i,i);class I{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?C(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new I(D(n.slice(0,64)),D(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${C(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=E(e.subarray(2)),{data:n,left:i}=E(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${C(i)}`);return{r:t,s:n}}(t?e:R(e));return new I(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!$(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!$(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=u.n>>o;return this.s>e}normalizeS(){return this.hasHighS()?new I(this.r,U(-this.s,u.n)):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){const e=A(B(this.s)),t=A(B(this.r)),r=e.length/2,n=t.length/2,i=B(r),o=B(n);return`30${B(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}function k(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}t.Signature=I;const T=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=T[e[r]];return t}const O=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function P(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(i<=e&&e<O))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function M(e){const t=R(P(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function B(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function D(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function R(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function L(e){return D(C(e))}function N(e){return e instanceof Uint8Array?Uint8Array.from(e):R(e)}function j(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&$(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function U(e,t=u.P){const r=e%t;return r>=i?r:t+r}function H(e,t){const{P:r}=u;let n=e;for(;t-- >i;)n*=n,n%=r;return n}function F(e,t=u.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=U(e,t),n=t,a=i,s=o,c=o,f=i;for(;r!==i;){const e=n/r,t=n%r,i=a-c*e,o=s-f*e;n=r,r=t,a=c,s=f,c=i,f=o}if(n!==o)throw new Error("invert: does not exist");return U(a,t)}function z(e,t=!1){const r=function(e){const t=8*e.length-8*h,r=L(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n}=u;return r>=n?r-n:r}let q,K;class V{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return K(this.k,...e)}checkSync(){if("function"!=typeof K)throw new m("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return k(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return k(...t)}}function $(e){return i<e&&e<u.n}function W(e){return i<e&&e<u.P}function G(e,t,r,n=!0){const{n:a}=u,s=z(e,!0);if(!$(s))return;const c=F(s,a),f=x.BASE.multiply(s),d=U(f.x,a);if(d===i)return;const l=U(c*U(t+r*d,a),a);if(l===i)return;let h=new I(d,l),p=(f.x===h.r?0:2)|Number(f.y&o);return n&&h.hasHighS()&&(h=h.normalizeS(),p^=1),{sig:h,recovery:p}}function Q(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*h)throw new Error("Expected 32 bytes of private key");t=D(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==h)throw new Error("Expected 32 bytes of private key");t=L(e)}if(!$(t))throw new Error("Expected private key: 0 < key < n");return t}function Y(e){return e instanceof x?(e.assertValidity(),e):x.fromHex(e)}function X(e){if(e instanceof I)return e.assertValidity(),e;try{return I.fromDER(e)}catch(t){return I.fromCompact(e)}}function J(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===p||n===b:r?n===2*p||n===2*b:e instanceof x}function Z(e){return L(e.length>l?e.slice(0,l):e)}function ee(e){const t=Z(e),r=U(t,u.n);return te(r<i?t:r)}function te(e){return M(e)}function re(e,r,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const i=N(e),o=Q(r),a=[te(o),ee(i)];if(null!=n){!0===n&&(n=t.utils.randomBytes(l));const e=N(n);if(e.length!==l)throw new Error(`sign: Expected ${l} bytes of extra data`);a.push(e)}return{seed:k(...a),m:Z(i),d:o}}function ne(e,t){const{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),a=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}t.getPublicKey=function(e,t=!1){return x.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,n=!1){return x.fromSignature(e,t,r).toRawBytes(n)},t.getSharedSecret=function(e,t,r=!1){if(J(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!J(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=Y(t);return n.assertValidity(),n.multiply(Q(e)).toRawBytes(r)},t.sign=async function(e,t,r={}){const{seed:n,m:i,d:o}=re(e,t,r.extraEntropy),a=new V(32,h);let s;for(await a.reseed(n);!(s=G(await a.generate(),i,o,r.canonical));)await a.reseed();return ne(s,r)},t.signSync=function(e,t,r={}){const{seed:n,m:i,d:o}=re(e,t,r.extraEntropy),a=new V(32,h);let s;for(a.reseedSync(n);!(s=G(a.generateSync(),i,o,r.canonical));)a.reseedSync();return ne(s,r)};const ie={strict:!0};function oe(e){return U(L(e),u.n)}t.verify=function(e,t,r,n=ie){let i;try{i=X(e),t=N(t)}catch(e){return!1}const{r:o,s:a}=i;if(n.strict&&i.hasHighS())return!1;const s=z(t);let c;try{c=Y(r)}catch(e){return!1}const{n:f}=u,d=F(a,f),l=U(s*d,f),h=U(o*d,f),p=x.BASE.multiplyAndAddUnsafe(c,l,h);return!!p&&U(p.x,f)===o};class ae{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=N(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=L(t.subarray(0,32)),n=L(t.subarray(32,64));return new ae(r,n)}assertValidity(){const{r:e,s:t}=this;if(!W(e)||!$(t))throw new Error("Invalid signature")}toHex(){return P(this.r)+P(this.s)}toRawBytes(){return R(this.toHex())}}class se{constructor(e,r,n=t.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=N(e);const{x:i,scalar:o}=this.getScalar(Q(r));if(this.px=i,this.d=o,this.rand=N(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=x.fromPrivateKey(e),r=t.hasEvenY()?e:u.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return M(e^L(t))}finalizeNonce(e){const t=U(L(e),u.n);if(t===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:o}=this.getScalar(t);return{R:r,rx:n,k:o}}finalizeSig(e,t,r,n){return new ae(e.x,U(t+r*n,u.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHash,a=this.initNonce(r,await o(he.aux,i)),{R:s,rx:c,k:u}=this.finalizeNonce(await o(he.nonce,a,n,e)),f=oe(await o(he.challenge,c,n,e)),d=this.finalizeSig(s,u,f,r);return await fe(d,e,n)||this.error(),d}calcSync(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHashSync,a=this.initNonce(r,o(he.aux,i)),{R:s,rx:c,k:u}=this.finalizeNonce(o(he.nonce,a,n,e)),f=oe(o(he.challenge,c,n,e)),d=this.finalizeSig(s,u,f,r);return de(d,e,n)||this.error(),d}}function ce(e,t,r){const n=e instanceof ae,i=n?e:ae.fromHex(e);return n&&i.assertValidity(),{...i,m:N(t),P:Y(r)}}function ue(e,t,r,n){const i=x.BASE.multiplyAndAddUnsafe(t,Q(r),U(-n,u.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function fe(e,r,n){try{const{r:i,s:o,m:a,P:s}=ce(e,r,n),c=oe(await t.utils.taggedHash(he.challenge,M(i),s.toRawX(),a));return ue(i,s,o,c)}catch(e){return!1}}function de(e,r,n){try{const{r:i,s:o,m:a,P:s}=ce(e,r,n),c=oe(t.utils.taggedHashSync(he.challenge,M(i),s.toRawX(),a));return ue(i,s,o,c)}catch(e){if(e instanceof m)throw e;return!1}}t.schnorr={Signature:ae,getPublicKey:function(e){return x.fromPrivateKey(e).toRawX()},sign:async function(e,t,r){return new se(e,t,r).calc()},verify:fe,signSync:function(e,t,r){return new se(e,t,r).calcSync()},verifySync:de},x.BASE._setWindowSize(8);const le={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},he={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pe={};t.utils={bytesToHex:C,hexToBytes:R,concatBytes:k,mod:U,invert:F,isValidPrivateKey(e){try{return Q(e),!0}catch(e){return!1}},_bigintTo32Bytes:M,_normalizePrivateKey:Q,hashToPrivateKey:e=>{e=N(e);const t=h+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return M(U(L(e),u.n-o)+o)},randomBytes:(e=32)=>{if(le.web)return le.web.getRandomValues(new Uint8Array(e));if(le.node){const{randomBytes:t}=le.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(h+8)),precompute(e=8,t=x.BASE){const r=t===x.BASE?t:new x(t.x,t.y);return r._setWindowSize(e),r.multiply(s),r},sha256:async(...e)=>{if(le.web){const t=await le.web.subtle.digest("SHA-256",k(...e));return new Uint8Array(t)}if(le.node){const{createHash:t}=le.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(le.web){const r=await le.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=k(...t),i=await le.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(le.node){const{createHmac:r}=le.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let n=pe[e];if(void 0===n){const r=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=k(r,r),pe[e]=n}return t.utils.sha256(n,...r)},taggedHashSync:(e,...t)=>{if("function"!=typeof q)throw new m("sha256Sync is undefined, you need to set it");let r=pe[e];if(void 0===r){const t=q(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=k(t,t),pe[e]=r}return q(r,...t)},_JacobianPoint:_},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>q,set(e){q||(q=e)}},hmacSha256Sync:{configurable:!1,get:()=>K,set(e){K||(K=e)}}})},95367:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.AddressType=void 0,t.isSupportedFromAddress=function(e){const{addressType:t}=l(e);return t===u.P2WPKH||t===u.P2TR},t.publicKeyToPayment=f,t.publicKeyToAddress=function(e,t,r){const n=f(e,t,r);if(n&&n.address)return n.address;throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE)},t.addressToScriptPublicKey=d,t.addressToScriptPublicKeyHex=function(e,t){return d(e,t).toString("hex")},t.isValidAddress=function(e,t){try{return i.bitcoin.address.toOutputScript(e,(0,a.networkTypeToNetwork)(t)),!0}catch{return!1}},t.getAddressType=function(e){return l(e).addressType},t.decodeAddress=l,t.addAddressToPubkeyMap=function(e,t,r){const n={...e};r&&(n[t]=r);return n};const i=r(2353),o=r(23538),a=r(90593),s=r(44273),c=r(24662);var u;function f(e,t,r){if(!e)return;const o=(0,a.networkTypeToNetwork)(r),s=n.from((0,c.remove0x)(e),"hex");if(t===u.P2PKH)return i.bitcoin.payments.p2pkh({pubkey:s,network:o});if(t===u.P2WPKH)return i.bitcoin.payments.p2wpkh({pubkey:s,network:o});if(t===u.P2TR)return i.bitcoin.payments.p2tr({internalPubkey:(0,c.toXOnly)(s),network:o});if(t===u.P2SH_P2WPKH){const e=i.bitcoin.payments.p2wpkh({pubkey:s,network:o});return i.bitcoin.payments.p2sh({pubkey:s,network:o,redeem:e})}}function d(e,t){const r=(0,a.networkTypeToNetwork)(t);return i.bitcoin.address.toOutputScript(e,r)}function l(e){const t=i.bitcoin.networks.bitcoin,r=i.bitcoin.networks.testnet,n=i.bitcoin.networks.regtest;let a,s,c,f;if(e.startsWith("bc1")||e.startsWith("tb1")||e.startsWith("bcrt1"))try{if(s=i.bitcoin.address.fromBech32(e),s.prefix===t.bech32?c=o.NetworkType.MAINNET:s.prefix===r.bech32?c=o.NetworkType.TESTNET:s.prefix===n.bech32&&(c=o.NetworkType.REGTEST),0===s.version?20===s.data.length?f=u.P2WPKH:32===s.data.length&&(f=u.P2WSH):1===s.version&&32===s.data.length&&(f=u.P2TR),void 0!==c&&void 0!==f)return{networkType:c,addressType:f,dust:h(f)}}catch(e){}else try{if(a=i.bitcoin.address.fromBase58Check(e),a.version===t.pubKeyHash?(c=o.NetworkType.MAINNET,f=u.P2PKH):a.version===r.pubKeyHash?(c=o.NetworkType.TESTNET,f=u.P2PKH):a.version===n.pubKeyHash?(c=o.NetworkType.REGTEST,f=u.P2PKH):a.version===t.scriptHash?(c=o.NetworkType.MAINNET,f=u.P2SH_P2WPKH):a.version===r.scriptHash?(c=o.NetworkType.TESTNET,f=u.P2SH_P2WPKH):a.version===n.scriptHash&&(c=o.NetworkType.REGTEST,f=u.P2SH_P2WPKH),void 0!==c&&void 0!==f)return{networkType:c,addressType:f,dust:h(f)}}catch(e){}return{addressType:u.UNKNOWN,networkType:o.NetworkType.MAINNET,dust:546}}function h(e){return e===u.P2WPKH?294:e===u.P2TR?330:546}!function(e){e[e.P2PKH=0]="P2PKH",e[e.P2WPKH=1]="P2WPKH",e[e.P2TR=2]="P2TR",e[e.P2SH_P2WPKH=3]="P2SH_P2WPKH",e[e.P2WSH=4]="P2WSH",e[e.P2SH=5]="P2SH",e[e.UNKNOWN=6]="UNKNOWN"}(u||(t.AddressType=u={}))},58326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSendBtcBuilder=i,t.sendBtc=async function(e){const{builder:t}=await i(e);return t.toPsbt()};const n=r(68835);async function i(e){const t=e.tos.map((e=>({fixed:!0,...e})));return await(0,n.createSendUtxosBuilder)({inputs:[],outputs:t,from:e.from,source:e.source,feeRate:e.feeRate,fromPubkey:e.fromPubkey,changeAddress:e.changeAddress,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos})}},79968:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createSendRbfBuilder=f,t.sendRbf=async function(e){const{builder:t}=await f(e);return t.toPsbt()};const i=r(44273),o=r(76889),a=r(90593),s=r(97593),c=r(68835),u=r(2353);async function f(e){const t=u.bitcoin.Transaction.fromHex(e.txHex),r=(0,a.networkTypeToNetwork)(e.source.networkType),f=[];for(const r of t.ins){const t=n.from(r.hash).reverse().toString("hex"),o=await e.source.getUtxo(t,r.index);if(!o)throw i.TxBuildError.withComment(i.ErrorCodes.CANNOT_FIND_UTXO,`hash: ${t}, index: ${r.index}`);f.push(o)}const d=e.requireValidOutputsValue??!1,l=t.outs.map((e=>(0,o.isOpReturnScriptPubkey)(e.script)?{script:e.script,value:e.value,fixed:!0}:{minUtxoSatoshi:d?void 0:e.value,address:u.bitcoin.address.fromOutputScript(e.script,r),value:e.value,fixed:!0}));let h=e.changeAddress;if(void 0!==e.changeIndex){const t=l[e.changeIndex];if(!t)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`outputs[${e.changeIndex}] is not found`);if(!(t&&"address"in t))throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`outputs[${e.changeIndex}] is not a returnable output for change`);const r=t.address;if(r&&h&&h!==r)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`The address of outputs[${e.changeIndex}] does not match the specified changeAddress, expected: ${h}, actual: ${r}`);r&&!h&&(h=r);if(l.length===e.changeIndex+1)l.pop();else{const r=(0,s.networkTypeToConfig)(e.source.networkType),n=e.minUtxoSatoshi??r.btcUtxoDustLimit;t.minUtxoSatoshi=n,t.value=n,t.protected=!0,t.fixed=!1}}const p=e.requireGreaterFeeAndRate??!0;let b=e.feeRate;if(p&&!b){b=(await e.source.service.getBtcRecommendedFeeRates()).fastestFee}const y=f.reduce(((e,t)=>e+t.value),0)-t.outs.reduce(((e,t)=>e+t.value),0),g=Math.floor(y/t.virtualSize());if(p&&void 0!==b&&b<=g)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_FEE_RATE,`RBF should offer a higher fee rate, previous: ${g}, current: ${b}`);const m=t.getId(),v=t.outs.map(((e,t)=>({txid:m,vout:t}))),_=await(0,c.createSendUtxosBuilder)({inputs:f,outputs:l,excludeUtxos:v,changeAddress:h,from:e.from,source:e.source,feeRate:e.feeRate,pubkeyMap:e.pubkeyMap,fromPubkey:e.fromPubkey,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos??!0,skipInputsValidation:!0});if(p&&_.fee<=y)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_FEE_RATE,`RBF should offer a higher fee amount, previous: ${y}, current: ${_.fee}`);return _}},34764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRgbppUtxosBuilder=void 0,t.createSendRgbppUtxosBuilder=d,t.sendRgbppUtxos=async function(e){const{builder:t}=await d(e);return t.toPsbt()};const n=r(41256),i=r(41256),o=r(23538),a=r(44273),s=r(97593),c=r(89026),u=r(68835),f=r(24662);async function d(e){const t=[],r=[];let d=-1;const l=e.ckbVirtualTx,h=(0,s.networkTypeToConfig)(e.source.networkType),p=e.source.networkType===o.NetworkType.MAINNET,b=(await e.ckbCollector.getLiveCells(l.inputs.map((e=>e.previousOutput)))).map((e=>(0,i.isRgbppLockCell)(e.output,p)?(0,c.unpackRgbppLockArgs)(e.output.lock.args):void 0)),y=await Promise.all(b.map((t=>{if(t)return(0,f.limitPromiseBatchSize)((()=>e.source.getUtxo(t.btcTxid,t.outIndex,e.onlyConfirmedUtxos)))})));for(let e=0;e<l.inputs.length;e++){const r=b[e];if(r){const n=y[e];if(!n)throw a.TxBuildError.withComment(a.ErrorCodes.CANNOT_FIND_UTXO,`hash: ${r.btcTxid}, index: ${r.outIndex}`);t.some((e=>e.txid===n.txid&&e.vout===n.vout))||t.push(n)}}if(t.length<1)throw new a.TxBuildError(a.ErrorCodes.CKB_INVALID_INPUTS);for(let t=0;t<l.outputs.length;t++){const n=l.outputs[t],o=(0,i.isRgbppLockCell)(n,p),s=(0,i.isBtcTimeLockCell)(n,p);if(n.type){if(!o&&!s)throw new a.TxBuildError(a.ErrorCodes.CKB_INVALID_CELL_LOCK);d=t}if(o){const n=e.tos?.[t],i=e.rgbppMinUtxoSatoshi??h.rgbppUtxoDustLimit;r.push({fixed:!0,address:n??e.from,value:i,minUtxoSatoshi:i})}}if(d<0)throw new a.TxBuildError(a.ErrorCodes.CKB_INVALID_OUTPUTS);const g=(0,i.calculateCommitment)({inputs:l.inputs,outputs:l.outputs.slice(0,d+1),outputsData:l.outputsData.slice(0,d+1)});if(e.commitment!==g)throw new a.TxBuildError(a.ErrorCodes.CKB_UNMATCHED_COMMITMENT);const m=await async function(e,t){const r=[];r.push({data:t.commitment,fixed:!0,value:0}),r.push(...e);const i=await t.source.getPaymasterOutput(),o=i?.address!==t.paymaster?.address||i?.value!==t.paymaster?.value;if(i&&t.paymaster&&o)throw a.TxBuildError.withComment(a.ErrorCodes.PAYMASTER_MISMATCH,`expected: ${i}, actual: ${t.paymaster}`);const s=i??t.paymaster,c=await(async()=>{if(void 0!==t.needPaymaster)return t.needPaymaster;return!await(0,n.checkCkbTxInputsCapacitySufficient)(t.ckbVirtualTx,t.ckbCollector)})();s&&c&&r.push({...s,fixed:!0});return r}(r,e);return await(0,u.createSendUtxosBuilder)({inputs:t,outputs:m,from:e.from,source:e.source,feeRate:e.feeRate,fromPubkey:e.fromPubkey,changeAddress:e.changeAddress,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos,excludeUtxos:e.excludeUtxos,pubkeyMap:e.pubkeyMap})}t.sendRgbppUtxosBuilder=d},68835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSendUtxosBuilder=a,t.sendUtxos=async function(e){const{builder:t}=await a(e);return t.toPsbt()};const n=r(61088),i=r(73586),o=r(95367);async function a(e){const t=new n.TxBuilder({source:e.source,feeRate:e.feeRate,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos}),r=(0,o.addAddressToPubkeyMap)(e.pubkeyMap??{},e.from,e.fromPubkey),a=await(0,i.prepareUtxoInputs)({utxos:e.inputs,source:e.source,requireConfirmed:e.onlyConfirmedUtxos&&!e.skipInputsValidation,requirePubkey:!0,pubkeyMap:r});t.addInputs(a),t.addOutputs(e.outputs);const s=await t.payFee({address:e.from,publicKey:r[e.from],changeAddress:e.changeAddress,excludeUtxos:e.excludeUtxos});return{builder:t,fee:s.fee,feeRate:s.feeRate,changeIndex:s.changeIndex}}},2353:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isTaprootInput=t.isP2WPKH=t.isP2PKH=t.isP2TR=t.bitcoin=t.ECPair=t.ecc=void 0;const s=a(r(38700)),c=a(r(73513));t.ecc=c.default;const u=o(r(21757));t.bitcoin=u;const f=r(60477);Object.defineProperty(t,"isTaprootInput",{enumerable:!0,get:function(){return f.isTaprootInput}});const d=r(34929);Object.defineProperty(t,"isP2TR",{enumerable:!0,get:function(){return d.isP2TR}}),Object.defineProperty(t,"isP2WPKH",{enumerable:!0,get:function(){return d.isP2WPKH}}),Object.defineProperty(t,"isP2PKH",{enumerable:!0,get:function(){return d.isP2PKH}}),u.initEccLib(c.default);const l=(0,s.default)(c.default);t.ECPair=l},89026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackRgbppLockArgs=function(e){try{const t=i.RGBPPLock.unpack(e),r=n.bytes.bytify(t.btcTxid).reverse();return{btcTxid:n.bytes.hexify(r),outIndex:t.outIndex}}catch{const t=(0,a.remove0x)(n.bytes.hexify(n.bytes.bytify(e)));throw o.TxBuildError.withComment(o.ErrorCodes.CKB_RGBPP_LOCK_UNPACK_ERROR,t)}};const n=r(67239),i=r(41256),o=r(44273),a=r(24662)},44273:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TxBuildError=t.ErrorMessages=t.ErrorCodes=void 0,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MISSING_PUBKEY=20]="MISSING_PUBKEY",e[e.CANNOT_FIND_UTXO=21]="CANNOT_FIND_UTXO",e[e.UNCONFIRMED_UTXO=22]="UNCONFIRMED_UTXO",e[e.INSUFFICIENT_UTXO=23]="INSUFFICIENT_UTXO",e[e.REFERENCED_UNPROVABLE_UTXO=24]="REFERENCED_UNPROVABLE_UTXO",e[e.UNSPENDABLE_OUTPUT=25]="UNSPENDABLE_OUTPUT",e[e.DUPLICATED_UTXO=26]="DUPLICATED_UTXO",e[e.DUST_OUTPUT=27]="DUST_OUTPUT",e[e.UNSUPPORTED_OUTPUT=28]="UNSUPPORTED_OUTPUT",e[e.INVALID_CHANGE_OUTPUT=29]="INVALID_CHANGE_OUTPUT",e[e.UNSUPPORTED_NETWORK_TYPE=30]="UNSUPPORTED_NETWORK_TYPE",e[e.UNSUPPORTED_ADDRESS_TYPE=31]="UNSUPPORTED_ADDRESS_TYPE",e[e.UNSUPPORTED_OP_RETURN_SCRIPT=32]="UNSUPPORTED_OP_RETURN_SCRIPT",e[e.INVALID_FEE_RATE=33]="INVALID_FEE_RATE",e[e.PAYMASTER_MISMATCH=34]="PAYMASTER_MISMATCH",e[e.CKB_CANNOT_FIND_OUTPOINT=40]="CKB_CANNOT_FIND_OUTPOINT",e[e.CKB_INVALID_CELL_LOCK=41]="CKB_INVALID_CELL_LOCK",e[e.CKB_INVALID_INPUTS=42]="CKB_INVALID_INPUTS",e[e.CKB_INVALID_OUTPUTS=43]="CKB_INVALID_OUTPUTS",e[e.CKB_UNMATCHED_COMMITMENT=44]="CKB_UNMATCHED_COMMITMENT",e[e.CKB_RGBPP_LOCK_UNPACK_ERROR=45]="CKB_RGBPP_LOCK_UNPACK_ERROR",e[e.MEMPOOL_API_RESPONSE_ERROR=60]="MEMPOOL_API_RESPONSE_ERROR"}(r||(t.ErrorCodes=r={})),t.ErrorMessages={[r.UNKNOWN]:"Unknown error",[r.MISSING_PUBKEY]:"Missing a pubkey that pairs with the address",[r.CANNOT_FIND_UTXO]:"Cannot find the UTXO, it may not exist or is not live",[r.UNCONFIRMED_UTXO]:"Unconfirmed UTXO",[r.INSUFFICIENT_UTXO]:"Insufficient UTXO to construct the transaction",[r.REFERENCED_UNPROVABLE_UTXO]:'Cannot reference a UTXO that does not belongs to "from"',[r.DUPLICATED_UTXO]:"Cannot reference the same UTXO twice",[r.UNSPENDABLE_OUTPUT]:"Target output is not an UTXO",[r.DUST_OUTPUT]:"Output defined value is below the dust limit",[r.UNSUPPORTED_OUTPUT]:"Unsupported output format",[r.INVALID_CHANGE_OUTPUT]:"Invalid change output",[r.UNSUPPORTED_NETWORK_TYPE]:"Unsupported network type",[r.UNSUPPORTED_ADDRESS_TYPE]:"Unsupported address type",[r.UNSUPPORTED_OP_RETURN_SCRIPT]:"Unsupported OP_RETURN script format",[r.INVALID_FEE_RATE]:"Invalid fee rate provided or recommended",[r.PAYMASTER_MISMATCH]:"Paymaster mismatched",[r.CKB_CANNOT_FIND_OUTPOINT]:"Cannot find CKB cell by OutPoint, it may not exist or is not live",[r.CKB_INVALID_CELL_LOCK]:"Invalid CKB cell lock, it should be RgbppLock, RgbppTimeLock or null",[r.CKB_INVALID_INPUTS]:"Invalid input(s) found in the CKB VirtualTx",[r.CKB_INVALID_OUTPUTS]:"Invalid output(s) found in the CKB VirtualTx",[r.CKB_UNMATCHED_COMMITMENT]:"Invalid commitment found in the CKB VirtualTx",[r.CKB_RGBPP_LOCK_UNPACK_ERROR]:"Failed to unpack RgbppLockArgs from the CKB cell lock",[r.MEMPOOL_API_RESPONSE_ERROR]:"Mempool.space API returned an error"};class n extends Error{code=r.UNKNOWN;constructor(e,r=t.ErrorMessages[e]||"Unknown error"){super(r),this.code=e,Object.setPrototypeOf(this,n.prototype)}static withComment(e,r){const i=t.ErrorMessages[e];return new n(e,r?`${i}: ${r}`:i)}}t.TxBuildError=n},61611:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(23538),t),i(r(97593),t),i(r(90593),t),i(r(24662),t),i(r(44273),t),i(r(2353),t),i(r(95367),t),i(r(47960),t),i(r(20843),t),i(r(61088),t),i(r(76889),t),i(r(73586),t),i(r(78016),t),i(r(58326),t),i(r(79968),t),i(r(68835),t),i(r(34764),t)},97593:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.networkTypeToConfig=function(e){if(e===s.NetworkType.TESTNET)return(0,i.default)(c.testnet);if(e===s.NetworkType.MAINNET)return(0,i.default)(c.mainnet);throw new a.TxBuildError(a.ErrorCodes.UNSUPPORTED_NETWORK_TYPE)},t.networkToConfig=function(e){if(e.bech32==o.bitcoin.networks.bitcoin.bech32)return(0,i.default)(c.mainnet);if(e.bech32==o.bitcoin.networks.testnet.bech32)return(0,i.default)(c.testnet);throw new a.TxBuildError(a.ErrorCodes.UNSUPPORTED_NETWORK_TYPE)};const i=n(r(88055)),o=r(2353),a=r(44273),s=r(23538),c={testnet:{feeRate:1,btcUtxoDustLimit:1e3,rgbppUtxoDustLimit:546,network:o.bitcoin.networks.testnet,networkType:s.NetworkType.TESTNET},mainnet:{feeRate:20,btcUtxoDustLimit:1e4,rgbppUtxoDustLimit:546,network:o.bitcoin.networks.bitcoin,networkType:s.NetworkType.MAINNET}}},90593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkTypeToNetwork=function(e){return(0,n.networkTypeToConfig)(e).network},t.networkToNetworkType=function(e){return(0,n.networkToConfig)(e).networkType};const n=r(97593)},23538:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkType=void 0,function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e[e.REGTEST=2]="REGTEST"}(r||(t.NetworkType=r={}))},67674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataCache=void 0;t.DataCache=class{utxos;constructor(){this.utxos=new Map}setUtxos(e,t){this.utxos.set(e,t)}getUtxos(e){return this.utxos.get(e)}cleanUtxos(e){this.utxos.has(e)&&this.utxos.delete(e)}async optionalCacheUtxos(e){if(e.key&&this.utxos.has(e.key))return this.getUtxos(e.key);const t=await e.getter();return e.key&&this.setUtxos(e.key,t),t}}},20843:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.DataSource=void 0;const i=r(90375),o=r(44273),a=r(76889),s=r(95367),c=r(24662),u=r(67674);t.DataSource=class{cache;service;networkType;constructor(e,t){this.service=e,this.networkType=t,this.cache=new u.DataCache}async getUtxo(e,t,r){const n=await this.getOutput(e,t,r);if(n&&!("address"in n))throw o.TxBuildError.withComment(o.ErrorCodes.UNSPENDABLE_OUTPUT,`hash: ${e}, index: ${t}`);return n}async getOutput(e,t,r){const i=(0,c.remove0x)(e),u=await this.service.getBtcTransaction(i);if(!u)return;if(r&&!u.status.confirmed)throw o.TxBuildError.withComment(o.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${e}, index: ${t}`);const f=u.vout[t];if(!f)return;const d=n.from(f.scriptpubkey,"hex");return(0,a.isOpReturnScriptPubkey)(d)?{txid:i,vout:t,value:f.value,scriptPk:f.scriptpubkey}:{txid:i,vout:t,value:f.value,scriptPk:f.scriptpubkey,address:f.scriptpubkey_address,addressType:(0,s.getAddressType)(f.scriptpubkey_address)}}async isTransactionConfirmed(e){return(await this.service.getBtcTransaction((0,c.remove0x)(e))).status.confirmed}async getUtxos(e,t){const r=await this.service.getBtcUtxos(e,t),n=(0,s.addressToScriptPublicKeyHex)(e,this.networkType);return r.sort(((e,t)=>{const r=e.status.block_height,n=t.status.block_height;return r!==n?r-n:e.vout-t.vout})).map((t=>({address:e,scriptPk:n,txid:t.txid,vout:t.vout,value:t.value,addressType:(0,s.getAddressType)(e)})))}async collectSatoshi(e){const t=e.allowInsufficient??!1,r=e.excludeUtxos??[],n=await this.cache.optionalCacheUtxos({key:e.internalCacheKey,getter:()=>this.getUtxos(e.address,{only_non_rgbpp_utxos:e.onlyNonRgbppUtxos,only_confirmed:e.onlyConfirmedUtxos,min_satoshi:e.minUtxoSatoshi,no_cache:e.noAssetsApiCache})}),i=[];let a=0;for(const t of n){if(a>=e.targetAmount)break;if(r.length>0){if(r.find((e=>e.txid===t.txid&&e.vout===t.vout)))continue}i.push(t),a+=t.value}if(!t&&a<e.targetAmount)throw o.TxBuildError.withComment(o.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${e.targetAmount}, actual: ${a}`);return{utxos:i,satoshi:a,exceedSatoshi:a-e.targetAmount}}async getPaymasterOutput(){try{const e=await this.service.getRgbppPaymasterInfo();return{address:e.btc_address,value:e.fee}}catch(e){if(e instanceof i.BtcAssetsApiError&&e.code===i.ErrorCodes.ASSETS_API_RESOURCE_NOT_FOUND)return;throw e}}}},47960:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.isP2wpkhScript=function(e){const t="string"==typeof e?n.from(e,"hex"):e;return(0,i.isP2WPKH)(t)},t.isP2trScript=function(e){const t="string"==typeof e?n.from(e,"hex"):e;return(0,i.isP2TR)(t)};const i=r(2353)},61088:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TxBuilder=void 0;const i=n(r(88055)),o=r(2353),a=r(44273),s=r(95367),c=r(76889),u=r(97593),f=r(73586),d=r(24662),l=r(78016);class h{inputs=[];outputs=[];source;config;networkType;onlyNonRgbppUtxos;onlyConfirmedUtxos;minUtxoSatoshi;feeRate;constructor(e){this.source=e.source,this.networkType=this.source.networkType,this.config=(0,u.networkTypeToConfig)(this.networkType),this.onlyNonRgbppUtxos=e.onlyNonRgbppUtxos??!0,this.onlyConfirmedUtxos=e.onlyConfirmedUtxos??!1,this.minUtxoSatoshi=e.minUtxoSatoshi??this.config.btcUtxoDustLimit,this.feeRate=e.feeRate}hasInput(e,t){return this.inputs.some((r=>r.data.hash===e&&r.data.index===t))}addInput(e){if(this.hasInput(e.txid,e.vout))throw a.TxBuildError.withComment(a.ErrorCodes.DUPLICATED_UTXO,`hash: ${e.txid}, index: ${e.vout}`);e=(0,i.default)(e),this.inputs.push((0,f.utxoToInput)(e))}addInputs(e){e.forEach((e=>{this.addInput(e)}))}async validateInputs(){await Promise.all(this.inputs.map((async e=>(0,d.limitPromiseBatchSize)((async()=>{if(!await this.source.isTransactionConfirmed(e.data.hash))throw a.TxBuildError.withComment(a.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${e.data.hash}, index: ${e.data.index}`)})))))}addOutput(e){let t;if("data"in e&&(t={script:(0,c.dataToOpReturnScriptPubkey)(e.data),value:e.value,fixed:e.fixed,protected:e.protected,minUtxoSatoshi:e.minUtxoSatoshi}),("address"in e||"script"in e)&&(t=(0,i.default)(e)),!t)throw new a.TxBuildError(a.ErrorCodes.UNSUPPORTED_OUTPUT);const r=t.minUtxoSatoshi??this.minUtxoSatoshi;if(!("script"in t&&(0,c.isOpReturnScriptPubkey)(t.script))&&t.value<r)throw a.TxBuildError.withComment(a.ErrorCodes.DUST_OUTPUT,`expected ${r}, but defined ${t.value}`);this.outputs.push(t)}addOutputs(e){e.forEach((e=>{this.addOutput(e)}))}async payFee(e){const{address:t,publicKey:r,feeRate:n,changeAddress:o,deductFromOutputs:a,excludeUtxos:s}=e,c=(0,i.default)(this.inputs),u=(0,i.default)(this.outputs),f=`${Date.now()}`;let d;if(!n&&!this.feeRate){d=(await this.source.service.getBtcRecommendedFeeRates()).fastestFee}const l=n??this.feeRate??d;let h=0,p=0,b=!1,y=!1,g=-1;for(;!y;){b&&(p=h,this.inputs=(0,i.default)(c),this.outputs=(0,i.default)(u));const{needCollect:e,needReturn:n,inputsTotal:d}=this.summary(),m=d>0||p>0,v=n-p;if(m&&v>0){const{changeIndex:e}=await this.injectChange({address:o??t,amount:v,fromAddress:t,fromPublicKey:r,internalCacheKey:f,excludeUtxos:s});g=e}else{const i=e-n+p+(m?0:1),{changeIndex:c}=await this.injectSatoshi({address:t,publicKey:r,targetAmount:i,changeAddress:o,deductFromOutputs:a,internalCacheKey:f,excludeUtxos:s});g=c}h=await this.calculateFee(l),y=[-1,0,1].includes(h-p),b||(b=!0)}return this.source.cache.cleanUtxos(f),{fee:h,feeRate:l,changeIndex:g}}async injectSatoshi(e){if(!(0,s.isSupportedFromAddress)(e.address))throw a.TxBuildError.withComment(a.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE,e.address);const t=e.targetAmount,r=e.excludeUtxos??[],n=e.injectCollected??!1,i=e.deductFromOutputs??!0;let o=0,c=0;const u=async t=>{const{utxos:n,satoshi:i}=await this.source.collectSatoshi({address:e.address,targetAmount:t,allowInsufficient:!0,noAssetsApiCache:!0,internalCacheKey:e.internalCacheKey,minUtxoSatoshi:this.minUtxoSatoshi,onlyNonRgbppUtxos:this.onlyNonRgbppUtxos,onlyConfirmedUtxos:this.onlyConfirmedUtxos,excludeUtxos:[...this.inputs.map((e=>e.utxo)),...r]});n.forEach((t=>{this.addInput({...t,pubkey:e.publicKey})})),o+=i,f()},f=()=>{c=n?o+t:o-t};if(i)for(let e=0;e<this.outputs.length;e++){const r=this.outputs[e];if(r.fixed)continue;if(o>=t)break;const n=r.minUtxoSatoshi??this.minUtxoSatoshi,i=r.value-n,a=t-o;if(r.protected){const e=Math.min(i,a);r.value-=e,o+=e}else{const t=r.value>a?Math.min(i,a):r.value;r.value-=t,o+=t,0===r.value&&(this.outputs.splice(e,1),e--)}}o<t&&await u(t-o);const d=e.changeAddress??e.address,l=!this.canInjectChangeToOutputs(d),h=!l&&c>0&&c<this.minUtxoSatoshi?this.minUtxoSatoshi-c:0;h>0&&await u(h);if(o<t){const e=t-o+this.minUtxoSatoshi;throw a.TxBuildError.withComment(a.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${t}, actual: ${o}. You may wanna deposit more satoshi to prevent the error, for example: ${e}`)}if(!l&&c>0&&c<this.minUtxoSatoshi){const e=o+h;throw a.TxBuildError.withComment(a.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${e}, actual: ${o}`)}let p=-1;if(c>0){p=(await this.injectChange({amount:c,address:d,fromAddress:e.address,fromPublicKey:e.publicKey})).changeIndex}return{collected:o,changeIndex:p,changeAmount:c}}async injectChange(e){const{address:t,fromAddress:r,fromPublicKey:n,amount:i,excludeUtxos:o,internalCacheKey:s}=e;for(let e=0;e<this.outputs.length;e++){const r=this.outputs[e];if(!r.fixed&&("address"in r&&r.address===t))return r.value+=i,{changeIndex:e}}let c=-1;if(i<this.minUtxoSatoshi){const e=await this.injectSatoshi({address:r,publicKey:n,targetAmount:i,changeAddress:t,injectCollected:!0,deductFromOutputs:!1,internalCacheKey:s,excludeUtxos:o});if(e.collected<i)throw a.TxBuildError.withComment(a.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${i}, actual: ${e.collected}`);c=e.changeIndex}else this.addOutput({address:t,value:i}),c=this.outputs.length-1;return{changeIndex:c}}canInjectChangeToOutputs(e){return this.outputs.some((t=>!(t.fixed||"address"in t&&t.address!==e)))}async calculateFee(e){if(!e&&!this.feeRate)throw a.TxBuildError.withComment(a.ErrorCodes.INVALID_FEE_RATE,`${e??this.feeRate}`);const t=e??this.feeRate,r=(await this.createEstimatedPsbt()).extractTransaction(!0),n=r.ins.length,i=r.byteLength(!0),o=3*r.byteLength(!1)+i+n,s=Math.ceil(o/4);return Math.ceil(s*t)}async createEstimatedPsbt(){const e=l.FeeEstimator.fromRandom(this.networkType),t=this.clone();t.inputs=t.inputs.map((t=>{const r=e.replaceUtxo(t.utxo);return(0,f.utxoToInput)(r)}));const r=t.toPsbt();return await e.signPsbt(r),r}summary(){const e=this.inputs.reduce(((e,t)=>e+t.utxo.value),0),t=this.outputs.reduce(((e,t)=>e+t.value),0),r=e-t,n=t-e;return{inputsTotal:e,outputsTotal:t,inputsRemaining:r,outputsRemaining:n,needReturn:r>0?r:0,needCollect:n>0?n:0}}clone(){const e=new h({source:this.source,feeRate:this.feeRate,minUtxoSatoshi:this.minUtxoSatoshi});return e.inputs=(0,i.default)(this.inputs),e.outputs=(0,i.default)(this.outputs),e}toPsbt(){const e=this.config.network,t=new o.bitcoin.Psbt({network:e});return this.inputs.forEach((e=>{t.data.addInput(e.data)})),this.outputs.forEach((e=>{t.addOutput(e)})),t}}t.TxBuilder=h},76889:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.dataToOpReturnScriptPubkey=function(e){"string"==typeof e&&(e=n.from((0,i.remove0x)(e),"hex"));return o.bitcoin.payments.embed({data:[e]}).output},t.opReturnScriptPubKeyToData=function(e){if(!s(e))throw a.TxBuildError.withComment(a.ErrorCodes.UNSUPPORTED_OP_RETURN_SCRIPT,e.toString("hex"));return o.bitcoin.script.decompile(e)[1]},t.isOpReturnScriptPubkey=s;const i=r(24662),o=r(2353),a=r(44273);function s(e){const t=o.bitcoin.script.decompile(e);if(!t||2!==t.length)return!1;const[r,i]=t;return r===o.bitcoin.opcodes.OP_RETURN&&!(!(i instanceof n)||i.byteLength<1||i.byteLength>80)}},78016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeeEstimator=void 0;const n=r(95367),i=r(24662),o=r(90593),a=r(47960),s=r(2353);class c{networkType;network;keyPair;pubkey;accounts;constructor(e,t){const r=(0,o.networkTypeToNetwork)(t);this.networkType=t,this.network=r;const a=s.ECPair.fromWIF(e,r);this.pubkey=a.publicKey.toString("hex"),this.keyPair=a;const c=s.bitcoin.payments.p2wpkh({pubkey:a.publicKey,network:r}),u=s.bitcoin.payments.p2tr({internalPubkey:(0,i.toXOnly)(a.publicKey),network:r});this.accounts={p2wpkh:{payment:c,address:c.address,addressType:n.AddressType.P2WPKH,scriptPubkey:c.output.toString("hex")},p2tr:{payment:u,address:u.address,addressType:n.AddressType.P2TR,tapInternalKey:(0,i.toXOnly)(a.publicKey),scriptPubkey:u.output.toString("hex")}}}static fromRandom(e){const t=(0,o.networkTypeToNetwork)(e),r=s.ECPair.makeRandom({network:t});return new c(r.toWIF(),e)}replaceUtxo(e){return(e.addressType===n.AddressType.P2WPKH||(0,a.isP2wpkhScript)(e.scriptPk))&&(e.scriptPk=this.accounts.p2wpkh.scriptPubkey,e.pubkey=this.pubkey),(e.addressType===n.AddressType.P2TR||(0,a.isP2trScript)(e.scriptPk))&&(e.scriptPk=this.accounts.p2tr.scriptPubkey,e.pubkey=this.pubkey),e}async signPsbt(e){const t=(0,i.tweakSigner)(this.keyPair,{network:this.network});return e.data.inputs.forEach(((r,n)=>{if(r.witnessUtxo){const e=!(r.finalScriptSig||r.finalScriptWitness),t=(0,a.isP2trScript)(r.witnessUtxo.script),n=!r.tapInternalKey;e&&t&&n&&r.witnessUtxo.script.toString("hex")===this.accounts.p2tr.scriptPubkey&&(r.tapInternalKey=this.accounts.p2tr.tapInternalKey)}(0,s.isTaprootInput)(r)?e.signInput(n,t):e.signInput(n,this.keyPair)})),e.finalizeAllInputs(),e}}t.FeeEstimator=c},73586:function(e,t,r){"use strict";var n=r(48287).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.utxoToInput=function(e){if(e.addressType===s.AddressType.P2WPKH){return{data:{hash:e.txid,index:e.vout,witnessUtxo:{value:e.value,script:n.from((0,c.remove0x)(e.scriptPk),"hex")}},utxo:e}}if(e.addressType===s.AddressType.P2TR){if(!e.pubkey)throw a.TxBuildError.withComment(a.ErrorCodes.MISSING_PUBKEY,e.address);return{data:{hash:e.txid,index:e.vout,witnessUtxo:{value:e.value,script:n.from((0,c.remove0x)(e.scriptPk),"hex")},tapInternalKey:(0,c.toXOnly)(n.from((0,c.remove0x)(e.pubkey),"hex"))},utxo:e}}throw new a.TxBuildError(a.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE)},t.fillUtxoPubkey=f,t.prepareUtxoInputs=async function(e){const t=e.pubkeyMap??{},r=e.utxos.map((r=>f(r,t,{requirePubkey:e.requirePubkey})));e.requireConfirmed&&await Promise.all(r.map((async t=>(0,c.limitPromiseBatchSize)((async()=>{if(!await e.source.isTransactionConfirmed(t.txid))throw a.TxBuildError.withComment(a.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${t.txid}, index: ${t.vout}`)})))));return r};const o=i(r(88055)),a=r(44273),s=r(95367),c=r(24662),u=r(47960);function f(e,t,r){const n=(0,o.default)(e);if((0,u.isP2trScript)(n.scriptPk)&&!n.pubkey){const e=t[n.address];if(r?.requirePubkey&&!e)throw a.TxBuildError.withComment(a.ErrorCodes.MISSING_PUBKEY,n.address);e&&(n.pubkey=e)}return n}},24662:function(e,t,r){"use strict";var n=r(48287).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.limitPromiseBatchSize=void 0,t.toXOnly=u,t.tweakSigner=function(e,t){if(!e.privateKey)throw new Error("Private key is required for tweaking signer!");let r=e.privateKey;3===e.publicKey[0]&&(r=a.ecc.privateNegate(r));const i=a.ecc.privateAdd(r,(o=u(e.publicKey),s=t?.tweakHash,a.bitcoin.crypto.taggedHash("TapTweak",n.concat(s?[o,s]:[o]))));var o,s;if(!i)throw new Error("Invalid tweaked private key!");return a.ECPair.fromPrivateKey(n.from(i),{network:t?.network})},t.remove0x=function(e){return e.startsWith("0x")?e.slice(2):e},t.utf8ToBuffer=function(e){const t=e.trim();if(t.startsWith("0x"))return s.bytes.bytify(t);return c.encode(t)},t.transactionToHex=function(e,t){return e.__toBuffer(void 0,void 0,t??!1).toString("hex")};const o=i(r(90165)),a=r(2353),s=r(67239),c=new TextEncoder;function u(e){return 32===e.length?e:e.subarray(1,33)}t.limitPromiseBatchSize=(0,o.default)(10)},43622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ckbDecimals=t.BI=void 0,t.formatUnit=function(e,t){const r=l(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=a.from(e);const n=e.isNegative();n&&(e=e.mul(d));const i=e.div(r).toString();let o=i;if(r.length>1){let t=e.mod(r).toString();for(;t.length<r.length-1;)t="0"+t;t=t.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+t}n&&(o="-"+o);return o}(e,r)},t.isBIish=o,t.parseUnit=function(e,t){const r=l(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n="-"===e.substring(0,1);n&&(e=e.substring(1));let i,o;const s=e.split(".");if(1===s.length)i=s[0],o="0";else{if(2!==s.length)throw new Error("too many decimal points (should not happen)");i=s[0],o=s[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const c=a.from(i),u=a.from(o);let f=c.mul(r).add(u);n&&(f=f.mul(d));return f}(e,r)},t.toJSBI=c;var n,i=(n=r(8141))&&n.__esModule?n:{default:n};function o(e){return null!==e&&("number"==typeof e&&e%1==0||"string"==typeof e&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||"bigint"==typeof e||a.isBI(e))}class a{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return s(i.default.add(this.jsbi,c(e)))}sub(e){return s(i.default.subtract(this.jsbi,c(e)))}div(e){return s(i.default.divide(this.jsbi,c(e)))}mul(e){return s(i.default.multiply(this.jsbi,c(e)))}mod(e){return s(i.default.remainder(this.jsbi,c(e)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,c(0))?s(this.jsbi):s(i.default.unaryMinus(this.jsbi))}pow(e){return s(i.default.exponentiate(this.jsbi,c(e)))}and(e){return s(i.default.bitwiseAnd(this.jsbi,c(e)))}or(e){return s(i.default.bitwiseOr(this.jsbi,c(e)))}xor(e){return s(i.default.bitwiseXor(this.jsbi,c(e)))}not(){return s(i.default.bitwiseNot(this.jsbi))}mask(e){const t=c(e);if(i.default.lessThan(t,c(0))||i.default.lessThan(this.jsbi,c(0)))throw new Error("mask works only with positive numbers");const r=c(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,t))return s(this.jsbi);{const e=i.default.leftShift(i.default.signedRightShift(this.jsbi,t),t);return s(i.default.bitwiseXor(this.jsbi,e))}}shl(e){return s(i.default.leftShift(this.jsbi,c(e)))}shr(e){return s(i.default.signedRightShift(this.jsbi,c(e)))}eq(e){return i.default.equal(this.jsbi,c(e))}lt(e){return i.default.lessThan(this.jsbi,c(e))}lte(e){return i.default.lessThanOrEqual(this.jsbi,c(e))}gt(e){return i.default.greaterThan(this.jsbi,c(e))}gte(e){return i.default.greaterThanOrEqual(this.jsbi,c(e))}isNegative(){return i.default.lessThan(this.jsbi,c(0))}isZero(){return i.default.equal(this.jsbi,c(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(e){throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return i.default.lessThan(this.jsbi,c(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof a)return e;if(o(e))return s(c(e));if(e instanceof i.default)return s(c(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return function(e){return null!=e&&"object"==typeof e}(e)&&!!e._isBI}}function s(e){return new a(e)}function c(e){return"number"==typeof e||"string"==typeof e?i.default.BigInt(e):i.default.BigInt(e.toString())}t.BI=a;const u=["shannon","ckb"],f=8;t.ckbDecimals=f;const d=a.from(-1);function l(e){let t=0;if("string"==typeof e){if(-1===u.indexOf(e))throw new Error(`invalid unit name, supported names are ${u.join(", ")}`);"ckb"===e&&(t=f)}else{if(!h(e))throw new Error("unit of integer must be a non-negative integer");t=e}return t}function h(e){return Number.isInteger(e)&&e>=0}},88874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBytesCodec=o,t.createFixedBytesCodec=function(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...o({pack:r=>{const i=e.pack(r);return(0,n.assertBufferLength)(i,t),i},unpack:r=>((0,n.assertBufferLength)(r,t),e.unpack(r))})}},t.isFixedCodec=function(e){return(0,n.isObjectLike)(e)&&!!e.__isFixedCodec__};var n=r(92562),i=r(64452);function o(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,i.bytify)(t))}}},64452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytify=u,t.bytifyRawString=function(e){(0,n.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);r.setUint8(t,n)}return new Uint8Array(t)},t.concat=function(...e){const t=e.map(u),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);let i=0;return t.forEach((e=>{n.set(e,i),i+=e.length})),n},t.equal=function(e,t){const r=u(e),n=u(t);return function(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}(r,n)},t.hexify=function(e){let t="";const r=u(e);for(let e=0;e<r.length;e++)t+=f[r[e]];return"0x"+t};var n=r(92562);const i="0".charCodeAt(0),o="9".charCodeAt(0),a="A".charCodeAt(0),s="F".charCodeAt(0),c="a".charCodeAt(0);function u(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e)return function(e){(0,n.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r+=2,n++){const u=e.charCodeAt(r),f=e.charCodeAt(r+1),d=u<=o?u-i:u<=s?u-a+10:u-c+10,l=f<=o?f-i:f<=s?f-a+10:f-c+10;t[n]=d<<4|l}return t}(e);if(Array.isArray(e))return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}(e);throw new Error(`Cannot convert ${e}`)}const f=Array.from({length:256}).map(((e,t)=>t.toString(16).padStart(2,"0")))},99029:(e,t)=>{"use strict";function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CodecExecuteError=t.CodecBaseParseError=t.CODEC_OPTIONAL_PATH=void 0,t.isCodecExecuteError=function(e){return e instanceof Error&&e.name===o};const n="__lc_option__";t.CODEC_OPTIONAL_PATH=n;class i extends Error{constructor(e,t){super(e),this.expectedType=t}}t.CodecBaseParseError=i;const o="CodecExecuteError";class a extends Error{constructor(e){super(),r(this,"name",o),r(this,"keys",[]),this.origin=e}updateKey(e){this.keys.push(e),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var e;const t=this.keys.reduceRight(((e,t,r)=>e+(t=t===n?0===r?"?":"?.":"number"==typeof t?`[${t}]`:`.${t}`)),"input");return`Expect type ${this.origin.expectedType} at ${t} but got error: ${this.origin.message}\n    ${null===(e=this.origin.stack)||void 0===e?void 0:e.replace(/Error:.+?\n/,"")}\n    `}}t.CodecExecuteError=a},61129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(55342)},55342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayCodec=function(e){return{pack:t=>t.map(((t,r)=>(0,n.trackCodeExecuteError)(r,(()=>e.pack(t))))),unpack:t=>t.map((t=>e.unpack(t)))}},t.createNullableCodec=function(e){return{pack:t=>null==t?t:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>e.pack(t))),unpack:t=>null==t?t:e.unpack(t)}},t.createObjectCodec=function(e){const t=Object.entries(e);return{pack:e=>{const r={};return t.forEach((([t,i])=>{Object.assign(r,{[t]:(0,n.trackCodeExecuteError)(t,(()=>i.pack(e[t])))})})),r},unpack:e=>{const r={};return t.forEach((([t,n])=>{Object.assign(r,{[t]:n.unpack(e[t])})})),r}}},t.enhancePack=function(e,t,r){return{pack:r=>t(e.pack(r)),unpack:t=>e.unpack(r(t))}};var n=r(92562),i=r(99029)},67239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),t.number=t.molecule=void 0;var i=r(88874),o=r(61129);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=f(r(64452));t.bytes=a;var s=f(r(67389));t.number=s;var c=f(r(84816));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.molecule=c},65542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayOf=s,t.byteOf=function(e){return s({...e,byteLength:1})},t.byteVecOf=function(e){return(0,o.createBytesCodec)({pack(t){const r=e.pack(t),n=a.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(t){(0,n.assertMinBufferLength)(t,4);const r=a.Uint32LE.unpack(t.slice(0,4));return(0,n.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})};var n=r(92562),i=r(64452),o=r(88874),a=r(67389);function s(e){const t=e.byteLength;return(0,o.createFixedBytesCodec)({byteLength:t,pack:t=>e.pack(t),unpack:t=>e.unpack(t)})}},84816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(65542),i=r(63180)},63180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=c,t.dynvec=l,t.fixvec=d,t.option=function(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createNullableCodec)(e);return null!=t?r.pack(t):Uint8Array.from([])},unpack(t){if(0!==t.byteLength)return e.unpack(t)}})},t.struct=function(e,t){f(e,t);const r=(0,s.createObjectCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:t.reduce(((t,r)=>t+e[r].byteLength),0),pack(e){const n=r.pack(e);return t.reduce(((e,t)=>(0,o.concat)(e,n[t])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return t.forEach((t=>{const o=e[t],a=r.slice(i,i+o.byteLength);Object.assign(n,{[t]:o.unpack(a)}),i+=o.byteLength})),n}})},t.table=function(e,t){return f(e,t),(0,n.createBytesCodec)({pack(r){const n=4+4*t.length,a=(0,s.createObjectCodec)(e).pack(r),c=t.reduce(((e,t)=>{const r=a[t],n=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,n),body:(0,o.concat)(e.body,r),offset:e.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),u=i.Uint32LE.pack(c.header.byteLength+c.body.byteLength+4);return(0,o.concat)(u,c.header,c.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===t.length)return{};{const o=t.map(((e,t)=>i.Uint32LE.unpack(r.slice(4+4*t,8+4*t))));o.push(n);const a={};for(let n=0;n<o.length-1;n++){const i=o[n],s=o[n+1],c=t[n],u=e[c],f=r.slice(i,s);Object.assign(a,{[c]:u.unpack(f)})}return a}}})},t.union=function(e,t){if(f(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const e=Object.values(t);if(e.length!==new Set(e).size)throw new Error(`Duplicated id in union: ${e.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(e),s=r.type,c=`Union(${n.join(" | ")})`;if("string"!=typeof s)throw new a.CodecBaseParseError("Invalid type in union, type must be a string",c);const u=Array.isArray(t)?t.indexOf(s):t[s];if(u<0)throw new a.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,c);const f=i.Uint32LE.pack(u),d=e[s].pack(r.value);return(0,o.concat)(f,d)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(t))return t[n];const e=Object.entries(t).find((([,e])=>e===n));return null==e?void 0:e[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:o,value:e[o].unpack(r.slice(4))}}})},t.vector=function(e){if((0,n.isFixedCodec)(e))return d(e);return l(e)};var n=r(88874),i=r(67389),o=r(64452),a=r(99029),s=r(61129);function c(e,t){const r=(0,s.createArrayCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(e){const t=r.pack(e);return(0,o.concat)(...t)},unpack(t){const r=[],n=e.byteLength;for(let i=0;i<t.byteLength;i+=n)r.push(e.unpack(t.slice(i,i+n)));return r}})}function u(e,t){return e.filter((e=>!t.includes(e)))}function f(e,t){const r=Object.keys(e),n=u(r,t),i=u(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function d(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createArrayCodec)(e);return(0,o.concat)(i.Uint32LE.pack(t.length),r.pack(t).reduce(((e,t)=>(0,o.concat)(e,t)),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=i.Uint32LE.unpack(t.slice(0,4));return c(e,r).unpack(t.slice(4))}})}function l(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createArrayCodec)(e).pack(t).reduce(((e,t)=>{const r=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,r),body:(0,o.concat)(e.body,t),offset:e.offset+t.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*t.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(t){const r=i.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(t.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((e,r)=>i.Uint32LE.unpack(t.slice(4+4*r,8+4*r))));o.push(r);const a=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],s=t.slice(n,i);a.push(e.unpack(s))}return a}}})}},67389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(77077);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},77077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return n.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var n=r(43622),i=r(88874),o=r(99029);function a(e,t=!1){const r=s(e,t);return{__isFixedCodec__:!0,byteLength:e,pack:e=>r.pack(e),unpack:e=>r.unpack(e).toNumber()}}const s=(e,t=!1)=>{const r=n.BI.from(1).shl(8*e).sub(1);return(0,i.createFixedBytesCodec)({byteLength:e,pack(i){let a=t?"LE":"BE";e<=1&&(a="");const s=`Uint${8*e}${a}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,s);let c=n.BI.from(i);!function(e,t,r,i){if((e=n.BI.from(e)).lt(t)||e.gt(r))throw new o.CodecBaseParseError(`Value must be between ${t.toString()} and ${r.toString()}, but got ${e.toString()}`,i)}(c,0,r,s);const u=new DataView(new ArrayBuffer(e));for(let r=0;r<e;r++)t?u.setUint8(r,c.and(255).toNumber()):u.setUint8(e-r-1,c.and(255).toNumber()),c=c.shr(8);return new Uint8Array(u.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<e;r++)o=t?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},c=a(1);t.Uint8=c;const u=a(2,!0);t.Uint16LE=u;const f=a(2);t.Uint16BE=f;const d=u;t.Uint16=d;const l=a(4,!0);t.Uint32LE=l;const h=a(4);t.Uint32BE=h;const p=l;t.Uint32=p;const b=s(8,!0);t.Uint64LE=b;const y=s(8);t.Uint64BE=y;const g=b;t.Uint64=g;const m=s(16,!0);t.Uint128LE=m;const v=s(16);t.Uint128BE=v;const _=m;t.Uint128=_;const w=s(32,!0);t.Uint256LE=w;const S=s(32);t.Uint256BE=S;const x=w;t.Uint256=x;const A=s(64,!0);t.Uint512LE=A;const E=s(64);t.Uint512BE=E;const I=A;t.Uint512=I},92562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBufferLength=function(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)},t.assertHexDecimal=function(e,t){if(f(e),2===e.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if("number"==typeof t&&r>2*t+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);d(e)},t.assertHexString=function(e,t){f(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof t&&r!==2*t+2)throw new Error("Invalid hex string length, not match with byteLength!");d(e)},t.assertMinBufferLength=function(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)},t.assertUtf8String=function(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}},t.isObjectLike=function(e){return!!e&&"object"==typeof e},t.trackCodeExecuteError=function(e,t){try{return t()}catch(t){const r=(0,n.isCodecExecuteError)(t)?t:new n.CodecExecuteError(t);throw r.updateKey(e),r}};var n=r(99029);const i="0".charCodeAt(0),o="9".charCodeAt(0),a="A".charCodeAt(0),s="F".charCodeAt(0),c="a".charCodeAt(0),u="f".charCodeAt(0);function f(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string")}function d(e){const t=e.length;for(let r=2;r<t;r++){const t=e[r].charCodeAt(0);if(!(t>=i&&t<=o||t>=c&&t<=u||t>=a&&t<=s))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}},8141:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(){return f=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i},f.apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){function r(){return f(e,arguments,s(this).constructor)}if(null===e||!d(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},l(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function b(e){var t=u();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function y(e,t){return g(e)||m(e,t)||v(e,t)||w()}function g(e){if(Array.isArray(e))return e}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var x=function(e){var t=Math.abs,i=Math.max,s=Math.floor;function c(e,t){var r;if(n(this,c),(r=u.call(this,e)).sign=t,Object.setPrototypeOf(h(r),c.prototype),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}a(c,e);var u=b(c);return o(c,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=S(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?c.__toStringGeneric(this,e,!1):c.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return c.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,a=t,s=0;s<r;s++){var u=this.__digit(s),f=32767&u,d=u>>>15,l=c.__imul(f,n),h=c.__imul(f,i),p=c.__imul(d,n),b=a+l+o;o=b>>>30,b&=1073741823,o+=(b+=((32767&h)<<15)+((32767&p)<<15))>>>30,a=c.__imul(d,i)+(h>>>15)+(p>>>15),this.__setDigit(s,1073741823&b)}if(0!==o||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,a=0;a<r-1>>>1;a++){var s=e.__digit(a),c=(i>>>15)-(32767&s)-n;n=1&c>>>15,this.__setDigit(t+a,(32767&c)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(t+a+1)))-(s>>>15)-n)>>>15}var u=e.__digit(a),f=(i>>>15)-(32767&u)-n;if(n=1&f>>>15,this.__setDigit(t+a,(32767&f)<<15|32767&o),t+a+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(32767&(i=this.__digit(t+a+1)))-(u>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var l=this.__digit(t+d),h=e.__digit(d),p=(32767&l)-(32767&h)-n,b=(l>>>15)-(h>>>15)-(n=1&p>>>15);n=1&b>>>15,this.__setDigit(t+d,(32767&b)<<15|32767&p)}var y=this.__digit(t+d),g=e.__digit(d),m=(32767&y)-(32767&g)-n;n=1&m>>>15;var v=0;!(1&r)&&(n=1&(v=(y>>>15)-(g>>>15)-n)>>>15),this.__setDigit(t+d,(32767&v)<<15|32767&m)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return c.__zero();if(c.__isOneDigitInt(e))return 0>e?c.__oneDigit(-e,!0):c.__oneDigit(e,!1);if(!t(e)||s(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(e)}if("string"==typeof e){var n=c.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?c.__oneDigit(1,!1):c.__zero();if("object"===r(e)){if(e.constructor===c)return e;var i=c.__toPrimitive(e);return c.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=c.__clz30(n),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var a=o-1,s=n,u=t-1,f=i+3,d=32===f?0:s<<f;d>>>=12;var l=f-12,h=12<=f?0:s<<20+f,p=20+f;for(0<l&&0<u&&(u--,d|=(s=e.__digit(u))>>>30-l,h=s<<l+2,p=l+2);0<p&&0<u;)u--,s=e.__digit(u),h|=30<=p?s<<p-30:s>>>30-p,p-=30;var b=c.__decideRounding(e,p,u,s);if((1===b||0===b&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++d>>>20&&(d=0,1023<++a))return e.sign?-1/0:1/0;var y=e.sign?-2147483648:0;return a=a+1023<<20,c.__kBitConversionInts[1]=y|a|d,c.__kBitConversionInts[0]=h,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return c.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:c.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=new c(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var a=null,s=e;for(!!(1&r)&&(a=e),r>>=1;0!==r;r>>=1)s=c.multiply(s,s),1&r&&(a=null===a?s:c.multiply(a,s));return a}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new c(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)c.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:c.unaryMinus(e);r=c.__absoluteDivSmall(e,i,null)}else r=c.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return c.__zero();var n=c.__absoluteModSmall(e,r);return 0===n?c.__zero():c.__oneDigit(n,e.sign)}var i=c.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?c.__absoluteAdd(e,t,r):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r):c.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return n=c.__absoluteOr(n,o,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length),n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return c.__absoluteXor(n,o,n).__trim()}var a=i(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var u=c.__absoluteSubOne(t,a);return u=c.__absoluteXor(u,e,u),c.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return n=c.__absoluteAnd(n,o,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var s=c.__absoluteSubOne(t,r);return s=c.__absoluteAndNot(s,e,s),c.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i)return t;if((n&i)!==i)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(c.__isBigInt(e))return c.__isBigInt(t)?c.equal(e,t):c.EQ(t,e);if("number"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("string"==typeof e){if(c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.equal(e,t);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("boolean"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("symbol"===r(e)){if(c.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==c)return e==t;e=c.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return c.asIntN(64,c.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=y(r?[4,0]:[0,4],2),i=n[0],o=n[1],a=e.getUint32(t+i,r),s=e.getUint32(t+o,r),u=new c(3,!1);return u.__setDigit(0,1073741823&s),u.__setDigit(1,(268435455&a)<<2|s>>>30),u.__setDigit(2,a>>>28),u.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];c.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(r=c.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var a=r.__digit(1);o|=a<<30,i=a>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var s=y(n?[4,0]:[0,4],2),u=s[0],f=s[1];e.setUint32(t+u,i,n),e.setUint32(t+f,o,n)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new c(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=29}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,r=(2047&c.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new c(n,0>e),o=1048575&c.__kBitConversionInts[1]|1048576,a=c.__kBitConversionInts[0],s=20,u=r%30,f=0;if(u<s){var d=s-u;f=d+32,t=o>>>d,o=o<<32-d|a>>>d,a<<=32-d}else if(u===s)f=32,t=o,o=a,a=0;else{var l=u-s;f=32-l,t=o<<l|a>>>32-l,o=a<<l,a=0}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--)0<f?(f-=30,t=o>>>2,o=o<<30|a>>>2,a<<=30):t=0,i.__setDigit(h,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return c.__zero();for(var o=e.charCodeAt(i);c.__isWhitespace(o);){if(++i===n)return c.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++i===n)return c.__zero();o=e.charCodeAt(i)}var a=n-i,s=c.__kMaxBitsPerChar[t],u=c.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s)return null;var f=new c(0|(29+(s*a+u>>>c.__kBitsPerCharTableShift))/30,!1),d=10>t?t:10,l=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var h=!1,p=0;do{for(var b,y=0,g=1;;){if(b=void 0,o-48>>>0<d)b=o-48;else{if(!((32|o)-97>>>0<l)){h=!0;break}b=(32|o)-87}var m=g*t;if(1073741823<m)break;if(g=m,y=y*t+b,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var v=0|(s*p+(u=30*c.__kBitsPerCharTableMultiplier-1)>>>c.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(g,y,v)}while(!h)}else{s>>=c.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var x,A=0,E=0;;){if(x=void 0,o-48>>>0<d)x=o-48;else{if(!((32|o)-97>>>0<l)){S=!0;break}x=(32|o)-87}if(E+=s,A=A<<s|x,++i===n){S=!0;break}if(o=e.charCodeAt(i),30<E+s)break}_.push(A),w.push(E)}while(!S);c.__fillFromParts(f,_,w)}if(i!==n){if(!c.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!c.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,a=t.length-1;0<=a;a--){var s=t[a],c=r[a];i|=s<<o,30===(o+=c)?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),i=s>>>c-(o-=30))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,a=e.__digit(r-1),s=0|(30*r-c.__clz30(a)+i-1)/i;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var u=Array(s),f=s-1,d=0,l=0,h=0;h<r-1;h++){var p=e.__digit(h),b=(d|p<<l)&o;u[f--]=c.__kConversionChars[b];var y=i-l;for(d=p>>>y,l=30-y;l>=i;)u[f--]=c.__kConversionChars[d&o],d>>>=i,l-=i}var g=(d|a<<l)&o;for(u[f--]=c.__kConversionChars[g],d=a>>>i-l;0!==d;)u[f--]=c.__kConversionChars[d&o],d>>>=i;if(e.sign&&(u[f--]="-"),-1!==f)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,a,s=30*n-c.__clz30(e.__digit(n-1)),u=c.__kMaxBitsPerChar[t]-1,f=s*c.__kBitsPerCharTableMultiplier,d=1+(f=0|(f+=u-1)/u)>>1,l=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(d,!1)),h=l.__unsignedDigit(0);if(1===l.length&&32767>=h){(o=new c(e.length,!1)).__initializeDigits();for(var p,b=0,y=2*e.length-1;0<=y;y--)p=b<<15|e.__halfDigit(y),o.__setHalfDigit(y,0|p/h),b=0|p%h;a=b.toString(t)}else{var g=c.__absoluteDivLarge(e,l,!0,!0);o=g.quotient;var m=g.remainder.__trim();a=c.__toStringGeneric(m,t,!0)}o.__trim();for(var v=c.__toStringGeneric(o,t,!0);a.length<d;)a="0"+a;return!1===r&&e.sign&&(v="-"+v),v+a}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return c.__unequalSign(r);var n=c.__absoluteCompare(e,t);return 0<n?c.__absoluteGreater(r):0>n?c.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(c.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i)return c.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return c.__absoluteGreater(n);var o=t(r),a=e.__unsignedDigit(0);return a>o?c.__absoluteGreater(n):a<o?c.__absoluteLess(n):0}return c.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return c.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;c.__kBitConversionDouble[0]=t;var n=2047&c.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return c.__absoluteGreater(r);var o=e.length,a=e.__digit(o-1),s=c.__clz30(a),u=30*o-s,f=i+1;if(u<f)return c.__absoluteLess(r);if(u>f)return c.__absoluteGreater(r);var d=1048576|1048575&c.__kBitConversionInts[1],l=c.__kBitConversionInts[0],h=20,p=29-s;if(p!==(0|(u-1)%30))throw new Error("implementation bug");var b,y=0;if(p<h){var g=h-p;y=g+32,b=d>>>g,d=d<<32-g|l>>>g,l<<=32-g}else if(p===h)y=32,b=d,d=l,l=0;else{var m=p-h;y=32-m,b=d<<m|l>>>32-m,d=l<<m,l=0}if((a>>>=0)>(b>>>=0))return c.__absoluteGreater(r);if(a<b)return c.__absoluteLess(r);for(var v=o-2;0<=v;v--){0<y?(y-=30,b=d>>>2,d=d<<30|l>>>2,l<<=30):b=0;var _=e.__unsignedDigit(v);if(_>b)return c.__absoluteGreater(r);if(_<b)return c.__absoluteLess(r)}if(0!==d||0!==l){if(0===y)throw new Error("implementation bug");return c.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return c.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===c.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&"string"==typeof t)return null!==(t=c.__fromString(t))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("string"==typeof e&&c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return c.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new c(n,r),a=0,s=0;s<t.length;s++)a=(i=e.__digit(s)+t.__digit(s)+a)>>>30,o.__setDigit(s,1073741823&i);for(;s<e.length;s++){var u=e.__digit(s)+a;a=u>>>30,o.__setDigit(s,1073741823&u)}return s<o.length&&o.__setDigit(s,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);for(var n,i=new c(e.length,r),o=0,a=0;a<t.length;a++)o=1&(n=e.__digit(a)-t.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&n);for(;a<e.length;a++){var s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new c(n,t):r.sign=t;for(var i,o=1,a=0;a<n;a++)o=(i=e.__digit(a)+o)>>>30,r.__setDigit(a,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new c(t=t||n,!1),o=1,a=0;a<n;a++)o=1&(r=e.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var s=n;s<t;s++)i.__setDigit(s,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=o;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var a=n;null===r?r=new c(a,!1):a=r.length;for(var s=0;s<o;s++)r.__setDigit(s,e.__digit(s)&~t.__digit(s));for(;s<n;s++)r.__setDigit(s,e.__digit(s));for(;s<a;s++)r.__setDigit(s,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,a=0,s=0,u=0;u<e.length;u++,n++){var f=r.__digit(n),d=e.__digit(u),l=32767&d,h=d>>>15,p=c.__imul(l,i),b=c.__imul(l,o),y=c.__imul(h,i);a=(f+=s+p+a)>>>30,f&=1073741823,a+=(f+=((32767&b)<<15)+((32767&y)<<15))>>>30,s=c.__imul(h,o)+(b>>>15)+(y>>>15),r.__setDigit(n,1073741823&f)}for(;0!==a||0!==s;n++){var g=r.__digit(n);g+=a+s,s=0,a=g>>>30,r.__setDigit(n,1073741823&g)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,a=0,s=0;s<n;s++){var u=e.__digit(s),f=c.__imul(32767&u,t),d=c.__imul(u>>>15,t),l=f+((32767&d)<<15)+a+o;o=l>>>30,a=d>>>15,i.__setDigit(s,1073741823&l)}if(i.length>n)for(i.__setDigit(n++,o+a);n<i.length;)i.__setDigit(n++,0);else if(0!==o+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new c(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,a=0|o/t,s=0|(o=((n=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,a<<15|s)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,a=e.__halfDigitLength()-i,s=null;r&&(s=new c(a+2>>>1,!1)).__initializeDigits();var u=new c(i+2>>>1,!1);u.__initializeDigits();var f=c.__clz15(t.__halfDigit(i-1));0<f&&(t=c.__specialLeftShift(t,f,0));for(var d=c.__specialLeftShift(e,f,1),l=t.__halfDigit(i-1),h=0,p=a;0<=p;p--){var b=32767,y=d.__halfDigit(p+i);if(y!==l){var g=(y<<15|d.__halfDigit(p+i-1))>>>0;b=0|g/l;for(var m=0|g%l,v=t.__halfDigit(i-2),_=d.__halfDigit(p+i-2);c.__imul(b,v)>>>0>(m<<16|_)>>>0&&(b--,!(32767<(m+=l))););}c.__internalMultiplyAdd(t,b,0,o,u);var w=d.__inplaceSub(u,p,i+1);0!==w&&(w=d.__inplaceAdd(t,p,i),d.__setHalfDigit(p+i,32767&d.__halfDigit(p+i)+w),b--),r&&(1&p?h=b<<15:s.__setDigit(p>>>1,h|b))}if(n)return d.__inplaceRightShift(f),r?{quotient:s,remainder:d}:d;if(r)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return c.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new c(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var a,s=0,u=0;u<n;u++)a=e.__digit(u),i.__setDigit(u,1073741823&a<<t|s),s=a>>>30-t;return 0<r&&i.__setDigit(n,s),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=c.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=e.length,a=0!==i&&0!=e.__digit(o-1)>>>30-i,s=o+n+(a?1:0),u=new c(s,e.sign);if(0===i){for(var f=0;f<n;f++)u.__setDigit(f,0);for(;f<s;f++)u.__setDigit(f,e.__digit(f-n))}else{for(var d=0,l=0;l<n;l++)u.__setDigit(l,0);for(var h,p=0;p<o;p++)h=e.__digit(p),u.__setDigit(p+n,1073741823&h<<i|d),d=h>>>30-i;if(a)u.__setDigit(o+n,d);else if(0!==d)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=c.__toShiftAmount(t);if(0>i)return c.__rightShiftByMaximum(n);var o=0|i/30,a=i%30,s=r-o;if(0>=s)return c.__rightShiftByMaximum(n);var u=!1;if(n)if(e.__digit(o)&(1<<a)-1)u=!0;else for(var f=0;f<o;f++)if(0!==e.__digit(f)){u=!0;break}u&&0===a&&0==~e.__digit(r-1)&&s++;var d=new c(s,n);if(0===a){d.__setDigit(s-1,0);for(var l=o;l<r;l++)d.__setDigit(l-o,e.__digit(l))}else{for(var h,p=e.__digit(o)>>>a,b=r-o-1,y=0;y<b;y++)h=e.__digit(y+o+1),d.__setDigit(y,1073741823&h<<30-a|p),p=h>>>a;d.__setDigit(b,p)}return u&&(d=c.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===c)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var a=o.call(e);if("object"!==r(a))return a}var s=e.toString;if(s){var u=s.call(e);if("object"!==r(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new c(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var a=t.__digit(i);if(0!=e%30){var s=32-e%30;a=a<<s>>>s}return n.__setDigit(i,a),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,i=Math.min,o=0|(e+29)/30,a=new c(o,r),s=0,u=o-1,f=0,d=i(u,t.length);s<d;s++)f=1&(n=0-t.__digit(s)-f)>>>30,a.__setDigit(s,1073741823&n);for(;s<u;s++)a.__setDigit(s,1073741823&-f);var l,h=u<t.length?t.__digit(u):0,p=e%30;if(0===p)l=0-h-f,l&=1073741823;else{var b=32-p,y=1<<32-b;l=y-(h=h<<b>>>b)-f,l&=y-1}return a.__setDigit(u,l),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),c}(l(Array));return x.__kMaxLength=33554432,x.__kMaxLengthBits=x.__kMaxLength<<5,x.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],x.__kBitsPerCharTableShift=5,x.__kBitsPerCharTableMultiplier=1<<x.__kBitsPerCharTableShift,x.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],x.__kBitConversionBuffer=new ArrayBuffer(8),x.__kBitConversionDouble=new Float64Array(x.__kBitConversionBuffer),x.__kBitConversionInts=new Int32Array(x.__kBitConversionBuffer),x.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},x.__imul=e||function(e,t){return 0|e*t},x}()},21312:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;const o=i(r(86425)),a=i(r(98660)),s=r(96642),c=r(83910),u=r(5785),f=r(10090),d=e=>({code_hash:e.codeHash,hash_type:e.hashType,args:e.args});t.Collector=class{constructor({ckbNodeUrl:e,ckbIndexerUrl:t}){this.ckbNodeUrl=e,this.ckbIndexerUrl=t}getCkb(){return new a.default(this.ckbNodeUrl)}getCells(e){return n(this,arguments,void 0,(function*({lock:e,type:t,isDataMustBeEmpty:r=!0,outputCapacityRange:n}){let i={};e?i={script_search_mode:"exact",script:d(e),script_type:"lock",filter:{script:t?d(t):void 0,output_data_len_range:r&&!t?["0x0","0x1"]:void 0,output_capacity_range:n}}:t&&(i={script_search_mode:"exact",script:d(t),script_type:"type"});const a={id:Math.floor(1e5*Math.random()),jsonrpc:"2.0",method:"get_cells",params:[i,"asc","0x3E8"]},c=JSON.stringify(a,null,"  "),f=(yield(0,o.default)({method:"post",url:this.ckbIndexerUrl,headers:{"Content-Type":"application/json"},timeout:2e4,data:c})).data;if(f.error)throw console.error(f.error),new u.IndexerError("Get cells from indexer error");{const e=(0,s.toCamelcase)(f.result.objects);if(null===e)throw new u.IndexerError("The response of indexer RPC get_cells is invalid");return e}}))}collectInputs(e,t,r,n){var i,o;const a=null!==(i=null==n?void 0:n.minCapacity)&&void 0!==i?i:c.MIN_CAPACITY,s=[];let d=BigInt(0);const l=e.length>0&&(0,f.isRgbppLockCellIgnoreChain)(e[0].output);for(const n of e)if(s.push({previousOutput:{txHash:n.outPoint.txHash,index:n.outPoint.index},since:"0x0"}),d+=BigInt(n.output.capacity),d>=t+a+r&&!l)break;if(d<t+a+r){const e=null!==(o=null==n?void 0:n.errMsg)&&void 0!==o?o:"Insufficient free CKB balance";throw new u.CapacityNotEnoughError(e)}return{inputs:s,sumInputsCapacity:d}}collectUdtInputs({liveCells:e,needAmount:t}){const r=[];let n=BigInt(0),i=BigInt(0);const o=e.length>0&&(0,f.isRgbppLockCellIgnoreChain)(e[0].output);for(const a of e)if("0x"!==a.outputData&&(r.push({previousOutput:{txHash:a.outPoint.txHash,index:a.outPoint.index},since:"0x0"}),n+=BigInt(a.output.capacity),i+=(0,f.leToU128)((0,f.remove0x)(a.outputData).slice(0,32)),i>=t&&!o))break;if(i<t)throw new u.UdtAmountNotEnoughError("Insufficient UDT balance");return{inputs:r,sumInputsCapacity:n,sumAmount:i}}getLiveCell(e){return n(this,arguments,void 0,(function*(e,t=!0){const r=new a.default(this.ckbNodeUrl),{cell:n}=yield r.rpc.getLiveCell(e,t);return n}))}getLiveCells(e){return n(this,arguments,void 0,(function*(e,t=!1){return new a.default(this.ckbNodeUrl).rpc.createBatchRequest(e.map((e=>["getLiveCell",e,t]))).exec().then((e=>e.map((e=>e.cell))))}))}}},83910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeTypeDep=t.getSporeTypeScript=t.getClusterTypeDep=t.getClusterTypeScript=t.getUniqueTypeDep=t.getUniqueTypeScript=t.getBtcTimeLockConfigDep=t.getBtcTimeLockDep=t.getBtcTimeLockScript=t.getRgbppLockConfigDep=t.getRgbppLockDep=t.getRgbppLockScript=t.getXudtDep=t.getXudtTypeScript=t.getSecp256k1CellDep=t.UNLOCKABLE_LOCK_SCRIPT=t.RGBPP_TX_ID_PLACEHOLDER=t.RGBPP_WITNESS_PLACEHOLDER=t.RGBPP_TX_INPUTS_MAX_LENGTH=t.RGBPP_TX_WITNESS_MAX_SIZE=t.BTC_JUMP_CONFIRMATION_BLOCKS=t.SECP256K1_WITNESS_LOCK_SIZE=t.MIN_CAPACITY=t.MAX_FEE=t.CKB_UNIT=void 0,t.CKB_UNIT=BigInt(1e8),t.MAX_FEE=BigInt(2e7),t.MIN_CAPACITY=BigInt(61)*BigInt(1e8),t.SECP256K1_WITNESS_LOCK_SIZE=65,t.BTC_JUMP_CONFIRMATION_BLOCKS=6,t.RGBPP_TX_WITNESS_MAX_SIZE=5e3,t.RGBPP_TX_INPUTS_MAX_LENGTH=40,t.RGBPP_WITNESS_PLACEHOLDER="0xFF",t.RGBPP_TX_ID_PLACEHOLDER="0000000000000000000000000000000000000000000000000000000000000000";const r={Secp256k1LockDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"},depType:"depGroup"},RgbppLockScript:{codeHash:"0x61ca7a4796a4eb19ca4f0d065cb9b10ddcf002f10f7cbb810c706cb6bb5c3248",hashType:"type",args:""},RgbppLockDep:{outPoint:{txHash:"0xf1de59e973b85791ec32debbba08dff80c63197e895eb95d67fc1e9f6b413e00",index:"0x0"},depType:"code"},RgbppLockConfigDep:{outPoint:{txHash:"0xf1de59e973b85791ec32debbba08dff80c63197e895eb95d67fc1e9f6b413e00",index:"0x1"},depType:"code"},BtcTimeLockScript:{codeHash:"0x00cdf8fab0f8ac638758ebf5ea5e4052b1d71e8a77b9f43139718621f6849326",hashType:"type",args:""},BtcTimeLockDep:{outPoint:{txHash:"0xde0f87878a97500f549418e5d46d2f7704c565a262aa17036c9c1c13ad638529",index:"0x0"},depType:"code"},BtcTimeLockConfigDep:{outPoint:{txHash:"0xde0f87878a97500f549418e5d46d2f7704c565a262aa17036c9c1c13ad638529",index:"0x1"},depType:"code"},XUDTTypeScript:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",args:""},XUDTTypeDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"},depType:"code"},UniqueTypeScript:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",args:""},UniqueTypeDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:"0x0"},depType:"code"},ClusterTypeScript:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1",args:""},ClusterTypeDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:"0x0"},depType:"code"},SporeTypeScript:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1",args:""},SporeTypeDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:"0x0"},depType:"code"},RgbppSignetLockScript:{codeHash:"0xd07598deec7ce7b5665310386b4abd06a6d48843e953c5cc2112ad0d5a220364",hashType:"type",args:""},RgbppSignetLockDep:{outPoint:{txHash:"0x61efdeddbaa0bb4132c0eb174b3e8002ff5ec430f61ba46f30768d683c516eec",index:"0x0"},depType:"code"},RgbppSignetLockConfigDep:{outPoint:{txHash:"0x61efdeddbaa0bb4132c0eb174b3e8002ff5ec430f61ba46f30768d683c516eec",index:"0x1"},depType:"code"},BtcTimeSignetLockScript:{codeHash:"0x80a09eca26d77cea1f5a69471c59481be7404febf40ee90f886c36a948385b55",hashType:"type",args:""},BtcTimeSignetLockDep:{outPoint:{txHash:"0x5364b3535965e9eac9a35dd7af8e9e45a61d30a16e115923c032f80b28783e21",index:"0x0"},depType:"code"},BtcTimeSignetLockConfigDep:{outPoint:{txHash:"0x5364b3535965e9eac9a35dd7af8e9e45a61d30a16e115923c032f80b28783e21",index:"0x1"},depType:"code"}},n={Secp256k1LockDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},depType:"depGroup"},RgbppLockScript:{codeHash:"0xbc6c568a1a0d0a09f6844dc9d74ddb4343c32143ff25f727c59edf4fb72d6936",hashType:"type",args:""},RgbppLockDep:{outPoint:{txHash:"0x04c5c3e69f1aa6ee27fb9de3d15a81704e387ab3b453965adbe0b6ca343c6f41",index:"0x0"},depType:"code"},RgbppLockConfigDep:{outPoint:{txHash:"0x04c5c3e69f1aa6ee27fb9de3d15a81704e387ab3b453965adbe0b6ca343c6f41",index:"0x1"},depType:"code"},BtcTimeLockScript:{codeHash:"0x70d64497a075bd651e98ac030455ea200637ee325a12ad08aff03f1a117e5a62",hashType:"type",args:""},BtcTimeLockDep:{outPoint:{txHash:"0x6257bf4297ee75fcebe2654d8c5f8d93bc9fc1b3dc62b8cef54ffe166162e996",index:"0x0"},depType:"code"},BtcTimeLockConfigDep:{outPoint:{txHash:"0x6257bf4297ee75fcebe2654d8c5f8d93bc9fc1b3dc62b8cef54ffe166162e996",index:"0x1"},depType:"code"},XUDTTypeScript:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",args:""},XUDTTypeDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:"0x0"},depType:"code"},UniqueTypeScript:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",args:""},UniqueTypeDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:"0x0"},depType:"code"},ClusterTypeScript:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1",args:""},ClusterTypeDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:"0x0"},depType:"code"},SporeTypeScript:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1",args:""},SporeTypeDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:"0x0"},depType:"code"}};t.UNLOCKABLE_LOCK_SCRIPT={codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x"};t.getSecp256k1CellDep=e=>e?n.Secp256k1LockDep:r.Secp256k1LockDep;t.getXudtTypeScript=e=>e?n.XUDTTypeScript:r.XUDTTypeScript;t.getXudtDep=e=>e?n.XUDTTypeDep:r.XUDTTypeDep;t.getRgbppLockScript=(e,t)=>e?n.RgbppLockScript:"Signet"===t?r.RgbppSignetLockScript:r.RgbppLockScript;t.getRgbppLockDep=(e,t)=>e?n.RgbppLockDep:"Signet"===t?r.RgbppSignetLockDep:r.RgbppLockDep;t.getRgbppLockConfigDep=(e,t)=>e?n.RgbppLockConfigDep:"Signet"===t?r.RgbppSignetLockConfigDep:r.RgbppLockConfigDep;t.getBtcTimeLockScript=(e,t)=>e?n.BtcTimeLockScript:"Signet"===t?r.BtcTimeSignetLockScript:r.BtcTimeLockScript;t.getBtcTimeLockDep=(e,t)=>e?n.BtcTimeLockDep:"Signet"===t?r.BtcTimeSignetLockDep:r.BtcTimeLockDep;t.getBtcTimeLockConfigDep=(e,t)=>e?n.BtcTimeLockConfigDep:"Signet"===t?r.BtcTimeSignetLockConfigDep:r.BtcTimeLockConfigDep;t.getUniqueTypeScript=e=>e?n.UniqueTypeScript:r.UniqueTypeScript;t.getUniqueTypeDep=e=>e?n.UniqueTypeDep:r.UniqueTypeDep;t.getClusterTypeScript=e=>e?n.ClusterTypeScript:r.ClusterTypeScript;t.getClusterTypeDep=e=>e?n.ClusterTypeDep:r.ClusterTypeDep;t.getSporeTypeScript=e=>e?n.SporeTypeScript:r.SporeTypeScript;t.getSporeTypeDep=e=>e?n.SporeTypeDep:r.SporeTypeDep},5785:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RgbppSporeTypeMismatchError=t.RgbppUtxoBindMultiTypeAssetsError=t.RgbppCkbTxInputsExceededError=t.InputsOrOutputsLenError=t.TypeAssetNotSupportedError=t.InputsCapacityNotEnoughError=t.UdtAmountNotEnoughError=t.NoRgbppLiveCellError=t.NoXudtLiveCellError=t.NoLiveCellError=t.IndexerError=t.CapacityNotEnoughError=void 0,function(e){e[e.CapacityNotEnough=100]="CapacityNotEnough",e[e.IndexerRpcError=101]="IndexerRpcError",e[e.NoLiveCell=102]="NoLiveCell",e[e.NoXudtLiveCell=103]="NoXudtLiveCell",e[e.NoRgbppLiveCell=104]="NoRgbppLiveCell",e[e.UdtAmountNotEnough=105]="UdtAmountNotEnough",e[e.InputsCapacityNotEnough=106]="InputsCapacityNotEnough",e[e.TypeAssetNotSupported=107]="TypeAssetNotSupported",e[e.InputsOrOutputsLenInvalid=108]="InputsOrOutputsLenInvalid",e[e.RgbppCkbTxInputsExceeded=109]="RgbppCkbTxInputsExceeded",e[e.RgbppUtxoBindMultiTypeAssets=110]="RgbppUtxoBindMultiTypeAssets",e[e.RgbppSporeTypeMismatch=111]="RgbppSporeTypeMismatch"}(r||(r={}));class n extends Error{constructor(e){super(e),this.code=r.CapacityNotEnough}}t.CapacityNotEnoughError=n;class i extends Error{constructor(e){super(e),this.code=r.IndexerRpcError}}t.IndexerError=i;class o extends Error{constructor(e){super(e),this.code=r.NoLiveCell}}t.NoLiveCellError=o;class a extends Error{constructor(e){super(e),this.code=r.NoXudtLiveCell}}t.NoXudtLiveCellError=a;class s extends Error{constructor(e){super(e),this.code=r.NoRgbppLiveCell}}t.NoRgbppLiveCellError=s;class c extends Error{constructor(e){super(e),this.code=r.UdtAmountNotEnough}}t.UdtAmountNotEnoughError=c;class u extends Error{constructor(e){super(e),this.code=r.InputsCapacityNotEnough}}t.InputsCapacityNotEnoughError=u;class f extends Error{constructor(e){super(e),this.code=r.TypeAssetNotSupported}}t.TypeAssetNotSupportedError=f;class d extends Error{constructor(e){super(e),this.code=r.InputsOrOutputsLenInvalid}}t.InputsOrOutputsLenError=d;class l extends Error{constructor(e){super(e),this.code=r.RgbppCkbTxInputsExceeded}}t.RgbppCkbTxInputsExceededError=l;class h extends Error{constructor(e){super(e),this.code=r.RgbppUtxoBindMultiTypeAssets}}t.RgbppUtxoBindMultiTypeAssetsError=h;class p extends Error{constructor(e){super(e),this.code=r.RgbppSporeTypeMismatch}}t.RgbppSporeTypeMismatchError=p},41256:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=void 0;var o=r(48489);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return o.serializeScript}}),i(r(59763),t),i(r(47830),t),i(r(21312),t),i(r(5785),t),i(r(95099),t),i(r(41462),t),i(r(2292),t),i(r(10090),t),i(r(83910),t),i(r(28742),t)},95099:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.splitMultiCellsWithSecp256k1=void 0;const i=r(48489),o=r(5785),a=r(83910),s=r(10090),c=BigInt(61)*a.CKB_UNIT;t.splitMultiCellsWithSecp256k1=e=>n(void 0,[e],void 0,(function*({masterPrivateKey:e,collector:t,receiverAddress:r,capacityWithCKB:n,cellAmount:u}){const f=r.startsWith("ckb"),d=(0,i.privateKeyToAddress)(e,{prefix:f?i.AddressPrefix.Mainnet:i.AddressPrefix.Testnet}),l=(0,i.addressToScript)(d);let h=yield t.getCells({lock:l});if(!h||0===h.length)throw new o.NoLiveCellError("The address has no empty cells");h=h.filter((e=>!e.output.type));const p=BigInt(n)*a.CKB_UNIT,b=p*BigInt(u),y=a.MAX_FEE,{inputs:g,sumInputsCapacity:m}=t.collectInputs(h,b,y,{minCapacity:c}),v=new Array(u).fill({lock:(0,i.addressToScript)(r),capacity:(0,s.append0x)(p.toString(16))}),_=m-b-y;v.push({lock:l,capacity:(0,s.append0x)(_.toString(16))});const w=new Array(u+1).fill("0x"),S={lock:"",inputType:"",outputType:""},x=g.map(((e,t)=>0===t?S:"0x")),A={version:"0x0",cellDeps:[(0,a.getSecp256k1CellDep)(f)],headerDeps:[],inputs:g,outputs:v,outputsData:w,witnesses:x};if(y===a.MAX_FEE){const e=(0,i.getTransactionSize)(A)+a.SECP256K1_WITNESS_LOCK_SIZE,t=(0,s.calculateTransactionFee)(e),r=_+(a.MAX_FEE-t);A.outputs[A.outputs.length-1].capacity=(0,s.append0x)(r.toString(16))}const E=t.getCkb().signTransaction(e)(A),I=yield t.getCkb().rpc.sendTransaction(E,"passthrough");console.info(`Paymaster cells has been split and tx hash is ${I}`)}))},62357:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.genBtcJumpCkbVirtualTx=void 0;const o=r(60875),a=r(5785),s=r(10090),c=r(70213),u=r(83910),f=r(48489);t.genBtcJumpCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,rgbppLockArgsList:r,transferAmount:n,toCkbAddress:d,witnessLockPlaceholderSize:l,ckbFeeRate:h,btcTestnetType:p,btcConfirmationBlocks:b}){var y,g,m,v;const _=d.startsWith("ckb"),w=o.blockchain.Script.unpack(t);if(!(0,s.isUDTTypeSupported)(w,_))throw new a.TypeAssetNotSupportedError("The type script asset is not supported now");const S=(0,s.deduplicateList)(r),x=S.map((e=>(0,c.genRgbppLockScript)(e,_,p)));let A=[],E=[];try{for(var I,k=!0,T=i(x);!(y=(I=yield T.next()).done);k=!0){v=I.value,k=!1;const r=v,n=yield e.getCells({lock:r,isDataMustBeEmpty:!1});(0,c.throwErrorWhenRgbppCellsInvalid)(n,t,_);const i=n.filter((e=>(0,s.isScriptEqual)(e.output.type,t))),o=n.filter((e=>!(0,s.isScriptEqual)(e.output.type,t)));A=[...A,...i],E=[...E,...o]}}catch(e){g={error:e}}finally{try{k||y||!(m=T.return)||(yield m.call(T))}finally{if(g)throw g.error}}A=A.sort(c.compareInputs),E=E.sort(c.compareInputs);const{inputs:C,sumInputsCapacity:O,sumAmount:P}=e.collectUdtInputs({liveCells:A,needAmount:n});let M=O;(0,c.throwErrorWhenTxInputsExceeded)(C.length);const B=(0,s.calculateRgbppCellCapacity)(w),D=(0,f.addressToScript)(d);if((0,s.isLockArgsSizeExceeded)(D.args))throw new Error("The lock script size of the to ckb address is too large");let R=!1;const L=P>n,N=L?BigInt(A[0].output.capacity):M,j=[{lock:(0,c.genBtcTimeLockScript)(D,_,p,b),type:w,capacity:(0,s.append0x)(N.toString(16))}],U=[(0,s.append0x)((0,s.u128ToLe)(n))];if(L){const e=(0,c.isRgbppCapacitySufficientForChange)(M,N);R=!e;const t=e?M-N:B;j.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(1),_,p),type:w,capacity:(0,s.append0x)(t.toString(16))}),U.push((0,s.append0x)((0,s.u128ToLe)(P-n)))}const H=j.length;for(const[e,t]of E.entries())C.push({previousOutput:t.outPoint,since:"0x0"}),M+=BigInt(t.output.capacity),j.push(Object.assign(Object.assign({},t.output),{lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(H+e+1),_,p)})),U.push(t.outputData);const F=yield(0,s.fetchTypeIdCellDeps)(_,{rgbpp:!0,xudt:!0},p);R&&F.push((0,u.getSecp256k1CellDep)(_));const z=[],q=new Set,K=A.concat(E);for(const e of K)q.has(e.output.lock.args)?z.push("0x"):(q.add(e.output.lock.args),z.push(u.RGBPP_WITNESS_PLACEHOLDER));const V={version:"0x0",cellDeps:F,headerDeps:[],inputs:C,outputs:j,outputsData:U,witnesses:z};if(!R){const e=(0,f.getTransactionSize)(V)+(null!=l?l:(0,c.estimateWitnessSize)(S)),t=(0,s.calculateTransactionFee)(e,h),r=BigInt(j[j.length-1].capacity)-t;V.outputs[V.outputs.length-1].capacity=(0,s.append0x)(r.toString(16))}const $=Object.assign({},V);return{ckbRawTx:V,commitment:(0,c.calculateCommitment)($),needPaymasterCell:R,sumInputsCapacity:(0,s.append0x)(M.toString(16))}}))},58357:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isBtcTimeCellsSpent=t.signBtcTimeCellSpentTx=t.buildBtcTimeCellsSpentTx=t.buildBtcTimeUnlockWitness=void 0;const a=r(48489),s=r(83910),c=r(47830),u=r(10090),f=r(10090),d=r(60875),l=o(r(94976));t.buildBtcTimeUnlockWitness=e=>{const t=c.BTCTimeUnlock.pack({btcTxProof:d.blockchain.Bytes.pack(e)});return(0,u.append0x)((0,a.bytesToHex)(t))};t.buildBtcTimeCellsSpentTx=e=>n(void 0,[e],void 0,(function*({btcTimeCells:e,btcAssetsApi:r,isMainnet:n,btcTestnetType:o}){var s,c,d,l;const h=e.sort(u.compareInputs),p=h.map((e=>({previousOutput:e.outPoint,since:"0x0"}))),b=h.map((e=>({lock:(0,u.lockScriptFromBtcTimeLockArgs)(e.output.lock.args),type:e.output.type,capacity:e.output.capacity}))),y=h.map((e=>e.outputData)),g=yield(0,u.fetchTypeIdCellDeps)(n,{btcTime:!0,xudt:!0},o),m=[],v=new Set,_=new Set;try{for(var w,S=!0,x=i(h);!(s=(w=yield x.next()).done);S=!0){l=w.value,S=!1;const e=l;if(v.has(e.output.lock.args)){m.push("0x");continue}v.add(e.output.lock.args);const{btcTxId:n,after:i}=(0,u.btcTxIdAndAfterFromBtcTimeLockArgs)(e.output.lock.args),o=yield r.getRgbppSpvProof(n,i),{spvClient:s,proof:c}=(0,u.transformSpvProof)(o);_.has((0,a.serializeOutPoint)(s))||(g.push((0,f.buildSpvClientCellDep)(s)),_.add((0,a.serializeOutPoint)(s)));const d=(0,u.append0x)((0,a.serializeWitnessArgs)({lock:(0,t.buildBtcTimeUnlockWitness)(c),inputType:"",outputType:""}));m.push(d)}}catch(e){c={error:e}}finally{try{S||s||!(d=x.return)||(yield d.call(x))}finally{if(c)throw c.error}}return{version:"0x0",cellDeps:g,headerDeps:[],inputs:p,outputs:b,outputsData:y,witnesses:m}}));t.signBtcTimeCellSpentTx=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,ckbRawTx:t,collector:r,masterCkbAddress:n,isMainnet:i,outputCapacityRange:o,ckbFeeRate:c}){const f=(0,a.addressToScript)(n);let d=yield r.getCells({lock:f,outputCapacityRange:o});if(!d||0===d.length)throw new Error("No empty cell found");d=d.filter((e=>!e.output.type));const h={previousOutput:d[0].outPoint,since:"0x0"},p=d[0].output,b=Object.assign(Object.assign({},t),{cellDeps:[...t.cellDeps,(0,s.getSecp256k1CellDep)(i)],inputs:[h,...t.inputs],outputs:[p,...t.outputs],outputsData:["0x",...t.outputsData],witnesses:[{lock:"",inputType:"",outputType:""},...t.witnesses]}),y=(0,a.getTransactionSize)(b)+s.SECP256K1_WITNESS_LOCK_SIZE,g=(0,u.calculateTransactionFee)(y,c),m=BigInt(d[0].output.capacity)-g;b.outputs[0].capacity=(0,u.append0x)(m.toString(16));const v=new Map;v.set((0,a.scriptToHash)(f),e);const _=b.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:0===t?f:(0,s.getBtcTimeLockScript)(i)}))),w=(0,a.rawTransactionToHash)(b),S=(0,l.default)(v)({transactionHash:w,witnesses:b.witnesses,inputCells:_,skipMissingKeys:!0});return Object.assign(Object.assign({},b),{witnesses:S.map((e=>"string"!=typeof e?(0,a.serializeWitnessArgs)(e):e))})}));t.isBtcTimeCellsSpent=e=>n(void 0,[e],void 0,(function*({collector:e,ckbAddress:t,btcTxId:r,btcTestnetType:n}){const i=t.startsWith("ckb"),o=(0,a.addressToScript)(t),c=Object.assign(Object.assign({},(0,s.getBtcTimeLockScript)(i,n)),{args:(0,u.genBtcTimeLockArgs)(o,r,s.BTC_JUMP_CONFIRMATION_BLOCKS)}),f=yield e.getCells({lock:c,isDataMustBeEmpty:!1});return!f||0===f.length}))},45639:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.appendIssuerCellToBtcBatchTransfer=t.genBtcBatchTransferCkbVirtualTx=t.genBtcTransferCkbVirtualTx=void 0;const a=r(60875),s=r(5785),c=r(10090),u=r(70213),f=r(83910),d=r(48489),l=o(r(94976));t.genBtcTransferCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,rgbppLockArgsList:r,transferAmount:n,isMainnet:o,noMergeOutputCells:l,witnessLockPlaceholderSize:h,ckbFeeRate:p,btcTestnetType:b}){var y,g,m,v;const _=a.blockchain.Script.unpack(t);if(!(0,c.isUDTTypeSupported)(_,o))throw new s.TypeAssetNotSupportedError("The type script asset is not supported now");const w=(0,c.deduplicateList)(r),S=w.map((e=>(0,u.genRgbppLockScript)(e,o,b)));let x=[],A=[];try{for(var E,I=!0,k=i(S);!(y=(E=yield k.next()).done);I=!0){v=E.value,I=!1;const r=v,n=yield e.getCells({lock:r,isDataMustBeEmpty:!1});(0,u.throwErrorWhenRgbppCellsInvalid)(n,t,o);const i=n.filter((e=>(0,c.isScriptEqual)(e.output.type,t))),a=n.filter((e=>!(0,c.isScriptEqual)(e.output.type,t)));x=[...x,...i],A=[...A,...a]}}catch(e){g={error:e}}finally{try{I||y||!(m=k.return)||(yield m.call(k))}finally{if(g)throw g.error}}x=x.sort(u.compareInputs),A=A.sort(u.compareInputs);let T=[],C=BigInt(0);const O=[],P=[];let M=!1;const B=e=>{for(const[t,r]of A.entries())T.push({previousOutput:r.outPoint,since:"0x0"}),C+=BigInt(r.output.capacity),O.push(Object.assign(Object.assign({},r.output),{lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(e+t+1),o,b)})),P.push(r.outputData)};if(l){for(const[e,t]of x.entries())T.push({previousOutput:t.outPoint,since:"0x0"}),C+=BigInt(t.output.capacity),O.push(Object.assign(Object.assign({},t.output),{lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(e+1),o,b)})),P.push(t.outputData);B(x.length)}else{const t=e.collectUdtInputs({liveCells:x,needAmount:n});T=t.inputs,(0,u.throwErrorWhenTxInputsExceeded)(T.length),C=t.sumInputsCapacity;const r=(0,c.calculateRgbppCellCapacity)(_),i=t.sumAmount>n,a=i?BigInt(x[0].output.capacity):C;if(O.push({lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(1),o,b),type:_,capacity:(0,c.append0x)(a.toString(16))}),P.push((0,c.append0x)((0,c.u128ToLe)(n))),i){const e=(0,u.isRgbppCapacitySufficientForChange)(C,a);M=!e;const i=e?C-a:r;O.push({lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(2),o,b),type:_,capacity:(0,c.append0x)(i.toString(16))}),P.push((0,c.append0x)((0,c.u128ToLe)(t.sumAmount-n)))}B(O.length)}const D=yield(0,c.fetchTypeIdCellDeps)(o,{rgbpp:!0,xudt:!0},b);M&&D.push((0,f.getSecp256k1CellDep)(o));const R=[],L=new Set,N=x.concat(A);for(const e of N)L.has(e.output.lock.args)?R.push("0x"):(L.add(e.output.lock.args),R.push(f.RGBPP_WITNESS_PLACEHOLDER));const j={version:"0x0",cellDeps:D,headerDeps:[],inputs:T,outputs:O,outputsData:P,witnesses:R};if(!M){const e=(0,d.getTransactionSize)(j)+(null!=h?h:(0,u.estimateWitnessSize)(w)),t=(0,c.calculateTransactionFee)(e,p),r=BigInt(O[O.length-1].capacity)-t;j.outputs[j.outputs.length-1].capacity=(0,c.append0x)(r.toString(16))}const U=Object.assign({},j);return{ckbRawTx:j,commitment:(0,u.calculateCommitment)(U),needPaymasterCell:M,sumInputsCapacity:(0,c.append0x)(C.toString(16))}}));t.genBtcBatchTransferCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,rgbppLockArgsList:r,rgbppReceivers:n,isMainnet:o,btcTestnetType:d}){var l,h,p,b;const y=a.blockchain.Script.unpack(t);if(!(0,c.isUDTTypeSupported)(y,o))throw new s.TypeAssetNotSupportedError("The type script asset is not supported now");const g=r.map((e=>(0,u.genRgbppLockScript)(e,o,d)));let m=[];try{for(var v,_=!0,w=i(g);!(l=(v=yield w.next()).done);_=!0){b=v.value,_=!1;const t=b,r=yield e.getCells({lock:t,type:y});if(!r||0===r.length)throw new s.NoRgbppLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");m=[...m,...r]}}catch(e){h={error:e}}finally{try{_||l||!(p=w.return)||(yield p.call(w))}finally{if(h)throw h.error}}m=m.sort(u.compareInputs);const S=n.map((e=>e.transferAmount)).reduce(((e,t)=>e+t),BigInt(0)),x=(0,c.calculateRgbppCellCapacity)(y),A=n.map(((e,t)=>({lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(t+1),o,d),type:y,capacity:(0,c.append0x)(x.toString(16))}))),E=n.map((e=>(0,c.append0x)((0,c.u128ToLe)(e.transferAmount)))),{inputs:I,sumInputsCapacity:k,sumAmount:T}=e.collectUdtInputs({liveCells:m,needAmount:S});(0,u.throwErrorWhenTxInputsExceeded)(I.length);let C=-1;T>S&&(C=n.length+1,A.push({lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(C),o,d),type:y,capacity:(0,c.append0x)(x.toString(16))}),E.push((0,c.append0x)((0,c.u128ToLe)(T-S))));const O=[...yield(0,c.fetchTypeIdCellDeps)(o,{rgbpp:!0,xudt:!0},d),(0,f.getSecp256k1CellDep)(o)],P=[],M=new Set;for(const e of m)M.has(e.output.lock.args)?P.push("0x"):(M.add(e.output.lock.args),P.push(f.RGBPP_WITNESS_PLACEHOLDER));const B={version:"0x0",cellDeps:O,headerDeps:[],inputs:I,outputs:A,outputsData:E,witnesses:P},D=Object.assign({},B);return{ckbRawTx:B,commitment:(0,u.calculateCommitment)(D),rgbppChangeOutIndex:C,needPaymasterCell:!1,sumInputsCapacity:(0,c.append0x)(k.toString(16))}}));t.appendIssuerCellToBtcBatchTransfer=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,issuerAddress:t,collector:r,ckbRawTx:n,sumInputsCapacity:i,isMainnet:o,ckbFeeRate:a}){const u=n,h=u.inputs.length,p=u.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0)),b=(0,d.addressToScript)(t);let y=yield r.getCells({lock:b});if(!y||0===y.length)throw new s.NoLiveCellError("The issuer address has no empty cells");y=y.filter((e=>!e.output.type));let g=BigInt(i);const m=f.MAX_FEE;if(g<=p){const e=p-g+f.MIN_CAPACITY,{inputs:t,sumInputsCapacity:n}=r.collectInputs(y,e,m);u.inputs=[...u.inputs,...t],g+=n}let v=g-p;const _={lock:b,capacity:(0,c.append0x)(v.toString(16))};u.outputs=[...u.outputs,_],u.outputsData=[...u.outputsData,"0x"];const w=(0,d.getTransactionSize)(u)+f.SECP256K1_WITNESS_LOCK_SIZE;v-=(0,c.calculateTransactionFee)(w,a),u.outputs[u.outputs.length-1].capacity=(0,c.append0x)(v.toString(16));const S=new Map;S.set((0,d.scriptToHash)(b),e);const x=h,A=u.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:t>=x?b:(0,f.getRgbppLockScript)(o)}))),E={lock:"",inputType:"",outputType:""},I=u.inputs.slice(h).map(((e,t)=>0===t?E:"0x"));u.witnesses=[...u.witnesses,...I];const k=(0,d.rawTransactionToHash)(u),T=(0,l.default)(S)({transactionHash:k,witnesses:u.witnesses,inputCells:A,skipMissingKeys:!0});return Object.assign(Object.assign({},u),{witnesses:T.map((e=>"string"!=typeof e?(0,d.serializeWitnessArgs)(e):e))})}))},25266:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateCkbTxWithRealBtcTxId=t.sendCkbTx=t.appendPaymasterCellAndSignCkbTx=t.appendCkbTxWitnesses=t.buildRgbppUnlockWitness=void 0;const o=r(48489),a=r(83910),s=r(10090),c=r(5785),u=i(r(94976)),f=r(10090),d=r(47830),l=r(29365);t.buildRgbppUnlockWitness=(e,t,r,n)=>{const i=(0,s.append0x)((0,s.u8ToHex)(r)),a=(0,s.append0x)((0,s.u8ToHex)(n)),c=l.Bytes.pack((0,s.append0x)(e)),u=d.Uint16.pack([0,0]),f=d.RGBPPUnlock.pack({version:u,extraData:{inputLen:i,outputLen:a},btcTx:c,btcTxProof:(0,o.bytesToHex)(l.Bytes.pack((0,s.append0x)(t)))});return(0,s.append0x)((0,o.bytesToHex)(f))};t.appendCkbTxWitnesses=e=>n(void 0,[e],void 0,(function*({ckbRawTx:e,btcTxBytes:r,rgbppApiSpvProof:n}){const i=e,{spvClient:c,proof:u}=(0,s.transformSpvProof)(n);i.cellDeps.push((0,f.buildSpvClientCellDep)(c));const d=(0,t.buildRgbppUnlockWitness)(r,u,e.inputs.length,e.outputs.length),l=(0,s.append0x)((0,o.serializeWitnessArgs)({lock:d,inputType:"",outputType:""}));return i.witnesses=i.witnesses.map((e=>e===a.RGBPP_WITNESS_PLACEHOLDER?l:e)),i}));t.appendPaymasterCellAndSignCkbTx=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,ckbRawTx:t,sumInputsCapacity:r,paymasterCell:n,isMainnet:i,ckbFeeRate:f}){const d=t,l={previousOutput:n.outPoint,since:"0x0"};d.inputs=[...d.inputs,l];const h=BigInt(r)+BigInt(n.output.capacity),p=d.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0));if(h<=p+a.MIN_CAPACITY)throw new c.InputsCapacityNotEnoughError("The sum of inputs capacity is not enough");let b=h-p;const y={lock:n.output.lock,capacity:(0,s.append0x)(b.toString(16))};d.outputs=[...d.outputs,y],d.outputsData=[...d.outputsData,"0x"];const g=(0,o.getTransactionSize)(d)+a.SECP256K1_WITNESS_LOCK_SIZE;b-=(0,s.calculateTransactionFee)(g,f),d.outputs[d.outputs.length-1].capacity=(0,s.append0x)(b.toString(16));const m=new Map;m.set((0,o.scriptToHash)(n.output.lock),e),m.set((0,o.scriptToHash)((0,a.getRgbppLockScript)(i)),"");const v=d.inputs.length-1,_=d.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:t===v?n.output.lock:(0,a.getRgbppLockScript)(i)})));d.witnesses=[...d.witnesses,{lock:"",inputType:"",outputType:""}];const w=(0,o.rawTransactionToHash)(d),S=(0,u.default)(m)({transactionHash:w,witnesses:d.witnesses,inputCells:_,skipMissingKeys:!0});return Object.assign(Object.assign({},d),{witnesses:S.map((e=>"string"!=typeof e?(0,o.serializeWitnessArgs)(e):e))})}));t.sendCkbTx=e=>n(void 0,[e],void 0,(function*({collector:e,signedTx:t}){return yield e.getCkb().rpc.sendTransaction(t,"passthrough")}));t.updateCkbTxWithRealBtcTxId=({ckbRawTx:e,btcTxId:t,isMainnet:r})=>{const n=e.outputs.map((e=>(0,s.isRgbppLockOrBtcTimeLock)(e.lock,r)?Object.assign(Object.assign({},e),{lock:Object.assign(Object.assign({},e.lock),{args:(0,s.replaceLockArgsWithRealBtcTxId)(e.lock.args,t)})}):e));return Object.assign(Object.assign({},e),{outputs:n})}},39235:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genCkbBatchJumpBtcVirtualTx=t.genCkbJumpBtcVirtualTx=void 0;const i=r(60875),o=r(5785),a=r(10090),s=r(70213),c=r(83910),u=r(48489);t.genCkbJumpBtcVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,fromCkbAddress:r,toRgbppLockArgs:n,transferAmount:f,witnessLockPlaceholderSize:d,ckbFeeRate:l,btcTestnetType:h}){const p=r.startsWith("ckb"),b=i.blockchain.Script.unpack(t);if(!(0,a.isTypeAssetSupported)(b,p))throw new o.TypeAssetNotSupportedError("The type script asset is not supported now");const y=(0,u.addressToScript)(r),g=yield e.getCells({lock:y,type:b});if(!g||0===g.length)throw new o.NoXudtLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");const m=e.collectUdtInputs({liveCells:g,needAmount:f});let{inputs:v,sumInputsCapacity:_}=m;const{sumAmount:w}=m,S=(0,a.calculateRgbppCellCapacity)(b),x=[(0,a.append0x)((0,a.u128ToLe)(f))],A=[{lock:(0,s.genRgbppLockScript)(n,p,h),type:b,capacity:(0,a.append0x)(S.toString(16))}],E=c.MAX_FEE,I=(0,a.calculateUdtCellCapacity)(y,b);if(_<I+S+c.MIN_CAPACITY+E){let t=yield e.getCells({lock:y});if(!t||0===t.length)throw new o.NoLiveCellError("The address has no empty cells");t=t.filter((e=>!e.output.type));const{inputs:r,sumInputsCapacity:n}=e.collectInputs(t,S,E);v=[...r,...v],_+=n}let k=_-S-E;w>f&&(A.push({lock:y,type:b,capacity:(0,a.append0x)(I.toString(16))}),x.push((0,a.append0x)((0,a.u128ToLe)(w-f))),k-=I),A.push({lock:y,capacity:(0,a.append0x)(k.toString(16))}),x.push("0x");const T=yield(0,a.fetchTypeIdCellDeps)(p,{xudt:!0}),C=v.map((()=>"0x")),O={version:"0x0",cellDeps:T,headerDeps:[],inputs:v,outputs:A,outputsData:x,witnesses:C};if(E===c.MAX_FEE){const e=(0,u.getTransactionSize)(O)+(null!=d?d:c.RGBPP_TX_WITNESS_MAX_SIZE),t=(0,a.calculateTransactionFee)(e,l),r=k+(c.MAX_FEE-t);O.outputs[O.outputs.length-1].capacity=(0,a.append0x)(r.toString(16))}return O}));t.genCkbBatchJumpBtcVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,fromCkbAddress:r,rgbppReceivers:n,witnessLockPlaceholderSize:f,ckbFeeRate:d,btcTestnetType:l}){const h=r.startsWith("ckb"),p=i.blockchain.Script.unpack(t);if(!(0,a.isTypeAssetSupported)(p,h))throw new o.TypeAssetNotSupportedError("The type script asset is not supported now");const b=(0,u.addressToScript)(r),y=yield e.getCells({lock:b,type:p});if(!y||0===y.length)throw new o.NoXudtLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");const g=n.map((e=>e.transferAmount)).reduce(((e,t)=>e+t),BigInt(0)),m=e.collectUdtInputs({liveCells:y,needAmount:g});let{inputs:v,sumInputsCapacity:_}=m;const{sumAmount:w}=m,S=(0,a.calculateRgbppCellCapacity)(p),x=S*BigInt(n.length),A=n.map((e=>({lock:(0,s.genRgbppLockScript)(e.toRgbppLockArgs,h,l),type:p,capacity:(0,a.append0x)(S.toString(16))}))),E=n.map((e=>(0,a.append0x)((0,a.u128ToLe)(e.transferAmount)))),I=c.MAX_FEE,k=(0,a.calculateUdtCellCapacity)(b,p);if(_<k+x+c.MIN_CAPACITY+I){let t=yield e.getCells({lock:b});if(!t||0===t.length)throw new o.NoLiveCellError("The address has no empty cells");t=t.filter((e=>!e.output.type));const{inputs:r,sumInputsCapacity:n}=e.collectInputs(t,S,I);v=[...r,...v],_+=n}let T=_-x-I;w>g&&(A.push({lock:b,type:p,capacity:(0,a.append0x)(k.toString(16))}),E.push((0,a.append0x)((0,a.u128ToLe)(w-g))),T-=k),A.push({lock:b,capacity:(0,a.append0x)(T.toString(16))}),E.push("0x");const C=yield(0,a.fetchTypeIdCellDeps)(h,{xudt:!0}),O=v.map((()=>"0x")),P={version:"0x0",cellDeps:C,headerDeps:[],inputs:v,outputs:A,outputsData:E,witnesses:O};if(I===c.MAX_FEE){const e=(0,u.getTransactionSize)(P)+(null!=f?f:c.RGBPP_TX_WITNESS_MAX_SIZE),t=(0,a.calculateTransactionFee)(e,d),r=T+(c.MAX_FEE-t);P.outputs[P.outputs.length-1].capacity=(0,a.append0x)(r.toString(16))}return P}))},2292:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45639),t),i(r(25266),t),i(r(62357),t),i(r(58357),t),i(r(39235),t),i(r(80245),t)},80245:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genRgbppLaunchCkbVirtualTx=void 0;const i=r(5785),o=r(10090),a=r(70213),s=r(83910),c=r(48489);t.genRgbppLaunchCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,ownerRgbppLockArgs:t,launchAmount:r,rgbppTokenInfo:n,witnessLockPlaceholderSize:u,ckbFeeRate:f,isMainnet:d,btcTestnetType:l}){const h=(0,a.genRgbppLockScript)(t,d,l);let p=yield e.getCells({lock:h});if(!p||0===p.length)throw new i.NoLiveCellError("The owner address has no empty cells");p=p.filter((e=>!e.output.type));const b=(0,o.calculateRgbppTokenInfoCellCapacity)(n,d),y=s.MAX_FEE,{inputs:g,sumInputsCapacity:m}=e.collectInputs(p,b,y);let v=m-b;const _=[{lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(1),d,l),type:Object.assign(Object.assign({},(0,s.getXudtTypeScript)(d)),{args:(0,o.append0x)((0,c.scriptToHash)(h))}),capacity:(0,o.append0x)(v.toString(16))},{lock:(0,a.genBtcTimeLockScript)(s.UNLOCKABLE_LOCK_SCRIPT,d,l),type:Object.assign(Object.assign({},(0,s.getUniqueTypeScript)(d)),{args:(0,o.generateUniqueTypeArgs)(g[0],1)}),capacity:(0,o.append0x)(b.toString(16))}],w=[(0,o.append0x)((0,o.u128ToLe)(r)),(0,a.encodeRgbppTokenInfo)(n)],S=yield(0,o.fetchTypeIdCellDeps)(d,{rgbpp:!0,xudt:!0,unique:!0},l),x=g.map(((e,t)=>0===t?s.RGBPP_WITNESS_PLACEHOLDER:"0x")),A={version:"0x0",cellDeps:S,headerDeps:[],inputs:g,outputs:_,outputsData:w,witnesses:x},E=(0,c.getTransactionSize)(A)+(null!=u?u:s.RGBPP_TX_WITNESS_MAX_SIZE);v-=(0,o.calculateTransactionFee)(E,f),A.outputs[0].capacity=(0,o.append0x)(v.toString(16));const I=Object.assign(Object.assign({},A),{outputs:A.outputs});return{ckbRawTx:A,commitment:(0,a.calculateCommitment)(I),needPaymasterCell:!1}}))},13926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashType=t.DepType=t.Uint128=t.Uint64=t.Uint32=void 0;const n=r(30464),{Uint32:i,Uint64:o,Uint128:a}=n.number;t.Uint32=i,t.Uint64=o,t.Uint128=a;const s=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("type"===e)return new Uint8Array([1]);if("data"===e)return new Uint8Array([0]);if("data1"===e)return new Uint8Array([2]);if("data2"===e)return new Uint8Array([4]);throw new Error("Unknown hash type")},unpack:e=>{if(1===e[0])return"type";if(0===e[0])return"data";if(2===e[0])return"data1";if(4===e[0])return"data2";throw new Error("Unknown hash type")}});t.HashType=s;const c=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("code"===e)return new Uint8Array([0]);if("depGroup"===e)return new Uint8Array([1]);throw new Error("Unknown dep type")},unpack:e=>{if(0===e[0])return"code";if(1===e[0])return"depGroup";throw new Error("Unknown dep type")}});t.DepType=c},59763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockV1=t.Block=t.TransactionVec=t.Transaction=t.RawTransaction=t.CellOutputVec=t.CellOutput=t.CellInputVec=t.CellDepVec=t.UncleBlockVec=t.ScriptOpt=t.WitnessArgs=t.CellbaseWitness=t.UncleBlock=t.Header=t.RawHeader=t.CellDep=t.CellInput=t.OutPoint=t.Script=t.ProposalShortIdVec=t.ProposalShortId=t.Byte32Vec=t.BytesVec=t.BytesOptVec=t.BytesOpt=t.Bytes=t.Uint256=t.Byte32=void 0;const n=r(30464),i=r(13926),{array:o,vector:a,union:s,option:c,struct:u,table:f}=n.molecule,d=(0,n.createBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify});function l(e){return(0,n.createFixedBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify,byteLength:e})}l(1);t.Byte32=l(32),t.Uint256=l(32),t.Bytes=d,t.BytesOpt=c(t.Bytes),t.BytesOptVec=a(t.BytesOpt),t.BytesVec=a(t.Bytes),t.Byte32Vec=a(t.Byte32),t.ProposalShortId=l(10),t.ProposalShortIdVec=a(t.ProposalShortId),t.Script=f({codeHash:t.Byte32,hashType:i.HashType,args:t.Bytes},["codeHash","hashType","args"]),t.OutPoint=u({txHash:t.Byte32,index:i.Uint32},["txHash","index"]),t.CellInput=u({since:i.Uint64,previousOutput:t.OutPoint},["since","previousOutput"]),t.CellDep=u({outPoint:t.OutPoint,depType:i.DepType},["outPoint","depType"]),t.RawHeader=u({version:i.Uint32,compactTarget:i.Uint32,timestamp:i.Uint64,number:i.Uint64,epoch:i.Uint64,parentHash:t.Byte32,transactionsRoot:t.Byte32,proposalsHash:t.Byte32,extraHash:t.Byte32,dao:t.Byte32},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),t.Header=u({raw:t.RawHeader,nonce:i.Uint128},["raw","nonce"]),t.UncleBlock=f({header:t.Header,proposals:t.ProposalShortIdVec},["header","proposals"]),t.CellbaseWitness=f({lock:t.Script,message:t.Bytes},["lock","message"]),t.WitnessArgs=f({lock:t.BytesOpt,inputType:t.BytesOpt,outputType:t.BytesOpt},["lock","inputType","outputType"]),t.ScriptOpt=c(t.Script),t.UncleBlockVec=a(t.UncleBlock),t.CellDepVec=a(t.CellDep),t.CellInputVec=a(t.CellInput),t.CellOutput=f({capacity:i.Uint64,lock:t.Script,type_:t.ScriptOpt},["capacity","lock","type_"]),t.CellOutputVec=a(t.CellOutput),t.RawTransaction=f({version:i.Uint32,cellDeps:t.CellDepVec,headerDeps:t.Byte32Vec,inputs:t.CellInputVec,outputs:t.CellOutputVec,outputsData:t.BytesVec},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),t.Transaction=f({raw:t.RawTransaction,witnesses:t.BytesVec},["raw","witnesses"]),t.TransactionVec=a(t.Transaction),t.Block=f({header:t.Header,uncles:t.UncleBlockVec,transactions:t.TransactionVec,proposals:t.ProposalShortIdVec},["header","uncles","transactions","proposals"]),t.BlockV1=f({header:t.Header,uncles:t.UncleBlockVec,transactions:t.TransactionVec,proposals:t.ProposalShortIdVec,extension:t.Bytes},["header","uncles","transactions","proposals","extension"])},47830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BTCTimeUnlock=t.BTCTimeLockConfig=t.BTCTimeLock=t.RGBPPUnlock=t.Uint16=t.ExtraCommitmentData=t.RGBPPLock=t.RGBPPConfig=void 0;const n=r(30464),i=r(13926),o=r(59763),{array:a,vector:s,union:c,option:u,struct:f,table:d}=n.molecule;(0,n.createBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify});function l(e){return(0,n.createFixedBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify,byteLength:e})}const h=l(1);t.RGBPPConfig=f({btcLcTypeHash:o.Byte32,btcTimeLockTypeHash:o.Byte32},["btcLcTypeHash","btcTimeLockTypeHash"]),t.RGBPPLock=f({outIndex:i.Uint32,btcTxid:o.Byte32},["outIndex","btcTxid"]),t.ExtraCommitmentData=f({inputLen:h,outputLen:h},["inputLen","outputLen"]),t.Uint16=l(2),t.RGBPPUnlock=d({version:t.Uint16,extraData:t.ExtraCommitmentData,btcTx:o.Bytes,btcTxProof:o.Bytes},["version","extraData","btcTx","btcTxProof"]),t.BTCTimeLock=d({lockScript:o.Script,after:i.Uint32,btcTxid:o.Byte32},["lockScript","after","btcTxid"]),t.BTCTimeLockConfig=f({btcLcTypeHash:o.Byte32},["btcLcTypeHash"]),t.BTCTimeUnlock=d({btcTxProof:o.Bytes},["btcTxProof"])},65732:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genCreateClusterCkbVirtualTx=void 0;const i=r(57049),o=r(10090),a=r(70213),s=r(83910),c=r(727),u=r(5785),f=r(48489);t.genCreateClusterCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,rgbppLockArgs:t,clusterData:r,isMainnet:n,witnessLockPlaceholderSize:d,ckbFeeRate:l,btcTestnetType:h}){const p=(0,a.genRgbppLockScript)(t,n,h),b=yield e.getCells({lock:p});if(!b||0===b.length)throw new u.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");const y=b[0],g=[{previousOutput:y.outPoint,since:"0x0"}],m=(0,c.generateClusterId)(g[0],0),v=[Object.assign(Object.assign({},y.output),{lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(1),n,h),type:Object.assign(Object.assign({},(0,s.getClusterTypeScript)(n)),{args:m})})],_=[(0,f.bytesToHex)((0,i.packRawClusterData)(r))],w=[...yield(0,o.fetchTypeIdCellDeps)(n,{rgbpp:!0},h),(0,s.getClusterTypeDep)(n)],S=(0,c.generateClusterCreateCoBuild)(v[0],_[0]),x={version:"0x0",cellDeps:w,headerDeps:[],inputs:g,outputs:v,outputsData:_,witnesses:[s.RGBPP_WITNESS_PLACEHOLDER,S]};let A=BigInt(y.output.capacity);const E=(0,f.getTransactionSize)(x)+(null!=d?d:s.RGBPP_TX_WITNESS_MAX_SIZE);A-=(0,o.calculateTransactionFee)(E,l),x.outputs[x.outputs.length-1].capacity=(0,o.append0x)(A.toString(16));const I=Object.assign({},x);return{ckbRawTx:x,commitment:(0,a.calculateCommitment)(I),clusterId:m,needPaymasterCell:!1}}))},28742:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65732),t),i(r(89451),t),i(r(19678),t)},19678:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.genLeapSporeFromCkbToBtcRawTx=t.buildSporeBtcTimeCellsSpentTx=t.genLeapSporeFromBtcToCkbVirtualTx=void 0;const o=r(10090),a=r(70213),s=r(83910),c=r(727),u=r(5785),f=r(48489),d=r(60875),l=r(2292);t.genLeapSporeFromBtcToCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,sporeRgbppLockArgs:t,sporeTypeBytes:r,toCkbAddress:n,isMainnet:i,witnessLockPlaceholderSize:u,ckbFeeRate:d,btcTestnetType:l}){const h=Object.assign(Object.assign({},(0,s.getRgbppLockScript)(i,l)),{args:(0,o.append0x)(t)}),p=yield e.getCells({lock:h,isDataMustBeEmpty:!1});(0,c.throwErrorWhenSporeCellsInvalid)(p,r,i);const b=p[0],y=[{previousOutput:b.outPoint,since:"0x0"}],g=(0,f.addressToScript)(n),m=[Object.assign(Object.assign({},b.output),{lock:(0,a.genBtcTimeLockScript)(g,i,l)})],v=[b.outputData],_=[...yield(0,o.fetchTypeIdCellDeps)(i,{rgbpp:!0},l),(0,s.getSporeTypeDep)(i)],w=(0,c.generateSporeTransferCoBuild)([b],m),S={version:"0x0",cellDeps:_,headerDeps:[],inputs:y,outputs:m,outputsData:v,witnesses:[s.RGBPP_WITNESS_PLACEHOLDER,w]};let x=BigInt(b.output.capacity);const A=(0,f.getTransactionSize)(S)+(null!=u?u:s.RGBPP_TX_WITNESS_MAX_SIZE);x-=(0,o.calculateTransactionFee)(A,d),S.outputs[S.outputs.length-1].capacity=(0,o.append0x)(x.toString(16));const E=Object.assign({},S);return{ckbRawTx:S,commitment:(0,a.calculateCommitment)(E),sporeCell:b,needPaymasterCell:!1,sumInputsCapacity:b.output.capacity}}));t.buildSporeBtcTimeCellsSpentTx=e=>n(void 0,[e],void 0,(function*({btcTimeCells:e,btcAssetsApi:t,isMainnet:r,btcTestnetType:n}){var u,d,h,p;const b=e.sort(a.compareInputs),y=b.map((e=>({previousOutput:e.outPoint,since:"0x0"}))),g=b.map((e=>({lock:(0,a.lockScriptFromBtcTimeLockArgs)(e.output.lock.args),type:e.output.type,capacity:e.output.capacity}))),m=b.map((e=>e.outputData)),v=[...yield(0,o.fetchTypeIdCellDeps)(r,{btcTime:!0},n),(0,s.getSporeTypeDep)(r)],_=[],w=new Set,S=new Set;try{for(var x,A=!0,E=i(b);!(u=(x=yield E.next()).done);A=!0){p=x.value,A=!1;const e=p;if(w.has(e.output.lock.args)){_.push("0x");continue}w.add(e.output.lock.args);const{btcTxId:r,after:n}=(0,a.btcTxIdAndAfterFromBtcTimeLockArgs)(e.output.lock.args),i=yield t.getRgbppSpvProof(r,n),{spvClient:s,proof:c}=(0,a.transformSpvProof)(i);S.has((0,f.serializeOutPoint)(s))||(v.push((0,a.buildSpvClientCellDep)(s)),S.add((0,f.serializeOutPoint)(s)));const u=(0,o.append0x)((0,f.serializeWitnessArgs)({lock:(0,l.buildBtcTimeUnlockWitness)(c),inputType:"",outputType:""}));_.push(u)}}catch(e){d={error:e}}finally{try{A||u||!(h=E.return)||(yield h.call(E))}finally{if(d)throw d.error}}const I=(0,c.generateSporeTransferCoBuild)(b,g);_.push(I);return{version:"0x0",cellDeps:v,headerDeps:[],inputs:y,outputs:g,outputsData:m,witnesses:_}}));t.genLeapSporeFromCkbToBtcRawTx=e=>n(void 0,[e],void 0,(function*({collector:e,sporeTypeBytes:t,fromCkbAddress:r,toRgbppLockArgs:n,isMainnet:i,witnessLockPlaceholderSize:a,ckbFeeRate:l,btcTestnetType:h}){const p=(0,f.addressToScript)(r),b=d.blockchain.Script.unpack(t),y=yield e.getCells({lock:p,type:b});if(!y||0===y.length)throw new u.NoRgbppLiveCellError("No spore rgbpp cells found with the spore rgbpp lock args and spore type script");const g=y[0],m=[{previousOutput:g.outPoint,since:"0x0"}],v=[Object.assign(Object.assign({},g.output),{lock:Object.assign(Object.assign({},(0,s.getRgbppLockScript)(i,h)),{args:(0,o.append0x)(n)})})],_=[g.outputData],w=[(0,s.getSporeTypeDep)(i)],S=(0,c.generateSporeTransferCoBuild)([g],v),x={version:"0x0",cellDeps:w,headerDeps:[],inputs:m,outputs:v,outputsData:_,witnesses:[s.RGBPP_WITNESS_PLACEHOLDER,S]};let A=BigInt(g.output.capacity);const E=(0,f.getTransactionSize)(x)+(null!=a?a:s.RGBPP_TX_WITNESS_MAX_SIZE);return A-=(0,o.calculateTransactionFee)(E,l),x.outputs[x.outputs.length-1].capacity=(0,o.append0x)(A.toString(16)),x}))},89451:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.genTransferSporeCkbVirtualTx=t.appendIssuerCellToSporesCreate=t.buildAppendingIssuerCellToSporesCreateTx=t.genCreateSporeCkbVirtualTx=void 0;const o=r(57049),a=r(10090),s=r(70213),c=r(83910),u=r(727),f=r(5785),d=r(48489),l=i(r(94976));t.genCreateSporeCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,clusterRgbppLockArgs:t,sporeDataList:r,isMainnet:n,btcTestnetType:i}){const l=(0,s.genRgbppLockScript)(t,n,i),h=yield e.getCells({lock:l,isDataMustBeEmpty:!1});if(!h||0===h.length)throw new f.NoRgbppLiveCellError("No cluster rgbpp cells found with the cluster rgbpp lock args");if(h.length>1)throw new f.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to multiple CKB cells");const p=h[0];if(!p.output.type||!(0,a.isClusterSporeTypeSupported)(p.output.type,n))throw new f.TypeAssetNotSupportedError("The type script asset is not supported now");const b=p.output.capacity,y=[{previousOutput:p.outPoint,since:"0x0"}],g={outPoint:p.outPoint,depType:"code"},m=r.map(((e,t)=>({lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(t+2),n,i),type:Object.assign(Object.assign({},(0,c.getSporeTypeScript)(n)),{args:(0,u.generateSporeId)(y[0],t+1)}),capacity:(0,a.append0x)((0,a.calculateRgbppSporeCellCapacity)(e).toString(16))}))),v=r.map((e=>(0,d.bytesToHex)((0,o.packRawSporeData)(e)))),_=[Object.assign(Object.assign({},p.output),{lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(1),n,i)}),...m],w=[p.outputData,...v],S=[...yield(0,a.fetchTypeIdCellDeps)(n,{rgbpp:!0},i),(0,c.getClusterTypeDep)(n),(0,c.getSporeTypeDep)(n),g],x=(0,u.generateSporeCreateCoBuild)({sporeOutputs:m,sporeOutputsData:v,clusterCell:p,clusterOutputCell:_[0]}),A=[c.RGBPP_WITNESS_PLACEHOLDER,x],E={version:"0x0",cellDeps:S,headerDeps:[],inputs:y,outputs:_,outputsData:w,witnesses:A},I=Object.assign({},E);return{ckbRawTx:E,commitment:(0,s.calculateCommitment)(I),sumInputsCapacity:b,clusterCell:p,needPaymasterCell:!1}}));t.buildAppendingIssuerCellToSporesCreateTx=e=>n(void 0,[e],void 0,(function*({issuerAddress:e,collector:t,ckbRawTx:r,sumInputsCapacity:n,witnessLockPlaceholderSize:i=c.SECP256K1_WITNESS_LOCK_SIZE,ckbFeeRate:o}){const s=r,u=s.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0)),l=(0,d.addressToScript)(e);let h=yield t.getCells({lock:l});if(!h||0===h.length)throw new f.NoLiveCellError("The issuer address has no empty cells");h=h.filter((e=>!e.output.type));let p=BigInt(n);const b=c.MAX_FEE;if(p<=u){const e=u-p+c.MIN_CAPACITY,{inputs:r,sumInputsCapacity:n}=t.collectInputs(h,e,b);s.inputs=[...s.inputs,...r],p+=n}let y=p-u;const g={lock:l,capacity:(0,a.append0x)(y.toString(16))};s.outputs=[...s.outputs,g],s.outputsData=[...s.outputsData,"0x"];const m=(0,d.getTransactionSize)(s)+i+37;return y-=(0,a.calculateTransactionFee)(m,o),s.outputs[s.outputs.length-1].capacity=(0,a.append0x)(y.toString(16)),s}));t.appendIssuerCellToSporesCreate=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,issuerAddress:r,collector:n,ckbRawTx:i,sumInputsCapacity:o,isMainnet:a,ckbFeeRate:s}){const u=i.inputs.length,f=yield(0,t.buildAppendingIssuerCellToSporesCreateTx)({issuerAddress:r,collector:n,ckbRawTx:i,sumInputsCapacity:o,ckbFeeRate:s});f.cellDeps=[...f.cellDeps,(0,c.getSecp256k1CellDep)(a)];const h=(0,d.addressToScript)(r),p=new Map;p.set((0,d.scriptToHash)(h),e);const b=u,y=f.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:t>=b?h:(0,c.getRgbppLockScript)(a)}))),g={lock:"",inputType:"",outputType:""},m=f.inputs.slice(u).map(((e,t)=>0===t?g:"0x")),v=f.witnesses.length-1;f.witnesses=[...f.witnesses.slice(0,v),...m,f.witnesses[v]];const _=(0,d.rawTransactionToHash)(f),w=(0,l.default)(p)({transactionHash:_,witnesses:f.witnesses,inputCells:y,skipMissingKeys:!0});return Object.assign(Object.assign({},f),{witnesses:w.map((e=>"string"!=typeof e?(0,d.serializeWitnessArgs)(e):e))})}));t.genTransferSporeCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,sporeRgbppLockArgs:t,sporeTypeBytes:r,isMainnet:n,witnessLockPlaceholderSize:i,ckbFeeRate:o,btcTestnetType:f}){const l=(0,s.genRgbppLockScript)(t,n,f),h=yield e.getCells({lock:l,isDataMustBeEmpty:!1});(0,u.throwErrorWhenSporeCellsInvalid)(h,r,n);const p=h[0],b=[{previousOutput:p.outPoint,since:"0x0"}],y=[Object.assign(Object.assign({},p.output),{lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(1),n,f)})],g=[p.outputData],m=[...yield(0,a.fetchTypeIdCellDeps)(n,{rgbpp:!0},f),(0,c.getSporeTypeDep)(n)],v=(0,u.generateSporeTransferCoBuild)([p],y),_={version:"0x0",cellDeps:m,headerDeps:[],inputs:b,outputs:y,outputsData:g,witnesses:[c.RGBPP_WITNESS_PLACEHOLDER,v]};let w=BigInt(p.output.capacity);const S=(0,d.getTransactionSize)(_)+(null!=i?i:c.RGBPP_TX_WITNESS_MAX_SIZE);w-=(0,a.calculateTransactionFee)(S,o),_.outputs[_.outputs.length-1].capacity=(0,a.append0x)(w.toString(16));const x=Object.assign({},_);return{ckbRawTx:_,commitment:(0,s.calculateCommitment)(x),sporeCell:p,needPaymasterCell:!1,sumInputsCapacity:p.output.capacity}}))},85189:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41462:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(20601),t),i(r(85189),t),i(r(70321),t),i(r(1497),t),i(r(90523),t)},70321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},96642:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toCamelcase=void 0;const i=n(r(23472));t.toCamelcase=e=>{try{return(0,i.default)(e,{deep:!0})}catch(e){console.error(e)}return null}},78536:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTypeIdCellDeps=void 0;const o=i(r(86425)),a=r(83910),s=e=>o.default.get(e,{timeout:2e3});t.fetchTypeIdCellDeps=(e,t,r)=>n(void 0,void 0,void 0,(function*(){let i=(0,a.getRgbppLockDep)(e,r),o=(0,a.getBtcTimeLockDep)(e,r),c=(0,a.getXudtDep)(e),u=(0,a.getUniqueTypeDep)(e);const f=yield n(void 0,void 0,void 0,(function*(){try{return(yield Promise.any([s("https://raw.githubusercontent.com/ckb-cell/typeid-contract-cell-deps/main/deployment/cell-deps.json"),s("https://cdn.jsdelivr.net/gh/ckb-cell/typeid-contract-cell-deps@main/deployment/cell-deps.json")])).data}catch(e){}}));f&&("Signet"===r?(i=f.rgbpp.signet,o=f.btcTime.signet):(i=e?f.rgbpp.mainnet:f.rgbpp.testnet,o=e?f.btcTime.mainnet:f.btcTime.testnet),e||(c=f.xudt.testnet,u=f.unique.testnet));let d=[];return t.rgbpp&&(d=[...d,i,Object.assign(Object.assign({},i),{outPoint:Object.assign(Object.assign({},i.outPoint),{index:"0x1"})})]),t.btcTime&&(d=[...d,o,Object.assign(Object.assign({},o),{outPoint:Object.assign(Object.assign({},o.outPoint),{index:"0x1"})})]),t.xudt&&(d=[...d,c]),t.unique&&(d=[...d,u]),d}))},59767:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkCkbTxInputsCapacitySufficient=t.isScriptEqual=t.deduplicateList=t.calculateCellOccupiedCapacity=t.calculateRgbppSporeCellCapacity=t.calculateRgbppClusterCellCapacity=t.generateUniqueTypeArgs=t.calculateRgbppTokenInfoCellCapacity=t.calculateXudtTokenInfoCellCapacity=t.calculateUdtCellCapacity=t.calculateRgbppCellCapacity=t.isLockArgsSizeExceeded=t.isTypeAssetSupported=t.isClusterSporeTypeSupported=t.isSporeTypeSupported=t.isUDTTypeSupported=t.calculateTransactionFee=void 0;const o=r(57049),a=r(93339),s=r(83910),c=r(48489),u=r(70213),f=r(5785);t.calculateTransactionFee=(e,t)=>{const r=null!=t?t:BigInt(1100),n=BigInt(1e3),i=BigInt(e)*r,o=i/n;return o*n<i?o+BigInt(1):o};t.isUDTTypeSupported=(e,t)=>(0,c.serializeScript)((0,s.getXudtTypeScript)(t))===(0,c.serializeScript)(Object.assign(Object.assign({},e),{args:""}));t.isSporeTypeSupported=(e,t)=>(0,c.serializeScript)((0,s.getSporeTypeScript)(t))===(0,c.serializeScript)(Object.assign(Object.assign({},e),{args:""}));t.isClusterSporeTypeSupported=(e,r)=>{const n=(0,c.serializeScript)(Object.assign(Object.assign({},e),{args:""})),i=(0,c.serializeScript)((0,s.getClusterTypeScript)(r));return(0,t.isSporeTypeSupported)(e,r)||i===n};t.isTypeAssetSupported=(e,r)=>(0,t.isUDTTypeSupported)(e,r)||(0,t.isClusterSporeTypeSupported)(e,r);t.isLockArgsSizeExceeded=e=>(0,a.remove0x)(e).length>52;t.calculateRgbppCellCapacity=e=>{const t=e?(0,a.remove0x)(e.args).length/2:32;return BigInt(69+(33+t)+8+16+95)*s.CKB_UNIT};t.calculateUdtCellCapacity=(e,t)=>{const r=(0,a.remove0x)(e.args).length/2,n=t?(0,a.remove0x)(t.args).length/2:32;return BigInt(33+r+(33+n)+8+16+1)*s.CKB_UNIT};t.calculateXudtTokenInfoCellCapacity=(e,t)=>{const r=(0,a.remove0x)(t.args).length/2+33,n=(0,a.remove0x)((0,u.encodeRgbppTokenInfo)(e)).length/2;return BigInt(r+53+8+n)*s.CKB_UNIT};t.calculateRgbppTokenInfoCellCapacity=(e,t)=>{const r=(0,u.genBtcTimeLockScript)(s.UNLOCKABLE_LOCK_SCRIPT,t),n=(0,a.remove0x)(r.args).length/2+33,i=(0,a.remove0x)((0,u.encodeRgbppTokenInfo)(e)).length/2;return BigInt(n+53+8+i)*s.CKB_UNIT};t.generateUniqueTypeArgs=(e,t)=>{const r=(0,c.hexToBytes)((0,c.serializeInput)(e)),n=(0,c.blake2b)(32,null,null,c.PERSONAL);return n.update(r),n.update((0,c.hexToBytes)(`0x${(0,a.u64ToLe)(BigInt(t))}`)),`0x${n.digest("hex").slice(0,40)}`};t.calculateRgbppClusterCellCapacity=e=>{const t=(0,o.packRawClusterData)(e).length;return BigInt(142+t+1)*s.CKB_UNIT};t.calculateRgbppSporeCellCapacity=e=>{const t=(0,o.packRawSporeData)(e).length;return BigInt(142+t+95+1)*s.CKB_UNIT};t.calculateCellOccupiedCapacity=e=>{const t=(0,a.remove0x)(e.outputData).length/2,r=(0,a.remove0x)(e.output.lock.args).length/2+1+32,n=e.output.type?(0,a.remove0x)(e.output.type.args).length/2+1+32:0;return BigInt(t+r+n+8)*s.CKB_UNIT};t.deduplicateList=e=>Array.from(new Set(e));t.isScriptEqual=(e,t)=>("string"==typeof e?(0,a.remove0x)(e):(0,a.remove0x)((0,c.serializeScript)(e)))===("string"==typeof t?(0,a.remove0x)(t):(0,a.remove0x)((0,c.serializeScript)(t)));t.checkCkbTxInputsCapacitySufficient=(e,t)=>n(void 0,void 0,void 0,(function*(){var r,n,o,a;let s=BigInt(0);try{for(var c,u=!0,d=i(e.inputs);!(r=(c=yield d.next()).done);u=!0){a=c.value,u=!1;const e=a,r=yield t.getLiveCell(e.previousOutput);if(!r)throw new f.NoLiveCellError("The cell with the specific out point is dead");s+=BigInt(r.output.capacity)}}catch(e){n={error:e}}finally{try{u||r||!(o=d.return)||(yield o.call(d))}finally{if(n)throw n.error}}return s>e.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0))}))},93339:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseHex=t.hexToUtf8=t.utf8ToHex=t.leToU128=t.u128ToLe=t.u64ToLe=t.leToU32=t.u32ToLeHex=t.u32ToLe=t.u32ToBe=t.u16ToLe=t.u8ToHex=t.append0x=t.remove0x=void 0;const n=r(48489);t.remove0x=e=>e.startsWith("0x")?e.substring(2):e;t.append0x=e=>(null==e?void 0:e.startsWith("0x"))?e:`0x${e}`;const i=e=>Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("");t.u8ToHex=e=>{const t=new ArrayBuffer(1);return new DataView(t).setUint8(0,e),i(t)};t.u16ToLe=e=>{const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e,!0),i(t)};const o=(e,t)=>{const r=new ArrayBuffer(4);return new DataView(r).setUint32(0,Number(e),t),i(r)};t.u32ToBe=e=>o(e,!1);t.u32ToLe=e=>o(e,!0);t.u32ToLeHex=e=>{const r=(0,t.u32ToBe)(e),n=(0,t.reverseHex)(parseInt(r,16).toString(16));return(0,t.append0x)(parseInt(n,16).toString(16))};t.leToU32=e=>{const r=`0x${(0,n.hexToBytes)((0,t.append0x)(e)).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`;return parseInt(r,16)};t.u64ToLe=e=>{const r=e.toString(16).padStart(16,"0");return`${(0,t.u32ToLe)(`0x${r.slice(8)}`)}${(0,t.u32ToLe)(`0x${r.slice(0,8)}`)}`};t.u128ToLe=e=>{const r=e.toString(16).padStart(32,"0");return`${(0,t.u64ToLe)(BigInt(`0x${r.slice(16)}`))}${(0,t.u64ToLe)(BigInt(`0x${r.slice(0,16)}`))}`};t.leToU128=e=>{const r=`0x${(0,n.hexToBytes)((0,t.append0x)(e)).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`;return BigInt(r)};t.utf8ToHex=e=>{let t=e.trim();return t.startsWith("0x")||(t=(0,n.bytesToHex)((new TextEncoder).encode(t))),t};t.hexToUtf8=e=>{let t=e.trim();try{t=(new TextDecoder).decode((0,n.hexToBytes)(t))}catch(e){console.error("hexToUtf8 error:",e)}return t};t.reverseHex=e=>(0,n.bytesToHex)((0,n.hexToBytes)((0,t.append0x)(e)).reverse())},10090:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96642),t),i(r(93339),t),i(r(59767),t),i(r(70213),t),i(r(727),t),i(r(78536),t)},70213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRgbppCapacitySufficientForChange=t.throwErrorWhenRgbppCellsInvalid=t.throwErrorWhenTxInputsExceeded=t.calculateRgbppTokenInfoSize=t.encodeRgbppTokenInfo=t.estimateWitnessSize=t.buildSpvClientCellDep=t.transformSpvProof=t.isRgbppLockOrBtcTimeLock=t.isBtcTimeLockCell=t.isRgbppLockCellIgnoreChain=t.isRgbppLockCell=t.replaceLockArgsWithRealBtcTxId=t.compareInputs=t.buildPreLockArgs=t.buildRgbppLockArgs=t.btcTxIdAndAfterFromBtcTimeLockArgs=t.lockScriptFromBtcTimeLockArgs=t.calculateCommitment=t.genBtcTimeLockScript=t.genBtcTimeLockArgs=t.genRgbppLockScript=void 0;const n=r(71312),i=r(93339),o=r(83910),a=r(48489),s=r(47830),c=r(59763),u=r(60875),f=r(30464),d=r(96642),l=r(5785),h=r(59767);t.genRgbppLockScript=(e,t,r)=>Object.assign(Object.assign({},(0,o.getRgbppLockScript)(t,r)),{args:(0,i.append0x)(e)});t.genBtcTimeLockArgs=(e,t,r)=>{const n=u.blockchain.Byte32.pack((0,i.reverseHex)(t)),o=c.Script.unpack((0,a.serializeScript)(e));return(0,a.bytesToHex)(s.BTCTimeLock.pack({lockScript:o,after:r,btcTxid:n}))};t.genBtcTimeLockScript=(e,r,n,i)=>{const a=(0,t.genBtcTimeLockArgs)(e,o.RGBPP_TX_ID_PLACEHOLDER,null!=i?i:o.BTC_JUMP_CONFIRMATION_BLOCKS);return Object.assign(Object.assign({},(0,o.getBtcTimeLockScript)(r,n)),{args:a})};t.calculateCommitment=e=>{const t=n.sha256.create();t.update((0,a.hexToBytes)((0,i.utf8ToHex)("RGB++")));t.update([0,0]);const{inputs:r,outputs:o,outputsData:s}=e;if(r.length>255||o.length>255)throw new l.InputsOrOutputsLenError("The inputs or outputs length of RGB++ CKB virtual tx cannot be greater than 255");t.update([r.length,o.length]);for(const e of r)t.update((0,a.hexToBytes)((0,a.serializeOutPoint)(e.previousOutput)));for(let e=0;e<o.length;e++){const r=o[e],n=s[e];t.update((0,a.hexToBytes)((0,a.serializeOutput)(r)));const c=(0,i.u32ToLe)((0,i.remove0x)(n).length/2);t.update((0,a.hexToBytes)((0,i.append0x)(c))),t.update((0,a.hexToBytes)(n))}return(0,n.sha256)(t.array())};t.lockScriptFromBtcTimeLockArgs=e=>{const{lockScript:t}=s.BTCTimeLock.unpack((0,i.append0x)(e));return Object.assign(Object.assign({},t),{args:f.bytes.hexify(u.blockchain.Bytes.unpack(t.args))})};t.btcTxIdAndAfterFromBtcTimeLockArgs=e=>{const t=s.BTCTimeLock.unpack((0,i.append0x)(e));return{btcTxId:(0,i.reverseHex)((0,i.append0x)(t.btcTxid)),after:t.after}};t.buildRgbppLockArgs=(e,t)=>`0x${(0,i.u32ToLe)(e)}${(0,i.remove0x)((0,i.reverseHex)(t))}`;t.buildPreLockArgs=e=>(0,t.buildRgbppLockArgs)(e,o.RGBPP_TX_ID_PLACEHOLDER);t.compareInputs=(e,t)=>e.output.lock.args<t.output.lock.args?-1:e.output.lock.args>t.output.lock.args?1:0;t.replaceLockArgsWithRealBtcTxId=(e,t)=>{const r=(0,i.remove0x)(e).length;if(r<72)throw new Error("Rgbpp lock args or BTC time lock args length is invalid");return`0x${(0,i.remove0x)(e).substring(0,r-64)}${(0,i.remove0x)((0,i.reverseHex)(t))}`};const p=["Testnet3","Signet"],b=(e,t)=>e.codeHash===t.codeHash&&e.hashType===t.hashType;t.isRgbppLockCell=(e,t)=>t?b(e.lock,(0,o.getRgbppLockScript)(t)):p.some((r=>b(e.lock,(0,o.getRgbppLockScript)(t,r))));t.isRgbppLockCellIgnoreChain=e=>(0,t.isRgbppLockCell)(e,!0)||(0,t.isRgbppLockCell)(e,!1);t.isBtcTimeLockCell=(e,t)=>t?b(e.lock,(0,o.getBtcTimeLockScript)(t)):p.some((r=>b(e.lock,(0,o.getBtcTimeLockScript)(t,r))));t.isRgbppLockOrBtcTimeLock=(e,t)=>t?b(e,(0,o.getRgbppLockScript)(t))||b(e,(0,o.getBtcTimeLockScript)(t)):p.flatMap((e=>[(0,o.getRgbppLockScript)(t,e),(0,o.getBtcTimeLockScript)(t,e)])).some((t=>b(t,e)));t.transformSpvProof=e=>(0,d.toCamelcase)(e);t.buildSpvClientCellDep=e=>({outPoint:e,depType:"code"});t.estimateWitnessSize=e=>{const t=new Set(e).size;return o.RGBPP_TX_WITNESS_MAX_SIZE*t};t.encodeRgbppTokenInfo=e=>{const t=(0,i.u8ToHex)(e.decimal),r=(0,i.remove0x)((0,i.utf8ToHex)(e.name)),n=(0,i.u8ToHex)(r.length/2),o=(0,i.remove0x)((0,i.utf8ToHex)(e.symbol));return`0x${t}${n}${r}${(0,i.u8ToHex)(o.length/2)}${o}`};t.calculateRgbppTokenInfoSize=e=>{const r=(0,t.encodeRgbppTokenInfo)(e);return BigInt((0,i.remove0x)(r).length/2)};t.throwErrorWhenTxInputsExceeded=e=>{if(e>o.RGBPP_TX_INPUTS_MAX_LENGTH)throw new l.RgbppCkbTxInputsExceededError(`Please ensure the tx inputs do not exceed ${o.RGBPP_TX_INPUTS_MAX_LENGTH}`)};t.throwErrorWhenRgbppCellsInvalid=(e,t,r)=>{if(!e||0===e.length)throw new l.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");const n=e.filter((e=>!!e.output.type));if(0===n.length)throw new l.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");if(n.some((e=>e.output.type&&!(0,h.isUDTTypeSupported)(e.output.type,r))))throw new l.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to xUDT and other type cells at the same time");if(!n.some((e=>(0,h.isScriptEqual)(e.output.type,t))))throw new l.NoRgbppLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args")};t.isRgbppCapacitySufficientForChange=(e,t)=>e>t+(0,h.calculateRgbppCellCapacity)()},727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwErrorWhenSporeCellsInvalid=t.generateSporeTransferCoBuild=t.generateSporeCreateCoBuild=t.generateClusterCreateCoBuild=t.generateSporeId=t.generateClusterId=void 0;const n=r(48489),i=r(13972),o=r(93339),a=r(5785),s=r(59767);t.generateClusterId=(e,t)=>{const r=(0,n.hexToBytes)((0,n.serializeInput)(e)),i=(0,n.blake2b)(32,null,null,n.PERSONAL);return i.update(r),i.update((0,n.hexToBytes)(`0x${(0,o.u64ToLe)(BigInt(t))}`)),`0x${i.digest("hex")}`};t.generateSporeId=(e,r)=>(0,t.generateClusterId)(e,r);t.generateClusterCreateCoBuild=(e,t)=>{const r={cellOutput:e,data:t},{actions:n}=(0,i.assembleCreateClusterAction)(r);return(0,i.assembleCobuildWitnessLayout)(n)};t.generateSporeCreateCoBuild=({sporeOutputs:e,sporeOutputsData:t,clusterCell:r,clusterOutputCell:n})=>{if(e.length!==t.length)throw new Error("The length of spore outputs and spore cell data are not same");let o=[];const a={cellOutput:r.output,data:r.outputData},s={cellOutput:n,data:r.outputData},{actions:c}=(0,i.assembleTransferClusterAction)(a,s);o=o.concat(c);for(let r=0;r<e.length;r++){const n={cellOutput:e[r],data:t[r]},{actions:a}=(0,i.assembleCreateSporeAction)(n);o=o.concat(a)}return(0,i.assembleCobuildWitnessLayout)(o)};t.generateSporeTransferCoBuild=(e,t)=>{if(e.length!==t.length)throw new Error("The length of spore input cells and spore output cells are not same");let r=[];for(let n=0;n<e.length;n++){const o=e[n],a="outputData"in o?o.outputData:o.data.content,s={cellOutput:e[n].output,data:a},c={cellOutput:t[n],data:a},{actions:u}=(0,i.assembleTransferSporeAction)(s,c);r=r.concat(u)}return(0,i.assembleCobuildWitnessLayout)(r)};t.throwErrorWhenSporeCellsInvalid=(e,t,r)=>{if(!e||0===e.length)throw new a.NoRgbppLiveCellError("No spore rgbpp cells found with the spore rgbpp lock args");if(e.length>1)throw new a.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to multiple CKB cells");const n=e[0];if(!n.output.type)throw new a.RgbppSporeTypeMismatchError("The cell with the rgbpp lock args has no spore asset");if(!(0,s.isSporeTypeSupported)(n.output.type,r))throw new a.RgbppSporeTypeMismatchError("The cell type is not the supported spore type script");if(!(0,s.isScriptEqual)(n.output.type,t))throw new a.RgbppSporeTypeMismatchError("The spore cell type with the rgbpp lock args does not match")}},22495:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessArgs=t.UncleBlockVec=t.UncleBlock=t.TransactionVec=t.Transaction=t.ScriptOpt=t.Script=t.RawTransaction=t.RawHeader=t.ProposalShortIdVec=t.ProposalShortId=t.OutPoint=t.Header=t.HashType=t.DepType=t.CellbaseWitness=t.CellOutputVec=t.CellOutput=t.CellInputVec=t.CellInput=t.CellDepVec=t.CellDep=t.BytesVec=t.BytesOptVec=t.BytesOpt=t.Bytes=t.Byte32Vec=t.Byte32=t.BlockV1=t.Block=t.BaseHeader=void 0,t.WitnessArgsOf=A,t.createFixedHexBytesCodec=g,t.deTransformHeaderCodecType=te,t.deTransformTransactionCodecType=Z,t.transformHeaderCodecType=ee,t.transformTransactionCodecType=J;var n=r(30464),i=r(70071);function o(e){return{...e,unpack:t=>i.BI.from(e.unpack(t)).toHexString()}}const a=o(n.number.Uint8),s=o(n.number.Uint32LE),c=o(n.number.Uint64LE),u=o(n.number.Uint128LE),{byteVecOf:f,option:d,table:l,vector:h,struct:p}=n.molecule,{bytify:b,hexify:y}=n.bytes;function g(e){return(0,n.createFixedBytesCodec)({byteLength:e,pack:e=>b(e),unpack:e=>y(e)})}const m=f({pack:b,unpack:y});t.Bytes=m;const v=d(m);t.BytesOpt=v;const _=h(m);t.BytesVec=_;const w=h(v);t.BytesOptVec=w;const S=g(32);t.Byte32=S;const x=h(S);function A(e){return l({lock:d(f(e.lock)),inputType:d(f(e.inputType)),outputType:d(f(e.outputType))},["lock","inputType","outputType"])}t.Byte32Vec=x;const E=(0,n.createBytesCodec)({pack:b,unpack:y}),I=A({lock:E,inputType:E,outputType:E});t.WitnessArgs=I;const k=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("type"===e)return n.number.Uint8.pack(1);if("data"===e)return n.number.Uint8.pack(0);if("data1"===e)return n.number.Uint8.pack(2);if("data2"===e)return n.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(1===t)return"type";if(0===t)return"data";if(2===t)return"data1";if(4===t)return"data2";throw new Error(`Invalid hash type: ${t}`)}});t.HashType=k;const T=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("code"===e)return a.pack(0);if("depGroup"===e)return a.pack(1);throw new Error(`Invalid dep type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(0===t)return"code";if(1===t)return"depGroup";throw new Error(`Invalid dep type: ${t}`)}});t.DepType=T;const C=l({codeHash:S,hashType:k,args:m},["codeHash","hashType","args"]);t.Script=C;const O=d(C);t.ScriptOpt=O;const P=p({txHash:S,index:s},["txHash","index"]);t.OutPoint=P;const M=p({since:c,previousOutput:P},["since","previousOutput"]);t.CellInput=M;const B=h(M);t.CellInputVec=B;const D=l({capacity:c,lock:C,type:O},["capacity","lock","type"]);t.CellOutput=D;const R=h(D);t.CellOutputVec=R;const L=p({outPoint:P,depType:T},["outPoint","depType"]);t.CellDep=L;const N=h(L);t.CellDepVec=N;const j=l({version:s,cellDeps:N,headerDeps:x,inputs:B,outputs:R,outputsData:_},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]);t.RawTransaction=j;const U=l({raw:j,witnesses:_},["raw","witnesses"]),H=(0,n.createBytesCodec)({pack:e=>U.pack(J(e)),unpack:e=>Z(U.unpack(e))});t.Transaction=H;const F=h(H);t.TransactionVec=F;const z=p({version:s,compactTarget:s,timestamp:c,number:c,epoch:c,parentHash:S,transactionsRoot:S,proposalsHash:S,extraHash:S,dao:S},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]);t.RawHeader=z;const q=p({raw:z,nonce:u},["raw","nonce"]);t.BaseHeader=q;const K=(0,n.createBytesCodec)({pack:e=>q.pack(ee(e)),unpack:e=>te(q.unpack(e))});t.Header=K;const V=g(10);t.ProposalShortId=V;const $=h(V);t.ProposalShortIdVec=$;const W=l({header:K,proposals:$},["header","proposals"]);t.UncleBlock=W;const G=h(W);t.UncleBlockVec=G;const Q=l({header:K,uncles:G,transactions:F,proposals:$},["header","uncles","transactions","proposals"]);t.Block=Q;const Y=l({header:K,uncles:G,transactions:F,proposals:$,extension:m},["header","uncles","transactions","proposals","extension"]);t.BlockV1=Y;const X=l({lock:C,message:m},["lock","message"]);function J(e){return{raw:{version:e.version,cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData},witnesses:e.witnesses}}function Z(e){return{cellDeps:e.raw.cellDeps.map((e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType}))),headerDeps:e.raw.headerDeps,inputs:e.raw.inputs.map((e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since}))),outputs:e.raw.outputs.map((e=>({capacity:e.capacity,lock:e.lock,type:e.type}))),outputsData:e.raw.outputsData,version:e.raw.version,witnesses:e.witnesses}}function ee(e){return{raw:{timestamp:e.timestamp,number:e.number,epoch:e.epoch,compactTarget:Number(e.compactTarget),dao:e.dao,parentHash:e.parentHash,proposalsHash:e.proposalsHash,transactionsRoot:e.transactionsRoot,extraHash:e.extraHash,version:e.version},nonce:e.nonce}}function te(e){return{timestamp:e.raw.timestamp,number:e.raw.number,epoch:e.raw.epoch,compactTarget:e.raw.compactTarget,dao:e.raw.dao,parentHash:e.raw.parentHash,proposalsHash:e.raw.proposalsHash,transactionsRoot:e.raw.transactionsRoot,extraHash:e.raw.extraHash,version:e.raw.version,nonce:e.nonce,hash:""}}t.CellbaseWitness=X},52986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCellMatchQueryOptions=function(e,{lock:t,type:r,argsLen:a=-1,data:s="any",fromBlock:c,toBlock:u}){let f=null,d=null;t&&!o(t)?f={script:t,argsLen:a}:t&&(f=t,t.argsLen||(f.argsLen=a));r&&"empty"===r?d=r:r&&"object"==typeof r&&!o(r)?d={script:r,argsLen:a}:r&&"object"==typeof r&&o(r)&&(d=r,r.argsLen||(d.argsLen=a));if(f&&f.script&&-1===f.argsLen&&!new n.ScriptValue(e.cellOutput.lock,{validate:!1}).equals(new n.ScriptValue(f.script,{validate:!1})))return!1;if(f&&f.script&&"any"===f.argsLen){const t=e.cellOutput.lock;if(t.codeHash!==f.script.codeHash||t.hashType!==f.script.hashType||!t.args.startsWith(f.script.args))return!1}if(f&&f.script&&"number"==typeof f.argsLen&&f.argsLen>=0){const t=2*f.argsLen+2,r=f.script.args.length,n=Math.min(t,r),i=e.cellOutput.lock;if(i.args.length!==t)return!1;if(i.codeHash!==f.script.codeHash||i.hashType!==f.script.hashType||i.args.slice(0,n)!==f.script.args.slice(0,n))return!1}if(d&&"empty"===d&&e.cellOutput.type)return!1;if(d&&"object"==typeof d&&(!e.cellOutput.type||!new n.ScriptValue(e.cellOutput.type,{validate:!1}).equals(new n.ScriptValue(d.script,{validate:!1}))))return!1;if(s&&"any"!==s&&e.data!==s)return!1;if(c&&e.blockNumber&&i.BI.from(e.blockNumber).lt(i.BI.from(c)))return!1;if(u&&e.blockNumber&&i.BI.from(e.blockNumber).gt(i.BI.from(u)))return!1;return!0},t.isScriptWrapper=o;var n=r(48233),i=r(70071);function o(e){return null!==e&&void 0!==e.script}},60875:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var i=p(r(48233));t.values=i;var o=p(r(50646));t.utils=o;var a=p(r(58525));t.since=a;var s=p(r(52986));t.helpers=s;var c=p(r(26704));t.indexer=c,Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=p(r(72395));t.logger=u;var f=p(r(29365));t.blockchain=f;var d=r(46970);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var l=r(22495);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}))},26704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionCollector=t.Indexer=void 0;var n=r(32932),i=r(50646),o=r(52986);t.Indexer=class{};class a{constructor(e,{lock:t,type:r,argsLen:a=-1,fromBlock:s,toBlock:c,order:u="asc",skip:f}={},{skipMissing:d=!1,includeStatus:l=!0}={}){if(!(t||r&&"empty"!==r))throw new Error("Either lock or type script must be provided!");if(t&&!(0,o.isScriptWrapper)(t)?(n.validators.ValidateScript(t),this.lock={script:t,ioType:"both",argsLen:a}):t&&t.script&&(n.validators.ValidateScript(t.script),this.lock=t,t.argsLen||(this.lock.argsLen=a),t.ioType||(this.lock.ioType="both")),"empty"===r?this.type=r:r&&!(0,o.isScriptWrapper)(r)?(n.validators.ValidateScript(r),this.type={script:r,ioType:"both",argsLen:a}):r&&r.script&&(n.validators.ValidateScript(r.script),this.type=r,r.argsLen||(this.type.argsLen=a),r.ioType||(this.type.ioType="both")),s&&(0,i.assertHexadecimal)("fromBlock",s),c&&(0,i.assertHexadecimal)("toBlock",c),"asc"!==u&&"desc"!==u)throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=d,this.includeStatus=l,this.fromBlock=s,this.toBlock=c,this.order=u,this.skip=f,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const t of e){const e=await this.rpc.get_transaction(t);if(!this.skipMissing&&!e)throw new Error(`Transaction ${t} is missing!`);this.includeStatus?yield e:yield e.transaction}}}t.TransactionCollector=a;var s={TransactionCollector:a};t.default=s},72395:(e,t)=>{"use strict";function r(e,t){const r=`[${e}] ${t}`;return"error"===e||"warn"===e?console.warn(r):void console.log(`[${e}] ${t}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLogger=r,t.deprecated=function(e){r("deprecated",e)}},46970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},58525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAbsoluteEpochSince=s,t.generateHeaderEpoch=c,t.generateSince=o,t.maximumAbsoluteEpochSince=function(...e){const t=e.map((e=>u(e))),r=Math.max(...t.map((e=>e.number))),i=t.filter((e=>e.number===r));let o=i[0];for(let e=1;e<i.length;++e){const t=i[e];n.BI.from(t.index).mul(o.length).gte(n.BI.from(o.index).mul(t.length))&&(o=t)}return s(o)},t.parseAbsoluteEpochSince=u,t.parseEpoch=a,t.parseSince=function(e){const t=i(e);return"epochNumber"===t.type?t:{...t,value:t.value.toBigInt()}},t.parseSinceCompatible=i,t.validateAbsoluteEpochSince=f,t.validateSince=function(e,t,r){const{relative:o,type:s,value:c}=i(e);if(o){if("epochNumber"===s){const e=a(t.epoch),i=a(r.epoch),o={number:n.BI.from(c.number).add(i.number),index:n.BI.from(c.index).mul(i.length).add(n.BI.from(i.index).mul(c.length)),length:n.BI.from(c.length).mul(i.length)};return 0===c.length&&0!==i.length?(o.index=n.BI.from(i.index),o.length=n.BI.from(i.length)):0===i.length&&0!==c.length&&(o.index=n.BI.from(c.index),o.length=n.BI.from(c.length)),!n.BI.from(o.length).eq(0)&&n.BI.from(o.index).gte(o.length)&&(o.number=o.index.div(o.length).add(o.number),o.index=o.index.mod(o.length)),n.BI.from(o.number).lt(e.number)||n.BI.from(o.number).eq(e.number)&&n.BI.from(o.index).mul(e.length).lte(n.BI.from(e.index).mul(o.length))}if("blockNumber"===s)return n.BI.from(c).add(r.blockNumber).lte(t.blockNumber);if("blockTimestamp"===s){if(!t.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return n.BI.from(c).mul(1e3).add(r.median_timestamp).lte(t.median_timestamp)}}else{if("epochNumber"===s)return f(e,t.epoch);if("blockNumber"===s)return n.BI.from(c).lte(t.blockNumber);if("blockTimestamp"===s){if(!t.median_timestamp)throw new Error("Must provide tip median_timestamp!");return n.BI.from(c).mul(1e3).lte(t.median_timestamp)}}return!1};var n=r(70071);function i(e){const t=n.BI.from(e),r=t.shr(56),i=r.shr(5).and("0b11");let o,a;if(i.eq(0))o="blockNumber",a=t.and("0xFFFFFFFFFFFFFF");else if(i.eq(1))o="epochNumber",a={length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()};else{if(!i.eq(2))throw new Error("Invalid metric flag!");o="blockTimestamp",a=t.and("0xFFFFFFFFFFFFFF")}return{relative:!r.and("0x80").eq(0),type:o,value:a}}function o({relative:e,type:t,value:r}){let i,o=n.BI.from(0);return e&&(o=o.add(128)),"epochNumber"===t?o=o.add(32):"blockTimestamp"===t&&(o=o.add(64)),i=(0,n.isBIish)(r)?n.BI.from(r):"object"==typeof r?c(r):n.BI.from(r),d(o.shl(56).add(i))}function a(e){const t=n.BI.from(e);return{length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()}}function s({length:e,index:t,number:r}){return o({relative:!1,type:"epochNumber",value:{length:e,index:t,number:r}})}function c({length:e,index:t,number:r}){return d(n.BI.from(e).shl(40).add(n.BI.from(t).shl(24)).add(r))}function u(e){const{relative:t,type:r,value:n}=i(e);if(!1!==t||"epochNumber"!==r)throw new Error("Since format error!");return n}function f(e,t){const r=i(e).value,o=a(t);return n.BI.from(r.number).lt(o.number)||n.BI.from(r.number).eq(o.number)&&n.BI.from(r.index).mul(o.length).lte(n.BI.from(o.index).mul(r.length))}function d(e){return"0x"+e.toString(16)}},50646:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.CKBHasher=void 0,t.assertHexString=function(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)},t.assertHexadecimal=x,t.ckbHash=y,t.computeScriptHash=function(e){return y(u.Script.pack(e))},t.deepCamel=I,t.deepCamelizeTransaction=function(e){return k(I(e))},t.generateTypeIdScript=function(e,t="0x0"){u.CellInput.pack(e),x("outputIndex",t);const r=function(e,t){const r=u.CellInput.pack(e),n=s.bytes.hexify(s.number.Uint64LE.pack(t)),i=new b;return i.update(r),i.update(n),i.digestHex()}(e,t);return{codeHash:A,hashType:"type",args:r}},t.hashCode=function(e){return(0,a.xxHash32)(e,0)},t.isDeepEqual=function(e,t){return(0,o.default)(e,t)},t.readBigUInt128LE=function(e){return S(e).toBigInt()},t.readBigUInt128LECompatible=S,t.readBigUInt64LE=function(e){return m(e).toBigInt()},t.readBigUInt64LECompatible=m,t.toBigUInt128LE=function(e){return w(e)},t.toBigUInt128LECompatible=w,t.toBigUInt64LE=function(e){return g(e)},t.toBigUInt64LECompatible=g;var i=d(r(72206)),o=d(r(8142)),a=r(52290),s=r(30464),c=r(70071),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(29365));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}const{bytify:l,hexify:h,bytifyRawString:p}=s.bytes;class b{constructor(e={}){const{outLength:t=32}=e;this.outLength=t,this.hasher=(0,i.default)(t,void 0,void 0,p("ckb-default-hash"))}update(e){return this.hasher.update(l(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),h(e.buffer)}}function y(e){const t=new b;return t.update(s.bytes.bytify(e)),t.digestHex()}function g(e){e=c.BI.from(e);const t=n.alloc(8);return t.writeUInt32LE(e.and("0xffffffff").toNumber(),0),e=e.shr(32),t.writeUInt32LE(e.and("0xffffffff").toNumber(),4),`0x${t.toString("hex")}`}function m(e){const t=n.from(e.slice(2),"hex");return c.BI.from(t.readUInt32LE()).add(c.BI.from(t.readUInt32LE(4)).shl(32))}t.CKBHasher=b;const v=c.BI.from(0),_=c.BI.from("340282366920938463463374607431768211455");function w(e){if((e=c.BI.from(e)).lt(v))throw new Error(`u128 ${e} too small`);if(e.gt(_))throw new Error(`u128 ${e} too large`);const t=n.alloc(16);return t.writeUInt32LE(e.and(4294967295).toNumber(),0),e=e.shr(32),t.writeUInt32LE(e.and(4294967295).toNumber(),4),e=e.shr(32),t.writeUInt32LE(e.and(4294967295).toNumber(),8),e=e.shr(32),t.writeUInt32LE(e.and(4294967295).toNumber(),12),`0x${t.toString("hex")}`}function S(e){if(e.length<34||!e.startsWith("0x"))throw new Error("leHex format error");const t=n.from(e.slice(2,34),"hex");return c.BI.from(t.readUInt32LE(0)).shl(0).add(c.BI.from(t.readUInt32LE(4)).shl(32)).add(c.BI.from(t.readUInt32LE(8)).shl(64)).add(c.BI.from(t.readUInt32LE(12)).shl(96))}function x(e,t){if(!/^0x(0|[0-9a-fA-F]+)$/.test(t))throw new Error(`${e} must be a hexadecimal!`)}const A="0x00000000000000000000000000000000000000000000000000545950455f4944";function E(e){return e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_","")))}function I(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>I(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[E(r)]=I(n):t[E(r)]=n}return t}return e}function k(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>k(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[r]=k(n):t[r]="dep_group"===n?"depGroup":n}return t}return e}},48233:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionValue=t.ScriptValue=t.RawTransactionValue=t.OutPointValue=void 0;var i=r(52290),o=r(50646),a=r(30464),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(29365));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const{hexify:u}=a.bytes;class f{constructor(e){this.buffer=e}equals(e){return u(this.buffer)===u(e.buffer)}hashCode(){return(0,i.xxHash32)(n.from(this.buffer),0)}hash(){return(0,o.ckbHash)(this.buffer)}}t.ScriptValue=class extends f{constructor(e,t={}){super(s.Script.pack(e))}};t.OutPointValue=class extends f{constructor(e,t={}){super(s.OutPoint.pack(e))}};t.RawTransactionValue=class extends f{constructor(e,t={}){super(s.RawTransaction.pack(e))}};t.TransactionValue=class extends f{constructor(e,t={}){super(s.Transaction.pack(e))}}},70071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ckbDecimals=t.BI=void 0,t.formatUnit=function(e,t){const r=l(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=a.from(e);const n=e.isNegative();n&&(e=e.mul(d));const i=e.div(r).toString();let o=i;if(r.length>1){let t=e.mod(r).toString();for(;t.length<r.length-1;)t="0"+t;t=t.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+t}n&&(o="-"+o);return o}(e,r)},t.isBIish=o,t.parseUnit=function(e,t){const r=l(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n="-"===e.substring(0,1);n&&(e=e.substring(1));let i,o;const s=e.split(".");if(1===s.length)i=s[0],o="0";else{if(2!==s.length)throw new Error("too many decimal points (should not happen)");i=s[0],o=s[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const c=a.from(i),u=a.from(o);let f=c.mul(r).add(u);n&&(f=f.mul(d));return f}(e,r)},t.toJSBI=c;var n,i=(n=r(33361))&&n.__esModule?n:{default:n};function o(e){return null!==e&&("number"==typeof e&&e%1==0||"string"==typeof e&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||"bigint"==typeof e||a.isBI(e))}class a{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return s(i.default.add(this.jsbi,c(e)))}sub(e){return s(i.default.subtract(this.jsbi,c(e)))}div(e){return s(i.default.divide(this.jsbi,c(e)))}mul(e){return s(i.default.multiply(this.jsbi,c(e)))}mod(e){return s(i.default.remainder(this.jsbi,c(e)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,c(0))?s(this.jsbi):s(i.default.unaryMinus(this.jsbi))}pow(e){return s(i.default.exponentiate(this.jsbi,c(e)))}and(e){return s(i.default.bitwiseAnd(this.jsbi,c(e)))}or(e){return s(i.default.bitwiseOr(this.jsbi,c(e)))}xor(e){return s(i.default.bitwiseXor(this.jsbi,c(e)))}not(){return s(i.default.bitwiseNot(this.jsbi))}mask(e){const t=c(e);if(i.default.lessThan(t,c(0))||i.default.lessThan(this.jsbi,c(0)))throw new Error("mask works only with positive numbers");const r=c(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,t))return s(this.jsbi);{const e=i.default.leftShift(i.default.signedRightShift(this.jsbi,t),t);return s(i.default.bitwiseXor(this.jsbi,e))}}shl(e){return s(i.default.leftShift(this.jsbi,c(e)))}shr(e){return s(i.default.signedRightShift(this.jsbi,c(e)))}eq(e){return i.default.equal(this.jsbi,c(e))}lt(e){return i.default.lessThan(this.jsbi,c(e))}lte(e){return i.default.lessThanOrEqual(this.jsbi,c(e))}gt(e){return i.default.greaterThan(this.jsbi,c(e))}gte(e){return i.default.greaterThanOrEqual(this.jsbi,c(e))}isNegative(){return i.default.lessThan(this.jsbi,c(0))}isZero(){return i.default.equal(this.jsbi,c(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(e){throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return i.default.lessThan(this.jsbi,c(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof a)return e;if(o(e))return s(c(e));if(e instanceof i.default)return s(c(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return function(e){return null!=e&&"object"==typeof e}(e)&&!!e._isBI}}function s(e){return new a(e)}function c(e){return"number"==typeof e||"string"==typeof e?i.default.BigInt(e):i.default.BigInt(e.toString())}t.BI=a;const u=["shannon","ckb"],f=8;t.ckbDecimals=f;const d=a.from(-1);function l(e){let t=0;if("string"==typeof e){if(-1===u.indexOf(e))throw new Error(`invalid unit name, supported names are ${u.join(", ")}`);"ckb"===e&&(t=f)}else{if(!h(e))throw new Error("unit of integer must be a non-negative integer");t=e}return t}function h(e){return Number.isInteger(e)&&e>=0}},33361:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(){return f=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&c(i,r.prototype),i},f.apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){function r(){return f(e,arguments,s(this).constructor)}if(null===e||!d(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},l(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function b(e){var t=u();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function y(e,t){return g(e)||m(e,t)||v(e,t)||w()}function g(e){if(Array.isArray(e))return e}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var x=function(e){var t=Math.abs,i=Math.max,s=Math.floor;function c(e,t){var r;if(n(this,c),(r=u.call(this,e)).sign=t,Object.setPrototypeOf(h(r),c.prototype),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}a(c,e);var u=b(c);return o(c,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=S(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?c.__toStringGeneric(this,e,!1):c.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return c.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,a=t,s=0;s<r;s++){var u=this.__digit(s),f=32767&u,d=u>>>15,l=c.__imul(f,n),h=c.__imul(f,i),p=c.__imul(d,n),b=a+l+o;o=b>>>30,b&=1073741823,o+=(b+=((32767&h)<<15)+((32767&p)<<15))>>>30,a=c.__imul(d,i)+(h>>>15)+(p>>>15),this.__setDigit(s,1073741823&b)}if(0!==o||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,a=0;a<r-1>>>1;a++){var s=e.__digit(a),c=(i>>>15)-(32767&s)-n;n=1&c>>>15,this.__setDigit(t+a,(32767&c)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(t+a+1)))-(s>>>15)-n)>>>15}var u=e.__digit(a),f=(i>>>15)-(32767&u)-n;if(n=1&f>>>15,this.__setDigit(t+a,(32767&f)<<15|32767&o),t+a+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(32767&(i=this.__digit(t+a+1)))-(u>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var l=this.__digit(t+d),h=e.__digit(d),p=(32767&l)-(32767&h)-n,b=(l>>>15)-(h>>>15)-(n=1&p>>>15);n=1&b>>>15,this.__setDigit(t+d,(32767&b)<<15|32767&p)}var y=this.__digit(t+d),g=e.__digit(d),m=(32767&y)-(32767&g)-n;n=1&m>>>15;var v=0;!(1&r)&&(n=1&(v=(y>>>15)-(g>>>15)-n)>>>15),this.__setDigit(t+d,(32767&v)<<15|32767&m)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return c.__zero();if(c.__isOneDigitInt(e))return 0>e?c.__oneDigit(-e,!0):c.__oneDigit(e,!1);if(!t(e)||s(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(e)}if("string"==typeof e){var n=c.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?c.__oneDigit(1,!1):c.__zero();if("object"===r(e)){if(e.constructor===c)return e;var i=c.__toPrimitive(e);return c.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=c.__clz30(n),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var a=o-1,s=n,u=t-1,f=i+3,d=32===f?0:s<<f;d>>>=12;var l=f-12,h=12<=f?0:s<<20+f,p=20+f;for(0<l&&0<u&&(u--,d|=(s=e.__digit(u))>>>30-l,h=s<<l+2,p=l+2);0<p&&0<u;)u--,s=e.__digit(u),h|=30<=p?s<<p-30:s>>>30-p,p-=30;var b=c.__decideRounding(e,p,u,s);if((1===b||0===b&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++d>>>20&&(d=0,1023<++a))return e.sign?-1/0:1/0;var y=e.sign?-2147483648:0;return a=a+1023<<20,c.__kBitConversionInts[1]=y|a|d,c.__kBitConversionInts[0]=h,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return c.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:c.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=new c(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var a=null,s=e;for(!!(1&r)&&(a=e),r>>=1;0!==r;r>>=1)s=c.multiply(s,s),1&r&&(a=null===a?s:c.multiply(a,s));return a}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new c(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)c.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:c.unaryMinus(e);r=c.__absoluteDivSmall(e,i,null)}else r=c.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return c.__zero();var n=c.__absoluteModSmall(e,r);return 0===n?c.__zero():c.__oneDigit(n,e.sign)}var i=c.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?c.__absoluteAdd(e,t,r):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r):c.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return n=c.__absoluteOr(n,o,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length),n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return c.__absoluteXor(n,o,n).__trim()}var a=i(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var u=c.__absoluteSubOne(t,a);return u=c.__absoluteXor(u,e,u),c.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=c.__absoluteSubOne(e,r),o=c.__absoluteSubOne(t);return n=c.__absoluteAnd(n,o,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var s=c.__absoluteSubOne(t,r);return s=c.__absoluteAndNot(s,e,s),c.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i)return t;if((n&i)!==i)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(c.__isBigInt(e))return c.__isBigInt(t)?c.equal(e,t):c.EQ(t,e);if("number"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("string"==typeof e){if(c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.equal(e,t);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("boolean"==typeof e){if(c.__isBigInt(t))return c.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else if("symbol"===r(e)){if(c.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=c.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==c)return e==t;e=c.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return c.asIntN(64,c.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=y(r?[4,0]:[0,4],2),i=n[0],o=n[1],a=e.getUint32(t+i,r),s=e.getUint32(t+o,r),u=new c(3,!1);return u.__setDigit(0,1073741823&s),u.__setDigit(1,(268435455&a)<<2|s>>>30),u.__setDigit(2,a>>>28),u.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];c.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(r=c.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var a=r.__digit(1);o|=a<<30,i=a>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var s=y(n?[4,0]:[0,4],2),u=s[0],f=s[1];e.setUint32(t+u,i,n),e.setUint32(t+f,o,n)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new c(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=29}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,r=(2047&c.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new c(n,0>e),o=1048575&c.__kBitConversionInts[1]|1048576,a=c.__kBitConversionInts[0],s=20,u=r%30,f=0;if(u<s){var d=s-u;f=d+32,t=o>>>d,o=o<<32-d|a>>>d,a<<=32-d}else if(u===s)f=32,t=o,o=a,a=0;else{var l=u-s;f=32-l,t=o<<l|a>>>32-l,o=a<<l,a=0}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--)0<f?(f-=30,t=o>>>2,o=o<<30|a>>>2,a<<=30):t=0,i.__setDigit(h,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return c.__zero();for(var o=e.charCodeAt(i);c.__isWhitespace(o);){if(++i===n)return c.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++i===n)return c.__zero();o=e.charCodeAt(i)}var a=n-i,s=c.__kMaxBitsPerChar[t],u=c.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s)return null;var f=new c(0|(29+(s*a+u>>>c.__kBitsPerCharTableShift))/30,!1),d=10>t?t:10,l=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var h=!1,p=0;do{for(var b,y=0,g=1;;){if(b=void 0,o-48>>>0<d)b=o-48;else{if(!((32|o)-97>>>0<l)){h=!0;break}b=(32|o)-87}var m=g*t;if(1073741823<m)break;if(g=m,y=y*t+b,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var v=0|(s*p+(u=30*c.__kBitsPerCharTableMultiplier-1)>>>c.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(g,y,v)}while(!h)}else{s>>=c.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var x,A=0,E=0;;){if(x=void 0,o-48>>>0<d)x=o-48;else{if(!((32|o)-97>>>0<l)){S=!0;break}x=(32|o)-87}if(E+=s,A=A<<s|x,++i===n){S=!0;break}if(o=e.charCodeAt(i),30<E+s)break}_.push(A),w.push(E)}while(!S);c.__fillFromParts(f,_,w)}if(i!==n){if(!c.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!c.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,a=t.length-1;0<=a;a--){var s=t[a],c=r[a];i|=s<<o,30===(o+=c)?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),i=s>>>c-(o-=30))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,a=e.__digit(r-1),s=0|(30*r-c.__clz30(a)+i-1)/i;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var u=Array(s),f=s-1,d=0,l=0,h=0;h<r-1;h++){var p=e.__digit(h),b=(d|p<<l)&o;u[f--]=c.__kConversionChars[b];var y=i-l;for(d=p>>>y,l=30-y;l>=i;)u[f--]=c.__kConversionChars[d&o],d>>>=i,l-=i}var g=(d|a<<l)&o;for(u[f--]=c.__kConversionChars[g],d=a>>>i-l;0!==d;)u[f--]=c.__kConversionChars[d&o],d>>>=i;if(e.sign&&(u[f--]="-"),-1!==f)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,a,s=30*n-c.__clz30(e.__digit(n-1)),u=c.__kMaxBitsPerChar[t]-1,f=s*c.__kBitsPerCharTableMultiplier,d=1+(f=0|(f+=u-1)/u)>>1,l=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(d,!1)),h=l.__unsignedDigit(0);if(1===l.length&&32767>=h){(o=new c(e.length,!1)).__initializeDigits();for(var p,b=0,y=2*e.length-1;0<=y;y--)p=b<<15|e.__halfDigit(y),o.__setHalfDigit(y,0|p/h),b=0|p%h;a=b.toString(t)}else{var g=c.__absoluteDivLarge(e,l,!0,!0);o=g.quotient;var m=g.remainder.__trim();a=c.__toStringGeneric(m,t,!0)}o.__trim();for(var v=c.__toStringGeneric(o,t,!0);a.length<d;)a="0"+a;return!1===r&&e.sign&&(v="-"+v),v+a}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return c.__unequalSign(r);var n=c.__absoluteCompare(e,t);return 0<n?c.__absoluteGreater(r):0>n?c.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(c.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i)return c.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return c.__absoluteGreater(n);var o=t(r),a=e.__unsignedDigit(0);return a>o?c.__absoluteGreater(n):a<o?c.__absoluteLess(n):0}return c.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return c.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;c.__kBitConversionDouble[0]=t;var n=2047&c.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return c.__absoluteGreater(r);var o=e.length,a=e.__digit(o-1),s=c.__clz30(a),u=30*o-s,f=i+1;if(u<f)return c.__absoluteLess(r);if(u>f)return c.__absoluteGreater(r);var d=1048576|1048575&c.__kBitConversionInts[1],l=c.__kBitConversionInts[0],h=20,p=29-s;if(p!==(0|(u-1)%30))throw new Error("implementation bug");var b,y=0;if(p<h){var g=h-p;y=g+32,b=d>>>g,d=d<<32-g|l>>>g,l<<=32-g}else if(p===h)y=32,b=d,d=l,l=0;else{var m=p-h;y=32-m,b=d<<m|l>>>32-m,d=l<<m,l=0}if((a>>>=0)>(b>>>=0))return c.__absoluteGreater(r);if(a<b)return c.__absoluteLess(r);for(var v=o-2;0<=v;v--){0<y?(y-=30,b=d>>>2,d=d<<30|l>>>2,l<<=30):b=0;var _=e.__unsignedDigit(v);if(_>b)return c.__absoluteGreater(r);if(_<b)return c.__absoluteLess(r)}if(0!==d||0!==l){if(0===y)throw new Error("implementation bug");return c.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return c.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===c.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&"string"==typeof t)return null!==(t=c.__fromString(t))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("string"==typeof e&&c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return c.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new c(n,r),a=0,s=0;s<t.length;s++)a=(i=e.__digit(s)+t.__digit(s)+a)>>>30,o.__setDigit(s,1073741823&i);for(;s<e.length;s++){var u=e.__digit(s)+a;a=u>>>30,o.__setDigit(s,1073741823&u)}return s<o.length&&o.__setDigit(s,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);for(var n,i=new c(e.length,r),o=0,a=0;a<t.length;a++)o=1&(n=e.__digit(a)-t.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&n);for(;a<e.length;a++){var s=e.__digit(a)-o;o=1&s>>>30,i.__setDigit(a,1073741823&s)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new c(n,t):r.sign=t;for(var i,o=1,a=0;a<n;a++)o=(i=e.__digit(a)+o)>>>30,r.__setDigit(a,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new c(t=t||n,!1),o=1,a=0;a<n;a++)o=1&(r=e.__digit(a)-o)>>>30,i.__setDigit(a,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var s=n;s<t;s++)i.__setDigit(s,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=o;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var a=n;null===r?r=new c(a,!1):a=r.length;for(var s=0;s<o;s++)r.__setDigit(s,e.__digit(s)&~t.__digit(s));for(;s<n;s++)r.__setDigit(s,e.__digit(s));for(;s<a;s++)r.__setDigit(s,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,a=0,s=0,u=0;u<e.length;u++,n++){var f=r.__digit(n),d=e.__digit(u),l=32767&d,h=d>>>15,p=c.__imul(l,i),b=c.__imul(l,o),y=c.__imul(h,i);a=(f+=s+p+a)>>>30,f&=1073741823,a+=(f+=((32767&b)<<15)+((32767&y)<<15))>>>30,s=c.__imul(h,o)+(b>>>15)+(y>>>15),r.__setDigit(n,1073741823&f)}for(;0!==a||0!==s;n++){var g=r.__digit(n);g+=a+s,s=0,a=g>>>30,r.__setDigit(n,1073741823&g)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,a=0,s=0;s<n;s++){var u=e.__digit(s),f=c.__imul(32767&u,t),d=c.__imul(u>>>15,t),l=f+((32767&d)<<15)+a+o;o=l>>>30,a=d>>>15,i.__setDigit(s,1073741823&l)}if(i.length>n)for(i.__setDigit(n++,o+a);n<i.length;)i.__setDigit(n++,0);else if(0!==o+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new c(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,a=0|o/t,s=0|(o=((n=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,a<<15|s)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,a=e.__halfDigitLength()-i,s=null;r&&(s=new c(a+2>>>1,!1)).__initializeDigits();var u=new c(i+2>>>1,!1);u.__initializeDigits();var f=c.__clz15(t.__halfDigit(i-1));0<f&&(t=c.__specialLeftShift(t,f,0));for(var d=c.__specialLeftShift(e,f,1),l=t.__halfDigit(i-1),h=0,p=a;0<=p;p--){var b=32767,y=d.__halfDigit(p+i);if(y!==l){var g=(y<<15|d.__halfDigit(p+i-1))>>>0;b=0|g/l;for(var m=0|g%l,v=t.__halfDigit(i-2),_=d.__halfDigit(p+i-2);c.__imul(b,v)>>>0>(m<<16|_)>>>0&&(b--,!(32767<(m+=l))););}c.__internalMultiplyAdd(t,b,0,o,u);var w=d.__inplaceSub(u,p,i+1);0!==w&&(w=d.__inplaceAdd(t,p,i),d.__setHalfDigit(p+i,32767&d.__halfDigit(p+i)+w),b--),r&&(1&p?h=b<<15:s.__setDigit(p>>>1,h|b))}if(n)return d.__inplaceRightShift(f),r?{quotient:s,remainder:d}:d;if(r)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return c.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new c(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var a,s=0,u=0;u<n;u++)a=e.__digit(u),i.__setDigit(u,1073741823&a<<t|s),s=a>>>30-t;return 0<r&&i.__setDigit(n,s),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=c.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=e.length,a=0!==i&&0!=e.__digit(o-1)>>>30-i,s=o+n+(a?1:0),u=new c(s,e.sign);if(0===i){for(var f=0;f<n;f++)u.__setDigit(f,0);for(;f<s;f++)u.__setDigit(f,e.__digit(f-n))}else{for(var d=0,l=0;l<n;l++)u.__setDigit(l,0);for(var h,p=0;p<o;p++)h=e.__digit(p),u.__setDigit(p+n,1073741823&h<<i|d),d=h>>>30-i;if(a)u.__setDigit(o+n,d);else if(0!==d)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=c.__toShiftAmount(t);if(0>i)return c.__rightShiftByMaximum(n);var o=0|i/30,a=i%30,s=r-o;if(0>=s)return c.__rightShiftByMaximum(n);var u=!1;if(n)if(e.__digit(o)&(1<<a)-1)u=!0;else for(var f=0;f<o;f++)if(0!==e.__digit(f)){u=!0;break}u&&0===a&&0==~e.__digit(r-1)&&s++;var d=new c(s,n);if(0===a){d.__setDigit(s-1,0);for(var l=o;l<r;l++)d.__setDigit(l-o,e.__digit(l))}else{for(var h,p=e.__digit(o)>>>a,b=r-o-1,y=0;y<b;y++)h=e.__digit(y+o+1),d.__setDigit(y,1073741823&h<<30-a|p),p=h>>>a;d.__setDigit(b,p)}return u&&(d=c.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===c)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var a=o.call(e);if("object"!==r(a))return a}var s=e.toString;if(s){var u=s.call(e);if("object"!==r(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new c(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var a=t.__digit(i);if(0!=e%30){var s=32-e%30;a=a<<s>>>s}return n.__setDigit(i,a),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,i=Math.min,o=0|(e+29)/30,a=new c(o,r),s=0,u=o-1,f=0,d=i(u,t.length);s<d;s++)f=1&(n=0-t.__digit(s)-f)>>>30,a.__setDigit(s,1073741823&n);for(;s<u;s++)a.__setDigit(s,1073741823&-f);var l,h=u<t.length?t.__digit(u):0,p=e%30;if(0===p)l=0-h-f,l&=1073741823;else{var b=32-p,y=1<<32-b;l=y-(h=h<<b>>>b)-f,l&=y-1}return a.__setDigit(u,l),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),c}(l(Array));return x.__kMaxLength=33554432,x.__kMaxLengthBits=x.__kMaxLength<<5,x.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],x.__kBitsPerCharTableShift=5,x.__kBitsPerCharTableMultiplier=1<<x.__kBitsPerCharTableShift,x.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],x.__kBitConversionBuffer=new ArrayBuffer(8),x.__kBitConversionDouble=new Float64Array(x.__kBitConversionBuffer),x.__kBitConversionInts=new Int32Array(x.__kBitConversionBuffer),x.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},x.__imul=e||function(e,t){return 0|e*t},x}()},41055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBytesCodec=o,t.createFixedBytesCodec=function(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...o({pack:r=>{const i=e.pack(r);return(0,n.assertBufferLength)(i,t),i},unpack:r=>((0,n.assertBufferLength)(r,t),e.unpack(r))})}},t.isFixedCodec=function(e){return(0,n.isObjectLike)(e)&&!!e.__isFixedCodec__};var n=r(28921),i=r(53971);function o(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,i.bytify)(t))}}},53971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytify=u,t.bytifyRawString=function(e){(0,n.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);r.setUint8(t,n)}return new Uint8Array(t)},t.concat=function(...e){const t=e.map(u),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);let i=0;return t.forEach((e=>{n.set(e,i),i+=e.length})),n},t.equal=function(e,t){const r=u(e),n=u(t);return function(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}(r,n)},t.hexify=function(e){let t="";const r=u(e);for(let e=0;e<r.length;e++)t+=f[r[e]];return"0x"+t};var n=r(28921);const i="0".charCodeAt(0),o="9".charCodeAt(0),a="A".charCodeAt(0),s="F".charCodeAt(0),c="a".charCodeAt(0);function u(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e)return function(e){(0,n.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r+=2,n++){const u=e.charCodeAt(r),f=e.charCodeAt(r+1),d=u<=o?u-i:u<=s?u-a+10:u-c+10,l=f<=o?f-i:f<=s?f-a+10:f-c+10;t[n]=d<<4|l}return t}(e);if(Array.isArray(e))return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}(e);throw new Error(`Cannot convert ${e}`)}const f=Array.from({length:256}).map(((e,t)=>t.toString(16).padStart(2,"0")))},80754:(e,t)=>{"use strict";function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CodecExecuteError=t.CodecBaseParseError=t.CODEC_OPTIONAL_PATH=void 0,t.isCodecExecuteError=function(e){return e instanceof Error&&e.name===o};const n="__lc_option__";t.CODEC_OPTIONAL_PATH=n;class i extends Error{constructor(e,t){super(e),this.expectedType=t}}t.CodecBaseParseError=i;const o="CodecExecuteError";class a extends Error{constructor(e){super(),r(this,"name",o),r(this,"keys",[]),this.origin=e}updateKey(e){this.keys.push(e),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var e;const t=this.keys.reduceRight(((e,t,r)=>e+(t=t===n?0===r?"?":"?.":"number"==typeof t?`[${t}]`:`.${t}`)),"input");return`Expect type ${this.origin.expectedType} at ${t} but got error: ${this.origin.message}\n    ${null===(e=this.origin.stack)||void 0===e?void 0:e.replace(/Error:.+?\n/,"")}\n    `}}t.CodecExecuteError=a},96296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(4893)},4893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayCodec=function(e){return{pack:t=>t.map(((t,r)=>(0,n.trackCodeExecuteError)(r,(()=>e.pack(t))))),unpack:t=>t.map((t=>e.unpack(t)))}},t.createNullableCodec=function(e){return{pack:t=>null==t?t:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>e.pack(t))),unpack:t=>null==t?t:e.unpack(t)}},t.createObjectCodec=function(e){const t=Object.entries(e);return{pack:e=>{const r={};return t.forEach((([t,i])=>{Object.assign(r,{[t]:(0,n.trackCodeExecuteError)(t,(()=>i.pack(e[t])))})})),r},unpack:e=>{const r={};return t.forEach((([t,n])=>{Object.assign(r,{[t]:n.unpack(e[t])})})),r}}},t.enhancePack=function(e,t,r){return{pack:r=>t(e.pack(r)),unpack:t=>e.unpack(r(t))}};var n=r(28921),i=r(80754)},30464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),t.number=t.molecule=void 0;var i=r(41055),o=r(96296);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=f(r(53971));t.bytes=a;var s=f(r(632));t.number=s;var c=f(r(95901));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.molecule=c},32989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayOf=s,t.byteOf=function(e){return s({...e,byteLength:1})},t.byteVecOf=function(e){return(0,o.createBytesCodec)({pack(t){const r=e.pack(t),n=a.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(t){(0,n.assertMinBufferLength)(t,4);const r=a.Uint32LE.unpack(t.slice(0,4));return(0,n.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})};var n=r(28921),i=r(53971),o=r(41055),a=r(632);function s(e){const t=e.byteLength;return(0,o.createFixedBytesCodec)({byteLength:t,pack:t=>e.pack(t),unpack:t=>e.unpack(t)})}},95901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(32989),i=r(11263)},11263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=c,t.dynvec=l,t.fixvec=d,t.option=function(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createNullableCodec)(e);return null!=t?r.pack(t):Uint8Array.from([])},unpack(t){if(0!==t.byteLength)return e.unpack(t)}})},t.struct=function(e,t){f(e,t);const r=(0,s.createObjectCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:t.reduce(((t,r)=>t+e[r].byteLength),0),pack(e){const n=r.pack(e);return t.reduce(((e,t)=>(0,o.concat)(e,n[t])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return t.forEach((t=>{const o=e[t],a=r.slice(i,i+o.byteLength);Object.assign(n,{[t]:o.unpack(a)}),i+=o.byteLength})),n}})},t.table=function(e,t){return f(e,t),(0,n.createBytesCodec)({pack(r){const n=4+4*t.length,a=(0,s.createObjectCodec)(e).pack(r),c=t.reduce(((e,t)=>{const r=a[t],n=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,n),body:(0,o.concat)(e.body,r),offset:e.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),u=i.Uint32LE.pack(c.header.byteLength+c.body.byteLength+4);return(0,o.concat)(u,c.header,c.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===t.length)return{};{const o=t.map(((e,t)=>i.Uint32LE.unpack(r.slice(4+4*t,8+4*t))));o.push(n);const a={};for(let n=0;n<o.length-1;n++){const i=o[n],s=o[n+1],c=t[n],u=e[c],f=r.slice(i,s);Object.assign(a,{[c]:u.unpack(f)})}return a}}})},t.union=function(e,t){if(f(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const e=Object.values(t);if(e.length!==new Set(e).size)throw new Error(`Duplicated id in union: ${e.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(e),s=r.type,c=`Union(${n.join(" | ")})`;if("string"!=typeof s)throw new a.CodecBaseParseError("Invalid type in union, type must be a string",c);const u=Array.isArray(t)?t.indexOf(s):t[s];if(u<0)throw new a.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,c);const f=i.Uint32LE.pack(u),d=e[s].pack(r.value);return(0,o.concat)(f,d)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(t))return t[n];const e=Object.entries(t).find((([,e])=>e===n));return null==e?void 0:e[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:o,value:e[o].unpack(r.slice(4))}}})},t.vector=function(e){if((0,n.isFixedCodec)(e))return d(e);return l(e)};var n=r(41055),i=r(632),o=r(53971),a=r(80754),s=r(96296);function c(e,t){const r=(0,s.createArrayCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(e){const t=r.pack(e);return(0,o.concat)(...t)},unpack(t){const r=[],n=e.byteLength;for(let i=0;i<t.byteLength;i+=n)r.push(e.unpack(t.slice(i,i+n)));return r}})}function u(e,t){return e.filter((e=>!t.includes(e)))}function f(e,t){const r=Object.keys(e),n=u(r,t),i=u(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function d(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createArrayCodec)(e);return(0,o.concat)(i.Uint32LE.pack(t.length),r.pack(t).reduce(((e,t)=>(0,o.concat)(e,t)),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=i.Uint32LE.unpack(t.slice(0,4));return c(e,r).unpack(t.slice(4))}})}function l(e){return(0,n.createBytesCodec)({pack(t){const r=(0,s.createArrayCodec)(e).pack(t).reduce(((e,t)=>{const r=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,r),body:(0,o.concat)(e.body,t),offset:e.offset+t.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*t.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(t){const r=i.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(t.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((e,r)=>i.Uint32LE.unpack(t.slice(4+4*r,8+4*r))));o.push(r);const a=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],s=t.slice(n,i);a.push(e.unpack(s))}return a}}})}},632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21290);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},21290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return n.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var n=r(70071),i=r(41055),o=r(80754);function a(e,t=!1){const r=s(e,t);return{__isFixedCodec__:!0,byteLength:e,pack:e=>r.pack(e),unpack:e=>r.unpack(e).toNumber()}}const s=(e,t=!1)=>{const r=n.BI.from(1).shl(8*e).sub(1);return(0,i.createFixedBytesCodec)({byteLength:e,pack(i){let a=t?"LE":"BE";e<=1&&(a="");const s=`Uint${8*e}${a}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,s);let c=n.BI.from(i);!function(e,t,r,i){if((e=n.BI.from(e)).lt(t)||e.gt(r))throw new o.CodecBaseParseError(`Value must be between ${t.toString()} and ${r.toString()}, but got ${e.toString()}`,i)}(c,0,r,s);const u=new DataView(new ArrayBuffer(e));for(let r=0;r<e;r++)t?u.setUint8(r,c.and(255).toNumber()):u.setUint8(e-r-1,c.and(255).toNumber()),c=c.shr(8);return new Uint8Array(u.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<e;r++)o=t?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},c=a(1);t.Uint8=c;const u=a(2,!0);t.Uint16LE=u;const f=a(2);t.Uint16BE=f;const d=u;t.Uint16=d;const l=a(4,!0);t.Uint32LE=l;const h=a(4);t.Uint32BE=h;const p=l;t.Uint32=p;const b=s(8,!0);t.Uint64LE=b;const y=s(8);t.Uint64BE=y;const g=b;t.Uint64=g;const m=s(16,!0);t.Uint128LE=m;const v=s(16);t.Uint128BE=v;const _=m;t.Uint128=_;const w=s(32,!0);t.Uint256LE=w;const S=s(32);t.Uint256BE=S;const x=w;t.Uint256=x;const A=s(64,!0);t.Uint512LE=A;const E=s(64);t.Uint512BE=E;const I=A;t.Uint512=I},28921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBufferLength=function(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)},t.assertHexDecimal=function(e,t){if(f(e),2===e.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if("number"==typeof t&&r>2*t+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);d(e)},t.assertHexString=function(e,t){f(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof t&&r!==2*t+2)throw new Error("Invalid hex string length, not match with byteLength!");d(e)},t.assertMinBufferLength=function(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)},t.assertUtf8String=function(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}},t.isObjectLike=function(e){return!!e&&"object"==typeof e},t.trackCodeExecuteError=function(e,t){try{return t()}catch(t){const r=(0,n.isCodecExecuteError)(t)?t:new n.CodecExecuteError(t);throw r.updateKey(e),r}};var n=r(80754);const i="0".charCodeAt(0),o="9".charCodeAt(0),a="A".charCodeAt(0),s="F".charCodeAt(0),c="a".charCodeAt(0),u="f".charCodeAt(0);function f(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string")}function d(e){const t=e.length;for(let r=2;r<t;r++){const t=e[r].charCodeAt(0);if(!(t>=i&&t<=o||t>=c&&t<=u||t>=a&&t<=s))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}},32932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return n.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var n=r(72837),i=c(r(82356));t.normalizers=i;var o=c(r(5950));t.transformers=o;var a=c(r(1957));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.validators=a;t.VERSION="__development_build__"},82356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizeBlock=function(e,{debugPath:t="block"}={}){return s(t,e,{header:f(m),uncles:p(f(v)),transactions:p(f(y)),proposals:p(a(10))})},t.NormalizeCellDep=h,t.NormalizeCellInput=d,t.NormalizeCellOutput=l,t.NormalizeCellbaseWitness=function(e,{debugPath:t="cellbase_witness"}={}){return s(t,e,{lock:f(c),message:a(-1)})},t.NormalizeHeader=m,t.NormalizeOutPoint=u,t.NormalizeRawHeader=g,t.NormalizeRawTransaction=b,t.NormalizeScript=c,t.NormalizeTransaction=y,t.NormalizeUncleBlock=v,t.NormalizeWitnessArgs=function(e,{debugPath:t="witness_args"}={}){const r={};e.lock&&(r.lock=a(-1)(`${t}.lock`,e.lock));e.inputType&&(r.inputType=a(-1)(`${t}.inputType`,e.inputType));e.outputType&&(r.outputType=a(-1)(`${t}.outputType`,e.outputType));return r};var n=r(70071),i=r(72837);function o(e){return function(t,r){if(!(r instanceof ArrayBuffer)){let i=n.BI.from(r).toString(16);if(i.length%2!=0&&(i="0"+i),i.length/2>e)throw new Error(`${t} is ${i.length/2} bytes long, expected length is ${e}!`);const o=new DataView(new ArrayBuffer(e));for(let e=0;e<i.length/2;e++){const t=i.length-2*(e+1);o.setUint8(e,parseInt(i.substr(t,2),16))}r=o.buffer}if(r.byteLength<e){const t=new Uint8Array(e);t.set(new Uint8Array(r),0),r=t.buffer}return r}}function a(e){return function(t,r){if(r=new i.Reader(r).toArrayBuffer(),e>0&&r.byteLength!==e)throw new Error(`${t} has invalid length ${r.byteLength}, required: ${e}`);return r}}function s(e,t,r){const n={};for(const[i,o]of Object.entries(r)){const r=t[i];if(null==r)throw new Error(`${e} is missing ${i}!`);n[i]=o(`${e}.${i}`,r)}return n}function c(e,{debugPath:t="script"}={}){return s(t,e,{codeHash:a(32),hashType:function(e,t){switch(t){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:case 1:case 2:case 4:return t;default:throw new Error(`${e}.hashType has invalid value: ${t}`)}},args:a(-1)})}function u(e,{debugPath:t="outPoint"}={}){return s(t,e,{txHash:a(32),index:o(4)})}function f(e){return function(t,r){return e(r,{debugPath:t})}}function d(e,{debugPath:t="cell_input"}={}){return s(t,e,{since:o(8),previousOutput:f(u)})}function l(e,{debugPath:t="cellOutput"}={}){const r=s(t,e,{capacity:o(8),lock:f(c)});return e.type&&(r.type_=c(e.type,{debugPath:`${t}.type`})),r}function h(e,{debugPath:t="cell_dep"}={}){return s(t,e,{outPoint:f(u),depType:function(e,t){switch(t){case"code":return 0;case"depGroup":return 1;case 0:case 1:return t;default:throw new Error(`${e}.depType has invalid value: ${t}`)}}})}function p(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function b(e,{debugPath:t="raw_transaction"}={}){return s(t,e,{version:o(4),cellDeps:p(f(h)),headerDeps:p(a(32)),inputs:p(f(d)),outputs:p(f(l)),outputsData:p(a(-1))})}function y(e,{debugPath:t="transaction"}={}){const r=b(e,{debugPath:`(raw)${t}`}),n=s(t,e,{witnesses:p(a(-1))});return n.raw=r,n}function g(e,{debugPath:t="raw_header"}={}){return s(t,e,{version:o(4),compactTarget:o(4),timestamp:o(8),number:o(8),epoch:o(8),parentHash:a(32),transactionsRoot:a(32),proposalsHash:a(32),extraHash:a(32),dao:a(32)})}function m(e,{debugPath:t="header"}={}){const r=g(e,{debugPath:`(raw)${t}`}),n=s(t,e,{nonce:o(16)});return n.raw=r,n}function v(e,{debugPath:t="uncle_block"}={}){return s(t,e,{header:f(m),proposals:p(a(10))})}},72837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=void 0;class r{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return null!=e&&(e instanceof r||!0===e.__isByteLikeReader__)}}class n extends r{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),(e=>("00"+e.toString(16)).slice(-2))).join("")}}class i extends r{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+2*e,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),t=new DataView(e);for(let e=0;e<this.length();e++)t.setUint8(e,this.indexAt(e));return e}serializeJson(){return this.string}}class o extends r{constructor(e){if(super(),e instanceof i||e instanceof n)return e;if("string"==typeof e){if(!e.startsWith("0x")||e.length%2!=0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new i(e)}if(e instanceof ArrayBuffer)return new n(e);if(e instanceof Uint8Array)return new n(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new o(e)}static fromRawString(e){const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>255)throw new Error("fromRawString can only accept UTF-8 raw string!");r.setUint8(t,n)}return new n(t)}}t.Reader=o},5950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformBlock=function(e,{validation:t=!0,debugPath:r="block"}={}){e=a(r,e,{header:u(b),uncles:h(u(y)),transactions:h(u(p)),proposals:h(o)}),t&&n.ValidateBlock(e,{debugPath:`(transformed) ${r}`});return e},t.TransformCellInput=f,t.TransformCellOutput=d,t.TransformCellbaseWitness=function(e,{validation:t=!0,debugPath:r="cellbase_witness"}={}){e=a(r,e,{lock:u(s),message:o}),t&&n.ValidateCellbaseWitness(e,{debugPath:`(transformed) ${r}`});return e},t.TransformHeader=b,t.TransformOutPoint=c,t.TransformRawHeader=function(e,{validation:t=!0,debugPath:r="raw_header"}={}){e=a(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o}),t&&n.ValidateRawHeader(e,{debugPath:`(transformed) ${r}`});return e},t.TransformRawTransaction=function(e,{validation:t=!0,debugPath:r="raw_transaction"}={}){e=a(r,e,{version:o,cellDeps:h(u(l)),headerDeps:h(o),inputs:h(u(f)),outputs:h(u(d)),outputsData:h(o)}),t&&n.ValidateRawTransaction(e,{debugPath:`(transformed) ${r}`});return e},t.TransformScript=s,t.TransformTransaction=p,t.TransformUncleBlock=y,t.TransformWitnessArgs=function(e,{validation:t=!0,debugPath:r="witness_args"}={}){e=a(r,e,{lock:o,inputType:o,outputType:o}),t&&n.ValidateWitnessArgs(e,{debugPath:`(transformed) ${r}`});return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(1957));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){return t instanceof Object&&t.serializeJson instanceof Function?t.serializeJson.call(t):t}function a(e,t,r){if(!((t=o(0,t))instanceof Object))throw new Error(`Transformed ${e} is not an object!`);const n={};for(const[i,o]of Object.entries(r)){let r=t[i];if(!r){r=t[i.replace(/(_[a-z])/g,(e=>e.toUpperCase().replace("_","")))]}r&&(n[i]=o(`${e}.${i}`,r))}return n}function s(e,{validation:t=!0,debugPath:r="script"}={}){return e=a(r,e,{codeHash:o,hashType:o,args:o}),t&&n.ValidateScript(e,{debugPath:`(transformed) ${r}`}),e}function c(e,{validation:t=!0,debugPath:r="outPoint"}={}){return e=a(r,e,{txHash:o,index:o}),t&&n.ValidateOutPoint(e,{debugPath:`(transformed) ${r}`}),e}function u(e){return function(t,r){return e(r,{validation:!1,debugPath:t})}}function f(e,{validation:t=!0,debugPath:r="cell_input"}={}){return e=a(r,e,{since:o,previousOutput:u(c)}),t&&n.ValidateCellInput(e,{debugPath:`(transformed) ${r}`}),e}function d(e,{validation:t=!0,debugPath:r="cellOutput"}={}){return e=a(r,e,{capacity:o,lock:u(s),type:u(s)}),t&&n.ValidateCellOutput(e,{debugPath:`(transformed) ${r}`}),e}function l(e,{validation:t=!0,debugPath:r="cell_dep"}={}){return e=a(r,e,{outPoint:u(c),depType:o}),t&&n.ValidateCellDep(e,{debugPath:`(transformed) ${r}`}),e}function h(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function p(e,{validation:t=!0,debugPath:r="transaction"}={}){return e=a(r,e,{version:o,cellDeps:h(u(l)),headerDeps:h(o),inputs:h(u(f)),outputs:h(u(d)),outputsData:h(o),witnesses:h(o)}),t&&n.ValidateTransaction(e,{debugPath:`(transformed) ${r}`}),e}function b(e,{validation:t=!0,debugPath:r="header"}={}){return e=a(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o,nonce:o}),t&&n.ValidateHeader(e,{debugPath:`(transformed) ${r}`}),e}function y(e,{validation:t=!0,debugPath:r="uncle_block"}={}){return e=a(r,e,{header:u(b),proposals:h(o)}),t&&n.ValidateUncleBlock(e,{debugPath:`(transformed) ${r}`}),e}},1957:(e,t)=>{"use strict";function r(e,t,r,n=[]){!function(e,t){if(!(t instanceof Object))throw new Error(`${e} is not an object!`)}(e,t);const i=Object.keys(t).sort(),o=r.length,a=r.length+n.length,s=`${e} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<o||i.length>a)throw new Error(s);let c=i.filter((e=>!r.includes(e)));if(i.length-c.length!==o)throw new Error(s);if(c.find((e=>!n.includes(e))))throw new Error(s)}function n(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function i(e,t){if(n(e,t),66!==t.length)throw new Error(`${e} must be a hex string of 66 bytes long!`)}function o(e,t){if("0x0"!==t&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function a(e,{nestedValidation:t=!0,debugPath:o="script"}={}){if(r(o,e,["codeHash","hashType","args"],[]),i(`${o}.codeHash`,e.codeHash),n(`${o}.args`,e.args),"data"!==e.hashType&&"type"!==e.hashType&&"data1"!==e.hashType&&"data2"!==e.hashType)throw new Error(`${o}.hashType must be either data or type!`)}function s(e,{nestedValidation:t=!0,debugPath:n="outPoint"}={}){r(n,e,["txHash","index"],[]),i(`${n}.txHash`,e.txHash),o(`${n}.index`,e.index)}function c(e,{nestedValidation:t=!0,debugPath:n="cellInput"}={}){r(n,e,["since","previousOutput"],[]),o(`${n}.since`,e.since),t&&s(e.previousOutput,{debugPath:`${n}.previousOutput`})}function u(e,{nestedValidation:t=!0,debugPath:n="cellOutput"}={}){r(n,e,["capacity","lock"],["type"]),o(`${n}.capacity`,e.capacity),t&&(a(e.lock,{debugPath:`${n}.lock`}),e.type&&a(e.type,{debugPath:`${n}.type`}))}function f(e,{nestedValidation:t=!0,debugPath:n="cellDep"}={}){if(r(n,e,["outPoint","depType"],[]),"code"!==e.depType&&"depGroup"!==e.depType)throw new Error(`${n}.depType must be either code or depGroup!`);t&&s(e.outPoint,{debugPath:`${n}.outPoint`})}function d(e,t,r,n){if(!Array.isArray(t))throw new Error(`${e} is not an array!`);if(n)for(let n=0;n<t.length;n++)r(`${e}[${n}]`,t[n])}function l(e,t){return function(r,n){e(n,{nestedValidation:t,debugPath:r})}}function h(e,t,r){o(`${e}.version`,t.version),d(`${e}.cellDeps`,t.cellDeps,l(f,r),r),d(`${e}.headerDeps`,t.headerDeps,i,r),d(`${e}.inputs`,t.inputs,l(c,r),r),d(`${e}.outputs`,t.outputs,l(u,r),r),d(`${e}.outputsData`,t.outputsData,n,r)}function p(e,{nestedValidation:t=!0,debugPath:i="transaction"}={}){r(i,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),h(i,e,t),d(`${i}.witnesses`,e.witnesses,n,t)}function b(e,{nestedValidation:t=!0,debugPath:i="header"}={}){if(r(i,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),n(`${i}.nonce`,e.nonce),34!==e.nonce.length)throw new Error(`${i}.nonce must be a hex string of 34 bytes long!`)}function y(e,t){if(n(e,t),22!==t.length)throw new Error(`${e} must be a hex string of 22 bytes long!`)}function g(e,{nestedValidation:t=!0,debugPath:n="uncleBlock"}={}){r(n,e,["header","proposals"],[]),t&&b(e.header,{debugPath:`${n}.header`}),d(`${n}.proposals`,e.proposals,y,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateBlock=function(e,{nestedValidation:t=!0,debugPath:n="block"}={}){r(n,e,["header","uncles","transactions","proposals"],[]),t&&b(e.header,{debugPath:`${n}.header`});d(`${n}.uncles`,e.uncles,l(g,t),t),d(`${n}.transactions`,e.transactions,l(p,t),t),d(`${n}.proposals`,e.proposals,y,t)},t.ValidateCellDep=f,t.ValidateCellInput=c,t.ValidateCellOutput=u,t.ValidateCellbaseWitness=function(e,{nestedValidation:t=!0,debugPath:i="cellbaseWitness"}={}){r(i,e,["lock","message"],[]),n(`${i}.message`,e.message),t&&a(e.lock,{debugPath:`${i}.lock`})},t.ValidateHeader=b,t.ValidateOutPoint=s,t.ValidateRawHeader=function(e,{nestedValidation:t=!0,debugPath:n="rawHeader"}={}){r(n,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),function(e,t){o(`${e}.version`,t.version),o(`${e}.compactTarget`,t.compactTarget),o(`${e}.timestamp`,t.timestamp),o(`${e}.number`,t.number),o(`${e}.epoch`,t.epoch),i(`${e}.parentHash`,t.parentHash),i(`${e}.transactionsRoot`,t.transactionsRoot),i(`${e}.proposalsHash`,t.proposalsHash),i(`${e}.extraHash`,t.extraHash),i(`${e}.dao`,t.dao)}(n,e)},t.ValidateRawTransaction=function(e,{nestedValidation:t=!0,debugPath:n="rawTransaction"}={}){r(n,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),h(n,e,t)},t.ValidateScript=a,t.ValidateTransaction=p,t.ValidateUncleBlock=g,t.ValidateWitnessArgs=function(e,{nestedValidation:t=!0,debugPath:i="witnessArgs"}={}){r(i,e,[],["lock","inputType","outputType"]),e.lock&&n(`${i}.lock`,e.lock);e.inputType&&n(`${i}.inputType`,e.inputType);e.outputType&&n(`${i}.outputType`,e.outputType)}},88830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addressToScript=t.parseAddress=t.pubkeyToAddress=t.fullPayloadToAddress=t.bech32Address=t.toAddressPayload=t.scriptToAddress=t.Bech32Type=t.AddressType=t.AddressPrefix=void 0;const n=r(48489),i=r(47710),o=r(55217),a=r(1936),s=1023;var c,u,f;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(c=t.AddressPrefix||(t.AddressPrefix={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(u=t.AddressType||(t.AddressType={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(f=t.Bech32Type||(t.Bech32Type={}));const d=({codeHash:e,hashType:t,args:r})=>{if(!r.startsWith("0x"))throw new a.HexStringWithout0xException(r);if(!e.startsWith("0x")||66!==e.length)throw new a.CodeHashException(e);let n;if(function(e){e.data="00",e.type="01",e.data1="02",e.data2="04"}(n||(n={})),!n[t])throw new a.HashTypeException(t);return(0,o.hexToBytes)(`0x00${e.slice(2)}${n[t]}${r.slice(2)}`)};t.scriptToAddress=(e,t=!0)=>((e,t=!0)=>n.bech32m.encode(t?c.Mainnet:c.Testnet,n.bech32m.toWords(e),s))(d(e),t);t.toAddressPayload=(e,t=u.HashIdx,r,n)=>{if("string"==typeof e&&!e.startsWith("0x"))throw new a.HexStringWithout0xException(e);if(![u.HashIdx,u.DataCodeHash,u.TypeCodeHash,u.FullVersion].includes(t))throw new a.AddressFormatTypeException(+t);if([u.DataCodeHash,u.TypeCodeHash].includes(t)&&console.warn("Address of 'AddressType.DataCodeHash' or 'AddressType.TypeCodeHash' is deprecated, please use address of AddressPrefix.FullVersion"),r||(r=t===u.HashIdx?"0x00":i.SECP256K1_BLAKE160.codeHash),t!==u.FullVersion)return new Uint8Array([...(0,o.hexToBytes)(t),...(0,o.hexToBytes)(r),..."string"==typeof e?(0,o.hexToBytes)(e):e]);if(n||r!==i.SECP256K1_BLAKE160.codeHash||(n=i.SECP256K1_BLAKE160.hashType),!r.startsWith("0x")||66!==r.length)throw new a.CodeHashException(r);if(!n)throw new a.ParameterRequiredException("hashType");return d({codeHash:r,hashType:n,args:"string"==typeof e?e:(0,o.bytesToHex)(e)})};t.bech32Address=(e,{prefix:r=c.Mainnet,type:i=u.HashIdx,codeHashOrCodeHashIndex:o=""}={})=>n.bech32.encode(r,n.bech32.toWords((0,t.toAddressPayload)(e,i,o)),s);t.fullPayloadToAddress=({args:e,prefix:r,type:n=u.DataCodeHash,codeHash:i})=>(0,t.bech32Address)(e,{prefix:r,type:n,codeHashOrCodeHashIndex:i});t.pubkeyToAddress=(e,r={})=>{const i=(0,n.blake160)(e);return(0,t.bech32Address)(i,r)};const l=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+u.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new a.AddressPayloadException(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new a.AddressPayloadException(e,"short");default:throw new a.AddressPayloadException(e,"short")}})(e,t);break;case+u.DataCodeHash:case+u.TypeCodeHash:if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);if(n.length<32)throw new a.AddressPayloadException(e,"full");break;case+u.FullVersion:{if(t!==f.Bech32m)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);const e=n.slice(0,32);if(e.length<32)throw new a.CodeHashException((0,o.bytesToHex)(e));const i=parseInt(n[32].toString(),16);if(![0,1,2,4].includes(i))throw new a.HashTypeException(`0x${i.toString(16)}`);break}default:throw new a.AddressPayloadException(e)}};t.parseAddress=(e,t="binary")=>{let r,i=new Uint8Array;try{const t=n.bech32.decode(e,s);r=f.Bech32,i=new Uint8Array(n.bech32.fromWords(new Uint8Array(t.words)))}catch(t){const o=n.bech32m.decode(e,s);r=f.Bech32m,i=new Uint8Array(n.bech32m.fromWords(new Uint8Array(o.words)))}try{l(i,r)}catch(t){if(t instanceof a.AddressFormatTypeAndEncodeMethodNotMatchException)throw t;throw new a.AddressException(e,t.stack,t.type)}return"binary"===t?i:(0,o.bytesToHex)(i)};t.addressToScript=e=>{const r=(0,t.parseAddress)(e),n=r[0];switch(n){case+u.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},t=(0,o.bytesToHex)(r);return{codeHash:`0x${t.substr(4,64)}`,hashType:e[t.substr(68,2)],args:`0x${t.substr(70)}`}}case+u.HashIdx:{const t=[i.SECP256K1_BLAKE160,i.SECP256K1_MULTISIG,e.startsWith(c.Mainnet)?i.ANYONE_CAN_PAY_MAINNET:i.ANYONE_CAN_PAY_TESTNET],n=r[1],a=r.slice(2),s=t[n];return{codeHash:s.codeHash,hashType:s.hashType,args:(0,o.bytesToHex)(a)}}case+u.DataCodeHash:case+u.TypeCodeHash:{const e=(0,o.bytesToHex)(r.slice(1)),t=n===+u.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:t,args:`0x${e.substr(66)}`}}default:throw new a.AddressFormatTypeException(n)}}},3361:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransactionFee=void 0;const n=(0,r(14528).__importDefault)(r(75951)),i=r(11994);t.calculateTransactionFee=(e,t)=>{(0,i.assertToBeHexStringOrBigint)(e),(0,i.assertToBeHexStringOrBigint)(t);const r=n.default.BigInt(1e3),o=n.default.multiply(n.default.BigInt(`${e}`),n.default.BigInt(`${t}`)),a=n.default.divide(o,r);return n.default.lessThan(n.default.multiply(a,r),o)?`0x${n.default.add(a,n.default.BigInt(1)).toString(16)}`:`0x${a.toString(16)}`},t.default=t.calculateTransactionFee},96266:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SECP_SIG=t.EMPTY_WITNESS_ARGS=t.PERSONAL=void 0,t.PERSONAL=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),t.EMPTY_WITNESS_ARGS={lock:"",inputType:"",outputType:""},t.EMPTY_SECP_SIG=`0x${"0".repeat(130)}`,t.default={PERSONAL:t.PERSONAL,EMPTY_WITNESS_ARGS:t.EMPTY_WITNESS_ARGS,EMPTY_SECP_SIG:t.EMPTY_SECP_SIG}},55217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToHex=t.toBigEndian=t.hexToBytes=t.toUint64Le=t.toUint32Le=t.toUint16Le=void 0;const n=r(11994),i=r(1936);t.toUint16Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(2));return t.setUint16(0,Number(e),!0),`0x${t.getUint16(0,!1).toString(16).padStart(4,"0")}`};t.toUint32Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`};t.toUint64Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const r=("bigint"==typeof e?e.toString(16):e.slice(2)).padStart(16,"0"),i=(0,t.toUint32Le)(`0x${r.slice(0,8)}`).slice(2);return`0x${(0,t.toUint32Le)(`0x${r.slice(8)}`).slice(2)}${i}`};t.hexToBytes=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new i.HexStringWithout0xException(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)};t.toBigEndian=e=>{(0,n.assertToBeHexString)(e);return`0x${(0,t.hexToBytes)(e).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`};t.bytesToHex=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`,t.default={toUint16Le:t.toUint16Le,toUint32Le:t.toUint32Le,toUint64Le:t.toUint64Le,hexToBytes:t.hexToBytes,bytesToHex:t.bytesToHex,toBigEndian:t.toBigEndian}},79997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake160=void 0;const n=(0,r(14528).__importDefault)(r(6838)),i=r(55217),o=r(96266);t.blake160=(e,t="binary")=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,a=(0,n.default)(32,null,null,o.PERSONAL);return a.update(r),a.digest(t).slice(0,"binary"===t?20:40)},t.default=t.blake160},6838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.Blake2b=void 0;const{OutLenTooSmallException:n,OutLenTooLargeException:i,KeyLenTooSmallException:o,KeyLenTooLargeException:a,OutTypeException:s,SaltTypeException:c,SaltLenException:u,InputTypeException:f,KeyTypeException:d,PersonalTypeException:l,PersonalLenException:h}=r(1936),p=new Uint32Array(32),b=new Uint32Array(32),y=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},g=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},m=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,v=(e,t,r,n,i,o)=>{const a=b[i],s=b[i+1],c=b[o],u=b[o+1];y(p,e,t),g(p,e,a,s);let f=p[n]^p[e],d=p[n+1]^p[e+1];p[n]=d,p[n+1]=f,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=f>>>24^d<<8,p[t+1]=d>>>24^f<<8,y(p,e,t),g(p,e,c,u),f=p[n]^p[e],d=p[n+1]^p[e+1],p[n]=f>>>16^d<<16,p[n+1]=d>>>16^f<<16,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=d>>>31^f<<1,p[t+1]=f>>>31^d<<1},_=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),S=(e,t)=>{let r=0;for(r=0;r<16;r++)p[r]=e.h[r],p[r+16]=_[r];for(p[24]^=e.t,p[25]^=e.t/4294967296,t&&(p[28]=~p[28],p[29]=~p[29]),r=0;r<32;r++)b[r]=m(e.b,4*r);for(r=0;r<12;r++)v(0,8,16,24,w[16*r+0],w[16*r+1]),v(2,10,18,26,w[16*r+2],w[16*r+3]),v(4,12,20,28,w[16*r+4],w[16*r+5]),v(6,14,22,30,w[16*r+6],w[16*r+7]),v(0,10,20,30,w[16*r+8],w[16*r+9]),v(2,12,22,24,w[16*r+10],w[16*r+11]),v(4,14,16,26,w[16*r+12],w[16*r+13]),v(6,8,18,28,w[16*r+14],w[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^p[r]^p[r+16]},x=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,S(e,!1),e.c=0),e.b[e.c++]=+t[r]},A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class E{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new f;return x(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new s;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;S(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,A.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,A[0]=e,t&&(A[1]=t.length),A[2]=1,A[3]=1,r&&A.set(r,32),n&&A.set(n,48);for(let e=0;e<16;e++)this.h[e]=_[e]^m(A,4*e);t&&(x(this,t),this.c=128)}}t.Blake2b=E;t.blake2b=(e,t,r,s,f)=>{if(!0!==f){if(e<16)throw new n(e,16);if(e>64)throw new i(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new d;if(t.length<16)throw new o(t.length,16);if(t.length>64)throw new a(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new c;if(16!==r.length)throw new u(r.length,16)}if(null!==s){if(!(s instanceof Uint8Array))throw new l;if(16!==s.length)throw new h(s.length,16)}}return new E(e,t,r,s)},t.default=t.blake2b},24891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14528),i=r(22343),o=(0,n.__importDefault)(r(6838)),a=(0,n.__importDefault)(r(79997));e.exports={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m},t.default={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m}},15301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(86729),i=r(55217),o=r(1936),a=new n.ec("secp256k1");t.default=class{constructor(e,{compressed:t=!0}={compressed:!0}){if(this.compressed=!1,this.getPrivateKey=(e="hex")=>"hex"===e?this.privateKey:this.key.getPrivate(e),this.getPublicKey=e=>"hex"===e?this.publicKey:this.key.getPublic(this.compressed,e),this.sign=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e;return`0x${this.key.sign(t,{canonical:!0}).toDER("hex")}`},this.verify=(e,t)=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,n="string"==typeof t?(0,i.hexToBytes)(t):t;return this.key.verify(r,n)},this.signRecoverable=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e,{r,s:n,recoveryParam:a}=this.key.sign(t,{canonical:!0});if(null===a)throw new o.SignMessageException;return`0x${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}0${a}`},void 0===e)throw new o.ParameterRequiredException("Private key");if("string"==typeof e&&!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);if("string"==typeof e&&66!==e.length)throw new o.PrivateKeyLenException;if("object"==typeof e&&32!==e.byteLength)throw new o.PrivateKeyLenException;this.key=a.keyFromPrivate("string"==typeof e?e.replace(/^0x/,""):e),this.compressed=t}get privateKey(){return`0x${this.key.getPrivate("hex").padStart(64,"0")}`}get publicKey(){return`0x${this.key.getPublic(this.compressed,"hex")}`}}},2807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithdrawEpoch=t.parseEpoch=t.serializeEpoch=void 0;const n=(0,r(14528).__importDefault)(r(75951)),i=r(11994);t.serializeEpoch=({length:e,index:t,number:r})=>{(0,i.assertToBeHexString)(e),(0,i.assertToBeHexString)(t),(0,i.assertToBeHexString)(r);return`0x${n.default.add(n.default.add(n.default.add(n.default.leftShift(n.default.BigInt(32),n.default.BigInt(56)),n.default.leftShift(n.default.BigInt(e),n.default.BigInt(40))),n.default.leftShift(n.default.BigInt(t),n.default.BigInt(24))),n.default.BigInt(r)).toString(16)}`};t.parseEpoch=e=>({length:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(40)),n.default.BigInt(65535)).toString(16)}`,index:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(24)),n.default.BigInt(65535)).toString(16)}`,number:`0x${n.default.bitwiseAnd(n.default.BigInt(e),n.default.BigInt(16777215)).toString(16)}`});t.getWithdrawEpoch=(e,r)=>{const n=180,i=(0,t.parseEpoch)(e),o=(0,t.parseEpoch)(r);let a=+o.number-+i.number;+o.index*+i.length>+i.index*+o.length&&(a+=1);const s=a<=n?n:(Math.floor((a-1)/n)+1)*n;return(0,t.serializeEpoch)({index:i.index,length:i.length,number:`0x${(+i.number+s).toString(16)}`})},t.default={serializeEpoch:t.serializeEpoch,parseEpoch:t.parseEpoch,getWithdrawEpoch:t.getWithdrawEpoch}},42775:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},27672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressFormatTypeAndEncodeMethodNotMatchException=t.AddressFormatTypeException=t.HashTypeException=t.CodeHashException=t.AddressException=t.AddressPayloadException=void 0;const n=(0,r(14528).__importDefault)(r(42775));class i extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=n.default.AddressInvalid,this.type=t}}t.AddressPayloadException=i;class o extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=n.default.AddressInvalid,this.type=r,this.stack=t}}t.AddressException=o;class a extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=n.default.AddressInvalid}}t.CodeHashException=a;class s extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=n.default.AddressInvalid}}t.HashTypeException=s;class c extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeException=c;class u extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeAndEncodeMethodNotMatchException=u,t.default={AddressPayloadException:i,AddressException:o,CodeHashException:a,HashTypeException:s,AddressFormatTypeException:c,AddressFormatTypeAndEncodeMethodNotMatchException:u}},89981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalLenException=t.PersonalTypeException=t.KeyTypeException=t.InputTypeException=t.SaltLenException=t.SaltTypeException=t.OutTypeException=t.KeyLenTooLargeException=t.KeyLenTooSmallException=t.OutLenTooLargeException=t.OutLenTooSmallException=void 0;const n=(0,r(14528).__importDefault)(r(42775));class i extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooSmallException=i;class o extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooLargeException=o;class a extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooSmallException=a;class s extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooLargeException=s;class c extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=n.default.ParameterInvalid}}t.OutTypeException=c;class u extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.SaltTypeException=u;class f extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.SaltLenException=f;class d extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.InputTypeException=d;class l extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.KeyTypeException=l;class h extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.PersonalTypeException=h;class p extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.PersonalLenException=p,t.default={OutLenTooSmallException:i,OutLenTooLargeException:o,KeyLenTooSmallException:a,KeyLenTooLargeException:s,OutTypeException:c,SaltTypeException:u,SaltLenException:f,InputTypeException:d,KeyTypeException:l,PersonalTypeException:h,PersonalLenException:p}},37891:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignMessageException=t.ParameterRequiredException=void 0;const n=(0,r(14528).__importDefault)(r(42775));class i extends Error{constructor(e){super(`${e} is required`),this.code=n.default.ParameterRequired}}t.ParameterRequiredException=i;class o extends Error{constructor(){super("Fail to sign the message"),this.code=n.default.SignMessageFailed}}t.SignMessageException=o,t.default={ParameterRequiredException:i,SignMessageException:o}},1936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14528);(0,n.__exportStar)(r(42775),t),(0,n.__exportStar)(r(37891),t),(0,n.__exportStar)(r(4671),t),(0,n.__exportStar)(r(27672),t),(0,n.__exportStar)(r(89981),t),(0,n.__exportStar)(r(80),t),(0,n.__exportStar)(r(45752),t)},80:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateKeyLenException=void 0;const n=(0,r(14528).__importDefault)(r(42775));class i extends Error{constructor(){super("Private key has invalid length"),this.code=n.default.ParameterInvalid}}t.PrivateKeyLenException=i,t.default={PrivateKeyLenException:i}},4671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=t.HexStringException=void 0;const n=(0,r(14528).__importDefault)(r(42775));class i extends Error{constructor(e){super(`${e} is an invalid hex string`),this.code=n.default.ParameterInvalid}}t.HexStringException=i;class o extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=n.default.ParameterInvalid}}t.HexStringWithout0xException=o,t.default={HexStringException:i,HexStringWithout0xException:o}},45752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReconciliationException=void 0;const n=(0,r(14528).__importDefault)(r(42775));class i extends Error{constructor(){super("Fail to reconcile transaction, try to increase extra count or check the transaction"),this.code=n.default.ReconciliationFailed}}t.ReconciliationException=i,t.default={ReconciliationException:i}},48489:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMaximumWithdraw=t.extractDAOData=t.privateKeyToAddress=t.privateKeyToPublicKey=t.rawTransactionToHash=t.scriptToHash=t.blake160=t.bech32m=t.bech32=t.blake2b=t.PERSONAL=t.JSBI=t.serializeWitnessArgs=t.serializeTransaction=t.serializeRawTransaction=t.serializeScript=t.reconcilers=t.systemScripts=void 0;const n=r(14528),i=(0,n.__importDefault)(r(75951));t.JSBI=i.default;const o=(0,n.__importDefault)(r(15301)),a=r(55217),s=r(88830),c=r(1936),u=(0,n.__importDefault)(r(24891)),f=r(11738);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return f.serializeScript}});const d=r(69913),l=r(68638);Object.defineProperty(t,"serializeRawTransaction",{enumerable:!0,get:function(){return l.serializeRawTransaction}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return l.serializeTransaction}}),Object.defineProperty(t,"serializeWitnessArgs",{enumerable:!0,get:function(){return l.serializeWitnessArgs}});const h=r(96266);Object.defineProperty(t,"PERSONAL",{enumerable:!0,get:function(){return h.PERSONAL}}),(0,n.__exportStar)(r(88830),t),(0,n.__exportStar)(r(11738),t),(0,n.__exportStar)(r(55217),t),(0,n.__exportStar)(r(2807),t),(0,n.__exportStar)(r(99263),t),(0,n.__exportStar)(r(69913),t),t.systemScripts=(0,n.__importStar)(r(47710)),t.reconcilers=(0,n.__importStar)(r(77853)),t.blake2b=u.default.blake2b,t.bech32=u.default.bech32,t.bech32m=u.default.bech32m,t.blake160=u.default.blake160;t.scriptToHash=e=>{if(!e)throw new c.ParameterRequiredException("Script");const r=(0,f.serializeScript)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.rawTransactionToHash=e=>{if(!e)throw new c.ParameterRequiredException("Raw transaction");const r=(0,l.serializeRawTransaction)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.privateKeyToPublicKey=e=>new o.default(e).publicKey;t.privateKeyToAddress=(e,r)=>(0,s.pubkeyToAddress)((0,t.privateKeyToPublicKey)(e),r);t.extractDAOData=e=>{if(!e.startsWith("0x"))throw new c.HexStringWithout0xException(e);const t=e.replace("0x","");return{c:(0,a.toBigEndian)(`0x${t.slice(0,16)}`),ar:(0,a.toBigEndian)(`0x${t.slice(16,32)}`),s:(0,a.toBigEndian)(`0x${t.slice(32,48)}`),u:(0,a.toBigEndian)(`0x${t.slice(48,64)}`)}};t.calculateMaximumWithdraw=(e,r,n,o)=>{const a=(0,d.cellOccupied)(e)+r.slice(2).length/2,s=i.default.asUintN(128,i.default.multiply(i.default.BigInt(1e8),i.default.BigInt(a)));return`0x${i.default.add(i.default.divide(i.default.multiply(i.default.subtract(i.default.asUintN(128,i.default.BigInt(e.capacity)),s),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(o).ar))),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(n).ar))),s).toString(16)}`}},69913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellOccupied=t.scriptOccupied=void 0;t.scriptOccupied=e=>e.args.slice(2).length/2+32+1;t.cellOccupied=e=>8+(0,t.scriptOccupied)(e.lock)+(e.type?(0,t.scriptOccupied)(e.type):0)},46770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extraInputs=void 0;const n=r(14528),i=(0,n.__importDefault)(r(75951)),o=(0,n.__importDefault)(r(3361)),a=r(99263),s=r(1936);t.extraInputs=e=>{const t=i.default.BigInt(`${e.changeThreshold}`),r=i.default.BigInt(`${e.feeRate}`),n=e.tx.outputs[e.tx.outputs.length-1],c=i.default.BigInt(n.capacity),u=i.default.BigInt((0,o.default)(`0x${(0,a.getTransactionSize)(e.tx).toString(16)}`,`0x${r.toString(16)}`)),f=i.default.subtract(i.default.add(u,t),c);if(i.default.LE(f,i.default.BigInt(0)))return Object.assign(Object.assign({},e.tx),{outputs:[...e.tx.outputs.slice(0,-1),Object.assign(Object.assign({},n),{capacity:`0x${i.default.subtract(c,u).toString(16)}`})]});e.cells.sort(((e,t)=>+i.default.subtract(i.default.BigInt(e.capacity),i.default.BigInt(t.capacity))));const d=i.default.BigInt(44),l=i.default.divide(i.default.multiply(d,r),i.default.BigInt(1e3));for(let r=1;r<=Math.min(e.extraCount,e.cells.length);r++){const o=i.default.multiply(i.default.BigInt(r),l),a=i.default.add(f,o),s=e.cells.slice(0,r).reduce(((e,t)=>i.default.add(e,i.default.BigInt(t.capacity))),i.default.BigInt(0));if(i.default.GE(s,a)){const o=[...e.tx.inputs,...e.cells.slice(0,r).map((e=>({previousOutput:e.outPoint,since:"0x0"})))],c=i.default.add(t,i.default.subtract(s,a)),u=Object.assign(Object.assign({},n),{capacity:`0x${c.toString(16)}`}),f=[...e.tx.outputs.slice(0,-1),u];return Object.assign(Object.assign({},e.tx),{inputs:o,outputs:f})}}throw new s.ReconciliationException},t.default=t.extraInputs},77853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});(0,r(14528).__exportStar)(r(46770),t)},71240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeOption=t.serializeTable=t.serializeDynVec=t.serializeFixVec=t.serializeStruct=t.serializeArray=t.getOffsets=t.fullLengthSize=t.offsetSize=void 0;const n=r(55217);t.offsetSize=4,t.fullLengthSize=4;t.getOffsets=e=>{const r=[t.fullLengthSize+t.offsetSize*e.length];return e.forEach(((t,n)=>{n&&r.push(r[r.length-1]+e[n-1])})),r};t.serializeArray=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?(0,n.hexToBytes)(e):e;return(0,n.bytesToHex)(t)};t.serializeStruct=e=>{let r="";return e.forEach((e=>{r+=(0,t.serializeArray)(e).slice(2)})),`0x${r}`};t.serializeFixVec=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const r=("string"==typeof e?[...(0,n.hexToBytes)(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>(0,t.serializeArray)(e).slice(2)));return`0x${(0,n.toUint32Le)(`0x${r.length.toString(16)}`).slice(2)}${r.join("")}`};t.serializeDynVec=e=>{if(!Array.isArray(e))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const r=e.map((e=>(0,t.serializeArray)(e).slice(2))),i=r.join("");let o="";r.length&&(o=(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join(""));const a=t.fullLengthSize+t.offsetSize*r.length;return`0x${(0,n.toUint32Le)(`0x${(a+i.length/2).toString(16)}`).slice(2)}${o}${i}`};t.serializeTable=e=>{const r=[];e.forEach((e=>{r.push((0,t.serializeArray)(e).slice(2))}));const i=r.join(""),o=t.fullLengthSize+t.offsetSize*e.size;return`0x${(0,n.toUint32Le)(`0x${(o+i.length/2).toString(16)}`).slice(2)}${(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join("")}${i}`};t.serializeOption=e=>e||"0x"},11738:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14528);(0,n.__exportStar)(r(71240),t),(0,n.__exportStar)(r(10011),t),(0,n.__exportStar)(r(68638),t)},10011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=t.serializeArgs=t.serializeHashType=t.serializeCodeHash=void 0;const n=r(71240),i=r(1936);t.serializeCodeHash=e=>(0,n.serializeArray)(e);t.serializeHashType=e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data', 'type', 'data1' or 'data2'")};t.serializeArgs=e=>(0,n.serializeFixVec)(e);t.serializeScript=e=>{if(!e)throw new i.ParameterRequiredException("Script");const{codeHash:r="",hashType:o,args:a=""}=e,s=(0,t.serializeCodeHash)(r),c=(0,t.serializeHashType)(o),u=(0,t.serializeArgs)(a),f=new Map([["codeHash",s],["hashType",c],["args",u]]);return(0,n.serializeTable)(f)}},68638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransaction=t.serializeRawTransaction=t.serializeWitnesses=t.serializeWitnessArgs=t.serializeOutputsData=t.serializeOutputs=t.serializeOutput=t.serializeInputs=t.serializeInput=t.serializeHeaderDeps=t.serializeCellDeps=t.serializeCellDep=t.serializeDepType=t.serializeOutPoint=t.serializeVersion=void 0;const n=r(10011),i=r(55217),o=r(71240);t.serializeVersion=e=>(0,i.toUint32Le)(e);t.serializeOutPoint=e=>{if(!e)return"";const t=new Map([["txHash",e.txHash],["index",(0,i.toUint32Le)(e.index)]]);return(0,o.serializeStruct)(t)};t.serializeDepType=e=>{if("code"===e)return"0x00";if("depGroup"===e)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")};t.serializeCellDep=e=>{const r=(0,t.serializeOutPoint)(e.outPoint),n=(0,t.serializeDepType)(e.depType),i=new Map([["outPoint",r],["depType",n]]);return(0,o.serializeStruct)(i)};t.serializeCellDeps=e=>{const r=e.map((e=>(0,t.serializeCellDep)(e)));return(0,o.serializeFixVec)(r)};t.serializeHeaderDeps=e=>{const t=e.map((e=>(0,o.serializeArray)(e)));return(0,o.serializeFixVec)(t)};t.serializeInput=e=>{const r=(0,t.serializeOutPoint)(e.previousOutput),n=(0,i.toUint64Le)(e.since),a=new Map([["since",n],["previousOutput",r]]);return(0,o.serializeStruct)(a)};t.serializeInputs=e=>{const r=e.map((e=>(0,t.serializeInput)(e)));return(0,o.serializeFixVec)(r)};t.serializeOutput=e=>{const t=(0,i.toUint64Le)(e.capacity),r=(0,n.serializeScript)(e.lock),a=e.type?(0,n.serializeScript)(e.type):"",s=new Map([["capacity",t],["lock",r],["type",a]]);return(0,o.serializeTable)(s)};t.serializeOutputs=e=>{const r=e.map((e=>(0,t.serializeOutput)(e)));return(0,o.serializeDynVec)(r)};t.serializeOutputsData=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeWitnessArgs=e=>{const[t,r,n]=[e.lock,e.inputType,e.outputType].map((e=>"0x"===(0,o.serializeOption)(e)?"0x":(0,o.serializeFixVec)(e))),i=new Map([["lock",t],["inputType",r],["outputType",n]]);return(0,o.serializeTable)(i)};t.serializeWitnesses=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeRawTransaction=e=>{const r=(0,t.serializeVersion)(e.version),n=(0,t.serializeCellDeps)(e.cellDeps),i=(0,t.serializeHeaderDeps)(e.headerDeps),a=(0,t.serializeInputs)(e.inputs),s=(0,t.serializeOutputs)(e.outputs),c=(0,t.serializeOutputsData)(e.outputsData),u=new Map([["version",r],["cellDeps",n],["headerDeps",i],["inputs",a],["outputs",s],["outputsData",c]]);return(0,o.serializeTable)(u)};t.serializeTransaction=e=>{const r=(0,t.serializeRawTransaction)(e),n=(0,t.serializeWitnesses)(e.witnesses||[]),i=new Map([["raw",r],["witnesses",n]]);return(0,o.serializeTable)(i)}},99263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionSize=void 0;const n=r(68638);t.getTransactionSize=e=>{const t=Object.assign(Object.assign({},e),{witnesses:e.witnesses.map((e=>"string"==typeof e?e:(0,n.serializeWitnessArgs)(e)))});return(0,n.serializeTransaction)(t).slice(2).length/2+4},t.default={getTransactionSize:t.getTransactionSize}},47710:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIMPLE_UDT=t.NERVOS_DAO=t.ANYONE_CAN_PAY_TESTNET=t.ANYONE_CAN_PAY_MAINNET=t.SECP256K1_MULTISIG=t.SECP256K1_BLAKE160=void 0,t.SECP256K1_BLAKE160={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},t.SECP256K1_MULTISIG={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},t.ANYONE_CAN_PAY_MAINNET={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},t.ANYONE_CAN_PAY_TESTNET={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},t.NERVOS_DAO={codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",depType:"code",mainnetOutPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:"0x2"},testnetOutPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:"0x2"}},t.SIMPLE_UDT={codeHash:"0x48dbf59b4c7ee1547238021b4869bceedf4eea6b43772e5d66ef8865b6ae7212",hashType:"data",depType:"code",testnetOutPoint:{txHash:"0xc1b2ae129fad7465aaa9acc9785f842ba3e6e8b8051d899defa89f5508a77958",index:"0x0"}}},11994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertToBeHexStringOrBigint=t.assertToBeHexString=void 0;const n=r(1936);t.assertToBeHexString=e=>{if("string"!=typeof e||!e.startsWith("0x")||Number.isNaN(+e))throw new n.HexStringException(e);return!0};t.assertToBeHexStringOrBigint=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},t.default={assertToBeHexString:t.assertToBeHexString,assertToBeHexStringOrBigint:t.assertToBeHexStringOrBigint}},14528:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>T,__createBinding:()=>l,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>u,__param:()=>c,__read:()=>b,__rest:()=>a,__spread:()=>y,__spreadArray:()=>m,__spreadArrays:()=>g,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||l(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function g(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function c(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return A(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},34709:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BtcAssetsApiError=t.ErrorMessages=t.ErrorCodes=void 0,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ASSETS_API_RESPONSE_ERROR=1]="ASSETS_API_RESPONSE_ERROR",e[e.ASSETS_API_UNAUTHORIZED=2]="ASSETS_API_UNAUTHORIZED",e[e.ASSETS_API_INVALID_PARAM=3]="ASSETS_API_INVALID_PARAM",e[e.ASSETS_API_RESOURCE_NOT_FOUND=4]="ASSETS_API_RESOURCE_NOT_FOUND",e[e.ASSETS_API_RESPONSE_DECODE_ERROR=5]="ASSETS_API_RESPONSE_DECODE_ERROR"}(r||(t.ErrorCodes=r={})),t.ErrorMessages={[r.UNKNOWN]:"Unknown error",[r.ASSETS_API_UNAUTHORIZED]:"BtcAssetsAPI unauthorized, please check your token/origin",[r.ASSETS_API_INVALID_PARAM]:"Invalid param(s) was provided to the BtcAssetsAPI",[r.ASSETS_API_RESPONSE_ERROR]:"BtcAssetsAPI returned an error",[r.ASSETS_API_RESOURCE_NOT_FOUND]:"Resource not found on the BtcAssetsAPI",[r.ASSETS_API_RESPONSE_DECODE_ERROR]:"Failed to decode the response of BtcAssetsAPI"};class n extends Error{code=r.UNKNOWN;message;context;constructor(e){const i=e.message??t.ErrorMessages[e.code]??t.ErrorMessages[r.UNKNOWN];super(i),this.message=i,this.code=e.code,this.context=e.context,Object.setPrototypeOf(this,n.prototype)}static withComment(e,i,o){const a=t.ErrorMessages[e]??t.ErrorMessages[r.UNKNOWN];return new n({code:e,message:i?`${a}: ${i}`:void 0,context:o})}}t.BtcAssetsApiError=n},90375:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2541),t),i(r(34709),t),i(r(94866),t),i(r(64899),t)},68830:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BtcAssetsApiBase=void 0;const i=n(r(71086)),o=r(94866),a=r(34709);function s(e){try{return"string"==typeof e?JSON.parse(e):void 0}catch{return}}t.BtcAssetsApiBase=class{url;app;domain;origin;token;constructor(e){if(this.url=e.url,this.app=e.app,this.domain=e.domain,this.origin=e.origin,this.token=e.token,this.domain&&!(0,o.isDomain)(this.domain,!0))throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_INVALID_PARAM,"domain")}async request(e,t){const{requireToken:r=!0,allow404:n=!1,method:o="GET",headers:c,params:u,...f}=t??{};if(r&&!this.token&&(!this.app||!this.domain))throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_INVALID_PARAM,"app, domain");r&&!this.token&&await this.init();const d=(0,i.default)(u,(e=>void 0!==e)),l=u?"?"+new URLSearchParams(d).toString():"",h=`${this.url}${e}${l}`,p=await fetch(h,{method:o,headers:{authorization:this.token?`Bearer ${this.token}`:void 0,origin:this.origin,...c},...f});let b,y,g,m=!1;try{b=await p.text(),y=JSON.parse(b),m=y?.ok??p.ok??!1}catch{}const v=p.status,_={request:{url:h,params:u,body:s(f.body)},response:{status:v,data:y??b}};if(y||(g=b?`(${v}) ${b}`:`${v}`),y&&!m){const e=y.code??y.statusCode??y.error?.error?.code??p.status,t=y.message??("string"==typeof y.error?y.error:y.error?.error?.message);g=t?e?`(${e}) ${t}`:t:JSON.stringify(y)}if(200===v&&!y)throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_RESPONSE_DECODE_ERROR,g,_);if(401===v)throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_UNAUTHORIZED,g,_);if(404===v&&!n)throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_RESOURCE_NOT_FOUND,g,_);if(200!==v&&404!==v&&!n)throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_RESPONSE_ERROR,g,_);if(404!==v||!n)return y}async post(e,t){return this.request(e,{method:"POST",...t,headers:{"Content-Type":"application/json",...t?.headers}})}async generateToken(){if(!this.app||!this.domain)throw a.BtcAssetsApiError.withComment(a.ErrorCodes.ASSETS_API_INVALID_PARAM,"app, domain");return this.post("/token/generate",{requireToken:!1,body:JSON.stringify({app:this.app,domain:this.domain})})}async init(e){if(this.token&&!e)return;const t=await this.generateToken();this.token=t.token}}},64899:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(68830),t),i(r(56584),t)},56584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtcAssetsApi=void 0;const n=r(68830);class i extends n.BtcAssetsApiBase{static fromToken(e,t,r){return new i({url:e,token:t,origin:r})}getBtcBlockchainInfo(){return this.request("/bitcoin/v1/info")}getBtcBlockByHash(e){return this.request(`/bitcoin/v1/block/${e}`)}getBtcBlockHeaderByHash(e){return this.request(`/bitcoin/v1/block/${e}/header`)}getBtcBlockHashByHeight(e){return this.request(`/bitcoin/v1/block/height/${e}`)}getBtcBlockTransactionIdsByHash(e){return this.request(`/bitcoin/v1/block/${e}/txids`)}getBtcRecommendedFeeRates(){return this.request("/bitcoin/v1/fees/recommended")}getBtcBalance(e,t){return this.request(`/bitcoin/v1/address/${e}/balance`,{params:t})}getBtcUtxos(e,t){return this.request(`/bitcoin/v1/address/${e}/unspent`,{params:t})}getBtcTransactions(e,t){return this.request(`/bitcoin/v1/address/${e}/txs`,{params:t})}getBtcTransaction(e){return this.request(`/bitcoin/v1/transaction/${e}`)}sendBtcTransaction(e){return this.post("/bitcoin/v1/transaction",{body:JSON.stringify({txhex:e})})}getRgbppPaymasterInfo(){return this.request("/rgbpp/v1/paymaster/info")}getRgbppTransactionHash(e){return this.request(`/rgbpp/v1/transaction/${e}`)}getRgbppTransactionState(e,t){return this.request(`/rgbpp/v1/transaction/${e}/job`,{params:t})}getRgbppAssetsByBtcTxId(e){return this.request(`/rgbpp/v1/assets/${e}`)}getRgbppAssetsByBtcUtxo(e,t){return this.request(`/rgbpp/v1/assets/${e}/${t}`)}getRgbppAssetsByBtcAddress(e,t){return this.request(`/rgbpp/v1/address/${e}/assets`,{params:t})}getRgbppBalanceByBtcAddress(e,t){return this.request(`/rgbpp/v1/address/${e}/balance`,{params:t})}getRgbppSpvProof(e,t){return this.request("/rgbpp/v1/btc-spv/proof",{params:{btc_txid:e,confirmations:t}})}sendRgbppCkbTransaction(e){return this.post("/rgbpp/v1/transaction/ckb-tx",{body:JSON.stringify(e)})}retryRgbppCkbTransaction(e){return this.post("/rgbpp/v1/transaction/retry",{body:JSON.stringify(e)})}}t.BtcAssetsApi=i},43784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2541:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(43784),t),i(r(71802),t),i(r(44554),t)},44554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDomain=function(e,t){if(t&&"localhost"===e)return!0;return/^(?:[-A-Za-z0-9]+\.)+[A-Za-z]{2,}$/.test(e)}},26480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCluster=void 0;const n=r(3599),i=r(1828),o=r(36027),a=r(18714),s=r(50752),c=r(30089);t.createCluster=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=n.BI.from(e.capacityMargin??1e8),f=e.maxTransactionSize??t.maxTransactionSize??!1;let d=n.helpers.TransactionSkeleton({cellProvider:r});const l=(0,a.injectNewClusterOutput)({txSkeleton:d,data:e.data,toLock:e.toLock,updateOutput:e.updateOutput,capacityMargin:u,config:t});d=l.txSkeleton;const h=await(0,o.injectCapacityAndPayFee)({txSkeleton:d,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){e=(0,a.injectNewClusterIds)({txSkeleton:e,outputIndices:[l.outputIndex],config:t});const r=d.get("outputs").get(l.outputIndex),n=(0,i.getSporeScript)(t,"Cluster",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,s.generateCreateClusterAction)({txSkeleton:e,outputIndex:l.outputIndex});e=(0,c.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});return d=h.txSkeleton,"number"==typeof f&&(0,o.assertTransactionSkeletonSize)(d,void 0,f),{txSkeleton:d,outputIndex:l.outputIndex}}},3333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferCluster=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(18714);t.transferCluster=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=e.useCapacityMarginAsFee??!0;if(!c&&!e.fromInfos?.length)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(c&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacityMargin of the cluster");let u=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,s.getClusterByOutPoint)(e.outPoint,t),d=(0,o.getSporeScript)(t,"Cluster",f.cellOutput.type),l=await(0,s.injectLiveClusterCell)({txSkeleton:u,cell:f,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t});u=l.txSkeleton;const h=(0,a.generateTransferClusterAction)({txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex});if(c){if(d.behaviors?.cobuild){u=(0,a.injectCommonCobuildProof)({txSkeleton:u,actions:h.actions}).txSkeleton}u=await(0,i.payFeeByOutput)({outputIndex:l.outputIndex,txSkeleton:u,config:t})}else{u=(await(0,i.injectCapacityAndPayFee)({txSkeleton:u,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(d.behaviors?.cobuild){e=(0,a.injectCommonCobuildProof)({txSkeleton:e,actions:h.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex}}},15148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(18714),c=r(31564);t.createClusterAgent=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=n.BI.from(e.capacityMargin??1e8);let f=n.helpers.TransactionSkeleton({cellProvider:r});const d=await(0,s.getClusterProxyByOutPoint)(e.clusterProxyOutPoint,t),l=await(0,s.injectNewClusterAgentOutput)({txSkeleton:f,clusterProxyCell:d,referenceType:e.referenceType,paymentAmount:e.paymentAmount,toLock:e.toLock,fromInfos:e.fromInfos,changeAddress:e.changeAddress,updateOutput:e.updateOutput,clusterProxy:e.clusterProxy,capacityMargin:u,config:t});f=l.txSkeleton;const h=await(0,i.injectCapacityAndPayFee)({txSkeleton:f,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){const r=f.get("outputs").get(l.outputIndex),n=(0,o.getSporeScript)(t,"ClusterAgent",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,a.generateCreateClusterAgentAction)({txSkeleton:e,clusterProxyId:(0,c.unpackToRawClusterProxyArgs)(d.cellOutput.type.args).id,outputIndex:l.outputIndex,reference:l.reference});e=(0,a.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});return f=h.txSkeleton,{txSkeleton:f,outputIndex:l.outputIndex,reference:l.reference}}},84302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meltClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(18714);t.meltClusterAgent=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);let c=n.helpers.TransactionSkeleton({cellProvider:r});const u=await(0,s.getClusterAgentByOutPoint)(e.outPoint,t),f=(0,o.getSporeScript)(t,"ClusterAgent",u.cellOutput.type),d=await(0,s.injectLiveClusterAgentCell)({txSkeleton:c,cell:u,updateWitness:e.updateWitness,config:t});if(c=d.txSkeleton,f.behaviors?.cobuild){const e=(0,a.generateMeltClusterAgentAction)({txSkeleton:c,inputIndex:d.inputIndex});c=(0,a.injectCommonCobuildProof)({txSkeleton:c,actions:e.actions}).txSkeleton}const l=n.helpers.encodeToAddress(u.cellOutput.lock,{config:t.lumos});return c=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:e.changeAddress??l,txSkeleton:c,config:t})).txSkeleton,{txSkeleton:c,inputIndex:d.inputIndex}}},38819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(18714);t.transferClusterAgent=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=e.useCapacityMarginAsFee??!0;if(!c&&!e.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(c&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot update capacityMargin of the cell");let u=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,s.getClusterAgentByOutPoint)(e.outPoint,t),d=(0,o.getSporeScript)(t,"ClusterAgent",f.cellOutput.type),l=await(0,s.injectLiveClusterAgentCell)({txSkeleton:u,cell:f,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,since:e.since,config:t});u=l.txSkeleton;const h=(0,a.generateTransferClusterAgentAction)({txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex});if(c){if(d.behaviors?.cobuild){u=(0,a.injectCommonCobuildProof)({txSkeleton:u,actions:h.actions}).txSkeleton}u=await(0,i.payFeeByOutput)({txSkeleton:u,outputIndex:l.outputIndex,config:t})}else{u=(await(0,i.injectCapacityAndPayFee)({txSkeleton:u,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(d.behaviors?.cobuild){e=(0,a.injectCommonCobuildProof)({txSkeleton:e,actions:h.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex}}},71274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(18714);t.createClusterProxy=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=n.BI.from(e.capacityMargin??1e8);let u=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,s.getClusterByOutPoint)(e.clusterOutPoint,t),d=await(0,s.injectNewClusterProxyOutput)({txSkeleton:u,clusterCell:f,toLock:e.toLock,fromInfos:e.fromInfos,minPayment:e.minPayment,changeAddress:e.changeAddress,updateOutput:e.updateOutput,cluster:e.cluster,capacityMargin:c,config:t});u=d.txSkeleton;const l=await(0,i.injectCapacityAndPayFee)({txSkeleton:u,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){e=(0,s.injectNewClusterProxyIds)({outputIndices:[d.outputIndex],txSkeleton:e,config:t});const r=u.get("outputs").get(d.outputIndex),n=(0,o.getSporeScript)(t,"ClusterProxy",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,a.generateCreateClusterProxyAction)({txSkeleton:e,outputIndex:d.outputIndex,reference:d.reference});e=(0,a.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});return u=l.txSkeleton,{txSkeleton:u,outputIndex:d.outputIndex,reference:d.reference}}},98092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meltClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(18714);t.meltClusterProxy=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);let c=n.helpers.TransactionSkeleton({cellProvider:r});const u=await(0,s.getClusterProxyByOutPoint)(e.outPoint,t),f=(0,o.getSporeScript)(t,"ClusterProxy",u.cellOutput.type),d=await(0,s.injectLiveClusterProxyCell)({txSkeleton:c,cell:u,updateWitness:e.updateWitness,config:t});if(c=d.txSkeleton,f.behaviors?.cobuild){const e=(0,a.generateMeltClusterProxyAction)({txSkeleton:c,inputIndex:d.inputIndex});c=(0,a.injectCommonCobuildProof)({txSkeleton:c,actions:e.actions}).txSkeleton}const l=n.helpers.encodeToAddress(u.cellOutput.lock,{config:t.lumos});return c=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:e.changeAddress??l,txSkeleton:c,config:t})).txSkeleton,{txSkeleton:c,inputIndex:d.inputIndex}}},43557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(13972),s=r(52271),c=r(93972);t.transferClusterProxy=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=e.useCapacityMarginAsFee??!0;if(!u&&!e.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot update capacityMargin of the cell");let f=n.helpers.TransactionSkeleton({cellProvider:r});const d=await(0,s.getClusterProxyByOutPoint)(e.outPoint,t),l=(0,o.getSporeScript)(t,"ClusterProxy",d.cellOutput.type),h=await(0,c.injectLiveClusterProxyCell)({txSkeleton:f,cell:d,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,since:e.since,config:t});f=h.txSkeleton;const p=(0,a.generateTransferClusterProxyAction)({txSkeleton:f,inputIndex:h.inputIndex,outputIndex:h.outputIndex});if(u){if(l.behaviors?.cobuild){f=(0,a.injectCommonCobuildProof)({txSkeleton:f,actions:p.actions}).txSkeleton}f=await(0,i.payFeeByOutput)({outputIndex:h.outputIndex,txSkeleton:f,config:t})}else{f=(await(0,i.injectCapacityAndPayFee)({txSkeleton:f,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(l.behaviors?.cobuild){e=(0,a.injectCommonCobuildProof)({txSkeleton:e,actions:p.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:f,inputIndex:h.inputIndex,outputIndex:h.outputIndex}}},50644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMutant=void 0;const n=r(3599),i=r(1828),o=r(36027),a=r(18714);t.createMutant=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),s=n.BI.from(e.capacityMargin??1e8),c=e.maxTransactionSize??t.maxTransactionSize??!1;let u=n.helpers.TransactionSkeleton({cellProvider:r});const f=(0,a.injectNewMutantOutput)({txSkeleton:u,data:e.data,toLock:e.toLock,minPayment:e.minPayment,updateOutput:e.updateOutput,capacityMargin:s,config:t});return u=f.txSkeleton,u=(await(0,o.injectCapacityAndPayFee)({txSkeleton:u,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,config:t})).txSkeleton,u=(0,a.injectNewMutantIds)({outputIndices:[f.outputIndex],txSkeleton:u,config:t}),"number"==typeof c&&(0,o.assertTransactionSkeletonSize)(u,void 0,c),{txSkeleton:u,outputIndex:f.outputIndex}}},39415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferMutant=void 0;const n=r(3599),i=r(1828),o=r(36027),a=r(18714);t.transferMutant=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),s=e.useCapacityMarginAsFee??!0;if(!s&&!e.fromInfos?.length)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(s&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacityMargin of the cell");let c=n.helpers.TransactionSkeleton({cellProvider:r});const u=await(0,a.getMutantByOutPoint)(e.outPoint,t),f=await(0,a.injectLiveMutantCell)({txSkeleton:c,cell:u,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),minPayment:e.minPayment,capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t});if(c=f.txSkeleton,s)c=await(0,o.payFeeByOutput)({outputIndex:f.outputIndex,txSkeleton:c,config:t});else{c=(await(0,o.injectCapacityAndPayFee)({txSkeleton:c,changeAddress:e.changeAddress,fromInfos:e.fromInfos,feeRate:e.feeRate,config:t})).txSkeleton}return{txSkeleton:c,inputIndex:f.inputIndex,outputIndex:f.outputIndex}}},51760:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMultipleSpores=t.createSpore=void 0;const i=r(87144),o=r(3599),a=r(1828),s=r(36027),c=r(18714),u=r(37760),f=r(30089),d=r(24862),l=n(r(2543));t.createSpore=async function(e){const t=e.config??(0,a.getSporeConfig)(),r=new o.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=o.BI.from(e.capacityMargin??1e8),h=e.maxTransactionSize??t.maxTransactionSize??!1;let p,b=o.helpers.TransactionSkeleton({cellProvider:r});if(e.prefixInputs)for(const r of e.prefixInputs){const n=(0,d.encodeToAddress)(r.cellOutput.lock,{config:t.lumos}),o={script:r.cellOutput.lock};e.fromInfos.some((e=>{const r=(0,i.parseFromInfo)(e,{config:t.lumos});return l.default.isEqual(o,r.fromScript)}))||e.fromInfos.push(n);const a=await(0,s.setupCell)({txSkeleton:b,input:r,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,config:t.lumos});b=a.txSkeleton}e.prefixOutputs&&b.update("outputs",(t=>(e.prefixOutputs.forEach((e=>t.push(e))),t))),e.clusterAgentOutPoint&&(p=await(0,c.getClusterAgentByOutPoint)(e.clusterAgentOutPoint,t));const y=await(0,c.injectNewSporeOutput)({txSkeleton:b,data:e.data,toLock:e.toLock,fromInfos:e.fromInfos,extraOutputLocks:e.prefixOutputs?.map((e=>e.cellOutput.lock)),changeAddress:e.changeAddress,updateOutput:e.updateOutput,clusterAgent:e.clusterAgent,cluster:e.cluster,mutant:e.mutant,skipCheckContentType:e.skipCheckContentType,clusterAgentCell:p,capacityMargin:n,config:t});b=y.txSkeleton;const g=(0,s.createCapacitySnapshotFromTransactionSkeleton)(b);if(g.inputsCapacity.gt(g.outputsCapacity)){b=(0,c.injectNewSporeIds)({outputIndices:[y.outputIndex],txSkeleton:b,config:t});const r=b.get("outputs").get(y.outputIndex),n=(0,a.getSporeScript)(t,"Spore",r.cellOutput.type);if(n.behaviors?.cobuild){const e=(0,u.generateCreateSporeAction)({txSkeleton:b,reference:y.reference,outputIndex:y.outputIndex}),t=(0,f.injectCommonCobuildProof)({txSkeleton:b,actions:e.actions});b=t.txSkeleton}const i=o.helpers.encodeToAddress(r.cellOutput.lock,{config:t.lumos}),d=await(0,s.returnExceededCapacityAndPayFee)({txSkeleton:b,changeAddress:e.changeAddress??i,feeRate:e.feeRate,fromInfos:e.fromInfos,config:t});b=d.txSkeleton}else{const r=await(0,s.injectCapacityAndPayFee)({txSkeleton:b,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){e=(0,c.injectNewSporeIds)({outputIndices:[y.outputIndex],txSkeleton:e,config:t});const r=b.get("outputs").get(y.outputIndex),n=(0,a.getSporeScript)(t,"Spore",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,u.generateCreateSporeAction)({txSkeleton:e,reference:y.reference,outputIndex:y.outputIndex});e=(0,f.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});b=r.txSkeleton}return"number"==typeof h&&(0,s.assertTransactionSkeletonSize)(b,void 0,h),{txSkeleton:b,outputIndex:y.outputIndex,reference:y.reference,mutantReference:y.mutantReference}},t.createMultipleSpores=async function(e){const t=e.config??(0,a.getSporeConfig)(),r=new o.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=o.BI.from(e.capacityMargin??1e8);let h,p=o.helpers.TransactionSkeleton({cellProvider:r});e.fromCells&&p.update("inputs",(r=>{for(const n of e.fromCells){const o=(0,d.encodeToAddress)(n.cellOutput.lock,{config:t.lumos}),a={script:n.cellOutput.lock};e.fromInfos.some((e=>{const r=(0,i.parseFromInfo)(e,{config:t.lumos});return l.default.isEqual(a,r.fromScript)}))||e.fromInfos.push(o),r=r.push(n)}return r})),e.clusterAgentOutPoint&&(h=await(0,c.getClusterAgentByOutPoint)(e.clusterAgentOutPoint,t));const b=[];for(const r of e.sporeInfos){const i=await(0,c.injectNewSporeOutput)({txSkeleton:p,data:r.data,toLock:r.toLock,fromInfos:e.fromInfos,changeAddress:e.changeAddress,updateOutput:e.updateOutput,clusterAgent:e.clusterAgent,cluster:e.cluster,mutant:e.mutant,clusterAgentCell:h,capacityMargin:n,config:t});p=i.txSkeleton,b.push(i)}const y=b.map((e=>e.outputIndex)),g=await(0,s.injectCapacityAndPayFee)({txSkeleton:p,fromInfos:e.fromInfos,changeAddress:e.changeAddress,updateTxSkeletonAfterCollection(e){e=(0,c.injectNewSporeIds)({txSkeleton:e,outputIndices:y,config:t});const r=[];for(const n of b){const i=p.get("outputs").get(n.outputIndex),o=(0,a.getSporeScript)(t,"Spore",i.cellOutput.type);if(o.behaviors?.cobuild){const t=(0,u.generateCreateSporeAction)({txSkeleton:e,reference:n.reference,outputIndex:n.outputIndex});r.push(...t.actions)}}if(r.length){e=(0,f.injectCommonCobuildProof)({txSkeleton:e,actions:r}).txSkeleton}return e},config:t});return p=g.txSkeleton,{txSkeleton:p,outputIndices:y}}},72686:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meltSpore=void 0;const n=r(3599),i=r(36027),o=r(1828),a=r(18714),s=r(13972);t.meltSpore=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);let c=n.helpers.TransactionSkeleton({cellProvider:r});const u=await(0,a.getSporeByOutPoint)(e.outPoint,t),f=await(0,a.injectLiveSporeCell)({txSkeleton:c,cell:u,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,since:e.since,config:t});c=f.txSkeleton;const d=(0,o.getSporeScript)(t,"Spore",u.cellOutput.type);if(d.behaviors?.cobuild){const e=(0,s.generateMeltSporeAction)({txSkeleton:c,inputIndex:f.inputIndex});c=(0,s.injectCommonCobuildProof)({txSkeleton:c,actions:e.actions}).txSkeleton}const l=n.helpers.encodeToAddress(u.cellOutput.lock,{config:t.lumos});return c=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:e.changeAddress??l,txSkeleton:c,config:t})).txSkeleton,{txSkeleton:c,inputIndex:f.inputIndex}}},69881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferSpore=void 0;const n=r(3599),i=r(1828),o=r(36027),a=r(18714),s=r(13972);t.transferSpore=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=e.useCapacityMarginAsFee??!0;if(!c&&!e.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(c&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacity margin of the spore");let u=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getSporeByOutPoint)(e.outPoint,t),d=(0,i.getSporeScript)(t,"Spore",f.cellOutput.type),l=await(0,a.injectLiveSporeCell)({txSkeleton:u,cell:f,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t});u=l.txSkeleton;const h=(0,s.generateTransferSporeAction)({txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex});if(c){if(d.behaviors?.cobuild){u=(0,s.injectCommonCobuildProof)({txSkeleton:u,actions:h.actions}).txSkeleton}u=await(0,o.payFeeByOutput)({outputIndex:l.outputIndex,txSkeleton:u,config:t})}else{u=(await(0,o.injectCapacityAndPayFee)({txSkeleton:u,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(d.behaviors?.cobuild){e=(0,s.injectCommonCobuildProof)({txSkeleton:e,actions:h.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex}}},18714:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(26480),t),i(r(3333),t),i(r(51760),t),i(r(69881),t),i(r(72686),t),i(r(71274),t),i(r(43557),t),i(r(98092),t),i(r(15148),t),i(r(38819),t),i(r(84302),t),i(r(50644),t),i(r(39415),t),i(r(53675),t),i(r(23882),t),i(r(50636),t),i(r(15751),t),i(r(69737),t),i(r(97633),t),i(r(3096),t),i(r(4788),t),i(r(47431),t),i(r(20191),t),i(r(12518),t),i(r(93972),t),i(r(16143),t),i(r(52271),t),i(r(99839),t),i(r(8310),t),i(r(55629),t),i(r(65871),t),i(r(75595),t),i(r(47178),t),i(r(12834),t),i(r(20012),t),i(r(49639),t)},69737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterById=t.getClusterByOutPoint=t.getClusterByType=void 0;const n=r(3599),i=r(36027),o=r(1828);async function a(e,t){t=t??(0,o.getSporeConfig)();const r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);if(!(0,i.isTypeId)(e.args))throw new Error(`Target Cluster Id is invalid: ${e.args}`);const a=await(0,i.getCellByType)({type:e,indexer:r});if(void 0===a)throw new Error("Cannot find Cluster by Type because target cell does not exist");const s=a.cellOutput.type;if(!s||!(0,o.isSporeScriptSupported)(t,s,"Cluster"))throw new Error("Cannot find Cluster by Type because target cell is not a supported version of Cluster");return a}t.getClusterByType=a,t.getClusterByOutPoint=async function(e,t){t=t??(0,o.getSporeConfig)();const r=new n.RPC(t.ckbNodeUrl),a=await(0,i.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!a.cell)throw new Error("Cannot find Cluster by OutPoint because target cell was not found");if("live"!==a.status)throw new Error("Cannot find Cluster by OutPoint because target cell is not lived");const s=a.cell.cellOutput.type;if(!s||!(0,o.isSporeScriptSupported)(t,s,"Cluster"))throw new Error("Cannot find Cluster by OutPoint because target cell is not a supported version of Cluster");return a.cell},t.getClusterById=async function(e,t){if(t=t??(0,o.getSporeConfig)(),!(0,i.isTypeId)(e))throw new Error(`Target ClusterId is invalid: ${e}`);const r=((0,o.getSporeScriptCategory)(t,"Cluster").versions??[]).map((e=>e.script));for(const n of r)try{return await a({...n,args:e},t)}catch(e){console.error("getClusterById error:",e)}throw new Error("Cannot find Cluster by Id because target cell does not exist or it's not a supported version of Cluster")}},50636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterCell=void 0;const n=r(24862),i=r(1828),o=r(36027);t.injectLiveClusterCell=async function(e){const t=e.cell,r=e.config??(0,i.getSporeConfig)();let a=e.txSkeleton;const s=t.cellOutput.type,c=(0,i.getSporeScript)(r,"Cluster",s);if(!s||!c)throw new Error("Cannot inject Cluster because target cell is not a supported version of Cluster");const u=await(0,o.setupCell)({txSkeleton:a,input:e.cell,config:r.lumos,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since});if(a=u.txSkeleton,e.addOutput){const e=a.get("outputs").get(u.outputIndex);(0,o.assetCellMinimalCapacity)(e),a=a.update("fixedEntries",(e=>e.push({field:"outputs",index:u.outputIndex})))}return a=(0,n.addCellDep)(a,c.cellDep),{txSkeleton:a,inputIndex:u.inputIndex,outputIndex:u.outputIndex}}},15751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterReference=void 0;const n=r(33089),i=r(1828),o=r(36027),a=r(50636);t.injectLiveClusterReference=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=e.cell;let s,c=e.txSkeleton;const u=await(0,o.referenceCellOrLockProxy)({txSkeleton:c,cell:r,inputLocks:e.inputLocks,outputLocks:e.outputLocks,referenceCell:async n=>(s=await(0,a.injectLiveClusterCell)({txSkeleton:n,cell:r,addOutput:!0,updateOutput:e.updateOutput,updateWitness:e.updateWitness,capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,since:e.since,config:t}),s.txSkeleton),async referenceLockProxy(e){const o=r.cellOutput.type,a=(0,i.getSporeScript)(t,"Cluster",o);if(!a.behaviors?.lockProxy)throw new Error("Cannot reference Cluster because target Cluster does not supported lockProxy");return e=(0,n.addCellDep)(e,a.cellDep)}});return c=u.txSkeleton,{txSkeleton:c,referenceType:u.referencedCell?"cell":"lockProxy",cluster:u.referencedCell&&void 0!==s?{inputIndex:s.inputIndex,outputIndex:s.outputIndex}:void 0}}},23882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterIds=void 0;const n=r(36027),i=r(1828);t.injectNewClusterIds=function(e){const t=e.config??(0,i.getSporeConfig)();let r=e.txSkeleton;const o=r.get("inputs").get(0);if(!o)throw new Error("Cannot generate Cluster Id because Transaction.inputs[0] does not exist");let a=r.get("outputs"),s=(0,n.generateTypeIdsByOutputs)(o,a.toArray(),(e=>!!e.cellOutput.type&&(0,i.isSporeScriptSupported)(t,e.cellOutput.type,"Cluster")));if(e.outputIndices&&(s=s.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),s.length!==e.outputIndices.length))throw new Error("Cannot generate Cluster Id because clusterOutputIndices cannot be fully handled");for(const[e,t]of s){const r=a.get(e);if(!r)throw new Error(`Cannot generate Cluster Id because Transaction.outputs[${e}] does not exist`);r.cellOutput.type.args=t,a=a.set(e,r)}return r.set("outputs",a)}},53675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterOutput=void 0;const n=r(71313),i=r(24862),o=r(31564),a=r(1828),s=r(36027),c=r(23882);t.injectNewClusterOutput=function(e){const t=e.config??(0,a.getSporeConfig)();let r=e.txSkeleton;if(void 0!==e.data.mutantId){const t=n.bytes.bytify(e.data.mutantId);if(32!==t.byteLength)throw new Error(`Invalid Mutant Id length, expected 32, actually: ${t.byteLength}`)}const u=(0,a.getSporeScript)(t,"Cluster"),f=(0,o.packRawClusterData)(e.data,u.behaviors?.clusterDataVersion);let d=(0,s.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...u.script,args:"0x"+"0".repeat(64)}},data:n.bytes.hexify(f)});const l=r.get("outputs").size;r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(d=(0,s.setAbsoluteCapacityMargin)(d,e.capacityMargin)),e.updateOutput instanceof Function&&(d=e.updateOutput(d)),t.push(d)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:l})));const h=r.get("inputs").first();if(h&&(r=(0,c.injectNewClusterIds)({outputIndices:[l],txSkeleton:r,config:t})),r=(0,i.addCellDep)(r,u.cellDep),void 0!==e.data.mutantId){const e=(0,a.getSporeScript)(t,"Mutant");r=(0,i.addCellDep)(r,e.cellDep)}return{txSkeleton:r,outputIndex:l,hasId:void 0!==h}}},65871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterAgentByOutPoint=void 0;const n=r(3599),i=r(36027),o=r(1828);t.getClusterAgentByOutPoint=async function(e,t){t=t??(0,o.getSporeConfig)();const r=new n.RPC(t.ckbNodeUrl),a=await(0,i.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!a.cell)throw new Error("Cannot find ClusterAgent by OutPoint because target cell was not found");if("live"!==a.status)throw new Error("Cannot find ClusterAgent by OutPoint because target cell is not lived");const s=a.cell.cellOutput.type;if(!s||!(0,o.isSporeScriptSupported)(t,s,"ClusterAgent"))throw new Error("Cannot find ClusterAgent by OutPoint because target cell is not a supported version of ClusterAgent");return a.cell}},8310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterAgentCell=void 0;const n=r(33089),i=r(1828),o=r(36027);t.injectLiveClusterAgentCell=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=e.cell;let a=e.txSkeleton;const s=r.cellOutput.type,c=(0,i.getSporeScript)(t,"ClusterAgent",s);if(!s||!c)throw new Error("Cannot inject ClusterAgent because target cell is not a supported version of ClusterAgent");const u=await(0,o.setupCell)({txSkeleton:a,input:r,config:t.lumos,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since});if(a=u.txSkeleton,e.addOutput){const e=a.get("outputs").get(u.outputIndex);(0,o.assetCellMinimalCapacity)(e),a=a.update("fixedEntries",(e=>e.push({field:"outputs",index:u.outputIndex})))}return a=(0,n.addCellDep)(a,c.cellDep),{txSkeleton:a,inputIndex:u.inputIndex,outputIndex:u.outputIndex}}},55629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterAgentReference=void 0;const n=r(33089),i=r(36027),o=r(1828),a=r(8310);t.injectLiveClusterAgentReference=async function(e){const t=e.config??(0,o.getSporeConfig)();let r=e.txSkeleton;const s=e.cell;if(!s.outPoint)throw new Error("Cannot inject ClusterAgent as reference because target cell has no OutPoint");let c;const u=await(0,i.referenceCellOrLockProxy)({txSkeleton:r,cell:s,inputLocks:e.inputLocks,outputLocks:e.outputLocks,referenceCell:async r=>(c=await(0,a.injectLiveClusterAgentCell)({txSkeleton:r,cell:s,addOutput:!0,updateOutput:e.updateOutput,updateWitness:e.updateWitness,capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,since:e.since,config:t}),c.txSkeleton),referenceLockProxy(e){const r=s.cellOutput.type,i=(0,o.getSporeScript)(t,"ClusterAgent",r);if(!i.behaviors?.lockProxy)throw new Error("Cannot reference ClusterAgent because target cell does not supported lockProxy");return e=(0,n.addCellDep)(e,i.cellDep)}});return r=u.txSkeleton,{txSkeleton:r,referenceType:u.referencedCell?"cell":"lockProxy",clusterAgent:u.referencedCell&&void 0!==c?{inputIndex:c.inputIndex,outputIndex:c.outputIndex}:void 0}}},99839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterAgentOutput=void 0;const n=r(33089),i=r(31564),o=r(36027),a=r(1828),s=r(16143);t.injectNewClusterAgentOutput=async function(e){const t=e.config??(0,a.getSporeConfig)();let r=e.txSkeleton;const c=e.clusterProxyCell,u=c.cellOutput.type;if(!u||!(0,a.isSporeScriptSupported)(t,u,"ClusterProxy"))throw new Error("Cannot reference ClusterProxy because target cell is not a supported version of ClusterProxy");const f=await(0,s.injectLiveClusterProxyReference)({txSkeleton:r,cell:c,referenceType:e.referenceType,paymentAmount:e.paymentAmount,capacityMargin:e.clusterProxy?.capacityMargin,updateWitness:e.clusterProxy?.updateWitness,updateOutput:e.clusterProxy?.updateOutput,config:t});r=f.txSkeleton;const d=(0,a.getSporeScript)(t,"ClusterAgent"),l=c.data;let h=(0,o.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...d.script,args:l}},data:(0,i.packRawClusterAgentDataToHash)(u)});const p=r.get("outputs").size;return r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(h=(0,o.setAbsoluteCapacityMargin)(h,e.capacityMargin)),e.updateOutput instanceof Function&&(h=e.updateOutput(h)),t.push(h)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:p}))),r=(0,n.addCellDep)(r,d.cellDep),{txSkeleton:r,outputIndex:p,reference:{referenceType:f.referenceType,clusterProxy:f.clusterProxy,payment:f.payment}}}},52271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterProxyById=t.getClusterProxyByOutPoint=t.getClusterProxyByType=void 0;const n=r(71313),i=r(3599),o=r(36027),a=r(1828),s=r(31564);async function c(e,t){t=t??(0,a.getSporeConfig)();const r=new i.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=await(0,o.getCellByType)({type:e,indexer:r});if(void 0===n)throw new Error("Cannot find ClusterProxy by Type because target cell does not exist");const s=n.cellOutput.type;if(!s||!(0,a.isSporeScriptSupported)(t,s,"ClusterProxy"))throw new Error("Cannot find ClusterProxy by Type because target cell is not a supported version of ClusterProxy");return n}t.getClusterProxyByType=c,t.getClusterProxyByOutPoint=async function(e,t){t=t??(0,a.getSporeConfig)();const r=new i.RPC(t.ckbNodeUrl),n=await(0,o.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!n.cell)throw new Error("Cannot find ClusterProxy by OutPoint because target cell was not found");if("live"!==n.status)throw new Error("Cannot find ClusterProxy by OutPoint because target cell is not lived");const s=n.cell.cellOutput.type;if(!s||!(0,a.isSporeScriptSupported)(t,s,"ClusterProxy"))throw new Error("Cannot find ClusterProxy by OutPoint because target cell is not a supported version of ClusterProxy");return n.cell},t.getClusterProxyById=async function(e,t){t=t??(0,a.getSporeConfig)();const r=((0,a.getSporeScriptCategory)(t,"ClusterProxy").versions??[]).map((e=>e.script)),i=n.bytes.hexify((0,s.packRawClusterProxyArgs)({id:e}));for(const e of r)try{return await c({...e,args:i},t)}catch(e){console.error("getClusterProxyById error:",e)}throw new Error("Cannot find ClusterProxy by ID because target cell does not exist or it's not a supported version of ClusterProxy")}},93972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterProxyCell=void 0;const n=r(33089),i=r(1828),o=r(36027);t.injectLiveClusterProxyCell=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=e.cell;let a=e.txSkeleton;const s=r.cellOutput.type,c=(0,i.getSporeScript)(t,"ClusterProxy",s);if(!s||!c)throw new Error("Cannot inject ClusterProxy because target cell is not a supported version of ClusterProxy");const u=await(0,o.setupCell)({txSkeleton:a,input:r,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t.lumos});if(a=u.txSkeleton,e.addOutput){const e=a.get("outputs").get(u.outputIndex);(0,o.assetCellMinimalCapacity)(e),a=a.update("fixedEntries",(e=>e.push({field:"outputs",index:u.outputIndex})))}return a=(0,n.addCellDep)(a,c.cellDep),{txSkeleton:a,inputIndex:u.inputIndex,outputIndex:u.outputIndex}}},16143:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterProxyReference=void 0;const n=r(3599),i=r(33089),o=r(36027),a=r(1828),s=r(93972),c=r(31564);t.injectLiveClusterProxyReference=async function(e){const t=e.config??(0,a.getSporeConfig)(),r="payment"===e.referenceType;let u=e.txSkeleton;const f=e.cell;if(!f.outPoint)throw new Error("Cannot inject ClusterProxy as reference because target cell has no OutPoint");const d=f.cellOutput.type,l=(0,a.getSporeScript)(t,"ClusterProxy",d);if(!d||!l)throw new Error("Cannot inject ClusterProxy because target cell is not a supported version of ClusterProxy");let h,p;if(r){const t=(0,c.unpackToRawClusterProxyArgs)(d.args),r=void 0!==t.minPayment?t.minPayment:n.BI.from(0);if(r.lte(0))throw new Error("Cannot pay to reference ClusterProxy because minPayment is undefined");const i=(0,o.minimalCellCapacityByLock)(f.cellOutput.lock),a=r.gt(i)?r:i,s=n.BI.from(e.paymentAmount?e.paymentAmount instanceof Function?e.paymentAmount(a):e.paymentAmount:a);if(s.lt(a))throw new Error(`Cannot pay to reference ClusterProxy because paymentAmount is too low, required: ${a.toString()}, actual: ${s.toString()}`);const l={cellOutput:{capacity:s.toHexString(),lock:f.cellOutput.lock},data:"0x"};(0,o.assetCellMinimalCapacity)(l),u=u.update("outputs",(e=>(h=e.size,e.push(l)))),u=u.update("fixedEntries",(e=>e.push({field:"outputs",index:h})))}return r||(p=await(0,s.injectLiveClusterProxyCell)({txSkeleton:u,cell:f,updateOutput:e.updateOutput,updateWitness:e.updateWitness,capacityMargin:e.capacityMargin,addOutput:!0,config:t}),u=p.txSkeleton,u=u.update("fixedEntries",(e=>e.push({field:"outputs",index:p.outputIndex})))),u=(0,i.addCellDep)(u,l.cellDep),u=(0,i.addCellDep)(u,{outPoint:f.outPoint,depType:"code"}),{txSkeleton:u,referenceType:r?"payment":"cell",clusterProxy:!r&&p?{inputIndex:p.inputIndex,outputIndex:p.outputIndex}:void 0,payment:r?{outputIndex:h}:void 0}}},12518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterProxyIds=void 0;const n=r(71313),i=r(36027),o=r(31564),a=r(1828);t.injectNewClusterProxyIds=function(e){const t=e.config??(0,a.getSporeConfig)();let r=e.txSkeleton;const s=r.get("inputs").get(0);if(!s)throw new Error("Cannot generate ClusterProxy Id because Transaction.inputs[0] does not exist");let c=r.get("outputs"),u=(0,i.generateTypeIdsByOutputs)(s,c.toArray(),(e=>!!e.cellOutput.type&&(0,a.isSporeScriptSupported)(t,e.cellOutput.type,"ClusterProxy")));if(e.outputIndices&&(u=u.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),u.length!==e.outputIndices.length))throw new Error("Cannot generate ClusterProxy Id because outputIndices cannot be fully handled");for(const[e,t]of u){const r=c.get(e);if(!r)throw new Error(`Cannot generate ClusterProxy Id because Transaction.outputs[${e}] does not exist`);const i=(0,o.unpackToRawClusterProxyArgs)(r.cellOutput.type.args),a=(0,o.packRawClusterProxyArgs)({id:t,minPayment:i.minPayment});r.cellOutput.type.args=n.bytes.hexify(a),c=c.set(e,r)}return r.set("outputs",c)}},20191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterProxyOutput=void 0;const n=r(71313),i=r(33089),o=r(31564),a=r(36027),s=r(36027),c=r(1828),u=r(15751),f=r(12518);t.injectNewClusterProxyOutput=async function(e){const t=e.config??(0,c.getSporeConfig)();let r=e.txSkeleton;const d=e.clusterCell,l=d.cellOutput.type;if(!l||!(0,c.isSporeScriptSupported)(t,l,"Cluster"))throw new Error("Cannot reference Cluster because target cell is not a supported version of Cluster");const h=await(0,u.injectLiveClusterReference)({txSkeleton:r,cell:d,inputLocks:(0,a.composeInputLocks)({fromInfos:e.fromInfos,config:t.lumos}),outputLocks:(0,a.composeOutputLocks)({outputLocks:[e.toLock],fromInfos:e.fromInfos,changeAddress:e.changeAddress,config:t.lumos}),updateOutput:e.cluster?.updateOutput,updateWitness:e.cluster?.updateWitness,capacityMargin:e.cluster?.capacityMargin,config:t});r=h.txSkeleton;const p=(0,c.getSporeScript)(t,"ClusterProxy");let b=(0,s.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...p.script,args:n.bytes.hexify((0,o.packRawClusterProxyArgs)({id:"0x"+"0".repeat(64),minPayment:e.minPayment}))}},data:l.args});const y=r.get("outputs").size;r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(b=(0,s.setAbsoluteCapacityMargin)(b,e.capacityMargin)),e.updateOutput instanceof Function&&(b=e.updateOutput(b)),t.push(b)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:y})));const g=r.get("inputs").first();return g&&(r=(0,f.injectNewClusterProxyIds)({outputIndices:[y],txSkeleton:r,config:t})),r=(0,i.addCellDep)(r,p.cellDep),{txSkeleton:r,outputIndex:y,hasId:void 0!==g,reference:{referenceType:h.referenceType,cluster:h.cluster}}}},49639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMutantById=t.getMutantByOutPoint=t.getMutantByType=void 0;const n=r(71313),i=r(3599),o=r(31564),a=r(36027),s=r(1828);async function c(e,t){t=t??(0,s.getSporeConfig)();const r=new i.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=await(0,a.getCellByType)({type:e,indexer:r});if(void 0===n)throw new Error("Cannot find Mutant by Type because target cell does not exist");const o=n.cellOutput.type;if(!o||!(0,s.isSporeScriptSupported)(t,o,"Mutant"))throw new Error("Cannot find Mutant by Type because target cell is not a supported version of Mutant");return n}t.getMutantByType=c,t.getMutantByOutPoint=async function(e,t){t=t??(0,s.getSporeConfig)();const r=new i.RPC(t.ckbNodeUrl),n=await(0,a.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!n.cell)throw new Error("Cannot find Mutant by OutPoint because target cell was not found");if("live"!==n.status)throw new Error("Cannot find Mutant by OutPoint because target cell is not lived");const o=n.cell.cellOutput.type;if(!o||!(0,s.isSporeScriptSupported)(t,o,"Mutant"))throw new Error("Cannot find Mutant by OutPoint because target cell is not a supported version of Mutant");return n.cell},t.getMutantById=async function(e,t){t=t??(0,s.getSporeConfig)();const r=((0,s.getSporeScriptCategory)(t,"Mutant").versions??[]).map((e=>e.script)),i=n.bytes.hexify((0,o.packRawMutantArgs)({id:e}));for(const e of r)try{return await c({...e,args:i},t)}catch(e){console.error("getMutantById error:",e)}throw new Error("Cannot find Mutant by ID because target cell does not exist or it's not a supported version of Mutant")}},12834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveMutantCell=void 0;const n=r(71313),i=r(3599),o=r(33089),a=r(1828),s=r(36027),c=r(31564);t.injectLiveMutantCell=async function(e){const t=e.cell,r=e.config??(0,a.getSporeConfig)();let u=e.txSkeleton;const f=t.cellOutput.type,d=(0,a.getSporeScript)(r,"Mutant",f);if(!f||!d)throw new Error("Cannot inject Mutant because target cell is not a supported version of Mutant");const l=await(0,s.setupCell)({txSkeleton:u,input:e.cell,config:r.lumos,addOutput:e.addOutput,updateOutput(t){if(void 0!==e.minPayment){const r=(0,c.unpackToRawMutantArgs)(t.cellOutput.type.args),o=(0,c.packRawMutantArgs)({...r,minPayment:i.BI.from(e.minPayment)});t.cellOutput.type.args=n.bytes.hexify(o)}return void 0!==e.capacityMargin&&(t=(0,s.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t},defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since});if(u=l.txSkeleton,e.addOutput){const e=u.get("outputs").get(l.outputIndex);(0,s.assetCellMinimalCapacity)(e),u=u.update("fixedEntries",(e=>e.push({field:"outputs",index:l.outputIndex})))}return u=(0,o.addCellDep)(u,d.cellDep),{txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex}}},20012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveMutantReferences=void 0;const n=r(3599),i=r(33089),o=r(31564),a=r(36027),s=r(1828),c=r(49639);t.injectLiveMutantReferences=async function(e){const t=e.config??(0,s.getSporeConfig)();let r=e.txSkeleton;const u=Array.isArray(e.mutantIds)?e.mutantIds:[e.mutantIds],f=await Promise.all(u.map((e=>(0,c.getMutantById)(e,t)))),d=[],l=f.reduce(((e,t)=>{const r=t.cellOutput.lock,i=n.utils.computeScriptHash(r);void 0===e[i]&&(e[i]={cell:t,lock:r,minPayment:n.BI.from(0),minLockCapacity:(0,a.minimalCellCapacityByLock)(r)});const s=(0,o.unpackToRawMutantArgs)(t.cellOutput.type.args),c=void 0!==s.minPayment?s.minPayment:n.BI.from(0);return e[i].minPayment=e[i].minPayment.add(c),e}),{});for(const t of Object.values(l)){if(t.minPayment.eq(0))continue;const i=t.minPayment.gt(t.minLockCapacity)?t.minPayment:t.minLockCapacity,o=n.BI.from(e.paymentAmount?e.paymentAmount(i,t.lock,t.cell):i);if(o.lt(i))throw new Error(`Cannot pay to reference Mutant because paymentAmount is too low, required: ${i.toString()}, actual: ${o.toString()}`);const a=r.get("outputs").size;r=r.update("outputs",(e=>(d.push(a),e.push({cellOutput:{capacity:o.toHexString(),lock:t.lock},data:"0x"})))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:a})))}const h=(0,s.getSporeScript)(t,"Mutant");r=(0,i.addCellDep)(r,h.cellDep);const p=(0,s.getSporeScript)(t,"Lua");r=(0,i.addCellDep)(r,p.cellDep);for(const e of f)r=(0,i.addCellDep)(r,{outPoint:e.outPoint,depType:"code"});return{txSkeleton:r,referenceType:d.length>0?"payment":"none",payment:d.length>0?{outputIndices:d}:void 0}}},47178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewMutantIds=void 0;const n=r(71313),i=r(36027),o=r(31564),a=r(1828);t.injectNewMutantIds=function(e){const t=e.config??(0,a.getSporeConfig)();let r=e.txSkeleton;const s=r.get("inputs").get(0);if(!s)throw new Error("Cannot generate Mutant Id because Transaction.inputs[0] does not exist");let c=r.get("outputs"),u=(0,i.generateTypeIdsByOutputs)(s,c.toArray(),(e=>!!e.cellOutput.type&&(0,a.isSporeScriptSupported)(t,e.cellOutput.type,"Mutant")));if(e.outputIndices&&(u=u.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),u.length!==e.outputIndices.length))throw new Error("Cannot generate Mutant Id because outputIndices cannot be fully handled");for(const[e,t]of u){const r=c.get(e);if(!r)throw new Error(`Cannot generate Mutant Id because Transaction.outputs[${e}] does not exist`);const i=(0,o.unpackToRawMutantArgs)(r.cellOutput.type.args),a=(0,o.packRawMutantArgs)({id:t,minPayment:i.minPayment});r.cellOutput.type.args=n.bytes.hexify(a),c=c.set(e,r)}return r.set("outputs",c)}},75595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewMutantOutput=void 0;const n=r(71313),i=r(3599),o=r(33089),a=r(31564),s=r(1828),c=r(36027),u=r(47178);t.injectNewMutantOutput=function(e){const t=e.config??(0,s.getSporeConfig)();let r=e.txSkeleton;const f=(0,s.getSporeScript)(t,"Mutant");let d=(0,c.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...f.script,args:n.bytes.hexify((0,a.packRawMutantArgs)({id:"0x"+"0".repeat(64),minPayment:void 0!==e.minPayment?i.BI.from(e.minPayment):void 0}))}},data:n.bytes.hexify(e.data)});const l=r.get("outputs").size;r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(d=(0,c.setAbsoluteCapacityMargin)(d,e.capacityMargin)),e.updateOutput instanceof Function&&(d=e.updateOutput(d)),t.push(d)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:l})));const h=r.get("inputs").first();h&&(r=(0,u.injectNewMutantIds)({outputIndices:[l],txSkeleton:r,config:t}));const p=(0,s.getSporeScript)(t,"Lua");return r=(0,o.addCellDep)(r,p.cellDep),r=(0,o.addCellDep)(r,f.cellDep),{txSkeleton:r,outputIndex:l,hasId:void 0!==h}}},47431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeById=t.getSporeByOutPoint=t.getSporeByType=void 0;const n=r(3599),i=r(36027),o=r(1828);async function a(e,t){t=t??(0,o.getSporeConfig)();const r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);if(!(0,i.isTypeId)(e.args))throw new Error(`Target Spore ID is invalid: ${e.args}`);const a=await(0,i.getCellByType)({type:e,indexer:r});if(void 0===a)throw new Error("Cannot find Spore by Type because target cell does not exist");const s=a.cellOutput.type;if(!s||!(0,o.isSporeScriptSupported)(t,s,"Spore"))throw new Error("Cannot find spore by Type because target cell type is not a supported version of Spore");return a}t.getSporeByType=a,t.getSporeByOutPoint=async function(e,t){t=t??(0,o.getSporeConfig)();const r=new n.RPC(t.ckbNodeUrl),a=await(0,i.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!a.cell)throw new Error("Cannot find spore by OutPoint because target cell was not found");if("live"!==a.status)throw new Error("Cannot find spore by OutPoint because target cell is not lived");const s=a.cell.cellOutput.type;if(!s||!(0,o.isSporeScriptSupported)(t,s,"Spore"))throw new Error("Cannot find spore by OutPoint because target cell type is not a supported version of Spore");return a.cell},t.getSporeById=async function(e,t){if(t=t??(0,o.getSporeConfig)(),!(0,i.isTypeId)(e))throw new Error("Cannot find spore because target SporeId is not valid");const r=((0,o.getSporeScriptCategory)(t,"Spore").versions??[]).map((e=>e.script));for(const n of r)try{return await a({...n,args:e},t)}catch{}throw new Error("Cannot find spore by SporeId because target cell does not exist or it's not a supported version of Spore")}},3096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveSporeCell=void 0;const n=r(3599),i=r(24862),o=r(36027),a=r(1828),s=r(31564),c=r(49639);t.injectLiveSporeCell=async function(e){const t=e.config??(0,a.getSporeConfig)(),r=e.cell;let u=e.txSkeleton;const f=r.cellOutput.type,d=(0,a.getSporeScript)(t,"Spore",f);if(!f||!d)throw new Error("Cannot inject live spore because target cell type is not a supported version of Spore");const l=await(0,o.setupCell)({txSkeleton:u,input:r,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,config:t.lumos,since:e.since});u=l.txSkeleton,e.addOutput&&(u=u.update("fixedEntries",(e=>e.push({field:"outputs",index:l.outputIndex}))));let h=d.cellDep;if(d.behaviors?.dynamicCelldep){const e=await(0,o.getCellByType)({type:d.behaviors?.dynamicCelldep,indexer:new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl)});e&&(h={outPoint:e.outPoint,depType:"code"})}u=(0,i.addCellDep)(u,h);const p=(0,s.unpackToRawSporeData)(r.data);if((0,o.isContentTypeValid)(p.contentType)){const e=(0,o.decodeContentType)(p.contentType);if(void 0!==e.parameters.mutant){const r=(0,a.getSporeScript)(t,"Mutant");u=(0,i.addCellDep)(u,r.cellDep);const n=e.parameters.mutant,o=Array.isArray(n)?n:[n],s=await Promise.all(o.map((e=>(0,c.getMutantById)(e,t))));for(const e of s)u=(0,i.addCellDep)(u,{outPoint:e.outPoint,depType:"code"})}}return{txSkeleton:u,inputIndex:l.inputIndex,outputIndex:l.outputIndex}}},4788:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewSporeIds=void 0;const n=r(36027),i=r(1828);t.injectNewSporeIds=function(e){const t=e.config??(0,i.getSporeConfig)();let r=e.txSkeleton;const o=r.get("inputs").get(0);if(!o)throw new Error("Cannot generate Spore Id because Transaction.inputs[0] does not exist");let a=r.get("outputs"),s=(0,n.generateTypeIdsByOutputs)(o,a.toArray(),(e=>!!e.cellOutput.type&&(0,i.isSporeScriptSupported)(t,e.cellOutput.type,"Spore")));if(e.outputIndices&&(s=s.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),s.length!==e.outputIndices.length))throw new Error("Cannot generate Spore Id because sporeOutputIndices cannot be fully handled");for(const[e,t]of s){const r=a.get(e);if(!r)throw new Error(`Cannot generate Spore Id because Transaction.outputs[${e}] does not exist`);r.cellOutput.type.args=t,a=a.set(e,r)}return r.set("outputs",a)}},97633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewSporeOutput=void 0;const n=r(71313),i=r(3599),o=r(24862),a=r(31564),s=r(1828),c=r(36027),u=r(36027),f=r(36027),d=r(69737),l=r(15751),h=r(55629),p=r(20012),b=r(4788);t.injectNewSporeOutput=async function(e){const t=e.config??(0,s.getSporeConfig)(),r=e.data;let y=e.txSkeleton;const g=!!r.clusterId&&!e.clusterAgentCell,m=!!r.clusterId&&!!e.clusterAgentCell;let v;const _=r.clusterId?await(0,d.getClusterById)(r.clusterId,t):void 0;let w;if(g&&(v=await(0,l.injectLiveClusterReference)({txSkeleton:y,cell:_,inputLocks:(0,f.composeInputLocks)({fromInfos:e.fromInfos,config:t.lumos}),outputLocks:(0,f.composeOutputLocks)({outputLocks:e.extraOutputLocks?e.extraOutputLocks.concat([e.toLock]):[e.toLock],fromInfos:e.fromInfos,changeAddress:e.changeAddress,config:t.lumos}),capacityMargin:e.cluster?.capacityMargin,updateOutput:e.cluster?.updateOutput,updateWitness:e.cluster?.updateWitness,defaultWitness:e.cluster?.defaultWitness,since:e.cluster?.since,config:t}),y=v.txSkeleton),m){w=await(0,h.injectLiveClusterAgentReference)({txSkeleton:y,cell:e.clusterAgentCell,inputLocks:(0,f.composeInputLocks)({fromInfos:e.fromInfos,config:t.lumos}),outputLocks:(0,f.composeOutputLocks)({outputLocks:[e.toLock],fromInfos:e.fromInfos,changeAddress:e.changeAddress,config:t.lumos}),capacityMargin:e.clusterAgent?.capacityMargin,updateOutput:e.clusterAgent?.updateOutput,updateWitness:e.clusterAgent?.updateWitness,defaultWitness:e.clusterAgent?.defaultWitness,since:e.clusterAgent?.since,config:t}),y=w.txSkeleton;const r=_.cellOutput.type,n=(0,s.getSporeScript)(t,"Cluster",r);if(!r||!n)throw new Error("Cannot reference Cluster because target cell is not a supported version of Cluster");y=(0,o.addCellDep)(y,n.cellDep),y=(0,o.addCellDep)(y,{outPoint:_.outPoint,depType:"code"})}const S=(0,c.setContentTypeParameters)(r.contentType,r.contentTypeParameters??{}),x=e.skipCheckContentType??!1;if(!x&&!(0,f.isContentTypeValid)(S))throw new Error(`Spore has specified an invalid data.contentType: ${S}`);const A=(0,s.getSporeScript)(t,"Spore");let E=(0,u.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...A.script,args:"0x"+"0".repeat(64)}},data:n.bytes.hexify((0,a.packRawSporeData)({contentType:S,content:r.content,clusterId:r.clusterId}))});const I=y.get("outputs").size;y=y.update("outputs",(t=>(void 0!==e.capacityMargin&&(E=(0,u.setAbsoluteCapacityMargin)(E,e.capacityMargin)),e.updateOutput instanceof Function&&(E=e.updateOutput(E)),t.push(E)))),y=y.update("fixedEntries",(e=>e.push({field:"outputs",index:I})));const k=y.get("inputs").first();let T;if(void 0!==k&&(y=(0,b.injectNewSporeIds)({outputIndices:[I],txSkeleton:y,config:t})),!x){const r=(0,f.decodeContentType)(S);void 0!==r.parameters.mutant&&(T=await(0,p.injectLiveMutantReferences)({txSkeleton:y,mutantIds:r.parameters.mutant,paymentAmount:e.mutant?.paymentAmount,config:t}),y=T.txSkeleton)}let C=A.cellDep;if(A.behaviors?.dynamicCelldep){const e=await(0,c.getCellByType)({type:A.behaviors?.dynamicCelldep,indexer:new i.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl)});e&&(C={outPoint:e.outPoint,depType:"code"})}return y=(0,o.addCellDep)(y,C),{txSkeleton:y,outputIndex:I,hasId:void 0!==k,reference:{referenceTarget:g?"cluster":m?"clusterAgent":"none",referenceType:g?v.referenceType:m?w.referenceType:void 0,cluster:v?.cluster,clusterAgent:w?.clusterAgent},mutantReference:T?{referenceType:T.referenceType,payment:T.payment}:void 0}}},50752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateClusterBuildingPacket=t.generateCreateClusterAction=t.assembleCreateClusterAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654);function u(e){const t=[],r=[],s=e.cellOutput.type,u=n.utils.computeScriptHash(s),f=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:u});r.push(f);const d=o.SporeAction.pack({type:"CreateCluster",value:{clusterId:s.args,dataHash:n.utils.ckbHash(e.data),to:{type:"Script",value:e.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(f)),scriptHash:u,data:i.bytes.hexify(d)}),{actions:t,scriptInfos:r}}function f(e){return u(e.txSkeleton.get("outputs").get(e.outputIndex))}t.assembleCreateClusterAction=u,t.generateCreateClusterAction=f,t.generateCreateClusterBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},74941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateReferenceClusterAction=void 0;const n=r(78261);t.generateReferenceClusterAction=function(e){if("lockProxy"===e.referenceType)return{actions:[],scriptInfos:[]};if(!e.cluster)throw new Error("Cannot generate TransferCluster Action without cluster info");return(0,n.generateTransferClusterAction)({txSkeleton:e.txSkeleton,inputIndex:e.cluster.inputIndex,outputIndex:e.cluster.outputIndex})}},78261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferClusterBuildingPacket=t.generateTransferClusterAction=t.assembleTransferClusterAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654);function u(e,t){const r=[],s=[],u=t.cellOutput.type,f=n.utils.computeScriptHash(u),d=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:f});s.push(d);const l=o.SporeAction.pack({type:"TransferCluster",value:{clusterId:u.args,from:{type:"Script",value:e.cellOutput.lock},to:{type:"Script",value:t.cellOutput.lock}}});return r.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(d)),scriptHash:f,data:i.bytes.hexify(l)}),{actions:r,scriptInfos:s}}function f(e){let t=e.txSkeleton;return u(t.get("inputs").get(e.inputIndex),t.get("outputs").get(e.outputIndex))}t.assembleTransferClusterAction=u,t.generateTransferClusterAction=f,t.generateTransferClusterBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},11228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateClusterAgentBuildingPacket=t.generateCreateClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654),u=r(52293);function f(e){const t=[],r=[];let s=e.txSkeleton;const f=s.get("outputs").get(e.outputIndex),d=f.cellOutput.type,l=n.utils.computeScriptHash(d),h=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:l});r.push(h);const p=o.SporeAction.pack({type:"CreateClusterAgent",value:{clusterId:d.args,clusterProxyId:e.clusterProxyId,to:{type:"Script",value:f.cellOutput.lock}}});t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(h)),scriptHash:l,data:i.bytes.hexify(p)});const b=(0,u.generateReferenceClusterProxyAction)({txSkeleton:s,referenceType:e.reference.referenceType,clusterProxy:e.reference.clusterProxy});return t.push(...b.actions),r.push(...b.scriptInfos),{actions:t,scriptInfos:r}}t.generateCreateClusterAgentAction=f,t.generateCreateClusterAgentBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},86078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeltClusterAgentBuildingPacket=t.generateMeltClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654);function u(e){const t=[],r=[];const s=e.txSkeleton.get("inputs").get(e.inputIndex),u=s.cellOutput.type,f=n.utils.computeScriptHash(u),d=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:f});r.push(d);const l=o.SporeAction.pack({type:"MeltClusterAgent",value:{clusterId:s.cellOutput.type.args,from:{type:"Script",value:s.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(d)),scriptHash:f,data:i.bytes.hexify(l)}),{actions:t,scriptInfos:r}}t.generateMeltClusterAgentAction=u,t.generateMeltClusterAgentBuildingPacket=function(e){let t=e.txSkeleton;const r=u(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},40653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateReferenceClusterAgentAction=void 0;const n=r(58227);t.generateReferenceClusterAgentAction=function(e){if("lockProxy"===e.referenceType)return{actions:[],scriptInfos:[]};if(!e.clusterAgent)throw new Error("Cannot generate TransferClusterAgent Action without clusterAgent info");return(0,n.generateTransferClusterAgentAction)({txSkeleton:e.txSkeleton,inputIndex:e.clusterAgent.inputIndex,outputIndex:e.clusterAgent.outputIndex})}},58227:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferClusterAgentBuildingPacket=t.generateTransferClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654);function u(e){const t=[],r=[];let s=e.txSkeleton;const u=s.get("inputs").get(e.inputIndex),f=s.get("outputs").get(e.outputIndex),d=f.cellOutput.type,l=n.utils.computeScriptHash(d),h=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:l});r.push(h);const p=o.SporeAction.pack({type:"TransferClusterAgent",value:{clusterId:d.args.slice(0,66),from:{type:"Script",value:u.cellOutput.lock},to:{type:"Script",value:f.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(h)),scriptHash:l,data:i.bytes.hexify(p)}),{actions:t,scriptInfos:r}}t.generateTransferClusterAgentAction=u,t.generateTransferClusterAgentBuildingPacket=function(e){let t=e.txSkeleton;const r=u(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},74746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateClusterProxyBuildingPacket=t.generateCreateClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654),u=r(74941),f=r(31564);function d(e){const t=[],r=[];let s=e.txSkeleton;const d=s.get("outputs").get(e.outputIndex),l=d.cellOutput.type,h=n.utils.computeScriptHash(l),p=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:h});r.push(p);const b=o.SporeAction.pack({type:"CreateClusterProxy",value:{clusterId:d.data,clusterProxyId:(0,f.unpackToRawClusterProxyArgs)(l.args).id,to:{type:"Script",value:d.cellOutput.lock}}});t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(p)),scriptHash:h,data:i.bytes.hexify(b)});const y=(0,u.generateReferenceClusterAction)({txSkeleton:s,referenceType:e.reference.referenceType,cluster:e.reference.cluster});return t.push(...y.actions),r.push(...y.scriptInfos),{actions:t,scriptInfos:r}}t.generateCreateClusterProxyAction=d,t.generateCreateClusterProxyBuildingPacket=function(e){let t=e.txSkeleton;const r=d(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},5244:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeltClusterProxyBuildingPacket=t.generateMeltClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654),u=r(31564);function f(e){const t=[],r=[];const s=e.txSkeleton.get("inputs").get(e.inputIndex),f=s.cellOutput.type,d=n.utils.computeScriptHash(f),l=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:d});r.push(l);const h=o.SporeAction.pack({type:"MeltClusterProxy",value:{clusterId:s.data,clusterProxyId:(0,u.unpackToRawClusterProxyArgs)(f.args).id,from:{type:"Script",value:s.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(l)),scriptHash:d,data:i.bytes.hexify(h)}),{actions:t,scriptInfos:r}}t.generateMeltClusterProxyAction=f,t.generateMeltClusterProxyBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},52293:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateReferenceClusterProxyAction=void 0;const n=r(85781);t.generateReferenceClusterProxyAction=function(e){if("payment"===e.referenceType)return{actions:[],scriptInfos:[]};if(!e.clusterProxy)throw new Error("Cannot generate TransferClusterProxy Action without clusterProxy info");return(0,n.generateTransferClusterProxyAction)({txSkeleton:e.txSkeleton,inputIndex:e.clusterProxy.inputIndex,outputIndex:e.clusterProxy.outputIndex})}},85781:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferClusterProxyBuildingPacket=t.generateTransferClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654),u=r(31564);function f(e){const t=[],r=[];let s=e.txSkeleton;const f=s.get("inputs").get(e.inputIndex),d=s.get("outputs").get(e.outputIndex),l=d.cellOutput.type,h=n.utils.computeScriptHash(l),p=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:h});r.push(p);const b=o.SporeAction.pack({type:"TransferClusterProxy",value:{clusterId:d.data,clusterProxyId:(0,u.unpackToRawClusterProxyArgs)(l.args).id,from:{type:"Script",value:f.cellOutput.lock},to:{type:"Script",value:d.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(p)),scriptHash:h,data:i.bytes.hexify(b)}),{actions:t,scriptInfos:r}}t.generateTransferClusterProxyAction=f,t.generateTransferClusterProxyBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},37760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateSporeBuildingPacket=t.generateCreateSporeAction=t.assembleCreateSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654),u=r(74941),f=r(40653);function d(e){const t=[],r=[],s=e.cellOutput.type,u=n.utils.computeScriptHash(s),f=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:u});r.push(f);const d=o.SporeAction.pack({type:"CreateSpore",value:{sporeId:s.args,dataHash:n.utils.ckbHash(e.data),to:{type:"Script",value:e.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(f)),scriptHash:u,data:i.bytes.hexify(d)}),{actions:t,scriptInfos:r}}function l(e){let t=e.txSkeleton;const r=t.get("outputs").get(e.outputIndex);let{actions:n,scriptInfos:i}=d(r);if("clusterAgent"===e.reference.referenceTarget){const r=(0,f.generateReferenceClusterAgentAction)({txSkeleton:t,referenceType:e.reference.referenceType,clusterAgent:e.reference.clusterAgent});n.push(...r.actions),i.push(...r.scriptInfos)}if("cluster"===e.reference.referenceTarget){const r=(0,u.generateReferenceClusterAction)({txSkeleton:t,referenceType:e.reference.referenceType,cluster:e.reference.cluster});n.push(...r.actions),i.push(...r.scriptInfos)}return{actions:n,scriptInfos:i}}t.assembleCreateSporeAction=d,t.generateCreateSporeAction=l,t.generateCreateSporeBuildingPacket=function(e){let t=e.txSkeleton;const r=l(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},3902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeltSporeBuildingPacket=t.generateMeltSporeAction=t.assembleMeltSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654);function u(e){const t=[],r=[],s=e.cellOutput.type,u=n.utils.computeScriptHash(s),f=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:u});r.push(f);const d=o.SporeAction.pack({type:"MeltSpore",value:{sporeId:s.args,from:{type:"Script",value:e.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(f)),scriptHash:u,data:i.bytes.hexify(d)}),{actions:t,scriptInfos:r}}function f(e){return u(e.txSkeleton.get("inputs").get(e.inputIndex))}t.assembleMeltSporeAction=u,t.generateMeltSporeAction=f,t.generateMeltSporeBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},61545:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferSporeBuildingPacket=t.generateTransferSporeAction=t.assembleTransferSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),a=r(75945),s=r(62638),c=r(17654);function u(e,t){const r=[],s=[],u=t.cellOutput.type,f=n.utils.computeScriptHash(u),d=(0,c.createSporeScriptInfoFromTemplate)({scriptHash:f});s.push(d);const l=o.SporeAction.pack({type:"TransferSpore",value:{sporeId:u.args,from:{type:"Script",value:e.cellOutput.lock},to:{type:"Script",value:t.cellOutput.lock}}});return r.push({scriptInfoHash:n.utils.ckbHash(a.ScriptInfo.pack(d)),scriptHash:f,data:i.bytes.hexify(l)}),{actions:r,scriptInfos:s}}function f(e){let t=e.txSkeleton;return u(t.get("inputs").get(e.inputIndex),t.get("outputs").get(e.outputIndex))}t.assembleTransferSporeAction=u,t.generateTransferSporeAction=f,t.generateTransferSporeBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,s.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},62638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRawBuildingPacket=void 0;const n=r(3599),i=r(16043);t.createRawBuildingPacket=function(e){const t=e.txSkeleton;return{type:"BuildingPacketV1",value:{message:{actions:e.actions??[]},payload:n.helpers.createTransactionFromSkeleton(t),resolvedInputs:(0,i.inputCellsToResolvedInputs)(t.get("inputs")),changeOutput:e.changeOutput??t.get("outputs").size-1,scriptInfos:e.scriptInfos??[],lockActions:[]}}}},16043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvedInputsToInputCells=t.inputCellsToResolvedInputs=void 0,t.inputCellsToResolvedInputs=function(e,t){return t instanceof Function&&(e=e.filter(t)),e.reduce(((e,t)=>(e.outputs.push(t.cellOutput),e.outputsData.push(t.data),e)),{outputs:[],outputsData:[]})},t.resolvedInputsToInputCells=function(e,t){return e.map(((e,r)=>({cellOutput:t.outputs[r],data:t.outputsData[r],outPoint:e.previousOutput})))}},17654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSporeScriptInfoFromTemplate=t.sporeScriptInfoTemplate=t.sporeScriptInfoSchema=t.sporeScriptInfoMessageType=void 0,t.sporeScriptInfoMessageType="SporeAction",t.sporeScriptInfoSchema="\narray Byte32 [byte; 32];\nvector Bytes <byte>;\n\ntable Script {\n    code_hash: Byte32,\n    hash_type: byte,\n    args: Bytes,\n}\n\nunion Address {\n    Script,\n}\n\n/* Actions for Spore */\n\ntable MintSpore {\n    spore_id: Byte32,\n    to: Address,\n    data_hash: Byte32,\n}\n\ntable TransferSpore {\n    spore_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnSpore {\n    spore_id: Byte32,\n    from: Address,\n}\n\n/* Actions for Cluster */\n\ntable MintCluster {\n    cluster_id: Byte32,\n    to: Address,\n    data_hash: Byte32,\n}\n\ntable TransferCluster {\n    cluster_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\n/* Actions for Cluster/Proxy */\n\ntable MintProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    to: Address,\n}\n\ntable TransferProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    from: Address,\n}\n\n/* Actions for Cluster/Agent */\n\ntable MintAgent {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    to: Address,\n}\n\ntable TransferAgent {\n    cluster_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnAgent {\n    cluster_id: Byte32,\n    from: Address,\n}\n\n/* Action in ScriptInfo */\n\nunion SporeAction {\n    MintSpore,\n    TransferSpore,\n    BurnSpore,\n\n    MintCluster,\n    TransferCluster,\n\n    MintProxy,\n    TransferProxy,\n    BurnProxy,\n\n    MintAgent,\n    TransferAgent,\n    BurnAgent,\n}\n",t.sporeScriptInfoTemplate={name:"spore",url:"https://spore.pro",schema:t.sporeScriptInfoSchema,messageType:t.sporeScriptInfoMessageType},t.createSporeScriptInfoFromTemplate=function(e){return{...t.sporeScriptInfoTemplate,scriptHash:e.scriptHash}}},30089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectCommonCobuildProof=t.assembleCobuildWitnessLayout=t.unpackWitness=t.getWitnessType=void 0;const n=r(41600),i=r(71313),o=r(24888);function a(e){return i.bytes.hexify(o.WitnessLayout.pack({type:"SighashAll",value:{seal:"0x",message:{actions:e}}}))}t.getWitnessType=function(e){const t=i.bytes.bytify(e??[]);if(t.length>4){const e=i.number.Uint32LE.unpack(t.slice(0,4));if(!(e>=o.WitnessLayoutFieldTags.SighashAll))return"WitnessArgs";for(const[t,r]of Object.entries(o.WitnessLayoutFieldTags))if(r===e)return t}throw new Error("Unknown witness format")},t.unpackWitness=function(e){const t=i.bytes.bytify(e??[]);if(t.length>4){const e=i.number.Uint32LE.unpack(t.slice(0,4));try{return e>=o.WitnessLayoutFieldTags.SighashAll?o.WitnessLayout.unpack(t):{type:"WitnessArgs",value:n.blockchain.WitnessArgs.unpack(t)}}catch(e){}}throw new Error("Unknown witness format")},t.assembleCobuildWitnessLayout=a,t.injectCommonCobuildProof=function(e){let t=e.txSkeleton;if(t.get("inputs").size>0){let r;return t=t.update("witnesses",(t=>{r=t.size;const n=a(e.actions);return t.push(n)})),{txSkeleton:t,witnessIndex:r}}throw new Error("Cannot inject CobuildProof into a Transaction without witnesses")}},75945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildingPacket=t.BuildingPacketV1=t.ScriptInfoVec=t.ScriptInfo=t.ResolvedInputs=t.Message=t.ActionVec=t.Action=void 0;const n=r(71313),i=r(41600),o=r(31564);t.Action=n.molecule.table({scriptInfoHash:o.Hash,scriptHash:o.Hash,data:i.blockchain.Bytes},["scriptInfoHash","scriptHash","data"]),t.ActionVec=n.molecule.vector(t.Action),t.Message=n.molecule.table({actions:t.ActionVec},["actions"]),t.ResolvedInputs=n.molecule.table({outputs:i.blockchain.CellOutputVec,outputsData:i.blockchain.BytesVec},["outputs","outputsData"]),t.ScriptInfo=n.molecule.table({name:o.RawString,url:o.RawString,scriptHash:o.Hash,schema:o.RawString,messageType:o.RawString},["name","url","scriptHash","schema","messageType"]),t.ScriptInfoVec=n.molecule.vector(t.ScriptInfo),t.BuildingPacketV1=n.molecule.table({message:t.Message,payload:i.blockchain.Transaction,resolvedInputs:t.ResolvedInputs,changeOutput:o.Uint32Opt,scriptInfos:t.ScriptInfoVec,lockActions:t.ActionVec},["message","payload","resolvedInputs","changeOutput","scriptInfos","lockActions"]),t.BuildingPacket=n.molecule.union({BuildingPacketV1:t.BuildingPacketV1},["BuildingPacketV1"])},20462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SporeAction=t.MeltClusterAgent=t.TransferClusterAgent=t.CreateClusterAgent=t.MeltClusterProxy=t.TransferClusterProxy=t.CreateClusterProxy=t.TransferCluster=t.CreateCluster=t.MeltSpore=t.TransferSpore=t.CreateSpore=t.Address=void 0;const n=r(71313),i=r(41600),o=r(31564);t.Address=n.molecule.union({Script:i.blockchain.Script},["Script"]),t.CreateSpore=n.molecule.table({sporeId:o.Hash,to:t.Address,dataHash:o.Hash},["sporeId","to","dataHash"]),t.TransferSpore=n.molecule.table({sporeId:o.Hash,from:t.Address,to:t.Address},["sporeId","from","to"]),t.MeltSpore=n.molecule.table({sporeId:o.Hash,from:t.Address},["sporeId","from"]),t.CreateCluster=n.molecule.table({clusterId:o.Hash,to:t.Address,dataHash:o.Hash},["clusterId","to","dataHash"]),t.TransferCluster=n.molecule.table({clusterId:o.Hash,from:t.Address,to:t.Address},["clusterId","from","to"]),t.CreateClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,to:t.Address},["clusterId","clusterProxyId","to"]),t.TransferClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,from:t.Address,to:t.Address},["clusterId","clusterProxyId","from","to"]),t.MeltClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,from:t.Address},["clusterId","clusterProxyId","from"]),t.CreateClusterAgent=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,to:t.Address},["clusterId","clusterProxyId","to"]),t.TransferClusterAgent=n.molecule.table({clusterId:o.Hash,from:t.Address,to:t.Address},["clusterId","from","to"]),t.MeltClusterAgent=n.molecule.table({clusterId:o.Hash,from:t.Address},["clusterId","from"]),t.SporeAction=n.molecule.union({CreateSpore:t.CreateSpore,TransferSpore:t.TransferSpore,MeltSpore:t.MeltSpore,CreateCluster:t.CreateCluster,TransferCluster:t.TransferCluster,CreateClusterProxy:t.CreateClusterProxy,TransferClusterProxy:t.TransferClusterProxy,MeltClusterProxy:t.MeltClusterProxy,CreateClusterAgent:t.CreateClusterAgent,TransferClusterAgent:t.TransferClusterAgent,MeltClusterAgent:t.MeltClusterAgent},["CreateSpore","TransferSpore","MeltSpore","CreateCluster","TransferCluster","CreateClusterProxy","TransferClusterProxy","MeltClusterProxy","CreateClusterAgent","TransferClusterAgent","MeltClusterAgent"])},24888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessLayout=t.WitnessLayoutFieldTags=t.OtxStart=t.Otx=t.SighashAllOnly=t.SighashAll=void 0;const n=r(41600),i=r(71313),o=r(75945);t.SighashAll=i.molecule.table({seal:n.blockchain.Bytes,message:o.Message},["seal","message"]),t.SighashAllOnly=i.molecule.table({seal:n.blockchain.Bytes},["seal"]),t.Otx=i.molecule.table({},[]),t.OtxStart=i.molecule.table({},[]),t.WitnessLayoutFieldTags={SighashAll:4278190081,SighashAllOnly:4278190082,Otx:4278190083,OtxStart:4278190084},t.WitnessLayout=i.molecule.union({SighashAll:t.SighashAll,SighashAllOnly:t.SighashAllOnly,Otx:t.Otx,OtxStart:t.OtxStart},t.WitnessLayoutFieldTags)},13972:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(62638),t),i(r(16043),t),i(r(17654),t),i(r(30089),t),i(r(75945),t),i(r(24888),t),i(r(20462),t),i(r(37760),t),i(r(61545),t),i(r(3902),t),i(r(50752),t),i(r(78261),t),i(r(74941),t),i(r(74746),t),i(r(85781),t),i(r(52293),t),i(r(5244),t),i(r(11228),t),i(r(58227),t),i(r(40653),t),i(r(86078),t)},75930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawClusterDataV2=t.unpackToRawClusterDataV1=t.unpackToRawClusterData=t.packRawClusterDataV2=t.packRawClusterDataV1=t.packRawClusterData=t.ClusterDataV2=t.ClusterDataV1=void 0;const n=r(41600),i=r(71313),o=r(36027),a=r(71313);function s(e){return t.ClusterDataV1.pack({name:(0,o.bytifyRawString)(e.name),description:(0,o.bytifyRawString)(e.description)})}function c(e){return t.ClusterDataV2.pack({name:(0,o.bytifyRawString)(e.name),description:(0,o.bytifyRawString)(e.description),mutantId:e.mutantId})}function u(e){const r=t.ClusterDataV1.unpack(e);return{name:(0,o.bufferToRawString)(r.name),description:(0,o.bufferToRawString)(r.description)}}function f(e){const r=t.ClusterDataV2.unpack(e);return{name:(0,o.bufferToRawString)(r.name),description:(0,o.bufferToRawString)(r.description),mutantId:r.mutantId}}t.ClusterDataV1=i.molecule.table({name:n.blockchain.Bytes,description:n.blockchain.Bytes},["name","description"]),t.ClusterDataV2=i.molecule.table({name:n.blockchain.Bytes,description:n.blockchain.Bytes,mutantId:n.blockchain.BytesOpt},["name","description","mutantId"]),t.packRawClusterData=function(e,t){if(!t)return c(e);switch(t){case"v1":return s(e);case"v2":return c(e);default:throw new Error(`Unsupported ClusterData version: ${t}`)}},t.packRawClusterDataV1=s,t.packRawClusterDataV2=c,t.unpackToRawClusterData=function(e,t){if(t)switch(t){case"v1":return u(e);case"v2":return f(e);default:throw new Error(`Unsupported ClusterData version: ${t}`)}try{return f(e)}catch{try{return u(e)}catch{throw new Error(`Cannot unpack ClusterData, no matching molecule: ${a.bytes.hexify(e)}`)}}},t.unpackToRawClusterDataV1=u,t.unpackToRawClusterDataV2=f},83557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packRawClusterAgentData=t.packRawClusterAgentDataToHash=void 0;const n=r(3599),i=r(71313);function o(e){return n.utils.computeScriptHash(e)}t.packRawClusterAgentDataToHash=o,t.packRawClusterAgentData=function(e){const t=o(e);return i.bytes.bytify(t)}},42820:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawClusterProxyArgs=t.packRawClusterProxyArgs=t.ClusterProxyArgsExact=t.ClusterProxyArgsPower=void 0;const n=r(92900),i=r(41600),o=r(71313),a=r(17733);t.ClusterProxyArgsPower=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=a.Uint8Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=a.Uint8Opt.unpack(e.slice(32,33));return{id:t,minPayment:"number"==typeof r?n.BI.from(r):void 0}}}),t.ClusterProxyArgsExact=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=a.Uint64Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=a.Uint64Opt.unpack(e.slice(32,40));return{id:t,minPayment:(n.BI.isBI(r),r)}}}),t.packRawClusterProxyArgs=function(e,r){switch(r){case"power":return t.ClusterProxyArgsPower.pack(e);case"exact":case void 0:return t.ClusterProxyArgsExact.pack(e);default:throw new Error(`Unsupported ClusterProxy version: ${r}`)}},t.unpackToRawClusterProxyArgs=function(e,r){switch(r){case"power":return t.ClusterProxyArgsPower.unpack(e);case"exact":case void 0:return t.ClusterProxyArgsExact.unpack(e);default:throw new Error(`Unsupported ClusterProxy version: ${r}`)}}},31564:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17733),t),i(r(49657),t),i(r(75930),t),i(r(42820),t),i(r(83557),t),i(r(47745),t)},47745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawMutantArgs=t.packRawMutantArgs=t.MutantArgsExact=t.MutantArgsPower=void 0;const n=r(92900),i=r(41600),o=r(71313),a=r(17733);t.MutantArgsPower=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=a.Uint8Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=a.Uint8Opt.unpack(e.slice(32,33));return{id:t,minPayment:"number"==typeof r?n.BI.from(r):void 0}}}),t.MutantArgsExact=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=a.Uint64Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=a.Uint64Opt.unpack(e.slice(32,40));return{id:t,minPayment:(n.BI.isBI(r),r)}}}),t.packRawMutantArgs=function(e,r){switch(r){case"power":return t.MutantArgsPower.pack(e);case"exact":case void 0:return t.MutantArgsExact.pack(e);default:throw new Error(`Unsupported Mutant version: ${r}`)}},t.unpackToRawMutantArgs=function(e,r){switch(r){case"power":return t.MutantArgsPower.unpack(e);case"exact":case void 0:return t.MutantArgsExact.unpack(e);default:throw new Error(`Unsupported Mutant version: ${r}`)}}},49657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawSporeData=t.packRawSporeData=t.SporeData=void 0;const n=r(41600),i=r(71313),o=r(36027);t.SporeData=i.molecule.table({contentType:n.blockchain.Bytes,content:n.blockchain.Bytes,clusterId:n.blockchain.BytesOpt},["contentType","content","clusterId"]),t.packRawSporeData=function(e){return t.SporeData.pack({contentType:(0,o.bytifyRawString)(e.contentType),content:e.content,clusterId:e.clusterId})},t.unpackToRawSporeData=function(e){const r=t.SporeData.unpack(e);return{contentType:(0,o.bufferToRawString)(r.contentType),content:r.content,clusterId:r.clusterId}}},17733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawString=t.Hash=t.Uint64Opt=t.Uint32Opt=t.Uint8Opt=t.ScriptId=void 0;const n=r(41600),i=r(71313),o=r(36027);t.ScriptId=i.molecule.struct({codeHash:n.blockchain.Byte32,hashType:n.blockchain.HashType},["codeHash","hashType"]),t.Uint8Opt=i.molecule.option(i.number.Uint8),t.Uint32Opt=i.molecule.option(i.number.Uint32LE),t.Uint64Opt=i.molecule.option(i.number.Uint64LE),t.Hash=n.blockchain.Byte32,t.RawString=i.molecule.byteVecOf({pack:e=>(0,o.bytifyRawString)(e),unpack:e=>(0,o.bufferToRawString)(e)})},74762:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeCacheScriptByCodeHash=t.getSporeCacheScriptsByTags=t.getSporeCacheScriptsByTag=t.createSporeConfigCache=t.getSporeConfigCache=t.setSporeConfigCache=void 0;const i=n(r(88055)),o=r(45358),a=new Map;function s(e){const t=c(e);a.set(t.hash,t)}function c(e){const t=(0,o.getSporeConfigHash)(e),r={},n={},a={},s={};for(const t in e.scripts){const o=e.scripts[t],c={},u={};for(const e of o.versions){const n={name:t,...(0,i.default)(e)};r[e.script.codeHash]=n;const o=e.tags.sort();for(const e of o)void 0===c[e]&&(c[e]=[]),c[e].push(n);const a=o.join(",");u[a]||(u[a]=[]),u[a].push(n)}n[t]=c,a[t]=u,s[t]={}}return{hash:t,config:e,scriptsByTag:n,scriptsByTags:a,scriptsByCodeHash:r,queryRecordsByTags:s}}function u(e,t,r){const n=e.scriptsByTag[t]?.[r];if(Array.isArray(n))return n}t.setSporeConfigCache=s,t.getSporeConfigCache=function(e){const t=(0,o.getSporeConfigHash)(e);return a.has(t)||s(e),a.get(t)},t.createSporeConfigCache=c,t.getSporeCacheScriptsByTag=u,t.getSporeCacheScriptsByTags=function(e,t,r){if(1===r.length)return u(e,t,r[0]);const n=e.queryRecordsByTags[t],i=r.sort(),o=i.join(",");if(n&&o in n)return n[o];const a=e.scriptsByTags[t];if(!a)return;const s=i.join(",.*"),c=new RegExp(`${s}.*`,"g"),f=Object.entries(a).filter((([e])=>c.test(e)));if(f){const e=f.reduce(((e,[t,r])=>(e.push(...r),e)),[]);return n[o]=e,e}},t.getSporeCacheScriptByCodeHash=function(e,t,r){const n=e.scriptsByCodeHash[t];if(!r||n.name===r)return n}},51896:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.forkSporeConfig=t.getSporeConfig=t.setSporeConfig=void 0;const i=n(r(88055));let o=r(85256).predefinedSporeConfigs.Aggron4;t.setSporeConfig=function(e){o=e},t.getSporeConfig=function(){return o},t.forkSporeConfig=function(e,t){const r={...(e=(0,i.default)(e)).scripts,...t.scripts};return{...e,...t,scripts:r}}},45358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeConfigHash=void 0;const n=r(41600),i=r(36027),o=new Map;t.getSporeConfigHash=function(e){const t=JSON.stringify(e,null,0);if(o.has(t))return o.get(t);const r=n.utils.ckbHash((0,i.bytifyRawString)(t));return o.set(t,r),r}},1828:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12833),t),i(r(45358),t),i(r(74762),t),i(r(51896),t),i(r(93633),t),i(r(85256),t)},85256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.predefinedSporeConfigs=void 0;const n=r(14105),i={lumos:n.predefined.AGGRON4,ckbNodeUrl:"https://testnet.ckb.dev/rpc",ckbIndexerUrl:"https://testnet.ckb.dev/indexer",maxTransactionSize:512e3,defaultTags:["preview"],scripts:{Spore:{versions:[{tags:["v2","did"],script:{codeHash:"0x0b1f412fbae26853ff7d082d422c2bdd9e2ff94ee8aaec11240a5b34cc6e890f",hashType:"type"},cellDep:{outPoint:{txHash:"0x29d0123dda05cb92452a46df609e9bd08e066d62f0c3953fe34935dc10edfdcc",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,dynamicCelldep:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x80f0d4bf6b3951911aa6b98cc609d477a8a10b903b35cfd528d098e95c36f680"}}},{tags:["v2","preview"],script:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1"},cellDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}},{tags:["v1","latest"],script:{codeHash:"0xbbad126377d45f90a8ee120da988a2d7332c78ba8fd679aab478a19d6c133494",hashType:"data1"},cellDep:{outPoint:{txHash:"0xfd694382e621f175ddf81ce91ce2ecf8bfc027d53d7d31b8438f7d26fc37fd19",index:"0x0"},depType:"code"}}]},Cluster:{versions:[{tags:["v2","preview"],script:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1"},cellDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}},{tags:["v1","latest"],script:{codeHash:"0x598d793defef36e2eeba54a9b45130e4ca92822e1d193671f490950c3b856080",hashType:"data1"},cellDep:{outPoint:{txHash:"0x49551a20dfe39231e7db49431d26c9c08ceec96a29024eef3acc936deeb2ca76",index:"0x0"},depType:"code"}}]},ClusterProxy:{versions:[{tags:["v2","preview"],script:{codeHash:"0x4349889bda064adab8f49f7dd8810d217917f7df28e9b2a1df0b74442399670a",hashType:"data1"},cellDep:{outPoint:{txHash:"0xc5a41d58155b11ecd87a5a49fdcb6e83bd6684d3b72b2f3686f081945461c156",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},ClusterAgent:{versions:[{tags:["v2","preview"],script:{codeHash:"0x923e997654b2697ee3f77052cb884e98f28799a4270fd412c3edb8f3987ca622",hashType:"data1"},cellDep:{outPoint:{txHash:"0x52210232292d10c51b48e72a2cea60d8f0a08c2680a97a8ee7ca0a39379f0036",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Mutant:{versions:[{tags:["v2","preview"],script:{codeHash:"0x5ff1a403458b436ea4b2ceb72f1fa70a6507968493315b646f5302661cb68e57",hashType:"data1"},cellDep:{outPoint:{txHash:"0x9b2098e5b6f575b2fd34ffd0212bc1c96e1f9e86fcdb146511849c174dfe0d02",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Lua:{versions:[{tags:["v2","preview"],script:{codeHash:"0xed08faee8c29b7a7c29bd9d495b4b93cc207bd70ca93f7b356f39c677e7ab0fc",hashType:"data1"},cellDep:{outPoint:{txHash:"0x8fb7170a58d631250dabd0f323a833f4ad2cfdd0189f45497e62beb8409e7a0c",index:"0x0"},depType:"code"}}]}}},o={lumos:n.predefined.LINA,ckbNodeUrl:"https://mainnet.ckb.dev/rpc",ckbIndexerUrl:"https://mainnet.ckb.dev/indexer",maxTransactionSize:512e3,defaultTags:["latest"],scripts:{Spore:{versions:[{tags:["v2","did"],script:{codeHash:"0xcfba73b58b6f30e70caed8a999748781b164ef9a1e218424a6fb55ebf641cb33",hashType:"type"},cellDep:{outPoint:{txHash:"0x18dda0f02036305b423b85cce276a40417faed044b2ee9220284215f38734daa",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,dynamicCelldep:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x62312cd846659e188b05da11dc3f080b083c27371ea701d6026e11e713e0e3de"}}},{tags:["v2","latest"],script:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1"},cellDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Cluster:{versions:[{tags:["v2","latest"],script:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1"},cellDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]}}};t.predefinedSporeConfigs={Aggron4:i,Testnet:i,Mainnet:o}},93633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSporeScriptSupported=t.isSporeScriptCategorySupported=t.getSporeScriptByTags=t.getSporeScriptByScriptId=t.getLatestSporeScript=t.getSporeScript=t.getSporeScriptCategory=void 0;const n=r(74762);function i(e,t){const r=e.scripts[t];if(!r||!r.versions.length)throw new Error(`"${t}" script is not defined in the SporeConfig`);return r.versions[0]}function o(e,t,r){const i=e.scripts[t];if(!i||!i.versions.length)throw new Error(`"${t}" script is not defined in the SporeConfig`);const o=(0,n.getSporeConfigCache)(e),a=(0,n.getSporeCacheScriptByCodeHash)(o,r.codeHash,t);if(!a)throw new Error(`Specific "${t}" script is not defined in the SporeConfig, codeHash: ${r.codeHash}`);return a}function a(e,t,r){const i=e.scripts[t];if(!i||!i.versions.length)throw new Error(`"${t}" script is not defined in the SporeConfig`);const o=(0,n.getSporeConfigCache)(e),a=(0,n.getSporeCacheScriptsByTags)(o,t,r);if(!a||!a.length)throw new Error(`Specific tags of the "${t}" script is not defined in the SporeConfig: [${r.join(", ")}]`);return a[0]}t.getSporeScriptCategory=function(e,t){const r=e.scripts[t];if(!r)throw new Error(`"${t}" script is not defined in the SporeConfig`);return r},t.getSporeScript=function(e,t,r){return r&&"object"==typeof r&&"codeHash"in r&&"hashType"in r?o(e,t,r):r&&Array.isArray(r)?a(e,t,r):e.defaultTags?a(e,t,e.defaultTags):i(e,t)},t.getLatestSporeScript=i,t.getSporeScriptByScriptId=o,t.getSporeScriptByTags=a,t.isSporeScriptCategorySupported=function(e,t){return void 0!==e.scripts[t]},t.isSporeScriptSupported=function(e,t,r){const i=(0,n.getSporeConfigCache)(e);return void 0!==(0,n.getSporeCacheScriptByCodeHash)(i,t.codeHash,r)}},12833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromInfoToAddress=t.isAddressValid=void 0;const n=r(3599),i=r(35945);function o(e,t){try{return n.helpers.parseAddress(e,{config:t}),!0}catch{return!1}}t.isAddressValid=o,t.fromInfoToAddress=function(e,t){if("string"==typeof e&&o(e))return e;const r=(0,i.parseFromInfo)(e,{config:t});return n.helpers.encodeToAddress(r.fromScript,{config:t})}},24021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToRawString=t.bytifyRawString=void 0;const n=r(71313),i=new TextEncoder,o=new TextDecoder;t.bytifyRawString=function(e){return i.encode(e)},t.bufferToRawString=function(e,t){const r=n.bytes.bytify(e);return o.decode(r,t)}},98299:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnExceededCapacity=t.injectNeededCapacity=t.calculateNeededCapacity=t.correctChangeCellCapacity=t.createCapacitySnapshot=t.createCapacitySnapshotFromTransactionSkeleton=t.getCellsTotalCapacity=t.setAbsoluteCapacityMargin=t.getCellCapacityMargin=t.assetCellMinimalCapacity=t.correctCellMinimalCapacity=t.minimalCellCapacityByLock=void 0;const i=n(r(88055)),o=r(3599),a=r(35945),s=r(47127),c=r(90888);function u(e){return o.helpers.minimalCellCapacityCompatible({cellOutput:{capacity:"0x0",lock:e},data:"0x"})}function f(e){const t=o.helpers.minimalCellCapacityCompatible(e);return o.BI.from(e.cellOutput.capacity).sub(t)}function d(e){return e.reduce(((e,t)=>e.add(t.cellOutput.capacity)),o.BI.from(0))}function l(e){return h(e.get("inputs").toArray(),e.get("outputs").toArray())}function h(e,t){const r=d(e),n=d(t),i=r.sub(n),o=n.sub(r);return{inputsLength:e.length,outputsLength:t.length,inputsCapacity:r,outputsCapacity:n,inputsRemainCapacity:i,outputsRemainCapacity:o}}function p(e){const t=l(e.txSkeleton),r=o.helpers.parseAddress(e.changeAddress,{config:e.config}),n=o.BI.from(e.extraCapacity??0),i=u(r).add(n);let a=t.inputsRemainCapacity,s=t.outputsRemainCapacity.add(n);const c=s.lte(0)&&a.gt(0),f=a.lt(i);return c&&f&&(s=i,a=o.BI.from(0)),s.lt(0)&&(s=o.BI.from(0)),a.lt(0)&&(a=o.BI.from(0)),{snapshot:t,neededCapacity:s,exceedCapacity:a}}function b(e){let t=e.txSkeleton;const r=l(t);let n=!1,i=!1,a=-1,s=o.BI.from(0);if(r.inputsRemainCapacity.lte(0))return{txSkeleton:t,returnedChange:n,createdChangeCell:i,changeCellOutputIndex:a,unreturnedCapacity:s};n=!0;const u=o.helpers.parseAddress(e.changeAddress,{config:e.config}),f=t.get("fixedEntries").filter((({field:e})=>"outputs"===e)).map((({index:e})=>e)),d=t.get("outputs").findLastIndex(((e,t)=>!f.includes(t)&&((0,c.isScriptValueEquals)(e.cellOutput.lock,u)&&void 0===e.cellOutput.type)));if(d>-1)a=d,t=t.update("outputs",(e=>{const t=e.get(d);return t.cellOutput.capacity=o.BI.from(t.cellOutput.capacity).add(r.inputsRemainCapacity).toHexString(),e.set(d,t)}));else{const e={cellOutput:{capacity:r.inputsRemainCapacity.toHexString(),lock:u},data:"0x"},n=o.helpers.minimalCellCapacityCompatible(e);r.inputsRemainCapacity.lt(n)?s=r.inputsRemainCapacity:(i=!0,t=t.update("outputs",(t=>(a=t.size,t.push(e)))))}return{txSkeleton:t,returnedChange:n,createdChangeCell:i,changeCellOutputIndex:a,unreturnedCapacity:s}}t.minimalCellCapacityByLock=u,t.correctCellMinimalCapacity=function(e){const t=o.helpers.minimalCellCapacityCompatible(e);return t.eq(e.cellOutput.capacity)||(e.cellOutput.capacity=t.toHexString()),e},t.assetCellMinimalCapacity=function(e){const t=o.helpers.minimalCellCapacityCompatible(e);if(t.gt(e.cellOutput.capacity)){const r=t.toString(),n=o.BI.from(e.cellOutput.capacity).toString();throw new Error(`Target cell required capacity of ${r}, but declared ${n}`)}},t.getCellCapacityMargin=f,t.setAbsoluteCapacityMargin=function(e,t){const r=f(e=(0,i.default)(e)),n=t instanceof Function?t(e,r):t,a=o.helpers.minimalCellCapacityCompatible(e);return e.cellOutput.capacity=a.add(n).toHexString(),e},t.getCellsTotalCapacity=d,t.createCapacitySnapshotFromTransactionSkeleton=l,t.createCapacitySnapshot=h,t.correctChangeCellCapacity=function(e){let t=e.txSkeleton;const r=l(t);if(r.inputsRemainCapacity.gt(0)){const n=e.changeOutputIndex??t.get("outputs").size-1;t=t.update("outputs",(e=>{const t=e.get(n);if(!t)throw new Error("Cannot correct change cell capacity because Transaction.outputs is empty");const i=o.BI.from(t.cellOutput.capacity);return t.cellOutput.capacity=i.add(r.inputsRemainCapacity).toHexString(),e}))}return t},t.calculateNeededCapacity=p,t.injectNeededCapacity=async function(e){let t=e.txSkeleton;const r=e.config,n=(0,s.fromInfoToAddress)(e.changeAddress??e.fromInfos[0],r),i=p({extraCapacity:e.extraCapacity,changeAddress:n,txSkeleton:t,config:r}),o=i.snapshot;let c;if(i.neededCapacity.gt(0)&&(t=await a.common.injectCapacity(t,e.fromInfos,i.neededCapacity,e.changeAddress,void 0,{enableDeductCapacity:e.enableDeductCapacity,config:e.config}),c=l(t)),i.neededCapacity.lte(0)&&i.exceedCapacity.gt(0)){const e=b({txSkeleton:t,changeAddress:n,config:r});e.returnedChange&&(t=e.txSkeleton)}return{txSkeleton:t,before:o,after:c}},t.returnExceededCapacity=b},58963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCellIndexByScriptFromTransactionSkeleton=t.groupCells=t.setupCell=t.getCellWithStatusByOutPoint=t.getCellByType=t.getCellByLock=void 0;const n=r(71313),i=r(35945),o=r(31564),a=r(90888);t.getCellByLock=async function(e){const t=e.indexer.collector({lock:e.lock});for await(const r of t.collect()){if(e.has_type&&r.cellOutput.type)return r;if(!e.has_type&&!r.cellOutput.type)return r}},t.getCellByType=async function(e){const t=e.indexer.collector({type:e.type});for await(const e of t.collect())return e},t.getCellWithStatusByOutPoint=async function(e){const t=await e.rpc.getLiveCell(e.outPoint,!0);return{cell:t.cell?{cellOutput:t.cell.output,data:t.cell.data.content,outPoint:e.outPoint}:void 0,status:t.status}},t.setupCell=async function(e){const t=e.addOutput??!1;let r=e.txSkeleton;r=await i.common.setupInputCell(r,e.input,e.fromInfo,{defaultWitness:e.defaultWitness,config:e.config,since:e.since}),t||(r=r.update("outputs",(e=>e.remove(e.size-1))));const n=r.get("inputs").size-1,o=t?r.get("outputs").size-1:-1;return t&&e.updateOutput instanceof Function&&(r=r.update("outputs",(t=>{const r=t.last();if(!r)throw new Error("Cannot update output because the added output could not be found");return t.set(o,e.updateOutput(r))}))),e.updateWitness&&(r=r.update("witnesses",(t=>{if(e.updateWitness instanceof Function){const r=t.get(n);if(!r)throw new Error(`Cannot update Transaction.witnesses[${n}] because it's undefined`);return t.set(n,e.updateWitness(r))}return"string"==typeof e.updateWitness?t.set(n,e.updateWitness):t}))),{txSkeleton:r,inputIndex:n,outputIndex:o}},t.groupCells=function(e){const t={};for(let r=0;r<e.length;r++){const i=e[r],a=i.cellOutput.type?n.bytes.hexify(o.ScriptId.pack(i.cellOutput.type)):"null";void 0===t[a]&&(t[a]=[]),t[a].push({index:r,cell:i})}return t},t.findCellIndexByScriptFromTransactionSkeleton=function(e){if(!["inputs","outputs"].includes(e.source))throw new Error('Can only find cell from the following source: "inputs" | "outputs"');if(!["lock","type"].includes(e.scriptName))throw new Error('Can only find cell from the following scriptType: "lock" | "type"');return e.txSkeleton.get(e.source).findIndex((t=>!!t.cellOutput[e.scriptName]&&(0,a.isScriptValueEquals)(t.cellOutput[e.scriptName],e.script)))}},29582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCellDepIndexByTypeFromTransactionSkeleton=void 0;const n=r(3599),i=r(1828),o=r(58963),a=r(90888);t.findCellDepIndexByTypeFromTransactionSkeleton=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.RPC(t.ckbNodeUrl),s=e.txSkeleton.get("cellDeps");for await(const[t,n]of s.toArray().entries()){const i=await(0,o.getCellWithStatusByOutPoint)({outPoint:n.outPoint,rpc:r});if(i.cell?.cellOutput.type&&(0,a.isScriptValueEquals)(i.cell.cellOutput.type,e.type))return t}return-1}},43614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeMutantParameter=t.setContentTypeParameters=t.decodeContentType=t.encodeContentType=t.isContentTypeValid=void 0;const n=r(74567);function i(e){const t=Object.entries(e.parameters||{}).map((([e,t])=>{if("mutant"!==e&&"mutant[]"!==e||([e,t]=a(e,t)),Array.isArray(t)&&(t=t.map(((t,r)=>{if("string"!=typeof t){if(!(t.toString instanceof Function))throw new Error(`ContentType parameter "${e}" has a property that cannot be converted to string`);t=t.toString()}return t}))),!Array.isArray(t)&&"string"!=typeof t){if(!(t.toString instanceof Function))throw new Error(`ContentType parameter "${e}" cannot be converted to string`);t=t.toString()}return[e,t]}));return(0,n.serializeMimeType)({type:e.type,subtype:e.subtype,parameters:new Map(t)},{arrayParameters:!0})}function o(e){let t=null;try{t=(0,n.parseMimeType)(e,{arrayParameters:!0})}catch{}if(!t)throw new Error(`Cannot decode ContentType: ${e}`);const r=Object.fromEntries(t.parameters);return r.mutant&&Array.isArray(r.mutant)&&(r.mutant=r.mutant.map((e=>e.startsWith("0x")?e:"0x"+e))),{type:t.type,subtype:t.subtype,mediaType:`${t.type}/${t.subtype}`,parameters:r}}function a(e,t){if("mutant[]"===e&&(e="mutant"),!Array.isArray(t))throw new Error("ContentType parameter mutant should be an array");return t=t.map(((t,r)=>{if("string"!=typeof t){if(!(t.toString instanceof Function))throw new Error(`ContentType parameter "${e}" has a property that cannot be converted to string`);t=t.toString()}if(t.startsWith("0x")&&(t=t.slice(2)),64!==t.length)throw new Error(`ContentType parameter mutant[${r}] should have a length of 32 bytes: ${t}`);return t})),[e,t]}t.isContentTypeValid=function(e){try{const t=o(e);return i(t)===e}catch{return!1}},t.encodeContentType=i,t.decodeContentType=o,t.setContentTypeParameters=function(e,t){const r=o(e);for(const[e,n]of Object.entries(t))r.parameters[e]=n;return i(r)},t.encodeMutantParameter=a},25447:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.returnExceededCapacityAndPayFee=t.injectCapacityAndPayFee=t.payFeeByOutput=t.payFeeThroughCollection=t.calculateFeeByTransactionSkeleton=t.calculateFeeByTransaction=t.calculateFee=t.getMinFeeRate=void 0;const n=r(35945),i=r(3599),o=r(1828),a=r(98299),s=r(98299),c=r(51103);async function u(e){e="string"==typeof e?new i.RPC(e):e;const t=await e.txPoolInfo();return i.BI.from(t.minFeeRate)}function f(e,t){const r=i.BI.from(1e3),n=i.BI.from(e).mul(t),o=n.div(r);return o.mul(r).lt(n)?o.add(1):i.BI.from(o)}function d(e,t){return f((0,c.getTransactionSize)(e),t)}function l(e,t){return d(i.helpers.createTransactionFromSkeleton(e),t)}async function h(e){const t=e.config??(0,o.getSporeConfig)(),r=e.feeRate??await u(t.ckbNodeUrl);let i=0,a=e.txSkeleton,s=(0,c.getTransactionSkeletonSize)(a);for(;s>i;){i=s;const o=f(i,r);a=await n.common.injectCapacity(e.txSkeleton,e.fromInfos,o,e.changeAddress,e.tipHeader,{config:t.lumos,enableDeductCapacity:e.enableDeductCapacity,useLocktimeCellsFirst:e.useLocktimeCellsFirst}),e.updateTxSkeletonAfterCollection&&(a=await e.updateTxSkeletonAfterCollection(a)),s=(0,c.getTransactionSkeletonSize)(a)}return a}async function p(e){const t=e.config??(0,o.getSporeConfig)(),r=e.feeRate??await u(t.ckbNodeUrl);let n=e.txSkeleton,a=n.get("outputs");const s=a.get(e.outputIndex);if(!s)throw new Error(`Cannot pay fee by Transaction.outputs[${e.outputIndex}] because it does not exist`);const c=i.helpers.minimalCellCapacityCompatible(s),f=i.BI.from(s.cellOutput.capacity),d=f.sub(c),h=l(n,r);if(d.lt(h))throw new Error(`Cannot pay fee by Transaction.outputs[${e.outputIndex}] due to insufficient capacity`);return s.cellOutput.capacity=f.sub(h).toHexString(),a=a.set(e.outputIndex,s),n.set("outputs",a)}t.getMinFeeRate=u,t.calculateFee=f,t.calculateFeeByTransaction=d,t.calculateFeeByTransactionSkeleton=l,t.payFeeThroughCollection=h,t.payFeeByOutput=p,t.injectCapacityAndPayFee=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=await(0,a.injectNeededCapacity)({...e,config:t.lumos}),n=await h({...e,txSkeleton:r.txSkeleton});return{txSkeleton:n,before:r.before,after:(0,s.createCapacitySnapshotFromTransactionSkeleton)(n)}},t.returnExceededCapacityAndPayFee=async function(e){let t=e.txSkeleton;const r=e.config??(0,o.getSporeConfig)(),s=(0,a.returnExceededCapacity)({txSkeleton:t,config:r.lumos,changeAddress:e.changeAddress});if(t=s.txSkeleton,!s.returnedChange)throw new Error("Cannot pay fee with change cell because no change was returned");if(s.unreturnedCapacity.gt(0)){if(void 0===e.fromInfos)throw new Error("Cannot pay fee with change cell because fromInfos is required");const o=l(t,e.feeRate??await u(r.ckbNodeUrl));t=await n.common.injectCapacity(t,e.fromInfos,1,e.changeAddress,void 0,{enableDeductCapacity:!1,config:e.config?.lumos}),t=t.update("outputs",(e=>(e.update(-1,(e=>{if(e){const t=i.BI.from(e.cellOutput.capacity);e.cellOutput.capacity=t.add(s.unreturnedCapacity).sub(o).toHexString()}return e})),e)))}else t=await p({outputIndex:s.changeCellOutputIndex,txSkeleton:t,feeRate:e.feeRate,config:r});return{txSkeleton:t,createdChangeCell:s.createdChangeCell,changeCellOutputIndex:s.changeCellOutputIndex}}},36027:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(24021),t),i(r(54388),t),i(r(58963),t),i(r(29582),t),i(r(90888),t),i(r(47127),t),i(r(41446),t),i(r(98299),t),i(r(51103),t),i(r(29488),t),i(r(25447),t),i(r(74567),t),i(r(43614),t),i(r(53818),t),i(r(91218),t)},91218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.referenceCellOrLockProxy=void 0;const n=r(33089),i=r(90888);t.referenceCellOrLockProxy=async function(e){const t=e.addCellToCellDeps??!0;let r=e.txSkeleton;const o=e.cell,a=o.cellOutput.lock;if(!o.outPoint)throw new Error("Cannot reference cell because target cell has no OutPoint");const s=e.inputLocks.some((e=>(0,i.isScriptValueEquals)(a,e))),c=e.outputLocks.some((e=>(0,i.isScriptValueEquals)(a,e))),u=s&&c,f=!s||!c;return console.log("referencedLockProxy = ",u),u&&(r=await e.referenceLockProxy(r)),f&&(r=await e.referenceCell(r)),t&&(r=(0,n.addCellDep)(r,{outPoint:o.outPoint,depType:"code"})),{txSkeleton:r,referencedCell:f,referencedLockProxy:u}}},74567:(e,t)=>{"use strict";function r(e){return e.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,"")}function n(e){return e.replace(/[ \t\n\r]+$/u,"")}function i(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e){return/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(e)}function a(e){return/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(e)}function s(e){return e.replace(/[A-Z]/gu,(e=>e.toLowerCase()))}function c(e,t){let r="";for(t++;;){for(;t<e.length&&'"'!==e[t]&&"\\"!==e[t];)r+=e[t],++t;if(t>=e.length)break;const n=e[t];if(++t,"\\"!==n)break;if(t>=e.length){r+="\\";break}r+=e[t],++t}return[r,t]}Object.defineProperty(t,"__esModule",{value:!0}),t.collectAnHTTPQuotedString=t.asciiLowercase=t.solelyContainsHTTPQuotedStringTokenCodePoints=t.solelyContainsExtendedHTTPTokenCodePoints=t.solelyContainsHTTPTokenCodePoints=t.isHTTPWhitespaceChar=t.removeTrailingHTTPWhitespace=t.removeLeadingAndTrailingHTTPWhitespace=t.serializeMimeType=t.parseMimeType=void 0,t.parseMimeType=function(e,t){const u=t?.arrayParameters??!1;e=r(e);let f=0,d="";for(;f<e.length&&"/"!==e[f];)d+=e[f],++f;if(0===d.length||!o(d))return null;if(f>=e.length)return null;++f;let l="";for(;f<e.length&&";"!==e[f];)l+=e[f],++f;if(l=n(l),0===l.length||!o(l))return null;const h={type:s(d),subtype:s(l),parameters:new Map};for(;f<e.length;){for(++f;i(e[f]);)++f;let t="";for(;f<e.length&&";"!==e[f]&&"="!==e[f];)t+=e[f],++f;if(t=s(t),f<e.length){if(";"===e[f])continue;++f}let r=null;if('"'===e[f])for([r,f]=c(e,f);f<e.length&&";"!==e[f];)++f;else{for(r="";f<e.length&&";"!==e[f];)r+=e[f],++f;if(r=n(r),""===r)continue}const d=t.length>0,l=t.endsWith("[]");if(!d||l&&!u)continue;const p=d&&l&&u;p&&(t=t.slice(0,-2));const b=!h.parameters.has(t),y=o(t),g=a(r);d&&y&&g&&b&&(p&&(r=r.split(",")),h.parameters.set(t,r))}return h},t.serializeMimeType=function(e,t){const r=t?.arrayParameters??!1;let n=`${e.type}/${e.subtype}`;if(0===e.parameters.size)return n;for(let[t,i]of e.parameters){if(!r&&Array.isArray(i))throw new Error("Array parameter value is not supported");Array.isArray(i)&&(t=t.endsWith("[]")?t:`${t}[]`,i=i.join(",")),n+=";",n+=t,n+="=",o(i)&&0!==i.length||(i=i.replace(/(["\\])/gu,"\\$1"),i=`"${i}"`),n+=i}return n},t.removeLeadingAndTrailingHTTPWhitespace=r,t.removeTrailingHTTPWhitespace=n,t.isHTTPWhitespaceChar=i,t.solelyContainsHTTPTokenCodePoints=o,t.solelyContainsExtendedHTTPTokenCodePoints=function(e){return/^[-!#$%&'*+.^_`|~\[\]A-Za-z0-9]*$/u.test(e)},t.solelyContainsHTTPQuotedStringTokenCodePoints=a,t.asciiLowercase=s,t.collectAnHTTPQuotedString=c},53818:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isMultipartContentAsBytesValid=t.isMultipartContentValid=t.readArrayBufferStream=t.encodeMultipartContent=t.decodeMultipartContentFromStream=t.decodeMultipartContentFromBytes=t.decodeMultipartContent=void 0;const a=r(71313),s=o(r(56750)),c=r(24021);async function u(e,t){return f((0,c.bytifyRawString)(e.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")),t)}async function f(e,t){return d(new Blob([a.bytes.bytify(e)]).stream(),t)}async function d(e,t){return async function e(t){const r=[];for await(const n of t)if(n.parts){const t=await e(n.parts);r.push({...n,parts:t})}else r.push({headers:n.headers,body:n.body});return r}((0,s.default)(e,t))}async function l(e){const t=e.getReader(),r=[],n=[];let i=0;for(;;){const e=await t.read();if(e.done)break;r.push(e.value);const o=(0,c.bufferToRawString)(e.value);i+=o.length,n.push(o)}const o=await new Blob(r).arrayBuffer();return{buffer:o,bufferChunks:r,rawStringChunks:n,byteLength:o.byteLength,codeUnitLength:i}}t.decodeMultipartContent=u,t.decodeMultipartContentFromBytes=f,t.decodeMultipartContentFromStream=d,t.encodeMultipartContent=async function(e,t){const r=(0,s.encodeMultipartMessage)(e,t);return{stream:r,...await l(r)}},t.readArrayBufferStream=l,t.isMultipartContentValid=async function(e,t){try{return await u(e,t),!0}catch{return!1}},t.isMultipartContentAsBytesValid=async function(e,t){try{return await f(e,t),!0}catch{return!1}}},54388:(e,t)=>{"use strict";function r(e){return new Promise((t=>{setTimeout((()=>t()),e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForMilliseconds=t.retryWork=void 0,t.retryWork=function(e){const t=e.interval instanceof Function,n=t?100:e.interval??100,i=e.delay??0,o=e.retry??3,a=e.onError??(()=>!0),s=e.onComplete??(()=>!0);return new Promise((async c=>{const u=Date.now(),f=[];let d,l=0,h=!1,p=!1;i>0&&await r(i),await async function r(){try{d=await e.getter(),s(d)?p=!0:l++}catch(e){f.push(e),await a(e)?l++:h=!0}if(p)return c({success:!0,result:d,errors:f,retries:l,duration:Date.now()-u});if(h||l>=o)return c({success:!1,result:void 0,errors:f,retries:l,duration:Date.now()-u});const i=t?e.interval({retries:l}):n;setTimeout((()=>r()),i)}()}))},t.waitForMilliseconds=r},90888:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.composeOutputLocks=t.composeInputLocks=t.getChangeLock=t.isScriptIdEquals=t.isScriptValueEquals=void 0;const i=n(r(88055)),o=r(3599),a=r(35945);function s(e,t){return e.codeHash===t.codeHash&&e.hashType===t.hashType&&e.args===t.args}t.isScriptValueEquals=s,t.isScriptIdEquals=function(e,t){return e.codeHash===t.codeHash&&e.hashType===t.hashType},t.getChangeLock=function(e,t,r){const n=(0,a.parseFromInfo)(e[0],{config:r});return(t?o.helpers.parseAddress(t,{config:r}):void 0)??n.fromScript},t.composeInputLocks=function(e){const t=e.config;return[...Array.isArray(e.inputLocks)?(0,i.default)(e.inputLocks):[],...e.fromInfos.map((e=>(0,a.parseFromInfo)(e,{config:t}).fromScript))]},t.composeOutputLocks=function(e){const t=e.config,r=Array.isArray(e.outputLocks)?(0,i.default)(e.outputLocks):[];let n;return n=e.changeAddress?o.helpers.parseAddress(e.changeAddress,{config:t}):(0,a.parseFromInfo)(e.fromInfos[0],{config:t}).fromScript,r.findIndex((e=>s(e,n)))<0&&r.push(n),r}},51103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitForTransaction=t.waitForTransactionRetryWork=t.assertTransactionSkeletonSize=t.assetTransactionSize=t.isTransactionSkeletonSizeInRange=t.isTransactionSizeInRange=t.getTransactionSkeletonSize=t.getTransactionSize=void 0;const n=r(41600),i=r(3599),o=r(54388);function a(e){return 4+n.blockchain.Transaction.pack(e).buffer.byteLength}function s(e,t,r){const n=a(e);return n<=(t??0)||n>(r??1/0)}function c(e,t,r){t=t??0,r=r??1/0;const n=a(e);if(n<=t)throw new Error(`Expected the transaction size to be > ${t}, actual size: ${n}`);if(n>r)throw new Error(`Expected the transaction size to be <= ${r}, actual size: ${n}`)}async function u(e,t){return await(0,o.retryWork)({getter:()=>t.getTransaction(e),retry:6,interval:({retries:e})=>1e3*Math.pow(2,e),onComplete(t){switch(t.txStatus.status){case"rejected":throw new Error(`Transaction rejected: ${e}, reason: ${t.txStatus.reason}`);case"committed":return!0;default:return!1}}})}t.getTransactionSize=a,t.getTransactionSkeletonSize=function(e){return a(i.helpers.createTransactionFromSkeleton(e))},t.isTransactionSizeInRange=s,t.isTransactionSkeletonSizeInRange=function(e,t,r){return s(i.helpers.createTransactionFromSkeleton(e),t,r)},t.assetTransactionSize=c,t.assertTransactionSkeletonSize=function(e,t,r){c(i.helpers.createTransactionFromSkeleton(e),t,r)},t.waitForTransactionRetryWork=u,t.waitForTransaction=async function(e,t){const r=await u(e,t);if(r.success)return r.result;throw new Error(`Failed to wait for transaction: ${e}, reason: ${r.errors[r.errors.length-1]}`)}},41446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTypeIdLengthMatch=t.isTypeId=t.generateTypeIdsByOutputs=t.generateTypeIdGroup=t.generateTypeId=void 0;const n=r(3599),i=r(71313);function o(e,t){if(!e.outPoint)throw new Error("Cannot generate TypeId because Transaction.inputs[0] has no OutPoint");return n.utils.generateTypeIdScript({previousOutput:e.outPoint,since:"0x0"},n.BI.from(t).toHexString()).args}t.generateTypeId=o,t.generateTypeIdGroup=function(e,t,r){const n=[];for(let i=0;i<t.length;i++){if(r(t[i])){const t=n.length;n.push([i,o(e,t)])}}return n},t.generateTypeIdsByOutputs=function(e,t,r){const n=[];for(let a=0;a<t.length;a++)i=t[a],r instanceof Function&&!r(i)||n.push([a,o(e,a)]);var i;return n},t.isTypeId=function(e){try{return 32===i.bytes.bytify(e).byteLength}catch{return!1}},t.isTypeIdLengthMatch=function(e){try{return i.bytes.bytify(e).byteLength>=32}catch{return!1}}},29488:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWitnessArgs=t.defaultEmptyWitnessArgs=void 0;const n=r(71313),i=r(41600);t.defaultEmptyWitnessArgs=n.bytes.hexify(i.blockchain.WitnessArgs.pack({})),t.updateWitnessArgs=function(e,r,o){return e=e&&"0x"!==e?e:t.defaultEmptyWitnessArgs,n.bytes.hexify(i.blockchain.WitnessArgs.pack({...i.blockchain.WitnessArgs.unpack(e),[r]:o}))}},57049:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(31564),t),i(r(1828),t),i(r(36027),t),i(r(18714),t),i(r(13972),t)},25568:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},87568:(e,t,r)=>{var n=t;n.bignum=r(39404),n.define=r(47363).define,n.base=r(9673),n.constants=r(22153),n.decoders=r(22853),n.encoders=r(24669)},47363:(e,t,r)=>{var n=r(87568),i=r(56698);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=r(68961).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},47227:(e,t,r)=>{var n=r(56698),i=r(9673).Reporter,o=r(48287).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(a,i),t.t=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.d=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},9673:(e,t,r)=>{var n=t;n.Reporter=r(89220).a,n.DecoderBuffer=r(47227).t,n.EncoderBuffer=r(47227).d,n.Node=r(90993)},90993:(e,t,r)=>{var n=r(9673).Reporter,i=r(9673).EncoderBuffer,o=r(9673).DecoderBuffer,a=r(43349),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=u;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};f.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,a=!0,s=null;if(null!==r.key&&(s=e.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(a=this._peekTag(e,c,r.any),e.isError(a))return a}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(u)}}if(r.obj&&a&&(n=e.enterObject()),a){if(null!==r.explicit){var f=this._decodeTag(e,r.explicit);if(e.isError(f))return f;e=f}var d=e.offset;if(null===r.use&&null===r.choice){if(r.any)u=e.save();var l=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(l))return l;r.any?i=e.raw(u):e=l}if(t&&t.track&&null!==r.tag&&t.track(e.path(),d,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var h=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(h,t)}}return r.obj&&a&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,r.key,i),i},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(o){var a=e.save(),s=r.choice[o];try{var c=s._decode(e,t);if(e.isError(c))return!1;n={type:o,value:c},i=!0}catch(t){return e.restore(a),!1}return!0}),this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},u.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,r)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),c))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,f=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,s,f,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},89220:(e,t,r)=>{var n=r(56698);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.a=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},74598:(e,t,r)=>{var n=r(22153);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},22153:(e,t,r)=>{var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},n.der=r(74598)},62010:(e,t,r)=>{var n=r(56698),i=r(87568),o=i.base,a=i.bignum,s=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){o.Node.call(this,"der",e)}function f(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=s.tagClass[r>>6],i=!(32&r);if(31&~r)r&=31;else{var o=r;for(r=0;!(128&~o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}return{cls:n,primitive:i,tag:r,tagStr:s.tag[r]}}function d(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}e.exports=c,c.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,o.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=f(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=f(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=d(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=f(e,t);if(e.isError(r))return r;var n,i=d(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=r.decode(e,"der",n);if(e.isError(a)&&o)break;i.push(a)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,128&a||(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,c=i[0]%40;if(n=r?i:[s,c].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),c=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,c,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new a(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},22853:(e,t,r)=>{var n=t;n.der=r(62010),n.pem=r(58903)},58903:(e,t,r)=>{var n=r(56698),i=r(48287).Buffer,o=r(62010);function a(e){o.call(this,e),this.enc="pem"}n(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,u=0;u<r.length;u++){var f=r[u].match(a);if(null!==f&&f[2]===n){if(-1!==s){if("END"!==f[1])break;c=u;break}if("BEGIN"!==f[1])break;s=u}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+n);var d=r.slice(s+1,c).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var l=new i(d,"base64");return o.prototype.decode.call(this,l,t)}},70082:(e,t,r)=>{var n=r(56698),i=r(48287).Buffer,o=r(87568),a=o.base,s=o.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,a.Node),u.prototype._encodeComposite=function(e,t,r,n){var o,a=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=s.tagClassByName[r||"universal"]<<6,i}(e,t,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=a,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var c=1,u=n.length;u>=256;u>>=8)c++;(o=new i(2+c))[0]=a,o[1]=128|c;u=1+c;for(var f=n.length;f>0;u--,f>>=8)o[u]=255&f;return this._createEncoderBuffer([o,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(n=0;n<e.length;n++){var a=e[n];for(o++;a>=128;a>>=7)o++}var s=new i(o),c=s.length-1;for(n=e.length-1;n>=0;n--){a=e[n];for(s[c--]=127&a;(a>>=7)>0;)s[c--]=128|127&a}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new i(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var a=e;a>=256;a>>=8)n++;for(a=(o=new Array(n)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},24669:(e,t,r)=>{var n=t;n.der=r(70082),n.pem=r(90735)},90735:(e,t,r)=>{var n=r(56698),i=r(70082);function o(e){i.call(this,e),this.enc="pem"}n(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},35682:(e,t,r)=>{const n=r(36209),i=r(10943),o=r(51847),a=r(86679),s=r(65435),c=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(e){switch(e){case"ascii":return n;case"base64":return i;case"hex":return o;case"utf8":case"utf-8":case void 0:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${e}`)}}function f(e){return e instanceof Uint8Array}function d(e,t,r){return"string"==typeof e?function(e,t){const r=u(t),n=new Uint8Array(r.byteLength(e));return r.write(n,e,0,n.byteLength),n}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,r){return new Uint8Array(e,t,r)}(e,t,r)}function l(e,t,r,n,i){if(0===e.byteLength)return-1;if("string"==typeof r?(n=r,r=0):void 0===r?r=i?0:e.length-1:r<0&&(r+=e.byteLength),r>=e.byteLength){if(i)return-1;r=e.byteLength-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t)t=d(t,n);else if("number"==typeof t)return t&=255,i?e.indexOf(t,r):e.lastIndexOf(t,r);if(0===t.byteLength)return-1;if(i){let n=-1;for(let i=r;i<e.byteLength;i++)if(e[i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.byteLength)return n}else-1!==n&&(i-=i-n),n=-1}else{r+t.byteLength>e.byteLength&&(r=e.byteLength-t.byteLength);for(let n=r;n>=0;n--){let r=!0;for(let i=0;i<t.byteLength;i++)if(e[n+i]!==t[i]){r=!1;break}if(r)return n}}return-1}function h(e,t,r,n){return l(e,t,r,n,!0)}function p(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}e.exports=t={isBuffer:f,isEncoding:function(e){try{return u(e),!0}catch{return!1}},alloc:function(e,r,n){const i=new Uint8Array(e);return void 0!==r&&t.fill(i,r,0,i.byteLength,n),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return u(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4){if(e.getUint32(n,c)!==t.getUint32(n,c))break}for(;n<r;n++){const r=e.getUint8(n),i=t.getUint8(n);if(r<i)return-1;if(r>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const r=new Uint8Array(t);let n=0;for(const t of e){if(n+t.byteLength>r.byteLength){const e=t.subarray(0,r.byteLength-n);return r.set(e,n),r}r.set(t,n),n+=t.byteLength}return r},copy:function(e,t,r=0,n=0,i=e.byteLength){if(i>0&&i<n)return 0;if(i===n)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-r<i-n&&(i=t.length-r+n);const o=i-n;return e===t?t.copyWithin(r,n,i):t.set(e.subarray(n,i),r),o},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4)if(e.getUint32(n,c)!==t.getUint32(n,c))return!1;for(;n<r;n++)if(e.getUint8(n)!==t.getUint8(n))return!1;return!0},fill:function(e,t,r,n,i){if("string"==typeof t?"string"==typeof r?(i=r,r=0,n=e.byteLength):"string"==typeof n&&(i=n,n=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),r<0||e.byteLength<r||e.byteLength<n)throw new RangeError("Out of range index");if(void 0===r&&(r=0),void 0===n&&(n=e.byteLength),n<=r)return e;if(t||(t=0),"number"==typeof t)for(let i=r;i<n;++i)e[i]=t;else{const o=(t=f(t)?t:d(t,i)).byteLength;for(let i=0;i<n-r;++i)e[i+r]=t[i%o]}return e},from:d,includes:function(e,t,r,n){return-1!==h(e,t,r,n)},indexOf:h,lastIndexOf:function(e,t,r,n){return l(e,t,r,n,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)p(e,r,r+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)p(e,r,r+3),p(e,r+1,r+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)p(e,r,r+7),p(e,r+1,r+6),p(e,r+2,r+5),p(e,r+3,r+4);return e},toBuffer:function(e){return e},toString:function(e,t,r=0,n=e.byteLength){const i=e.byteLength;return r>=i||n<=r?"":(r<0&&(r=0),n>i&&(n=i),(0!==r||n<i)&&(e=e.subarray(r,n)),u(t).toString(e))},write:function(e,t,r,n,i){return void 0===r?i="utf8":void 0===n&&"string"==typeof r?(i=r,r=void 0):void 0===i&&"string"==typeof n&&(i=n,n=void 0),u(i).write(e,t,r,n)},writeDoubleLE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),r+8},writeFloatLE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),r+4},writeUInt32LE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(r,t,!0),r+4},writeInt32LE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(r,t,!0),r+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}},36209:e=>{function t(e){return e.length}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r},write:function(e,r,n=0,i=t(r)){const o=Math.min(i,e.byteLength-n);for(let t=0;t<o;t++)e[n+t]=r.charCodeAt(t);return o}}},10943:e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256);for(let e=0;e<64;e++)r[t.charCodeAt(e)]=e;function n(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}r[45]=62,r[95]=63,e.exports={byteLength:n,toString:function(e){const r=e.byteLength;let n="";for(let i=0;i<r;i+=3)n+=t[e[i]>>2]+t[(3&e[i])<<4|e[i+1]>>4]+t[(15&e[i+1])<<2|e[i+2]>>6]+t[63&e[i+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,i=0,o=n(t)){const a=Math.min(o,e.byteLength-i);for(let n=0,i=0;i<a;n+=4){const o=r[t.charCodeAt(n)],a=r[t.charCodeAt(n+1)],s=r[t.charCodeAt(n+2)],c=r[t.charCodeAt(n+3)];e[i++]=o<<2|a>>4,e[i++]=(15&a)<<4|s>>2,e[i++]=(3&s)<<6|63&c}return a}}},51847:e=>{function t(e){return e.length>>>1}function r(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(let i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r},write:function(e,n,i=0,o=t(n)){const a=Math.min(o,e.byteLength-i);for(let t=0;t<a;t++){const o=r(n.charCodeAt(2*t)),a=r(n.charCodeAt(2*t+1));if(void 0===o||void 0===a)return e.subarray(0,t);e[i+t]=o<<4|a}return a}}},65435:e=>{function t(e){return 2*e.length}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;let r="";for(let n=0;n<t-1;n+=2)r+=String.fromCharCode(e[n]+256*e[n+1]);return r},write:function(e,r,n=0,i=t(r)){const o=Math.min(i,e.byteLength-n);let a=o;for(let t=0;t<r.length&&!((a-=2)<0);++t){const i=r.charCodeAt(t),o=i>>8,a=i%256;e[n+2*t]=a,e[n+2*t+1]=o}return o}}},86679:e=>{function t(e){let t=0;for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const n=e.charCodeAt(r+1);if(n>=56320&&n<=57343){t+=4,r++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let r,n;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;r=function(t){return e.decode(t)}}else r=function(e){const t=e.byteLength;let r="",n=0;for(;n<t;){let i=e[n];if(i<=127){r+=String.fromCharCode(i),n++;continue}let o=0,a=0;if(i<=223?(o=1,a=31&i):i<=239?(o=2,a=15&i):i<=244&&(o=3,a=7&i),t-n-o>0){let t=0;for(;t<o;)i=e[n+t+1],a=a<<6|63&i,t+=1}else a=65533,o=t-n;r+=String.fromCodePoint(a),n+=o+1}return r};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;n=function(r,n,i=0,o=t(n)){const a=Math.min(o,r.byteLength-i);return e.encodeInto(n,r.subarray(i,i+a)),a}}else n=function(e,r,n=0,i=t(r)){const o=Math.min(i,e.byteLength-n);e=e.subarray(n,n+o);let a=0,s=0;for(;a<r.length;){const t=r.codePointAt(a);if(t<=127){e[s++]=t,a++;continue}let n=0,i=0;for(t<=2047?(n=6,i=192):t<=65535?(n=12,i=224):t<=2097151&&(n=18,i=240),e[s++]=i|t>>n,n-=6;n>=0;)e[s++]=128|t>>n&63,n-=6;a+=t>=65536?2:1}return o};e.exports={byteLength:t,toString:r,write:n}},95364:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var d=0,l=o-1;(0!==f||d<i)&&-1!==l;l--,d++)f+=a*u[l]>>>0,u[l]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),b=n;h!==o;)p[b++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,f=new Uint8Array(c);i!==o;){for(var d=t[i],l=0,h=c-1;(0!==d||l<n)&&-1!==h;h--,l++)d+=256*f[h]>>>0,f[h]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=l,i++}for(var p=c-n;p!==c&&0===f[p];)p++;for(var b=s.repeat(r);p<c;++p)b+=e.charAt(f[p]);return b},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],c=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,c)),f=0,d=c>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},22343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<32;e++){const t=r.charAt(e);n[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function a(e,t,r,n){let i=0,o=0;const a=(1<<r)-1,s=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)o-=r,s.push(i>>o&a);if(n)o>0&&s.push(i<<r-o&a);else{if(o>=t)return"Excess padding";if(i<<r-o&a)return"Non-zero padding"}return s}function s(e){return a(e,8,5,!0)}function c(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=a(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function a(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const a=e.toLowerCase(),s=e.toUpperCase();if(e!==a&&e!==s)return"Mixed-case string "+e;const c=(e=a).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),f=e.slice(c+1);if(f.length<6)return"Data too short";let d=o(u);if("string"==typeof d)return d;const l=[];for(let e=0;e<f.length;++e){const t=f.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;d=i(d)^r,e+6>=f.length||l.push(r)}return d!==t?"Invalid checksum for "+e:{prefix:u,words:l}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=a(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=a(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,a){if(a=a||90,e.length+7+n.length>a)throw new TypeError("Exceeds length limit");let s=o(e=e.toLowerCase());if("string"==typeof s)throw new Error(s);let c=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5)throw new Error("Non 5-bit word");s=i(s)^t,c+=r.charAt(t)}for(let e=0;e<6;++e)s=i(s);s^=t;for(let e=0;e<6;++e){c+=r.charAt(s>>5*(5-e)&31)}return c},toWords:s,fromWordsUnsafe:c,fromWords:u}}t.bech32=f("bech32"),t.bech32m=f("bech32m")},64863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(91457);function i(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function o(e){return e.globalMap.unsignedTx}function a(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}t.combine=function(e){const t=e[0],r=n.psbtToKeyVals(t),s=e.slice(1);if(0===s.length)throw new Error("Combine: Nothing to combine");const c=o(t);if(void 0===c)throw new Error("Combine: Self missing transaction");const u=a(r.globalKeyVals),f=r.inputKeyVals.map(a),d=r.outputKeyVals.map(a);for(const e of s){const t=o(e);if(void 0===t||!t.toBuffer().equals(c.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const s=n.psbtToKeyVals(e);a(s.globalKeyVals).forEach(i(u,r.globalKeyVals,s.globalKeyVals));s.inputKeyVals.map(a).forEach(((e,t)=>e.forEach(i(f[t],r.inputKeyVals[t],s.inputKeyVals[t]))));s.outputKeyVals.map(a).forEach(((e,t)=>e.forEach(i(d[t],r.outputKeyVals[t],s.outputKeyVals[t]))))}return n.psbtFromKeyVals(c,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},4834:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(n=e.value.length/4-1,[...Array(n).keys()])){const n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}var n;return r},t.encode=function(e){const t=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([t,e.extendedPubkey]),o=e.path.split("/"),a=n.allocUnsafe(4*o.length);e.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4})),{key:r,value:a}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,i=e.path;return n.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"==typeof i&&!!i.match(/^m(\/\d+'?)*$/)},t.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}},4213:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.encode=function(e){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}},22706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99080),i=r(4834),o=r(4213),a=r(76605),s=r(71795),c=r(4431),u=r(66907),f=r(95949),d=r(59344),l=r(72760),h=r(81695),p=r(98454),b=r(19034),y=r(82926),g=r(77851),m=r(97545),v=r(22412),_=r(54307),w=r(87636),S=r(22223),x=r(75578),A={unsignedTx:o,globalXpub:i,checkPubkey:v.makeChecker([])};t.globals=A;const E={nonWitnessUtxo:c,partialSig:u,sighashType:d,finalScriptSig:a,finalScriptWitness:s,porCommitment:f,witnessUtxo:y,bip32Derivation:m.makeConverter(n.InputTypes.BIP32_DERIVATION),redeemScript:_.makeConverter(n.InputTypes.REDEEM_SCRIPT),witnessScript:x.makeConverter(n.InputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([n.InputTypes.PARTIAL_SIG,n.InputTypes.BIP32_DERIVATION]),tapKeySig:l,tapScriptSig:b,tapLeafScript:h,tapBip32Derivation:w.makeConverter(n.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:S.makeConverter(n.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:p};t.inputs=E;const I={bip32Derivation:m.makeConverter(n.OutputTypes.BIP32_DERIVATION),redeemScript:_.makeConverter(n.OutputTypes.REDEEM_SCRIPT),witnessScript:x.makeConverter(n.OutputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([n.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:w.makeConverter(n.OutputTypes.TAP_BIP32_DERIVATION),tapTree:g,tapInternalKey:S.makeConverter(n.OutputTypes.TAP_INTERNAL_KEY)};t.outputs=I},76605:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}},71795:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}},4431:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}},66907:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!n.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}},95949:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}},59344:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}},72760:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);function o(e){return n.isBuffer(e)&&(64===e.length||65===e.length)}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_KEY_SIG]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig}},81695:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_LEAF_SCRIPT]),r=n.from([e.leafVersion]);return{key:n.concat([t,e.controlBlock]),value:n.concat([e.script,r])}},t.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.check=function(e){return n.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&n.isBuffer(e.script)},t.canAddToArray=function(e,t,r){const n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.controlBlock.equals(t.controlBlock))).length)}},98454:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);function o(e){return n.isBuffer(e)&&32===e.length}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_MERKLE_ROOT]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot}},19034:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_SCRIPT_SIG]);return{key:n.concat([t,e.pubkey,e.leafHash]),value:e.signature}},t.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.leafHash)&&n.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash))).length)}},82926:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080),o=r(78133),a=r(40394);t.decode=function(e){if(e.key[0]!==i.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=o.readUInt64LE(e.value,0);let r=8;const n=a.decode(e.value,r);r+=a.encodingLength(n);const s=e.value.slice(r);if(s.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:s,value:t}},t.encode=function(e){const{script:t,value:r}=e,s=a.encodingLength(t.length),c=n.allocUnsafe(8+s+t.length);return o.writeUInt64LE(c,r,0),a.encode(t.length,c,8),t.copy(c,8+s),{key:n.from([i.InputTypes.WITNESS_UTXO]),value:c}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return n.isBuffer(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}},77851:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080),o=r(40394);t.decode=function(e){if(e.key[0]!==i.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],i=e.value[t++],a=o.decode(e.value,t);t+=o.encodingLength(a),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+a)}),t+=a}return{leaves:r}},t.encode=function(e){const t=n.from([i.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map((e=>[n.of(e.depth,e.leafVersion),o.encode(e.script.length),e.script])));return{key:t,value:n.concat(r)}},t.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&n.isBuffer(e.script)))},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree}},97545:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];t.makeConverter=function(e,t=i){return{decode:function(r){if(r.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!t(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const e of(o=r.value.length/4-1,[...Array(o).keys()])){const t=r.value.readUInt32LE(4*e+4),n=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(n?"'":"")}var o;return i},encode:function(t){const r=n.from([e]),i=n.concat([r,t.pubkey]),o=t.path.split("/"),a=n.allocUnsafe(4*o.length);t.masterFingerprint.copy(a,0);let s=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),a.writeUInt32LE(r,s),s+=4})),{key:i,value:a}},check:function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}},22412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}},54307:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}},87636:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(40394),o=r(97545),a=e=>32===e.length;t.makeConverter=function(e){const t=o.makeConverter(e,a);return{decode:function(e){const r=i.decode(e.value),n=i.encodingLength(r),o=t.decode({key:e.key,value:e.value.slice(n+32*r)}),a=new Array(r);for(let t=0,i=n;t<r;t++,i+=32)a[t]=e.value.slice(i,i+32);return Object.assign({},o,{leafHashes:a})},encode:function(e){const r=t.encode(e),o=i.encodingLength(e.leafHashes.length),a=n.allocUnsafe(o);i.encode(e.leafHashes.length,a);const s=n.concat([a,...e.leafHashes,r.value]);return Object.assign({},r,{value:s})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((e=>n.isBuffer(e)&&32===e.length))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}}},22223:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}}},75578:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}},78133:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(40394);function o(e){const t=e.key.length,r=e.value.length,o=i.encodingLength(t),a=i.encodingLength(r),s=n.allocUnsafe(o+t+a+r);return i.encode(t,s,0),e.key.copy(s,o),i.encode(r,s,o+t),e.value.copy(s,o+t+a),s}function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){const t=e.map(o);return t.push(n.from([0])),n.concat(t)},t.keyValToBuffer=o,t.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,a(n+r,9007199254740991),n+r},t.writeUInt64LE=function(e,t,r){return a(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}},40394:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=9007199254740991;function o(e){if(e<0||e>i||e%1!=0)throw new RangeError("value out of range")}function a(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=function e(t,r,i){if(o(t),r||(r=n.allocUnsafe(a(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),t<253?(r.writeUInt8(t,i),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(t,i+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(t,i+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,i),r.writeUInt32LE(t>>>0,i+1),r.writeUInt32LE(t/4294967296|0,i+5),Object.assign(e,{bytes:9})),r},t.decode=function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const i=t.readUInt8(r);if(i<253)return Object.assign(e,{bytes:1}),i;if(253===i)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===i)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});const n=t.readUInt32LE(r+1),i=4294967296*t.readUInt32LE(r+5)+n;return o(i),i}},t.encodingLength=a},76263:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(22706),o=r(78133),a=r(40394),s=r(99080);function c(e,t,r){if(!t.equals(n.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function u(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const a={unsignedTx:e};let u=0;for(const e of t)switch(e.key[0]){case s.GlobalTypes.UNSIGNED_TX:if(c("global",e.key,s.GlobalTypes.UNSIGNED_TX),u>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");u++;break;case s.GlobalTypes.GLOBAL_XPUB:void 0===a.globalXpub&&(a.globalXpub=[]),a.globalXpub.push(i.globals.globalXpub.decode(e));break;default:a.unknownKeyVals||(a.unknownKeyVals=[]),a.unknownKeyVals.push(e)}const f=r.length,d=n.length,l=[],h=[];for(const e of o.range(f)){const t={};for(const n of r[e])switch(i.inputs.checkPubkey(n),n.key[0]){case s.InputTypes.NON_WITNESS_UTXO:if(c("input",n.key,s.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(n);break;case s.InputTypes.WITNESS_UTXO:if(c("input",n.key,s.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=i.inputs.witnessUtxo.decode(n);break;case s.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(i.inputs.partialSig.decode(n));break;case s.InputTypes.SIGHASH_TYPE:if(c("input",n.key,s.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=i.inputs.sighashType.decode(n);break;case s.InputTypes.REDEEM_SCRIPT:if(c("input",n.key,s.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=i.inputs.redeemScript.decode(n);break;case s.InputTypes.WITNESS_SCRIPT:if(c("input",n.key,s.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=i.inputs.witnessScript.decode(n);break;case s.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.inputs.bip32Derivation.decode(n));break;case s.InputTypes.FINAL_SCRIPTSIG:c("input",n.key,s.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=i.inputs.finalScriptSig.decode(n);break;case s.InputTypes.FINAL_SCRIPTWITNESS:c("input",n.key,s.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=i.inputs.finalScriptWitness.decode(n);break;case s.InputTypes.POR_COMMITMENT:c("input",n.key,s.InputTypes.POR_COMMITMENT),t.porCommitment=i.inputs.porCommitment.decode(n);break;case s.InputTypes.TAP_KEY_SIG:c("input",n.key,s.InputTypes.TAP_KEY_SIG),t.tapKeySig=i.inputs.tapKeySig.decode(n);break;case s.InputTypes.TAP_SCRIPT_SIG:void 0===t.tapScriptSig&&(t.tapScriptSig=[]),t.tapScriptSig.push(i.inputs.tapScriptSig.decode(n));break;case s.InputTypes.TAP_LEAF_SCRIPT:void 0===t.tapLeafScript&&(t.tapLeafScript=[]),t.tapLeafScript.push(i.inputs.tapLeafScript.decode(n));break;case s.InputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(i.inputs.tapBip32Derivation.decode(n));break;case s.InputTypes.TAP_INTERNAL_KEY:c("input",n.key,s.InputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=i.inputs.tapInternalKey.decode(n);break;case s.InputTypes.TAP_MERKLE_ROOT:c("input",n.key,s.InputTypes.TAP_MERKLE_ROOT),t.tapMerkleRoot=i.inputs.tapMerkleRoot.decode(n);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}l.push(t)}for(const e of o.range(d)){const t={};for(const r of n[e])switch(i.outputs.checkPubkey(r),r.key[0]){case s.OutputTypes.REDEEM_SCRIPT:if(c("output",r.key,s.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=i.outputs.redeemScript.decode(r);break;case s.OutputTypes.WITNESS_SCRIPT:if(c("output",r.key,s.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=i.outputs.witnessScript.decode(r);break;case s.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.outputs.bip32Derivation.decode(r));break;case s.OutputTypes.TAP_INTERNAL_KEY:c("output",r.key,s.OutputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=i.outputs.tapInternalKey.decode(r);break;case s.OutputTypes.TAP_TREE:c("output",r.key,s.OutputTypes.TAP_TREE),t.tapTree=i.outputs.tapTree.decode(r);break;case s.OutputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(i.outputs.tapBip32Derivation.decode(r));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(r)}h.push(t)}return{globalMap:a,inputs:l,outputs:h}}t.psbtFromBuffer=function(e,t){let r=0;function n(){const t=a.decode(e,r);r+=a.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function c(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const f=[],d={};for(;!c();){const e=i(),t=e.key.toString("hex");if(d[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);d[t]=1,f.push(e)}const l=f.filter((e=>e.key[0]===s.GlobalTypes.UNSIGNED_TX));if(1!==l.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const h=t(l[0].value),{inputCount:p,outputCount:b}=h.getInputOutputCounts(),y=[],g=[];for(const e of o.range(p)){const t={},r=[];for(;!c();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,r.push(n)}y.push(r)}for(const e of o.range(b)){const t={},r=[];for(;!c();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,r.push(n)}g.push(r)}return u(h,{globalMapKeyVals:f,inputKeyVals:y,outputKeyVals:g})},t.checkKeyBuffer=c,t.psbtFromKeyVals=u},91457:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(76263)),n(r(238))},238:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(22706),o=r(78133);t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:i,inputKeyVals:a,outputKeyVals:s}=c({globalMap:e,inputs:t,outputs:r}),u=o.keyValsToBuffer(i),f=e=>0===e.length?[n.from([0])]:e.map(o.keyValsToBuffer),d=f(a),l=f(s),h=n.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),n.concat([h,u].concat(d,l))};const a=(e,t)=>e.key.compare(t.key);function s(e,t){const r=new Set,n=Object.entries(e).reduce(((e,[n,i])=>{if("unknownKeyVals"===n)return e;const o=t[n];if(void 0===o)return e;const a=(Array.isArray(i)?i:[i]).map(o.encode);return a.map((e=>e.key.toString("hex"))).forEach((e=>{if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(a)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!r.has(e.key.toString("hex")))):[];return n.concat(i).sort(a)}function c({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:s(e,i.globals),inputKeyVals:t.map((e=>s(e,i.inputs))),outputKeyVals:r.map((e=>s(e,i.outputs)))}}t.psbtToKeyVals=c},1614:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(64863),o=r(91457),a=r(99080),s=r(45080);t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=o.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return s.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=s.checkForInput(this.inputs,e);return s.updateInput(t,r),this}updateOutput(e,t){const r=s.checkForOutput(this.outputs,e);return s.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return s.checkHasKey(e,this.globalMap.unknownKeyVals,s.getEnumLength(a.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=s.checkForInput(this.inputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=s.checkForOutput(this.outputs,e);return s.checkHasKey(t,r.unknownKeyVals,s.getEnumLength(a.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),s.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToOutput(r,e))),s.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=s.checkForInput(this.inputs,e);s.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=i.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},99080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},45080:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(22706);function o(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function a(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r}function s(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function c(e){return(t,r)=>{for(const n of Object.keys(t)){const o=t[n],{canAdd:a,canAddToArray:c,check:u,expected:f}=i[e+"s"][n]||{};if(u)if(!!c){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(u)||s(e,n,f,o);const t=r[n]||[],i=new Set;if(!o.every((e=>c(t,e,i))))throw new Error("Can not add duplicate data to array");r[n]=t.concat(o)}else{if(u(o)||s(e,n,f,o),!a(r,o))throw new Error(`Can not add duplicate data to ${e}`);r[n]=o}}}}t.checkForInput=o,t.checkForOutput=a,t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&a}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=c("global"),t.updateInput=c("input"),t.updateOutput=c("output"),t.addInputAttributes=function(e,r){const n=o(e,e.length-1);t.updateInput(r,n)},t.addOutputAttributes=function(e,r){const n=a(e,e.length-1);t.updateOutput(r,n)},t.defaultVersionSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}},92368:(e,t,r)=>{var n=r(92861).Buffer;e.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}}},90933:(e,t,r)=>{"use strict";var n=r(16763);e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),i=e(r),o=r.length+4,a=new Uint8Array(o);return a.set(r,0),a.set(i.subarray(0,4),r.length),n.encode(a,o)},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},82894:(e,t,r)=>{"use strict";var{sha256:n}=r(22623),i=r(90933);e.exports=i((function(e){return n(n(e))}))},70057:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const i=r(50622),o=r(30885),a=r(67038),s=r(98116),c=r(22343),u=r(82894),f=40,d=2,l=16,h=2,p=80,b="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function y(e){const t=n.from(u.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function g(e){let t,r;try{t=c.bech32.decode(e)}catch(e){}if(t){if(r=t.words[0],0!==r)throw new TypeError(e+" uses wrong encoding")}else if(t=c.bech32m.decode(e),r=t.words[0],0===r)throw new TypeError(e+" uses wrong encoding");const i=c.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:n.from(i)}}function m(e,t,r){const n=c.bech32.toWords(e);return n.unshift(t),0===t?c.bech32.encode(r,n):c.bech32m.encode(r,n)}t.fromBase58Check=y,t.fromBech32=g,t.toBase58Check=function(e,t){(0,s.typeforce)((0,s.tuple)(s.Hash160bit,s.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),u.encode(r)},t.toBech32=m,t.fromOutputScript=function(e,t){t=t||i.bitcoin;try{return o.p2pkh({output:e,network:t}).address}catch(e){}try{return o.p2sh({output:e,network:t}).address}catch(e){}try{return o.p2wpkh({output:e,network:t}).address}catch(e){}try{return o.p2wsh({output:e,network:t}).address}catch(e){}try{return o.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const r=e.slice(2);if(r.length<d||r.length>f)throw new TypeError("Invalid program length for segwit address");const n=e[0]-p;if(n<h||n>l)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(b),m(r,n,t.bech32)}(e,t)}catch(e){}throw new Error(a.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let r,n;t=t||i.bitcoin;try{r=y(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{n=g(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return o.p2wpkh({hash:n.data}).output;if(32===n.data.length)return o.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return o.p2tr({pubkey:n.data}).output}else if(n.version>=h&&n.version<=l&&n.data.length>=d&&n.data.length<=f)return console.warn(b),a.compile([n.version+p,n.data])}}throw new Error(e+" has no matching Script")}},13966:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;const t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;const r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},t.decode=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");const t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");const r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},t.encode=function(e,t){const r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}},41696:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const i=r(30606),o=r(91944),a=r(31015),s=r(22021),c=r(98116),{typeforce:u}=c,f=new TypeError("Cannot compute merkle root for zero transactions"),d=new TypeError("Cannot compute witness commit for non-segwit block");class l{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const t=new i.BufferReader(e),r=new l;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;const n=()=>{const e=s.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},o=t.readVarInt();r.transactions=[];for(let e=0;e<o;++e){const e=n();r.transactions.push(e)}const a=r.getWitnessCommit();return a&&(r.witnessCommit=a),r}static fromHex(e){return l.fromBuffer(n.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,i=n.alloc(32,0);return i.writeUIntBE(r,29-t,3),i}static calculateMerkleRoot(e,t){if(u([{getHash:c.Function}],e),0===e.length)throw f;if(t&&!h(e))throw d;const r=e.map((e=>e.getHash(t))),i=(0,a.fastMerkleRoot)(r,o.hash256);return t?o.hash256(n.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!h(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(n.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof n&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof n&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+i.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return o.hash256(this.toBuffer(!0))}getId(){return(0,i.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=n.allocUnsafe(this.byteLength(e)),r=new i.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(i.varuint.encode(this.transactions.length,t,r.offset),r.offset+=i.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,i.reverseBuffer)(this.getHash()),t=l.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw f;const e=l.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw f;if(!this.hasWitnessCommit())throw d;const e=l.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function h(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=l},30606:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const i=r(98116),{typeforce:o}=i,a=r(68469);function s(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function c(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,s(n+r,9007199254740991),n+r}function u(e,t,r){return s(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.varuint=a,t.readUInt64LE=c,t.writeUInt64LE=u,t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){const t=n.allocUnsafe(e.length);return e.copy(t),t};class f{static withCapacity(e){return new f(n.alloc(e))}constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=u(this.buffer,e,this.offset)}writeVarInt(e){a.encode(e,this.buffer,this.offset),this.offset+=a.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=f;t.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=c(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=a.decode(this.buffer,this.offset);return this.offset+=a.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}},91944:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const i=r(93238),o=r(31549),a=r(22623);function s(e){return n.from((0,a.sha256)(Uint8Array.from(e)))}t.ripemd160=function(e){return n.from((0,i.ripemd160)(Uint8Array.from(e)))},t.sha1=function(e){return n.from((0,o.sha1)(Uint8Array.from(e)))},t.sha256=s,t.hash160=function(e){return n.from((0,i.ripemd160)((0,a.sha256)(Uint8Array.from(e))))},t.hash256=function(e){return n.from((0,a.sha256)((0,a.sha256)(Uint8Array.from(e))))},t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":n.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":n.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":n.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:n.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:n.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:n.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:n.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":n.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":n.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},t.taggedHash=function(e,r){return s(n.concat([t.TAGGED_HASH_PREFIXES[e],r]))}},60916:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const i={};t.initEccLib=function(e){var t;e?e!==i.eccLib&&(a("function"==typeof(t=e).isXOnlyPoint),a(t.isXOnlyPoint(o("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),a(t.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),a(t.isXOnlyPoint(o("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),a(t.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000001"))),a(!t.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000000"))),a(!t.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),a("function"==typeof t.xOnlyPointAddTweak),s.forEach((e=>{const r=t.xOnlyPointAddTweak(o(e.pubkey),o(e.tweak));null===e.result?a(null===r):(a(null!==r),a(r.parity===e.parity),a(n.from(r.xOnlyPubkey).equals(o(e.result))))})),i.eccLib=e):i.eccLib=e},t.getEccLib=function(){if(!i.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return i.eccLib};const o=e=>n.from(e,"hex");function a(e){if(!e)throw new Error("ecc library invalid")}const s=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},21757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const n=r(70057);t.address=n;const i=r(91944);t.crypto=i;const o=r(50622);t.networks=o;const a=r(30885);t.payments=a;const s=r(67038);t.script=s;var c=r(41696);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return c.Block}});var u=r(59646);Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return u.Psbt}});var f=r(68417);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return f.OPS}});var d=r(22021);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return d.Transaction}});var l=r(60916);Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return l.initEccLib}})},31015:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let r=e.length;const i=e.concat();for(;r>1;){let e=0;for(let o=0;o<r;o+=2,++e){const a=i[o],s=o+1===r?a:i[o+1],c=n.concat([a,s]);i[e]=t(c)}r=e}return i[0]}},50622:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},68417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;const n={};t.REVERSE_OPS=n;for(const e of Object.keys(r)){n[r[e]]=e}},82218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const n=r(48287),i=r(60916),o=r(91944),a=r(30606),s=r(98116);t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;function c(e){const r=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",n.Buffer.concat([n.Buffer.from([r]),d(e.output)]))}function u(e,t){return o.taggedHash("TapTweak",n.Buffer.concat(t?[e,t]:[e]))}function f(e,t){return o.taggedHash("TapBranch",n.Buffer.concat([e,t]))}function d(e){const t=a.varuint.encodingLength(e.length),r=n.Buffer.allocUnsafe(t);return a.varuint.encode(e.length,r),n.Buffer.concat([r,e])}t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const r=(e.length-33)/32;let n=t;for(let t=0;t<r;t++){const r=e.slice(33+32*t,65+32*t);n=n.compare(r)<0?f(n,r):f(r,n)}return n},t.toHashTree=function e(t){if((0,s.isTapleaf)(t))return{hash:c(t)};const r=[e(t[0]),e(t[1])];r.sort(((e,t)=>e.hash.compare(t.hash)));const[n,i]=r;return{hash:f(n.hash,i.hash),left:n,right:i}},t.findScriptPath=function e(t,r){if("left"in(n=t)&&"right"in n){const n=e(t.left,r);if(void 0!==n)return[...n,t.right.hash];const i=e(t.right,r);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(r))return[];var n},t.tapleafHash=c,t.tapTweakHash=u,t.tweakKey=function(e,t){if(!n.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const r=u(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,r);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:n.Buffer.from(o.xOnlyPubkey)}:null}},55472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const n=r(50622),i=r(67038),o=r(98116),a=r(97883),s=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const r={name:"embed",network:e.network||n.bitcoin};if(a.prop(r,"output",(()=>{if(e.data)return i.compile([s.OP_RETURN].concat(e.data))})),a.prop(r,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==s.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!(0,o.stacksEqual)(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)}},30885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const n=r(55472);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r(91395);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=r(4930);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const a=r(23504);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});const s=r(8368);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});const c=r(77027);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return c.p2wpkh}});const u=r(79041);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return u.p2wsh}});const f=r(25501);Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return f.p2tr}})},97883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},91395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const n=r(50622),i=r(67038),o=r(98116),a=r(97883),s=i.OPS,c=s.OP_RESERVED;t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function r(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===s.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const u={network:e.network||n.bitcoin};let f=[],d=!1;function l(e){d||(d=!0,f=i.decompile(e),u.m=f[0]-c,u.n=f[f.length-2]-c,u.pubkeys=f.slice(1,-2))}if(a.prop(u,"output",(()=>{if(e.m&&u.n&&e.pubkeys)return i.compile([].concat(c+e.m,e.pubkeys,c+u.n,s.OP_CHECKMULTISIG))})),a.prop(u,"m",(()=>{if(u.output)return l(u.output),u.m})),a.prop(u,"n",(()=>{if(u.pubkeys)return u.pubkeys.length})),a.prop(u,"pubkeys",(()=>{if(e.output)return l(e.output),u.pubkeys})),a.prop(u,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),a.prop(u,"input",(()=>{if(e.signatures)return i.compile([s.OP_0].concat(e.signatures))})),a.prop(u,"witness",(()=>{if(u.input)return[]})),a.prop(u,"name",(()=>{if(u.m&&u.n)return`p2ms(${u.m} of ${u.n})`})),t.validate){if(e.output){if(l(e.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==s.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(u.m<=0||u.n>16||u.m>u.n||u.n!==f.length-3)throw new TypeError("Output is invalid");if(!u.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==u.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==u.n)throw new TypeError("n mismatch");if(e.pubkeys&&!(0,o.stacksEqual)(e.pubkeys,u.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(u.n=e.pubkeys.length,u.n<u.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<u.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>u.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==s.OP_0)throw new TypeError("Input is invalid");if(0===u.signatures.length||!u.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!(0,o.stacksEqual)(e.signatures,u.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(u,e)}},4930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const n=r(50622),i=r(67038),o=r(98116),a=r(97883),s=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const r=a.value((()=>i.decompile(e.input))),c={name:"p2pk",network:e.network||n.bitcoin};if(a.prop(c,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,s.OP_CHECKSIG])})),a.prop(c,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),a.prop(c,"signature",(()=>{if(e.input)return r()[0]})),a.prop(c,"input",(()=>{if(e.signature)return i.compile([e.signature])})),a.prop(c,"witness",(()=>{if(c.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==s.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(c.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(c.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(c.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(c.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(c,e)}},23504:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const i=r(91944),o=r(50622),a=r(67038),s=r(98116),c=r(97883),u=r(82894),f=a.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),output:s.typeforce.maybe(s.typeforce.BufferN(25)),pubkey:s.typeforce.maybe(s.isPoint),signature:s.typeforce.maybe(a.isCanonicalScriptSignature),input:s.typeforce.maybe(s.typeforce.Buffer)},e);const r=c.value((()=>{const t=n.from(u.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),d=c.value((()=>a.decompile(e.input))),l=e.network||o.bitcoin,h={name:"p2pkh",network:l};if(c.prop(h,"address",(()=>{if(!h.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(l.pubKeyHash,0),h.hash.copy(e,1),u.encode(e)})),c.prop(h,"hash",(()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||h.pubkey?i.hash160(e.pubkey||h.pubkey):void 0)),c.prop(h,"output",(()=>{if(h.hash)return a.compile([f.OP_DUP,f.OP_HASH160,h.hash,f.OP_EQUALVERIFY,f.OP_CHECKSIG])})),c.prop(h,"pubkey",(()=>{if(e.input)return d()[1]})),c.prop(h,"signature",(()=>{if(e.input)return d()[0]})),c.prop(h,"input",(()=>{if(e.pubkey&&e.signature)return a.compile([e.signature,e.pubkey])})),c.prop(h,"witness",(()=>{if(h.input)return[]})),t.validate){let t=n.from([]);if(e.address){if(r().version!==l.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==f.OP_DUP||e.output[1]!==f.OP_HASH160||20!==e.output[2]||e.output[23]!==f.OP_EQUALVERIFY||e.output[24]!==f.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=d();if(2!==r.length)throw new TypeError("Input is invalid");if(!a.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,s.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=i.hash160(r[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}},8368:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const i=r(91944),o=r(50622),a=r(67038),s=r(98116),c=r(97883),u=r(82894),f=a.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),output:s.typeforce.maybe(s.typeforce.BufferN(23)),redeem:s.typeforce.maybe({network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.Buffer),input:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),input:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||o.bitcoin);const d={network:r},l=c.value((()=>{const t=n.from(u.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),h=c.value((()=>a.decompile(e.input))),p=c.value((()=>{const t=h(),i=t[t.length-1];return{network:r,output:i===f.OP_FALSE?n.from([]):i,input:a.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(c.prop(d,"address",(()=>{if(!d.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(d.network.scriptHash,0),d.hash.copy(e,1),u.encode(e)})),c.prop(d,"hash",(()=>e.output?e.output.slice(2,22):e.address?l().hash:d.redeem&&d.redeem.output?i.hash160(d.redeem.output):void 0)),c.prop(d,"output",(()=>{if(d.hash)return a.compile([f.OP_HASH160,d.hash,f.OP_EQUAL])})),c.prop(d,"redeem",(()=>{if(e.input)return p()})),c.prop(d,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return a.compile([].concat(a.decompile(e.redeem.input),e.redeem.output))})),c.prop(d,"witness",(()=>d.redeem&&d.redeem.witness?d.redeem.witness:d.input?[]:void 0)),c.prop(d,"name",(()=>{const e=["p2sh"];return void 0!==d.redeem&&void 0!==d.redeem.name&&e.push(d.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(l().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==l().hash.length)throw new TypeError("Invalid address");t=l().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==f.OP_HASH160||20!==e.output[1]||e.output[22]!==f.OP_EQUAL)throw new TypeError("Output is invalid");const r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}const o=e=>{if(e.output){const r=a.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");if(e.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(a.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=a.decompile(e.input);if(!a.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=h();if(!e||e.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");o(p())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const t=p();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}o(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!(0,s.stacksEqual)(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(d,e)}},25501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const n=r(48287),i=r(50622),o=r(67038),a=r(98116),s=r(60916),c=r(82218),u=r(97883),f=r(22343),d=r(70057),l=o.OPS;t.p2tr=function(e,t){if(!(e.address||e.output||e.pubkey||e.internalPubkey||e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(34)),internalPubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),pubkey:a.typeforce.maybe(a.typeforce.BufferN(32)),signature:a.typeforce.maybe(a.typeforce.anyOf(a.typeforce.BufferN(64),a.typeforce.BufferN(65))),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer)),scriptTree:a.typeforce.maybe(a.isTaptree),redeem:a.typeforce.maybe({output:a.typeforce.maybe(a.typeforce.Buffer),redeemVersion:a.typeforce.maybe(a.typeforce.Number),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),redeemVersion:a.typeforce.maybe(a.typeforce.Number)},e);const r=u.value((()=>(0,d.fromBech32)(e.address))),h=u.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),p=u.value((()=>e.scriptTree?(0,c.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),b=e.network||i.bitcoin,y={name:"p2tr",network:b};if(u.prop(y,"address",(()=>{if(!y.pubkey)return;const e=f.bech32m.toWords(y.pubkey);return e.unshift(1),f.bech32m.encode(b.bech32,e)})),u.prop(y,"hash",(()=>{const e=p();if(e)return e.hash;const t=h();if(t&&t.length>1){const e=t[t.length-1],r=e[0]&a.TAPLEAF_VERSION_MASK,n=t[t.length-2],i=(0,c.tapleafHash)({output:n,version:r});return(0,c.rootHashFromPath)(e,i)}return null})),u.prop(y,"output",(()=>{if(y.pubkey)return o.compile([l.OP_1,y.pubkey])})),u.prop(y,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:c.LEAF_VERSION_TAPSCRIPT)),u.prop(y,"redeem",(()=>{const e=h();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&a.TAPLEAF_VERSION_MASK}})),u.prop(y,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return r().data;if(y.internalPubkey){const e=(0,c.tweakKey)(y.internalPubkey,y.hash);if(e)return e.x}})),u.prop(y,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=h();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),u.prop(y,"signature",(()=>{if(e.signature)return e.signature;const t=h();return t&&1===t.length?t[0]:void 0})),u.prop(y,"witness",(()=>{if(e.witness)return e.witness;const t=p();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const r=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion}),i=(0,c.findScriptPath)(t,r);if(!i)return;const o=(0,c.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const a=n.Buffer.concat([n.Buffer.from([y.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,a]}return e.signature?[e.signature]:void 0})),t.validate){let t=n.Buffer.from([]);if(e.address){if(b&&b.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==l.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const r=(0,c.tweakKey)(e.internalPubkey,y.hash);if(t.length>0&&!t.equals(r.x))throw new TypeError("Pubkey mismatch");t=r.x}if(t&&t.length&&!(0,s.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=p();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,c.tapleafHash)({output:e.redeem.output,version:y.redeemVersion});if(!(0,c.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const u=h();if(e.redeem&&y.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==y.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(y.redeem.output&&!e.redeem.output.equals(y.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&y.redeem.witness&&!(0,a.stacksEqual)(e.redeem.witness,y.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(1===u.length){if(e.signature&&!e.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{const r=u[u.length-1];if(r.length<33)throw new TypeError(`The control-block length is too small. Got ${r.length}, expected min 33.`);if((r.length-33)%32!=0)throw new TypeError(`The control-block length of ${r.length} is incorrect!`);const n=(r.length-33)/32;if(n>128)throw new TypeError(`The script path is too long. Got ${n}, expected max 128.`);const i=r.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,s.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=r[0]&a.TAPLEAF_VERSION_MASK,f=u[u.length-2],d=(0,c.tapleafHash)({output:f,version:o}),l=(0,c.rootHashFromPath)(r,d),h=(0,c.tweakKey)(i,l);if(!h)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(h.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(h.parity!==(1&r[0]))throw new Error("Incorrect parity")}}return Object.assign(y,e)}},77027:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const i=r(91944),o=r(50622),a=r(67038),s=r(98116),c=r(97883),u=r(22343),f=a.OPS,d=n.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(20)),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(22)),pubkey:s.typeforce.maybe(s.isPoint),signature:s.typeforce.maybe(a.isCanonicalScriptSignature),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);const r=c.value((()=>{const t=u.bech32.decode(e.address),r=t.words.shift(),i=u.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),l=e.network||o.bitcoin,h={name:"p2wpkh",network:l};if(c.prop(h,"address",(()=>{if(!h.hash)return;const e=u.bech32.toWords(h.hash);return e.unshift(0),u.bech32.encode(l.bech32,e)})),c.prop(h,"hash",(()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||h.pubkey?i.hash160(e.pubkey||h.pubkey):void 0)),c.prop(h,"output",(()=>{if(h.hash)return a.compile([f.OP_0,h.hash])})),c.prop(h,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),c.prop(h,"signature",(()=>{if(e.witness)return e.witness[0]})),c.prop(h,"input",(()=>{if(h.witness)return d})),c.prop(h,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=n.from([]);if(e.address){if(l&&l.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==f.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!(0,s.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!a.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,s.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=i.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}},79041:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const i=r(91944),o=r(50622),a=r(67038),s=r(98116),c=r(97883),u=r(22343),f=a.OPS,d=n.alloc(0);function l(e){return!(!n.isBuffer(e)||65!==e.length||4!==e[0]||!(0,s.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({network:s.typeforce.maybe(s.typeforce.Object),address:s.typeforce.maybe(s.typeforce.String),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),output:s.typeforce.maybe(s.typeforce.BufferN(34)),redeem:s.typeforce.maybe({input:s.typeforce.maybe(s.typeforce.Buffer),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.Buffer),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),input:s.typeforce.maybe(s.typeforce.BufferN(0)),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))},e);const r=c.value((()=>{const t=u.bech32.decode(e.address),r=t.words.shift(),i=u.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),h=c.value((()=>a.decompile(e.redeem.input)));let p=e.network;p||(p=e.redeem&&e.redeem.network||o.bitcoin);const b={network:p};if(c.prop(b,"address",(()=>{if(!b.hash)return;const e=u.bech32.toWords(b.hash);return e.unshift(0),u.bech32.encode(p.bech32,e)})),c.prop(b,"hash",(()=>e.output?e.output.slice(2):e.address?r().data:b.redeem&&b.redeem.output?i.sha256(b.redeem.output):void 0)),c.prop(b,"output",(()=>{if(b.hash)return a.compile([f.OP_0,b.hash])})),c.prop(b,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:d,witness:e.witness.slice(0,-1)}})),c.prop(b,"input",(()=>{if(b.witness)return d})),c.prop(b,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=a.toStack(h());return b.redeem=Object.assign({witness:t},e.redeem),b.redeem.input=d,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),c.prop(b,"name",(()=>{const e=["p2wsh"];return void 0!==b.redeem&&void 0!==b.redeem.name&&e.push(b.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(r().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==p)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const r=a.decompile(e.redeem.output);if(!r||r.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(a.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!a.isPushOnly(h()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!(0,s.stacksEqual)(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&h().some(l)||e.redeem.output&&(a.decompile(e.redeem.output)||[]).some(l))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(l)||(a.decompile(t)||[]).some(l))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(b,e)}},59646:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const i=r(1614),o=r(40394),a=r(45080),s=r(70057),c=r(30606),u=r(50622),f=r(30885),d=r(82218),l=r(67038),h=r(22021),p=r(60477),b=r(34929),y={network:u.bitcoin,maximumFeeRate:5e3};class g{static fromBase64(e,t={}){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=i.Psbt.fromBuffer(e,m),n=new g(t,r);var o,a;return o=n.__CACHE.__TX,a=n.__CACHE,o.ins.forEach((e=>{k(a,e)})),n}constructor(e={},t=new i.Psbt(new v)){this.data=t,this.opts=Object.assign({},y,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,c.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,s.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,c.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=g.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){A(e),this.opts.maximumFeeRate=e}setVersion(e){A(e),E(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){A(e),E(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){A(t),E(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,p.checkTaprootInputFields)(e,e,"addInput"),E(this.data.inputs,"addInput"),e.witnessScript&&G(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);k(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&F(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");E(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:r}=this.opts,n=(0,s.toOutputScript)(t,r);e=Object.assign({},e,{script:n})}(0,p.checkTaprootOutputFields)(e,e,"addOutput");const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(S))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return z(this.data.inputs,r,t,!0),r}getFeeRate(){return P("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return P("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,a.checkForInput)(this.data.inputs,0),Y(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const r=(0,a.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(r)?this._finalizeTaprootInput(e,r,void 0,t):this._finalizeInput(e,r,t)}finalizeTaprootInput(e,t,r=p.tapScriptFinalizer){const n=(0,a.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(n))return this._finalizeTaprootInput(e,n,t,r);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,r=M){const{script:n,isP2SH:i,isP2WSH:o,isSegwit:a}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=q(r,t,e),a=n.ins[e].index;i.script=o.outs[a].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||(0,b.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(e,t,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=l.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:s,finalScriptWitness:c}=r(e,t,n,a,i,o);if(s&&this.data.updateInput(e,{finalScriptSig:s}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!s&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,r,n=p.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const r=f.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),n=(0,b.witnessStackToScriptWitness)(r.witness);this.data.updateInput(e,{finalScriptWitness:n})}else{const{finalScriptWitness:i}=n(e,t,r);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,a.checkForInput)(this.data.inputs,e),r=W(K(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=l.decompile(e);if(!t)return;const r=t[t.length-1];if(!n.isBuffer(r)||$(r)||(i=r,l.isCanonicalScriptSignature(i)))return;var i;if(!l.decompile(r))return;return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=H(e),r=t[t.length-1];if($(r))return;if(!l.decompile(r))return;return r}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+Q(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=K(r,t,n),{meaningfulScript:o}=W(i,r,"input",t.redeemScript,t.witnessScript);return(0,b.pubkeyInScript)(e,o)}(t,(0,a.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=(0,a.checkForInput)(this.data.inputs,e),n=x(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=W(i,r,"output",t.redeemScript,t.witnessScript);return(0,b.pubkeyInScript)(e,o)}(t,(0,a.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=(0,a.checkForOutput)(this.data.outputs,e),n=x(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(e){(0,a.checkForInput)(this.data.inputs,0);return Y(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e];return(0,p.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(e,t,r):this._validateSignaturesOfInput(e,t,r)}_validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=r?i.filter((e=>e.pubkey.equals(r))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const a=[];let s,c,u;for(const r of o){const i=l.signature.decode(r.signature),{hash:o,script:f}=u!==i.hashType?D(e,Object.assign({},n,{sighashType:i.hashType}),this.__CACHE,!0):{hash:s,script:c};u=i.hashType,s=o,c=f,I(r.pubkey,f,"verify"),a.push(t(r.pubkey,o,i.signature))}return a.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).tapKeySig,o=(n||{}).tapScriptSig;if(!n&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const a=(r=r&&(0,p.toXOnly)(r))?N(e,n,this.data.inputs,r,this.__CACHE):function(e,t,r,n){const i=[];if(t.tapInternalKey){const r=R(e,t,n);r&&i.push(r)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}const o=i.map((i=>N(e,t,r,i,n)));return o.flat()}(e,n,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");const s=a.find((e=>!e.leafHash));let c=0;if(i&&s){if(!t(s.pubkey,s.hash,L(i)))return!1;c++}if(o)for(const e of o){const r=a.find((t=>e.pubkey.equals(t.pubkey)));if(r){if(!t(e.pubkey,r.hash,L(e.signature)))return!1;c++}}return c>0}signAllInputsHD(e,t=[h.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of Y(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[h.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of Y(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[h.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return U(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[h.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=U(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of Y(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,a.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(n)?this._signTaprootInput(e,n,t,void 0,r):this._signInput(e,t,r)}signTaprootInput(e,t,r,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,a.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(i))return this._signTaprootInput(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,r=[h.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=B(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:l.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,r,n,i=[h.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),a=o.filter((e=>!e.leafHash)).map((e=>(0,p.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType)))[0],s=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return a&&this.data.updateInput(e,{tapKeySig:a}),s.length&&this.data.updateInput(e,{tapScriptSig:s}),this}signInputAsync(e,t,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,a.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(n)?this._signTaprootInputAsync(e,n,t,void 0,r):this._signInputAsync(e,t,r)}))}signTaprootInputAsync(e,t,r,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,a.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,r=[h.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=B(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:l.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}async _signTaprootInputAsync(e,t,r,n,i=[h.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),a=[],s=o.filter((e=>!e.leafHash))[0];if(s){const e=Promise.resolve(r.signSchnorr(s.hash)).then((e=>({tapKeySig:(0,p.serializeTaprootSignature)(e,t.sighashType)})));a.push(e)}const c=o.filter((e=>!!e.leafHash));if(c.length){const e=c.map((e=>Promise.resolve(r.signSchnorr(e.hash)).then((n=>({tapScriptSig:[{pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(n,t.sighashType),leafHash:e.leafHash}]})))));a.push(...e)}return Promise.all(a).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,r,n,i){if("function"!=typeof r.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=N(e,t,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${r.publicKey.toString("hex")}`);return o}toBuffer(){return _(this.__CACHE),this.data.toBuffer()}toHex(){return _(this.__CACHE),this.data.toHex()}toBase64(){return _(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&G(t.witnessScript),(0,p.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&F(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const r=this.data.outputs[e];return(0,p.checkTaprootOutputFields)(r,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=g;const m=e=>new v(e);class v{constructor(e=n.from([2,0,0,0,0,0,0,0,0,0])){this.tx=h.Transaction.fromBuffer(e),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!n.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,c.reverseBuffer)(n.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!n.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function _(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function w(e,t,r){if(!t)return!1;let n;if(n=r?r.map((e=>{const r=function(e){if(65===e.length){const t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}(e);return t.find((e=>e.pubkey.equals(r)))})).filter((e=>!!e)):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function S(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function x(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function A(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function E(e,t){e.forEach((e=>{if((0,p.isTaprootInput)(e)?(0,p.checkTaprootInputForSigs)(e,t):(0,b.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function I(e,t,r){if(!(0,b.pubkeyInScript)(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function k(e,t){const r=(0,c.reverseBuffer)(n.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function T(e,t){return(r,n,i,o)=>{const a=e({redeem:{output:i}}).output;if(!n.equals(a))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const C=T(f.p2sh,"Redeem script"),O=T(f.p2wsh,"Witness script");function P(e,t,r,n){if(!r.every(S))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),z(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function M(e,t,r,n,i,o){const a=Q(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,e.partialSig);case"multisig":const r=f.p2ms({output:t});return w(r.m,e.partialSig,r.pubkeys);default:return!1}}(t,r,a))throw new Error(`Can not finalize input #${e}`);return function(e,t,r,n,i,o){let a,s;const c=function(e,t,r){let n;switch(t){case"multisig":const t=function(e,t){const r=f.p2ms({output:e});return r.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,r);n=f.p2ms({output:e,signatures:t});break;case"pubkey":n=f.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=f.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=f.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),u=o?f.p2wsh({redeem:c}):null,d=i?f.p2sh({redeem:u||c}):null;n?(s=u?(0,b.witnessStackToScriptWitness)(u.witness):(0,b.witnessStackToScriptWitness)(c.witness),d&&(a=d.input)):a=d?d.input:c.input;return{finalScriptSig:a,finalScriptWitness:s}}(r,a,t.partialSig,n,i,o)}function B(e,t,r,n,i){const o=(0,a.checkForInput)(e,t),{hash:s,sighashType:c,script:u}=D(t,o,n,!1,i);return I(r,u,"sign"),{hash:s,sighashType:c}}function D(e,t,r,n,i){const o=r.__TX,a=t.sighashType||h.Transaction.SIGHASH_ALL;let s,c;if(j(a,i),t.nonWitnessUtxo){const n=q(r,t,e),i=o.ins[e].hash,a=n.getHash();if(!i.equals(a))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const s=o.ins[e].index;c=n.outs[s]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");c=t.witnessUtxo}const{meaningfulScript:u,type:d}=W(c.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(d)>=0)s=o.hashForWitnessV0(e,u,c.value,a);else if((0,b.isP2WPKH)(u)){const t=f.p2pkh({hash:u.slice(2)}).output;s=o.hashForWitnessV0(e,t,c.value,a)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),s=o.hashForSignature(e,u,a)}return{script:u,sighashType:a,hash:s}}function R(e,t,r){const{script:n}=V(e,t,r);return(0,b.isP2TR)(n)?n.subarray(2,34):null}function L(e){return 64===e.length?e:e.subarray(0,64)}function N(e,t,r,i,o,a,s){const c=o.__TX,u=t.sighashType||h.Transaction.SIGHASH_DEFAULT;j(u,s);const f=r.map(((e,t)=>V(t,e,o))),l=f.map((e=>e.script)),y=f.map((e=>e.value)),g=[];if(t.tapInternalKey&&!a){const r=R(e,t,o)||n.from([]);if((0,p.toXOnly)(i).equals(r)){const t=c.hashForWitnessV1(e,l,y,u);g.push({pubkey:i,hash:t})}}const m=(t.tapLeafScript||[]).filter((e=>(0,b.pubkeyInScript)(i,e.script))).map((e=>{const t=(0,d.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!a||a.equals(e.hash))).map((t=>{const r=c.hashForWitnessV1(e,l,y,u,t.hash);return{pubkey:i,hash:r,leafHash:t.hash}}));return g.concat(m)}function j(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&h.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case h.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case h.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case h.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function U(e,t,r){const n=(0,a.checkForInput)(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function H(e){let t=0;function r(){const r=o.decode(e,t);return t+=o.decode.bytes,r}function n(){return n=r(),t+=n,e.slice(t-n,t);var n}return function(){const e=r(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function F(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=h.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function z(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=H(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=q(r,e,o),a=t.ins[o].index,s=n.outs[a];i+=s.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),a=i-o;if(a<0)throw new Error("Outputs are spending more than Inputs");const s=t.virtualSize();r.__FEE=a,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(a/s)}function q(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||F(e,t,r),n[r]}function K(e,t,r){const{script:n}=V(e,t,r);return n}function V(e,t,r){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const n=q(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}throw new Error("Can't find pubkey in input without Utxo data")}function $(e){return 33===e.length&&l.isCanonicalPubKey(e)}function W(e,t,r,n,i){const o=(0,b.isP2SHScript)(e),a=o&&n&&(0,b.isP2WSHScript)(n),s=(0,b.isP2WSHScript)(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((s||a)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return a?(c=i,C(t,e,n,r),O(t,n,i,r),G(c)):s?(c=i,O(t,e,i,r),G(c)):o?(c=n,C(t,e,n,r)):c=e,{meaningfulScript:c,type:a?"p2sh-p2wsh":o?"p2sh":s?"p2wsh":"raw"}}function G(e){if((0,b.isP2WPKH)(e)||(0,b.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Q(e){return(0,b.isP2WPKH)(e)?"witnesspubkeyhash":(0,b.isP2PKH)(e)?"pubkeyhash":(0,b.isP2MS)(e)?"multisig":(0,b.isP2PK)(e)?"pubkey":"nonstandard"}function Y(e){return[...Array(e).keys()]}},60477:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const i=r(98116),o=r(22021),a=r(34929),s=r(82218),c=r(30885),u=r(34929);function f(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,a.isP2TR)(e.witnessUtxo.script))}function d(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,a.isP2TR)(t))}function l(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const r of e)if(t=b(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function h(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||o.Transaction.SIGHASH_DEFAULT}}function p(e,t=[],r=0){if(r>s.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,i.isTapleaf)(e)?(t.push({depth:r,leafVersion:e.version||s.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&p(e[0],t,r+1),e[1]&&p(e[1],t,r+1),t):[]}function b(e,t,r=0){if(r>s.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if((0,i.isTapleaf)(t))return;const n=b(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];const o=b(e,t&&t[1],r+1);return o?[t&&t[0],o]:void 0}function y(e,t){if(!t)return!0;const r=(0,s.tapleafHash)({output:e.script,version:e.leafVersion});return(0,s.rootHashFromPath)(e.controlBlock,r).equals(t)}function g(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,r){const n=function(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const n=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,r){const n=(0,s.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&void 0!==t.find((e=>e.leafHash.equals(n)))}(t,e.tapScriptSig,r)));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}(t,e,r);try{const e=function(e,t){const r=(0,s.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(r))).map((e=>function(e,t){return Object.assign({positionInScript:(0,a.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,n),r=e.concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,a.witnessStackToScriptWitness)(r)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}},t.serializeTaprootSignature=function(e,t){const r=t?n.from([t]):n.from([]);return n.concat([e,r])},t.isTaprootInput=f,t.isTaprootOutput=d,t.checkTaprootInputFields=function(e,t,r){!function(e,t,r){const n=f(e)&&g(t),i=g(e)&&f(t),o=e===t&&f(t)&&g(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t,r){if(t.tapMerkleRoot){const n=(t.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot)));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot){if(!(t.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}}(e,t,r)},t.checkTaprootOutputFields=function(e,t,r){!function(e,t,r){const n=d(e)&&g(t),i=g(e)&&d(t),o=e===t&&d(t)&&g(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){const{script:t}=e,i=function(e,t){const r=t&&l(t.leaves),{output:n}=(0,c.p2tr)({internalPubkey:e,scriptTree:r});return n}(r,n);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const r=t.tapInternalKey,n=r&&(0,s.tweakKey)(r,t.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x},t.tapTreeToList=function(e){if(!(0,i.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return p(e)},t.tapTreeFromList=l,t.checkTaprootInputForSigs=function(e,t){return function(e){const t=[];e.tapKeySig&&t.push(e.tapKeySig);e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature)));if(!t.length){const r=function(e){if(!e)return;const t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);r&&t.push(r)}return t}(e).some((e=>(0,u.signatureBlocksAction)(e,h,t)))}},34929:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const i=r(40394),o=r(67038),a=r(22021),s=r(91944),c=r(30885);function u(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}function f(e,t){const r=(0,s.hash160)(e),n=e.slice(1,33),i=o.decompile(t);if(null===i)throw new Error("Unknown script error");return i.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)||t.equals(n))))}function d(e,t,r){const{hashType:n}=t(e),i=[];n&a.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&n){case a.Transaction.SIGHASH_ALL:break;case a.Transaction.SIGHASH_SINGLE:case a.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(r)}t.isP2MS=u(c.p2ms),t.isP2PK=u(c.p2pk),t.isP2PKH=u(c.p2pkh),t.isP2WPKH=u(c.p2wpkh),t.isP2WSHScript=u(c.p2wsh),t.isP2SHScript=u(c.p2sh),t.isP2TR=u(c.p2tr),t.witnessStackToScriptWitness=function(e){let t=n.allocUnsafe(0);function r(e){const r=t.length,o=i.encodingLength(e);t=n.concat([t,n.allocUnsafe(o)]),i.encode(e,t,r)}function o(e){r(e.length),function(e){t=n.concat([t,n.from(e)])}(e)}var a;return r((a=e).length),a.forEach(o),t},t.pubkeyPositionInScript=f,t.pubkeyInScript=function(e,t){return-1!==f(e,t)},t.checkInputForSig=function(e,t){return function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&o.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&o.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>n.isBuffer(e)&&o.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e).some((e=>d(e,o.signature.decode,t)))},t.signatureBlocksAction=d},34344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const n=r(68417);function i(e){return e<n.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(e,t,r){const o=i(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(n.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(n.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(n.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o},t.decode=function(e,t){const r=e.readUInt8(t);let i,o;if(r<n.OPS.OP_PUSHDATA1)i=r,o=1;else if(r===n.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;i=e.readUInt8(t+1),o=2}else if(r===n.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;i=e.readUInt16LE(t+1),o=3}else{if(t+5>e.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=e.readUInt32LE(t+1),o=5}return{opcode:r,number:i,size:o}}},67038:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const i=r(13966),o=r(68417);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}});const a=r(34344),s=r(19464),c=r(41043),u=r(98116),{typeforce:f}=u,d=o.OPS.OP_RESERVED;function l(e){return u.Buffer(e)||function(e){return u.Number(e)&&(e===o.OPS.OP_0||e>=o.OPS.OP_1&&e<=o.OPS.OP_16||e===o.OPS.OP_1NEGATE)}(e)}function h(e){return u.Array(e)&&e.every(l)}function p(e){return 0===e.length?o.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?d+e[0]:129===e[0]?o.OPS.OP_1NEGATE:void 0:void 0}function b(e){return n.isBuffer(e)}function y(e){return n.isBuffer(e)}function g(e){if(b(e))return e;f(u.Array,e);const t=e.reduce(((e,t)=>y(t)?1===t.length&&void 0!==p(t)?e+1:e+a.encodingLength(t.length)+t.length:e+1),0),r=n.allocUnsafe(t);let i=0;if(e.forEach((e=>{if(y(e)){const t=p(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=a.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function m(e){if(t=e,u.Array(t))return e;var t;f(u.Buffer,e);const r=[];let n=0;for(;n<e.length;){const t=e[n];if(t>o.OPS.OP_0&&t<=o.OPS.OP_PUSHDATA4){const t=a.decode(e,n);if(null===t)return null;if(n+=t.size,n+t.number>e.length)return null;const i=e.slice(n,n+t.number);n+=t.number;const o=p(i);void 0!==o?r.push(o):r.push(i)}else r.push(t),n+=1}return r}function v(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=h,t.countNonPushOnlyOPs=function(e){return e.length-e.filter(l).length},t.compile=g,t.decompile=m,t.toASM=function(e){if(b(e)&&(e=m(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map((e=>{if(y(e)){const t=p(e);if(void 0===t)return e.toString("hex");e=t}return o.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return f(u.String,e),g(e.split(" ").map((e=>void 0!==o.OPS[e]?o.OPS[e]:(f(u.Hex,e),n.from(e,"hex")))))},t.toStack=function(e){return e=m(e),f(h,e),e.map((e=>y(e)?e:e===o.OPS.OP_0?n.allocUnsafe(0):s.encode(e-d)))},t.isCanonicalPubKey=function(e){return u.isPoint(e)},t.isDefinedHashType=v,t.isCanonicalScriptSignature=function(e){return!!n.isBuffer(e)&&(!!v(e[e.length-1])&&i.check(e.slice(0,-1)))},t.number=s,t.signature=c},19464:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&!(127&e[n-1]||!(n<=1)&&128&e[n-2]))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},t.encode=function(e){let t=Math.abs(e);const r=(i=t)>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0;var i;const o=n.allocUnsafe(r),a=e<0;for(let e=0;e<r;++e)o.writeUInt8(255&t,e),t>>=8;return 128&o[r-1]?o.writeUInt8(a?128:0,r-1):a&&(o[r-1]|=128),o}},41043:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const i=r(13966),o=r(67038),a=r(98116),{typeforce:s}=a,c=n.alloc(1,0);function u(e){let t=0;for(;0===e[t];)++t;return t===e.length?c:128&(e=e.slice(t))[0]?n.concat([c,e],1+e.length):e}function f(e){0===e[0]&&(e=e.slice(1));const t=n.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){const t=e.readUInt8(e.length-1);if(!(0,o.isDefinedHashType)(t))throw new Error("Invalid hashType "+t);const r=i.decode(e.slice(0,-1)),a=f(r.r),s=f(r.s);return{signature:n.concat([a,s],64),hashType:t}},t.encode=function(e,t){if(s({signature:a.BufferN(64),hashType:a.UInt8},{signature:e,hashType:t}),!(0,o.isDefinedHashType)(t))throw new Error("Invalid hashType "+t);const r=n.allocUnsafe(1);r.writeUInt8(t,0);const c=u(e.slice(0,32)),f=u(e.slice(32,64));return n.concat([i.encode(c,f),r])}},22021:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=r(30606),o=r(91944),a=r(67038),s=r(67038),c=r(98116),{typeforce:u}=c;function f(e){const t=e.length;return i.varuint.encodingLength(t)+t}const d=n.allocUnsafe(0),l=[],h=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),b=n.from("ffffffffffffffff","hex"),y={script:d,valueBuffer:b};class g{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){const r=new i.BufferReader(e),n=new g;n.version=r.readInt32();const o=r.readUInt8(),a=r.readUInt8();let s=!1;o===g.ADVANCED_TRANSACTION_MARKER&&a===g.ADVANCED_TRANSACTION_FLAG?s=!0:r.offset-=2;const c=r.readVarInt();for(let e=0;e<c;++e)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:l});const u=r.readVarInt();for(let e=0;e<u;++e)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(s){for(let e=0;e<c;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return g.fromBuffer(n.from(e,"hex"),!1)}static isCoinbaseHash(e){u(c.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&g.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return u(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(r)&&(r=g.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||d,sequence:r,witness:l})-1}addOutput(e,t){return u(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+i.varuint.encodingLength(this.ins.length)+i.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+f(t.script)),0)+this.outs.reduce(((e,t)=>e+8+f(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return i.varuint.encodingLength(t)+e.reduce(((e,t)=>e+f(t)),0)}(t.witness)),0):0)}clone(){const e=new g;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,r){if(u(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),e>=this.ins.length)return p;const i=a.compile(a.decompile(t).filter((e=>e!==s.OPS.OP_CODESEPARATOR))),f=this.clone();if((31&r)===g.SIGHASH_NONE)f.outs=[],f.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&r)===g.SIGHASH_SINGLE){if(e>=this.outs.length)return p;f.outs.length=e+1;for(let t=0;t<e;t++)f.outs[t]=y;f.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}r&g.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[e]],f.ins[0].script=i):(f.ins.forEach((e=>{e.script=d})),f.ins[e].script=i);const l=n.allocUnsafe(f.byteLength(!1)+4);return l.writeInt32LE(r,l.length-4),f.__toBuffer(l,0,!1),o.hash256(l)}hashForWitnessV1(e,t,r,a,s,l){if(u(c.tuple(c.UInt32,u.arrayOf(c.Buffer),u.arrayOf(c.Satoshi),c.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const h=a===g.SIGHASH_DEFAULT?g.SIGHASH_ALL:a&g.SIGHASH_OUTPUT_MASK,p=(a&g.SIGHASH_INPUT_MASK)===g.SIGHASH_ANYONECANPAY,b=h===g.SIGHASH_NONE,y=h===g.SIGHASH_SINGLE;let m=d,v=d,_=d,w=d,S=d;if(!p){let e=i.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),m=o.sha256(e.end()),e=i.BufferWriter.withCapacity(8*this.ins.length),r.forEach((t=>e.writeUInt64(t))),v=o.sha256(e.end()),e=i.BufferWriter.withCapacity(t.map(f).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),_=o.sha256(e.end()),e=i.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),w=o.sha256(e.end())}if(b||y){if(y&&e<this.outs.length){const t=this.outs[e],r=i.BufferWriter.withCapacity(8+f(t.script));r.writeUInt64(t.value),r.writeVarSlice(t.script),S=o.sha256(r.end())}}else{const e=this.outs.map((e=>8+f(e.script))).reduce(((e,t)=>e+t)),t=i.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),S=o.sha256(t.end())}const x=(s?2:0)+(l?1:0),A=174-(p?49:0)-(b?32:0)+(l?32:0)+(s?37:0),E=i.BufferWriter.withCapacity(A);if(E.writeUInt8(a),E.writeInt32(this.version),E.writeUInt32(this.locktime),E.writeSlice(m),E.writeSlice(v),E.writeSlice(_),E.writeSlice(w),b||y||E.writeSlice(S),E.writeUInt8(x),p){const n=this.ins[e];E.writeSlice(n.hash),E.writeUInt32(n.index),E.writeUInt64(r[e]),E.writeVarSlice(t[e]),E.writeUInt32(n.sequence)}else E.writeUInt32(e);if(l){const e=i.BufferWriter.withCapacity(f(l));e.writeVarSlice(l),E.writeSlice(o.sha256(e.end()))}return y&&E.writeSlice(S),s&&(E.writeSlice(s),E.writeUInt8(0),E.writeUInt32(4294967295)),o.taggedHash("TapSighash",n.concat([n.from([0]),E.end()]))}hashForWitnessV0(e,t,r,a){u(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);let s,d=n.from([]),l=h,p=h,b=h;if(a&g.SIGHASH_ANYONECANPAY||(d=n.allocUnsafe(36*this.ins.length),s=new i.BufferWriter(d,0),this.ins.forEach((e=>{s.writeSlice(e.hash),s.writeUInt32(e.index)})),p=o.hash256(d)),a&g.SIGHASH_ANYONECANPAY||(31&a)===g.SIGHASH_SINGLE||(31&a)===g.SIGHASH_NONE||(d=n.allocUnsafe(4*this.ins.length),s=new i.BufferWriter(d,0),this.ins.forEach((e=>{s.writeUInt32(e.sequence)})),b=o.hash256(d)),(31&a)!==g.SIGHASH_SINGLE&&(31&a)!==g.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+f(t.script)),0);d=n.allocUnsafe(e),s=new i.BufferWriter(d,0),this.outs.forEach((e=>{s.writeUInt64(e.value),s.writeVarSlice(e.script)})),l=o.hash256(d)}else if((31&a)===g.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];d=n.allocUnsafe(8+f(t.script)),s=new i.BufferWriter(d,0),s.writeUInt64(t.value),s.writeVarSlice(t.script),l=o.hash256(d)}d=n.allocUnsafe(156+f(t)),s=new i.BufferWriter(d,0);const y=this.ins[e];return s.writeInt32(this.version),s.writeSlice(p),s.writeSlice(b),s.writeSlice(y.hash),s.writeUInt32(y.index),s.writeVarSlice(t),s.writeUInt64(r),s.writeUInt32(y.sequence),s.writeSlice(l),s.writeUInt32(this.locktime),s.writeUInt32(a),o.hash256(d)}getHash(e){return e&&this.isCoinbase()?n.alloc(32,0):o.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,i.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){u(c.tuple(c.Number,c.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){u(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=n.allocUnsafe(this.byteLength(r)));const o=new i.BufferWriter(e,t||0);o.writeInt32(this.version);const a=r&&this.hasWitnesses();return a&&(o.writeUInt8(g.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(g.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach((e=>{o.writeSlice(e.hash),o.writeUInt32(e.index),o.writeVarSlice(e.script),o.writeUInt32(e.sequence)})),o.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?o.writeUInt64(e.value):o.writeSlice(e.valueBuffer),o.writeVarSlice(e.script)})),a&&this.ins.forEach((e=>{o.writeVector(e.witness)})),o.writeUInt32(this.locktime),void 0!==t?e.slice(t,o.offset):e}}t.Transaction=g,g.DEFAULT_SEQUENCE=4294967295,g.SIGHASH_DEFAULT=0,g.SIGHASH_ALL=1,g.SIGHASH_NONE=2,g.SIGHASH_SINGLE=3,g.SIGHASH_ANYONECANPAY=128,g.SIGHASH_OUTPUT_MASK=3,g.SIGHASH_INPUT_MASK=128,g.ADVANCED_TRANSACTION_MARKER=0,g.ADVANCED_TRANSACTION_FLAG=1},98116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Satoshi=t.isPoint=t.stacksEqual=t.typeforce=void 0;const n=r(48287);t.typeforce=r(8676);const i=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.stacksEqual=function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))},t.isPoint=function(e){if(!n.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(i))return!1;if(r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const a=e.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===t&&65===e.length))};function a(e){return!(!e||!("output"in e))&&(!!n.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=a,t.isTaptree=function e(r){return(0,t.Array)(r)?2===r.length&&r.every((t=>e(t))):a(r)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},1948:(e,t,r)=>{var n=r(48287).Buffer;const i=r(91889),o=r(73423),a=r(65699),s=r(47108),c=r(37141),u=r(68469),f={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function d(e){return s("sha256").update(e).digest()}function l(e){return s("ripemd160").update(d(e)).digest()}function h(e,t,r,i){return void 0!==i?(t+=8,i===f.P2WPKH&&(t+=4)):r&&(t+=4),n.concat([n.alloc(1,t+27),e])}function p(e,t){t=t||"Bitcoin Signed Message:\n",n.isBuffer(t)||(t=n.from(t,"utf8")),n.isBuffer(e)||(e=n.from(e,"utf8"));const r=u.encodingLength(e.length),i=n.allocUnsafe(t.length+r+e.length);return t.copy(i,0),u.encode(e.length,i,t.length),e.copy(i,t.length+r),function(e){return d(d(e))}(i)}function b(e,t){"object"==typeof e&&void 0===t&&(t=e,e=void 0);let{segwitType:r,extraEntropy:n}=t||{};if(r&&("string"==typeof r||r instanceof String)&&(r=r.toLowerCase()),r&&r!==f.P2SH_P2WPKH&&r!==f.P2WPKH)throw new Error('Unrecognized segwitType: use "'+f.P2SH_P2WPKH+'" or "'+f.P2WPKH+'"');return{messagePrefixArg:e,segwitType:r,extraEntropy:n}}function y(e){return e&&"function"==typeof e.sign}function g(e){return l(n.concat([n.from("0014","hex"),e]))}function m(e){const t=o.decode(e),r=o.fromWords(t.words.slice(1));return n.from(r)}e.exports={magicHash:p,sign:function(e,t,r,n,i){const{messagePrefixArg:o,segwitType:a,extraEntropy:s}=b(n,i),u=p(e,o),f=y(t)?t.sign(u,s):c.sign(u,t,{data:s});return h(f.signature,f.recovery,r,a)},signAsync:function(e,t,r,n,i){let o,a,s;return Promise.resolve().then((()=>{({messagePrefixArg:o,segwitType:a,extraEntropy:s}=b(n,i));const r=p(e,o);return y(t)?t.sign(r,s):c.sign(r,t,{data:s})})).then((e=>h(e.signature,e.recovery,r,a)))},verify:function(e,t,r,o,s){n.isBuffer(r)||(r=n.from(r,"base64"));const u=function(e){if(65!==e.length)throw new Error("Invalid signature length");const t=e.readUInt8(0)-27;if(t>15||t<0)throw new Error("Invalid signature parameter");return{compressed:!!(12&t),segwitType:8&t?4&t?f.P2WPKH:f.P2SH_P2WPKH:null,recovery:3&t,signature:e.slice(1)}}(r);if(s&&!u.compressed)throw new Error("checkSegwitAlways can only be used with a compressed pubkey signature flagbyte");const d=p(e,o),h=l(c.recover(d,u.signature,u.recovery,u.compressed));let b,y;if(u.segwitType)u.segwitType===f.P2SH_P2WPKH?(b=g(h),y=i.decode(t).slice(1)):(b=h,y=m(t));else if(s)try{return y=m(t),a(h,y)}catch(e){const r=g(h);return y=i.decode(t).slice(1),a(h,y)||a(r,y)}else b=h,y=i.decode(t).slice(1);return a(b,y)}}},73423:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<32;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function o(e){var t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function a(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=o(t)^n>>5}for(t=o(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=o(t)^31&i}return t}function s(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var s=(e=n).lastIndexOf("1");if(-1===s)return"No separator character for "+e;if(0===s)return"Missing prefix for "+e;var c=e.slice(0,s),u=e.slice(s+1);if(u.length<6)return"Data too short";var f=a(c);if("string"==typeof f)return f;for(var d=[],l=0;l<u.length;++l){var h=u.charAt(l),p=r[h];if(void 0===p)return"Unknown character "+h;f=o(f)^p,l+6>=u.length||d.push(p)}return 1!==f?"Invalid checksum for "+e:{prefix:c,words:d}}function c(e,t,r,n){for(var i=0,o=0,a=(1<<r)-1,s=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,s.push(i>>o&a);if(n)o>0&&s.push(i<<r-o&a);else{if(o>=t)return"Excess padding";if(i<<r-o&a)return"Non-zero padding"}return s}e.exports={decodeUnsafe:function(){var e=s.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=s.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=a(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var s=e+"1",c=0;c<r.length;++c){var u=r[c];if(u>>5)throw new Error("Non 5-bit word");i=o(i)^u,s+=t.charAt(u)}for(c=0;c<6;++c)i=o(i);for(i^=1,c=0;c<6;++c){s+=t.charAt(i>>5*(5-c)&31)}return s},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},91892:e=>{var t=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var a=e[t.charCodeAt(i++)],s=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)];n[o++]=a<<2|s>>4,n[o++]=s<<4|c>>2,n[o++]=c<<6|u}return n}})(),r=((e,t)=>function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})({"wasm-binary:./blake2b.wat"(e,r){r.exports=t("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}})(),n=WebAssembly.compile(r);e.exports=async e=>(await WebAssembly.instantiate(await n,e)).exports},51685:(e,t,r)=>{var n=r(86889),i=r(35682),o=null,a="undefined"!=typeof WebAssembly&&r(91892)().then((e=>{o=e})),s=64,c=[];e.exports=b;var u=e.exports.BYTES_MIN=16,f=e.exports.BYTES_MAX=64,d=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),l=e.exports.KEYBYTES_MAX=64,h=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),p=e.exports.PERSONALBYTES=16;function b(e,t,r,i,a){if(!(this instanceof b))return new b(e,t,r,i,a);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),!0!==a&&(n(e>=u,"digestLength must be at least "+u+", was given "+e),n(e<=f,"digestLength must be at most "+f+", was given "+e),null!=t&&(n(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),n(t.length>=d,"key must be at least "+d+", was given "+t.length),n(t.length<=l,"key must be at least "+l+", was given "+t.length)),null!=r&&(n(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),n(r.length===h,"salt must be exactly "+h+", was given "+r.length)),null!=i&&(n(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),n(i.length===p,"personal must be exactly "+p+", was given "+i.length))),c.length||(c.push(s),s+=216),this.digestLength=e,this.finalized=!1,this.pointer=c.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),i&&this._memory.set(i,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,s,s+t.length),this._memory[this.pointer+200]=128)}function y(){}b.prototype._realloc=function(e){o.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},b.prototype.update=function(e){return n(!1===this.finalized,"Hash instance finalized"),n(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),s+e.length>this._memory.length&&this._realloc(s+e.length),this._memory.set(e,s),o.blake2b_update(this.pointer,s,s+e.length),this},b.prototype.digest=function(e){if(n(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,c.push(this.pointer),o.blake2b_final(this.pointer),!e||"binary"===e)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof e)return i.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);n(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e},b.prototype.final=b.prototype.digest,b.WASM=o,b.SUPPORTED="undefined"!=typeof WebAssembly,b.ready=function(e){return e||(e=y),a?a.then((()=>e()),e):e(new Error("WebAssembly not supported"))},b.prototype.ready=b.ready,b.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},b.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)}},72206:(e,t,r)=>{var n=r(86889),i=r(51685);function o(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function a(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function c(e,t,r,n,i,s){var c=l[i],u=l[i+1],f=l[s],h=l[s+1];o(d,e,t),a(d,e,c,u);var p=d[n]^d[e],b=d[n+1]^d[e+1];d[n]=b,d[n+1]=p,o(d,r,n),p=d[t]^d[r],b=d[t+1]^d[r+1],d[t]=p>>>24^b<<8,d[t+1]=b>>>24^p<<8,o(d,e,t),a(d,e,f,h),p=d[n]^d[e],b=d[n+1]^d[e+1],d[n]=p>>>16^b<<16,d[n+1]=b>>>16^p<<16,o(d,r,n),p=d[t]^d[r],b=d[t+1]^d[r+1],d[t]=b>>>31^p<<1,d[t+1]=p>>>31^b<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),f=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),d=new Uint32Array(32),l=new Uint32Array(32);function h(e,t){var r=0;for(r=0;r<16;r++)d[r]=e.h[r],d[r+16]=u[r];for(d[24]=d[24]^e.t,d[25]=d[25]^e.t/4294967296,t&&(d[28]=~d[28],d[29]=~d[29]),r=0;r<32;r++)l[r]=s(e.b,4*r);for(r=0;r<12;r++)c(0,8,16,24,f[16*r+0],f[16*r+1]),c(2,10,18,26,f[16*r+2],f[16*r+3]),c(4,12,20,28,f[16*r+4],f[16*r+5]),c(6,14,22,30,f[16*r+6],f[16*r+7]),c(0,10,20,30,f[16*r+8],f[16*r+9]),c(2,12,22,24,f[16*r+10],f[16*r+11]),c(4,14,16,26,f[16*r+12],f[16*r+13]),c(6,8,18,28,f[16*r+14],f[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^d[r]^d[r+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function b(e,t,r,n){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(var i=0;i<16;i++)this.h[i]=u[i]^s(p,4*i);t&&(y(this,t),this.c=128)}function y(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function g(e){return e<16?"0"+e.toString(16):e.toString(16)}b.prototype.update=function(e){return n(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),y(this,e),this},b.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return n(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),n(t.length>=this.outlen,"out must have at least outlen bytes of space"),function(e,t){e.t+=e.c;for(;e.c<128;)e.b[e.c++]=0;h(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)}(this,t),"hex"===e?function(e){for(var t="",r=0;r<e.length;r++)t+=g(e[r]);return t}(t):t},b.prototype.final=b.prototype.digest,b.ready=function(e){i.ready((function(){e()}))};var m=b;e.exports=function(e,t,r,i,o){return!0!==o&&(n(e>=v,"outlen must be at least "+v+", was given "+e),n(e<=_,"outlen must be at most "+_+", was given "+e),null!=t&&(n(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),n(t.length>=w,"key must be at least "+w+", was given "+t.length),n(t.length<=S,"key must be at most "+S+", was given "+t.length)),null!=r&&(n(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),n(r.length===x,"salt must be exactly "+x+", was given "+r.length)),null!=i&&(n(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),n(i.length===A,"personal must be exactly "+A+", was given "+i.length))),new m(e,t,r,i)},e.exports.ready=function(e){i.ready((function(){e()}))},e.exports.WASM_SUPPORTED=i.SUPPORTED,e.exports.WASM_LOADED=!1;var v=e.exports.BYTES_MIN=16,_=e.exports.BYTES_MAX=64,w=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),S=e.exports.KEYBYTES_MAX=64,x=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),A=e.exports.PERSONALBYTES=16;i.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=i)}))},39404:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(47790).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,f=r;f<s;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,f,e.length,t),f=0;f<a;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],h=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?b+r:f[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),f=this.clone();if(c){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,f=0|a[0],d=8191&f,l=f>>>13,h=0|a[1],p=8191&h,b=h>>>13,y=0|a[2],g=8191&y,m=y>>>13,v=0|a[3],_=8191&v,w=v>>>13,S=0|a[4],x=8191&S,A=S>>>13,E=0|a[5],I=8191&E,k=E>>>13,T=0|a[6],C=8191&T,O=T>>>13,P=0|a[7],M=8191&P,B=P>>>13,D=0|a[8],R=8191&D,L=D>>>13,N=0|a[9],j=8191&N,U=N>>>13,H=0|s[0],F=8191&H,z=H>>>13,q=0|s[1],K=8191&q,V=q>>>13,$=0|s[2],W=8191&$,G=$>>>13,Q=0|s[3],Y=8191&Q,X=Q>>>13,J=0|s[4],Z=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,fe=0|s[8],de=8191&fe,le=fe>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(l,F)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var me=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(l,W)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0;var ve=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(l,Y)|0))<<13)|0;u=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(k,F)|0,o=Math.imul(k,z),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var xe=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Ae=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,le)|0;var Ie=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,le)|0;var ke=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Te=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Oe=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,le)|0;var Pe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,le)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var Be=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,be))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ye,c[1]=ge,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Se,c[7]=xe,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=ke,c[12]=Te,c[13]=Ce,c[14]=Oe,c[15]=Pe,c[16]=Me,c[17]=Be,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function b(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),l=67108863&d;s=67108863&(l=l+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):b(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var d=c,l=u,h=0;h<a;h++){var p=r[f+h],b=n[f+h],y=r[f+h+a],g=n[f+h+a],m=d*y-l*g;g=d*g+l*y,y=m,r[f+h]=p+y,n[f+h]=b+g,r[f+h+a]=p-y,n[f+h+a]=b-g,h!==s&&(m=c*d-u*l,l=c*l+u*d,d=m)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,f,d,n,i);for(var h=0;h<n;h++){var p=s[h]*f[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*f[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&s}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(i,l,d);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=l)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;!(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(f),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;!(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,l=1;!(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},i(v,m),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,m),i(w,m),i(S,m),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return g[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,y=0;0!==b.cmp(s);y++)b=b.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));l=l.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},15037:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(73776);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},50462:(e,t,r)=>{var n=r(92861).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,r,n,i){for(var o,a,s,c,u=r[0],f=r[1],d=r[2],l=r[3],h=e[0]^t[0],p=e[1]^t[1],b=e[2]^t[2],y=e[3]^t[3],g=4,m=1;m<i;m++)o=u[h>>>24]^f[p>>>16&255]^d[b>>>8&255]^l[255&y]^t[g++],a=u[p>>>24]^f[b>>>16&255]^d[y>>>8&255]^l[255&h]^t[g++],s=u[b>>>24]^f[y>>>16&255]^d[h>>>8&255]^l[255&p]^t[g++],c=u[y>>>24]^f[h>>>16&255]^d[p>>>8&255]^l[255&b]^t[g++],h=o,p=a,b=s,y=c;return o=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[b>>>8&255]<<8|n[255&y])^t[g++],a=(n[p>>>24]<<24|n[b>>>16&255]<<16|n[y>>>8&255]<<8|n[255&h])^t[g++],s=(n[b>>>24]<<24|n[y>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^t[g++],c=(n[y>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&b])^t[g++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,r[a]=u,n[u]=a;var f=e[a],d=e[f],l=e[d],h=257*e[u]^16843008*u;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*l^65537*d^257*f^16843008*a,o[0][u]=h<<24|h>>>8,o[1][u]=h<<16|h>>>16,o[2][u]=h<<8|h>>>24,o[3][u]=h,0===a?a=s=1:(a=f^e[e[e[l^f]]],s^=e[e[s]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var a=i[o-1];o%t==0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-t]^a}for(var u=[],f=0;f<n;f++){var d=n-f,l=i[d-(f%4?0:4)];u[f]=f<4||d<=4?l:c.INV_SUB_MIX[0][c.SBOX[l>>>24]]^c.INV_SUB_MIX[1][c.SBOX[l>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[l>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&l]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},92356:(e,t,r)=>{var n=r(50462),i=r(92861).Buffer,o=r(56168),a=r(56698),s=r(25892),c=r(30295),u=r(45122);function f(e,t,r,a){o.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var f=this._cipher.encryptBlock(c);this._ghash=new s(f),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new s(r),o=t.length,a=o%16;n.update(t),a&&(a=16-a,n.update(i.alloc(a,0))),n.update(i.alloc(8,0));var c=8*o,f=i.alloc(8);f.writeUIntBE(c,0,8),n.update(f),e._finID=n.state;var d=i.from(e._finID);return u(d),d}(this,r,f),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(f,o),f.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},f.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=f},1241:(e,t,r)=>{var n=r(25799),i=r(36171),o=r(3219);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},36171:(e,t,r)=>{var n=r(92356),i=r(92861).Buffer,o=r(530),a=r(50650),s=r(56168),c=r(50462),u=r(68078);function f(e,t,r){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function l(e,t,r){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,r,!0):"auth"===s.type?new n(s.module,t,r,!0):new f(s.module,t,r)}r(56698)(f,s),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=i.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return l(e,n.key,n.iv)},t.createDecipheriv=l},25799:(e,t,r)=>{var n=r(530),i=r(92356),o=r(92861).Buffer,a=r(50650),s=r(56168),c=r(50462),u=r(68078);function f(e,t,r){s.call(this),this._cache=new l,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(56698)(f,s),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var d=o.alloc(16,16);function l(){this.cache=o.allocUnsafe(0)}function h(e,t,r){var s=n[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==s.mode&&r.length!==s.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===s.type?new a(s.module,t,r):"auth"===s.type?new i(s.module,t,r):new f(s.module,t,r)}f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=o.concat([this.cache,e])},l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return h(e,i.key,i.iv)}},25892:(e,t,r)=>{var n=r(92861).Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(!!(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=!!(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},45122:e=>{e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},92884:(e,t,r)=>{var n=r(30295);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},46383:(e,t,r)=>{var n=r(92861).Buffer,i=r(30295);function o(e,t,r){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:a]),a}t.encrypt=function(e,t,r){for(var i,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,o(e,t,r)]);break}i=e._cache.length,a=n.concat([a,o(e,t.slice(0,i),r)]),t=t.slice(i)}return a}},55264:(e,t,r)=>{var n=r(92861).Buffer;function i(e,t,r){for(var n,i,a=-1,s=0;++a<8;)n=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>a%8,e._prev=o(e._prev,r?n:i);return s}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},86975:(e,t,r)=>{var n=r(92861).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},63053:(e,t,r)=>{var n=r(30295),i=r(92861).Buffer,o=r(45122);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var s=0;s<r;s++){var c=a(e),u=o+16*s;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var f=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,f)}},52632:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},530:(e,t,r)=>{var n={ECB:r(52632),CBC:r(92884),CFB:r(46383),CFB8:r(86975),CFB1:r(55264),OFB:r(46843),CTR:r(63053),GCM:r(63053)},i=r(3219);for(var o in i)i[o].module=n[i[o].mode];e.exports=i},46843:(e,t,r)=>{var n=r(48287).Buffer,i=r(30295);function o(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,o(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},50650:(e,t,r)=>{var n=r(50462),i=r(92861).Buffer,o=r(56168);function a(e,t,r,a){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}r(56698)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},30125:(e,t,r)=>{var n=r(84050),i=r(1241),o=r(530),a=r(32438),s=r(68078);function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=s(t,!1,r,n);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=s(t,!1,r,n);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},84050:(e,t,r)=>{var n=r(56168),i=r(29560),o=r(56698),a=r(92861).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=s[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=a.concat([o,o.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:o,iv:c,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=c,o(c,n),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},32438:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},67332:(e,t,r)=>{var n=r(48287).Buffer,i=r(78893),o=r(53209);function a(e){var t,r=e.modulus.byteLength();do{t=new i(o(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function s(e,t){var r=function(e){var t=a(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),s=new i(e).mul(r.blinder).umod(t.modulus),c=s.toRed(i.mont(t.prime1)),u=s.toRed(i.mont(t.prime2)),f=t.coefficient,d=t.prime1,l=t.prime2,h=c.redPow(t.exponent1).fromRed(),p=u.redPow(t.exponent2).fromRed(),b=h.isub(p).imul(f).umod(d).imul(l);return p.iadd(b).imul(r.unblinder).umod(t.modulus).toArrayLike(n,"be",o)}s.getr=a,e.exports=s},78893:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(98285).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,a=0,s=Math.min(e.length,r),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&a<i,"Invalid character"),o+=a}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,f=r;f<s;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,f,e.length,t),f=0;f<a;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?l[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],f=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var b=d.modrn(f).toString(e);r=(d=d.idivn(f)).isZero()?b+r:l[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,f=0|a[0],d=8191&f,l=f>>>13,h=0|a[1],p=8191&h,b=h>>>13,y=0|a[2],g=8191&y,m=y>>>13,v=0|a[3],_=8191&v,w=v>>>13,S=0|a[4],x=8191&S,A=S>>>13,E=0|a[5],I=8191&E,k=E>>>13,T=0|a[6],C=8191&T,O=T>>>13,P=0|a[7],M=8191&P,B=P>>>13,D=0|a[8],R=8191&D,L=D>>>13,N=0|a[9],j=8191&N,U=N>>>13,H=0|s[0],F=8191&H,z=H>>>13,q=0|s[1],K=8191&q,V=q>>>13,$=0|s[2],W=8191&$,G=$>>>13,Q=0|s[3],Y=8191&Q,X=Q>>>13,J=0|s[4],Z=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,fe=0|s[8],de=8191&fe,le=fe>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(l,F)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var me=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(l,W)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0;var ve=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(l,Y)|0))<<13)|0;u=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(k,F)|0,o=Math.imul(k,z),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var xe=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Ae=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,le)|0;var Ie=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,le)|0;var ke=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Te=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Oe=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,le)|0;var Pe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,le)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var Be=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,be))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ye,c[1]=ge,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Se,c[7]=xe,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=ke,c[12]=Te,c[13]=Ce,c[14]=Oe,c[15]=Pe,c[16]=Me,c[17]=Be,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),l=67108863&d;s=67108863&(l=l+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return g(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(y=b),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?b(this,e,t):r<1024?g(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var d=c,l=u,h=0;h<a;h++){var p=r[f+h],b=n[f+h],y=r[f+h+a],g=n[f+h+a],m=d*y-l*g;g=d*g+l*y,y=m,r[f+h]=p+y,n[f+h]=b+g,r[f+h+a]=p-y,n[f+h+a]=b-g,h!==s&&(m=c*d-u*l,l=c*l+u*d,d=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,f,d,n,i);for(var h=0;h<n;h++){var p=s[h]*f[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*f[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&s}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(i,l,d);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=l)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;!(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(f),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;!(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,l=1;!(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new I(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(S,w),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,w),i(A,w),i(E,w),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new x;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return _[e]=t,t},I.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,y=0;0!==b.cmp(s);y++)b=b.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));l=l.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return l},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,I),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},55715:(e,t,r)=>{"use strict";e.exports=r(62951)},20:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(47108),o=r(46737),a=r(56698),s=r(35359),c=r(74847),u=r(62951);function f(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){return new f(e)}function h(e){return new d(e)}Object.keys(u).forEach((function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),a(f,o.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},f.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},a(d,o.Writable),d.prototype._write=function(e,t,r){this._hash.update(e),r()},d.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},d.prototype.verify=function(e,t,r){var i="string"==typeof t?n.from(t,r):t;this.end();var o=this._hash.digest();return c(i,o,e,this._signType,this._tag)},e.exports={Sign:l,Verify:h,createSign:l,createVerify:h}},35359:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(83507),o=r(67332),a=r(25943).ec,s=r(26162),c=r(78170),u=r(64589);function f(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var a=n.alloc(t.byteLength()-e.length);e=n.concat([a,e])}var s=r.length,c=function(e,t){e=d(e,t),e=e.mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),u=n.alloc(s);u.fill(1);var f=n.alloc(s);return f=i(o,f).update(u).update(n.from([0])).update(e).update(c).digest(),u=i(o,f).update(u).digest(),{k:f=i(o,f).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=i(o,f).update(u).digest()}}function d(e,t){var r=new s(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function l(e,t,r){var o,a;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);a=d(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function h(e,t,r,n){return e.toRed(s.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var b=c(t);if(b.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new a(r).keyFromPrivate(t.privateKey),o=i.sign(e);return n.from(o.toDER())}(e,b)}if("dsa"===b.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){var i,o=t.params.priv_key,a=t.params.p,c=t.params.q,u=t.params.g,p=new s(0),b=d(e,c).mod(c),y=!1,g=f(o,c,e,r);for(;!1===y;)p=h(u,i=l(c,g,r),a,c),0===(y=i.invm(c).imul(b.add(o.mul(p))).mod(c)).cmpn(0)&&(y=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var r=e.length+t.length+4,i=[48,r,2,e.length];return i=i.concat(e,[2,t.length],t),n.from(i)}(p,y)}(e,b,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==t.padding&&1!==t.padding)throw new Error("illegal or unsupported padding mode");e=n.concat([p,e]);for(var y=b.modulus.byteLength(),g=[0,1];e.length+g.length+1<y;)g.push(255);g.push(0);for(var m=-1;++m<e.length;)g.push(e[m]);return o(g,b)},e.exports.getKey=f,e.exports.makeKey=l},74847:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(26162),o=r(25943).ec,a=r(78170),s=r(64589);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}e.exports=function(e,t,r,u,f){var d=a(r);if("ec"===d.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=s[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new o(n),a=r.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,d)}if("dsa"===d.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,o=r.data.q,s=r.data.g,u=r.data.pub_key,f=a.signature.decode(e,"der"),d=f.s,l=f.r;c(d,o),c(l,o);var h=i.mont(n),p=d.invm(o),b=s.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(u.toRed(h).redPow(l.mul(p).mod(o)).fromRed()).mod(n).mod(o);return 0===b.cmp(l)}(e,t,d)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([f,t]);for(var l=d.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<l;)h.push(255),p+=1;h.push(0);for(var b=-1;++b<t.length;)h.push(t[b]);h=n.from(h);var y=i.mont(d.modulus);e=(e=new i(e).toRed(y)).redPow(new i(d.publicExponent)),e=n.from(e.fromRed().toArray());var g=p<8?1:0;for(l=Math.min(e.length,h.length),e.length!==h.length&&(g=1),b=-1;++b<l;)g|=e[b]^h[b];return 0===g}},26162:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(38664).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,a=0,s=Math.min(e.length,r),c=t;c<s;c++){var u=e.charCodeAt(c)-48;o*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&a<i,"Invalid character"),o+=a}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,f=r;f<s;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,f,e.length,t),f=0;f<a;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?l[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],f=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var b=d.modrn(f).toString(e);r=(d=d.idivn(f)).isZero()?b+r:l[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===o?(r<e.length&&(e[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===o?(r>=0&&(e[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,f=0|a[0],d=8191&f,l=f>>>13,h=0|a[1],p=8191&h,b=h>>>13,y=0|a[2],g=8191&y,m=y>>>13,v=0|a[3],_=8191&v,w=v>>>13,S=0|a[4],x=8191&S,A=S>>>13,E=0|a[5],I=8191&E,k=E>>>13,T=0|a[6],C=8191&T,O=T>>>13,P=0|a[7],M=8191&P,B=P>>>13,D=0|a[8],R=8191&D,L=D>>>13,N=0|a[9],j=8191&N,U=N>>>13,H=0|s[0],F=8191&H,z=H>>>13,q=0|s[1],K=8191&q,V=q>>>13,$=0|s[2],W=8191&$,G=$>>>13,Q=0|s[3],Y=8191&Q,X=Q>>>13,J=0|s[4],Z=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,fe=0|s[8],de=8191&fe,le=fe>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(l,F)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var me=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(l,W)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0;var ve=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(l,Y)|0))<<13)|0;u=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(k,F)|0,o=Math.imul(k,z),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var xe=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Ae=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,le)|0;var Ie=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,le)|0;var ke=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Te=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Oe=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,le)|0;var Pe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,le)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var Be=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,be))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ye,c[1]=ge,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Se,c[7]=xe,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=ke,c[12]=Te,c[13]=Ce,c[14]=Oe,c[15]=Pe,c[16]=Me,c[17]=Be,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),l=67108863&d;s=67108863&(l=l+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return g(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(y=b),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?b(this,e,t):r<1024?g(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var d=c,l=u,h=0;h<a;h++){var p=r[f+h],b=n[f+h],y=r[f+h+a],g=n[f+h+a],m=d*y-l*g;g=d*g+l*y,y=m,r[f+h]=p+y,n[f+h]=b+g,r[f+h+a]=p-y,n[f+h+a]=b-g,h!==s&&(m=c*d-u*l,l=c*l+u*d,d=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,f,d,n,i);for(var h=0;h<n;h++){var p=s[h]*f[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*f[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&s}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(i,l,d);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=l)}return s&&s._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;!(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(f),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;!(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,l=1;!(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new I(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(S,w),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,w),i(A,w),i(E,w),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new x;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return _[e]=t,t},I.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},I.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,y=0;0!==b.cmp(s);y++)b=b.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));l=l.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return l},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,I),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},25943:(e,t,r)=>{"use strict";var n=t;n.version=r(62270).rE,n.utils=r(98153),n.rand=r(15037),n.curve=r(58724),n.curves=r(44942),n.ec=r(39001),n.eddsa=r(36392)},91179:(e,t,r)=>{"use strict";var n=r(18496),i=r(98153),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var f=a+r.step-1;f>=a;f--)c=(c<<1)+n[f];u.push(c)}for(var d=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?l=l.mixedAdd(r.points[a]):c===-h&&(l=l.mixedAdd(r.points[a].neg()));d=d.add(l)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&0===a[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var d=a[u];s(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,u,f=this._wnafT1,d=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(u=t[s])._getNAFPoints(e);f[s]=p.wnd,d[s]=p.points}for(s=n-1;s>=1;s-=2){var b=s-1,y=s;if(1===f[b]&&1===f[y]){var g=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(g[1]=t[b].add(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].add(t[y].neg())):(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[b],r[y]);for(h=Math.max(v[0].length,h),l[b]=new Array(h),l[y]=new Array(h),c=0;c<h;c++){var _=0|v[0][c],w=0|v[1][c];l[b][c]=m[3*(_+1)+(w+1)],l[y][c]=0,d[b]=g}}else l[b]=o(r[b],f[b],this._bitLength),l[y]=o(r[y],f[y],this._bitLength),h=Math.max(l[b].length,h),h=Math.max(l[y].length,h)}var S=this.jpoint(null,null,null),x=this._wnafT4;for(s=h;s>=0;s--){for(var A=0;s>=0;){var E=!0;for(c=0;c<n;c++)x[c]=0|l[c][s],0!==x[c]&&(E=!1);if(!E)break;A++,s--}if(s>=0&&A++,S=S.dblp(A),s<0)break;for(c=0;c<n;c++){var I=x[c];0!==I&&(I>0?u=d[c][I-1>>1]:I<0&&(u=d[c][-I-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(s=0;s<n;s++)d[s]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},51088:(e,t,r)=>{"use strict";var n=r(98153),i=r(18496),o=r(56698),a=r(91179),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),f=i.redMul(s),d=a.redMul(o);return this.curve.point(c,u,d,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),f=s.redMul(c),d=o.redMul(c),l=a.redMul(s);return this.curve.point(u,f,l,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},58724:(e,t,r)=>{"use strict";var n=t;n.base=r(91179),n.short=r(88778),n.mont=r(10496),n.edwards=r(51088)},10496:(e,t,r)=>{"use strict";var n=r(18496),i=r(56698),o=r(91179),a=r(98153);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},88778:(e,t,r)=>{"use strict";var n=r(98153),i=r(18496),o=r(56698),a=r(91179),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,u,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new i(1),b=new i(0),y=new i(0),g=new i(1),m=0;0!==l.cmpn(0);){var v=h.div(l);u=h.sub(v.mul(l)),f=y.sub(v.mul(p));var _=g.sub(v.mul(b));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++m)break;c=u,h=l,l=u,y=p,p=f,g=b,b=_}a=u.neg(),s=f;var w=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),d=n.redMul(u),l=c.redSqr().redIAdd(f).redISub(d).redISub(d),h=c.redMul(d.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(l,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(f).redISub(f),l=s.redMul(f.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,l,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),l=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),b=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),g=h.redMul(y);g=g.redIAdd(g).redISub(l);var m=u.redMul(s);t+1<e&&(c=c.redMul(l)),o=b,s=m,u=g}return this.curve.jpoint(o,u.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(l);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),l=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),f=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),l=a.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=s.redMul(d).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(s).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,l,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},44942:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),a=r(58724),s=r(98153).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1433)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},39001:(e,t,r)=>{"use strict";var n=r(18496),i=r(32723),o=r(98153),a=r(44942),s=r(15037),c=o.assert,u=r(58506),f=r(10975);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),l=0;;l++){var h=o.k?o.k(l):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==b.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new f({r:y,s:g,recoveryParam:m})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),s=t.r,u=t.s,d=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),b=u.mul(h).umod(o);return this.g.mulAdd(p,s,b)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},58506:(e,t,r)=>{"use strict";var n=r(18496),i=r(98153).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},10975:(e,t,r)=>{"use strict";var n=r(18496),i=r(98153),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),a=[48];return f(a,o.length),a=a.concat(o),i.encode(a,e)}},36392:(e,t,r)=>{"use strict";var n=r(77952),i=r(44942),o=r(98153),a=o.assert,s=o.parseBytes,c=r(58971),u=r(62470);function f(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},58971:(e,t,r)=>{"use strict";var n=r(98153),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},62470:(e,t,r)=>{"use strict";var n=r(18496),i=r(98153),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},1433:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},98153:(e,t,r)=>{"use strict";var n=t,i=r(18496),o=r(43349),a=r(64367);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,a=e.clone();for(n=0;n<i.length;n++){var s,c=a.andln(o-1);a.isOdd()?(s=c>(o>>1)-1?(o>>1)-c:c,a.isubn(s)):s=0,i[n]=s,a.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),s=1&u?3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:0,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},18496:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(61626).Buffer}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,a=o%n,s=Math.min(o,o-a)+r,c=0,f=r;f<s;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=u(e,f,e.length,t),f=0;f<a;f++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,c=a/67108864|0;r.words[0]=s;for(var u=1;u<n;u++){for(var f=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=l;h++){var p=u-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}r.words[u]=0|d,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],h=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?b+r:f[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===t,u=new e(o),f=this.clone();if(c){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,a=0;a<n.length;a++)o=(t=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<r.length;a++)o=(t=(0|r.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,a=e.words,s=t.words,c=r.words,u=0,f=0|a[0],d=8191&f,l=f>>>13,h=0|a[1],p=8191&h,b=h>>>13,y=0|a[2],g=8191&y,m=y>>>13,v=0|a[3],_=8191&v,w=v>>>13,S=0|a[4],x=8191&S,A=S>>>13,E=0|a[5],I=8191&E,k=E>>>13,T=0|a[6],C=8191&T,O=T>>>13,P=0|a[7],M=8191&P,B=P>>>13,D=0|a[8],R=8191&D,L=D>>>13,N=0|a[9],j=8191&N,U=N>>>13,H=0|s[0],F=8191&H,z=H>>>13,q=0|s[1],K=8191&q,V=q>>>13,$=0|s[2],W=8191&$,G=$>>>13,Q=0|s[3],Y=8191&Q,X=Q>>>13,J=0|s[4],Z=8191&J,ee=J>>>13,te=0|s[5],re=8191&te,ne=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ce=8191&se,ue=se>>>13,fe=0|s[8],de=8191&fe,le=fe>>>13,he=0|s[9],pe=8191&he,be=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(u+(n=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(l,F)|0))<<13)|0;u=((o=Math.imul(l,z))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(b,F)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(l,K)|0))<<13)|0;u=((o=o+Math.imul(l,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,F),i=(i=Math.imul(g,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(b,K)|0,o=o+Math.imul(b,V)|0;var me=(u+(n=n+Math.imul(d,W)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(l,W)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(g,K)|0,i=(i=i+Math.imul(g,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,G)|0;var ve=(u+(n=n+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(l,Y)|0))<<13)|0;u=((o=o+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,F),i=(i=Math.imul(x,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,G)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(b,Y)|0,o=o+Math.imul(b,X)|0;var _e=(u+(n=n+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(l,Z)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(I,F),i=(i=Math.imul(I,z))+Math.imul(k,F)|0,o=Math.imul(k,z),n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,G)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Z)|0,o=o+Math.imul(b,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(i=(i=i+Math.imul(d,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,V)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(A,W)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Se=(u+(n=n+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,ae)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,G)|0,n=n+Math.imul(x,Y)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0;var xe=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(L,F)|0,o=Math.imul(L,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,G)|0,n=n+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Ae=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,F),i=(i=Math.imul(j,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(L,K)|0,o=o+Math.imul(L,V)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,G)|0,n=n+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,n=n+Math.imul(I,Z)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,ae)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,o=o+Math.imul(m,ue)|0,n=n+Math.imul(p,de)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var Ee=(u+(n=n+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,be)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,be)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(j,K),i=(i=Math.imul(j,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,W)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,W)|0,o=o+Math.imul(L,G)|0,n=n+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Y)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,n=n+Math.imul(g,de)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,le)|0;var Ie=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(j,W),i=(i=Math.imul(j,G))+Math.imul(U,W)|0,o=Math.imul(U,G),n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,X)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0,n=n+Math.imul(_,de)|0,i=(i=i+Math.imul(_,le)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,le)|0;var ke=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,n=n+Math.imul(x,de)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Te=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(j,Z),i=(i=Math.imul(j,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(L,re)|0,o=o+Math.imul(L,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,n=n+Math.imul(I,de)|0,i=(i=i+Math.imul(I,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(j,re),i=(i=Math.imul(j,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,o=o+Math.imul(B,ue)|0,n=n+Math.imul(C,de)|0,i=(i=i+Math.imul(C,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Oe=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,be)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),n=n+Math.imul(R,ce)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,ce)|0,o=o+Math.imul(L,ue)|0,n=n+Math.imul(M,de)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,le)|0;var Pe=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,be)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,be)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(j,ce),i=(i=Math.imul(j,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),n=n+Math.imul(R,de)|0,i=(i=i+Math.imul(R,le)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,le)|0;var Me=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,be)|0)+Math.imul(B,pe)|0))<<13)|0;u=((o=o+Math.imul(B,be)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(j,de),i=(i=Math.imul(j,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var Be=(u+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,be)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(u+(n=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,be))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,be))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,c[0]=ye,c[1]=ge,c[2]=me,c[3]=ve,c[4]=_e,c[5]=we,c[6]=Se,c[7]=xe,c[8]=Ae,c[9]=Ee,c[10]=Ie,c[11]=ke,c[12]=Te,c[13]=Ce,c[14]=Oe,c[15]=Pe,c[16]=Me,c[17]=Be,c[18]=De,0!==u&&(c[19]=u,r.length++),r};function b(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,d=(0|e.words[f])*(0|t.words[u]),l=67108863&d;s=67108863&(l=l+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(l>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):b(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var a=0;a<o;a++)n[a]=t[e[a]],i[a]=r[e[a]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var d=c,l=u,h=0;h<a;h++){var p=r[f+h],b=n[f+h],y=r[f+h+a],g=n[f+h+a],m=d*y-l*g;g=d*g+l*y,y=m,r[f+h]=p+y,n[f+h]=b+g,r[f+h+a]=p-y,n[f+h+a]=b-g,h!==s&&(m=c*d-u*l,l=c*l+u*d,d=m)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===o),n(!(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),d=new Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,o,s,c,n,i),this.transform(u,o,f,d,n,i);for(var h=0;h<n;h++){var p=s[h]*f[h]-c[h]*d[h];c[h]=s[h]*d[h]+c[h]*f[h],s[h]=p}return this.conjugate(s,c,n),this.transform(s,c,l,o,n,i),this.conjugate(l,o,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,c=(0|this.words[t])-s<<r;this.words[t]=c|a,a=s>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var d=0|this.words[u];this.words[u]=f<<26-o|d>>>o,f=d&s}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,a=e.length+r;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+s;var c=(0|e.words[i])*t;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,c=n.length-i.length;if("mod"!==t){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,s&&(s.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|n.words[i.length+d])+(0|n.words[i.length+d-1]);for(l=Math.min(l/a|0,67108863),n._ishlnsubmul(i,l,d);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,d),n.isZero()||(n.negative^=1);s&&(s.words[d]=l)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),d=t.clone();!t.isZero();){for(var l=0,h=1;!(t.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,b=1;!(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(f),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),a.isub(c)):(r.isub(t),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;!(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var d=0,l=1;!(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(s)):(r.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},i(v,m),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,m),i(w,m),i(S,m),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return g[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var d=this.pow(f,i),l=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var b=h,y=0;0!==b.cmp(s);y++)b=b.redSqr();n(y<p);var g=this.pow(d,new o(1).iushln(p-y-1));l=l.redMul(g),d=g.redSqr(),h=h.redMul(d),p=y}return l},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,s=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var d=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,x),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},26248:(e,t,r)=>{"use strict";var n=r(33225),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=Object.create(r(15622));o.inherits=r(56698);var a=r(30206),s=r(7314);o.inherits(d,a);for(var c=i(s.prototype),u=0;u<c.length;u++){var f=c[u];d.prototype[f]||(d.prototype[f]=s.prototype[f])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},75242:(e,t,r)=>{"use strict";e.exports=o;var n=r(81816),i=Object.create(r(15622));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(56698),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},30206:(e,t,r)=>{"use strict";var n=r(65606),i=r(33225);e.exports=v;var o,a=r(64634);v.ReadableState=m;r(37007).EventEmitter;var s=function(e,t){return e.listeners(t).length},c=r(5567),u=r(24116).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d=Object.create(r(15622));d.inherits=r(56698);var l=r(92668),h=void 0;h=l&&l.debuglog?l.debuglog("stream"):function(){};var p,b=r(20672),y=r(36278);d.inherits(v,c);var g=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(26248));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(6427).I),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(o=o||r(26248),!(this instanceof v))return new v(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,r,n,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,A(e)}(e,a)):(i||(o=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof f||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):I(e,a)):w(e,a,t,!1))):n||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),I(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=y.destroy,v.prototype._undestroy=y.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},v.prototype.unshift=function(e){return _(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=r(6427).I),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),O(e)}function I(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(k,e,t))}function k(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function T(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(B,t,e))}function B(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):A(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var c=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?f:v;function u(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",g),e.removeListener("finish",m),e.removeListener("drain",d),e.removeListener("error",y),e.removeListener("unpipe",u),r.removeListener("end",f),r.removeListener("end",v),r.removeListener("data",b),l=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function f(){h("onend"),e.end()}o.endEmitted?i.nextTick(c):r.once("end",c),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",d);var l=!1;var p=!1;function b(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!l&&(h("false write response, pause",o.awaitDrain),o.awaitDrain++,p=!0),r.pause())}function y(t){h("onerror",t),v(),e.removeListener("error",y),0===s(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",m),v()}function m(){h("onfinish"),e.removeListener("close",g),v()}function v(){h("unpipe"),r.unpipe(e)}return r.on("data",b),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",y),e.once("close",g),e.once("finish",m),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=D(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&A(this):i.nextTick(T,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=P},81816:(e,t,r)=>{"use strict";e.exports=a;var n=r(26248),i=Object.create(r(15622));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(56698),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},7314:(e,t,r)=>{"use strict";var n=r(65606),i=r(33225);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=g;var a,s=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;g.WritableState=y;var c=Object.create(r(15622));c.inherits=r(56698);var u={deprecate:r(94643)},f=r(5567),d=r(24116).Buffer,l=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var h,p=r(36278);function b(){}function y(e,t){a=a||r(26248),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:n&&(u||0===u)?u:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),x(e,t))}(e,r,n,t,o);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?s(v,e,r,a,o):v(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(e){if(a=a||r(26248),!(h.call(g,this)||this instanceof a))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,d=r.callback;if(m(e,t,!1,t.objectMode?1:u.length,u,f,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(g,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,d.isBuffer(n)||n instanceof l);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=b),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(n,a),o=!1),o}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,o);return c}(this,o,s,e,t,r)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||_(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=p.destroy,g.prototype._undestroy=p.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},20672:(e,t,r)=>{"use strict";var n=r(24116).Buffer,i=r(21638);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);for(var t,r,i,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=o,i=s,t.copy(r,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},36278:(e,t,r)=>{"use strict";var n=r(33225);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5567:(e,t,r)=>{e.exports=r(37007).EventEmitter},24116:(e,t,r)=>{var n=r(48287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},46737:(e,t,r)=>{(t=e.exports=r(30206)).Stream=t,t.Readable=t,t.Writable=r(7314),t.Duplex=r(26248),t.Transform=r(81816),t.PassThrough=r(75242)},6427:(e,t,r)=>{"use strict";var n=r(88393).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=d,t=3;break;default:return this.write=l,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},88393:(e,t,r)=>{var n=r(48287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},16763:(e,t,r)=>{const n=r(95364);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},59204:(e,t,r)=>{"use strict";var n=r(1191),i=r(92861).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},91889:(e,t,r)=>{"use strict";var n=r(47108),i=r(59204);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},91648:(e,t,r)=>{"use strict";var n=r(92861).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=i}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),f=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===c;)i++,r++;for(var a=(e.length-r)*u+1>>>0,f=new Uint8Array(a);r<e.length;){var d=t[e.charCodeAt(r)];if(255===d)return;for(var l=0,h=a-1;(0!==d||l<o)&&-1!==h;h--,l++)d+=s*f[h]>>>0,f[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=l,r++}for(var p=a-o;p!==a&&0===f[p];)p++;var b=n.allocUnsafe(i+(a-p));b.fill(0,0,i);for(var y=i;p!==a;)b[y++]=f[p++];return b}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,r++;for(var u=(a-o)*f+1>>>0,d=new Uint8Array(u);o!==a;){for(var l=t[o],h=0,p=u-1;(0!==l||h<i)&&-1!==p;p--,h++)l+=256*d[p]>>>0,d[p]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,o++}for(var b=u-i;b!==u&&0===d[b];)b++;for(var y=c.repeat(r);b<u;++b)y+=e.charAt(d[b]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},1191:(e,t,r)=>{var n=r(91648);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},65699:(e,t,r)=>{"use strict";var n=r(48287).Buffer;e.exports=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return!0;if("function"==typeof e.equals)return e.equals(t);if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}},30295:(e,t,r)=>{var n=r(48287).Buffer;e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new n(r),o=0;o<r;++o)i[o]=e[o]^t[o];return i}},48287:(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const n=r(67526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|b(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Q(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Q(e,SharedArrayBuffer)||e&&Q(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Y(e.length)?s(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return f(e),s(e<0?0:0|p(e))}function l(e){const t=e.length<0?0:0|p(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function b(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Y(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===c)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){let r=!0;for(let n=0;n<c;n++)if(u(e,o+n)!==u(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(Y(n))return a;e[r+a]=n}return a}function w(e,t,r,n){return G($(t,e.length-r),e,r,n)}function S(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return G(W(t),e,r,n)}function A(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Q(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==f[e]){o=u[e],a=f[e];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=X[e[n]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function M(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function R(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const U={};function H(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||K(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},23472:(e,t,r)=>{"use strict";const n=r(48089),i=r(12729),o=r(87392),a=new o({maxSize:1e5}),s=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),c=(e,t)=>{if(!s(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:r,pascalCase:o,stopPaths:c,deep:u}=t,f=new Set(c),d=e=>(t,c)=>{if(u&&s(c)){const r=void 0===e?t:`${e}.${t}`;f.has(r)||(c=n(c,d(r)))}if(!r||!((e,t)=>e.some((e=>"string"==typeof e?e===t:(e.lastIndex=0,e.test(t)))))(r,t)){const e=o?`${t}_`:t;if(a.has(e))t=a.get(e);else{const r=i(t,{pascalCase:o,locale:!1});t.length<100&&a.set(e,r),t=r}}return[t,c]};return n(e,d(void 0))};e.exports=(e,t)=>Array.isArray(e)?Object.keys(e).map((r=>c(e[r],t))):c(e,t)},12729:e=>{"use strict";const t=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,a=new RegExp("^"+o.source),s=new RegExp(o.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(e,i)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const o=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),u=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===e.length)return i.pascalCase?u(e):o(e);return e!==o(e)&&(e=((e,n,i)=>{let o=!1,a=!1,s=!1;for(let c=0;c<e.length;c++){const u=e[c];o&&t.test(u)?(e=e.slice(0,c)+"-"+e.slice(c),o=!1,s=a,a=!0,c++):a&&s&&r.test(u)?(e=e.slice(0,c-1)+"-"+e.slice(c-1),s=a,a=!1,o=!0):(o=n(u)===u&&i(u)!==u,s=a,a=i(u)===u&&n(u)!==u)}return e})(e,o,u)),e=e.replace(a,""),e=i.preserveConsecutiveUppercase?((e,t)=>(n.lastIndex=0,e.replace(n,(e=>t(e)))))(e,o):o(e),i.pascalCase&&(e=u(e.charAt(0))+e.slice(1)),((e,t)=>(s.lastIndex=0,c.lastIndex=0,e.replace(s,((e,r)=>t(r))).replace(c,(e=>t(e)))))(e,u)};e.exports=u,e.exports.default=u},56168:(e,t,r)=>{var n=r(92861).Buffer,i=r(88310).Transform,o=r(83141).I;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(56698)(a,i),a.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a},15622:(e,t,r)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(48287).Buffer.isBuffer},61324:(e,t,r)=>{var n=r(48287).Buffer,i=r(85586),o=r(39404);e.exports=function(e){return new s(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var o=new n(r-i.length);o.fill(0),i=n.concat([o,i])}return t?i.toString(t):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),c(r,e)},s.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new o(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},85586:(e,t,r)=>{"use strict";var n=t;n.version=r(7133).rE,n.utils=r(39388),n.rand=r(15037),n.curve=r(22725),n.curves=r(83645),n.ec=r(9574),n.eddsa=r(8289)},27456:(e,t,r)=>{"use strict";var n=r(39404),i=r(39388),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var f=a+r.step-1;f>=a;f--)c=(c<<1)+n[f];u.push(c)}for(var d=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?l=l.mixedAdd(r.points[a]):c===-h&&(l=l.mixedAdd(r.points[a].neg()));d=d.add(l)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&0===a[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var d=a[u];s(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,u,f=this._wnafT1,d=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(u=t[s])._getNAFPoints(e);f[s]=p.wnd,d[s]=p.points}for(s=n-1;s>=1;s-=2){var b=s-1,y=s;if(1===f[b]&&1===f[y]){var g=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(g[1]=t[b].add(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].add(t[y].neg())):(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[b],r[y]);for(h=Math.max(v[0].length,h),l[b]=new Array(h),l[y]=new Array(h),c=0;c<h;c++){var _=0|v[0][c],w=0|v[1][c];l[b][c]=m[3*(_+1)+(w+1)],l[y][c]=0,d[b]=g}}else l[b]=o(r[b],f[b],this._bitLength),l[y]=o(r[y],f[y],this._bitLength),h=Math.max(l[b].length,h),h=Math.max(l[y].length,h)}var S=this.jpoint(null,null,null),x=this._wnafT4;for(s=h;s>=0;s--){for(var A=0;s>=0;){var E=!0;for(c=0;c<n;c++)x[c]=0|l[c][s],0!==x[c]&&(E=!1);if(!E)break;A++,s--}if(s>=0&&A++,S=S.dblp(A),s<0)break;for(c=0;c<n;c++){var I=x[c];0!==I&&(I>0?u=d[c][I-1>>1]:I<0&&(u=d[c][-I-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(s=0;s<n;s++)d[s]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},31573:(e,t,r)=>{"use strict";var n=r(39388),i=r(39404),o=r(56698),a=r(27456),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),f=i.redMul(s),d=a.redMul(o);return this.curve.point(c,u,d,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),f=s.redMul(c),d=o.redMul(c),l=a.redMul(s);return this.curve.point(u,f,l,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},22725:(e,t,r)=>{"use strict";var n=t;n.base=r(27456),n.short=r(21823),n.mont=r(89647),n.edwards=r(31573)},89647:(e,t,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(27456),a=r(39388);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},21823:(e,t,r)=>{"use strict";var n=r(39388),i=r(39404),o=r(56698),a=r(27456),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,u,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new i(1),b=new i(0),y=new i(0),g=new i(1),m=0;0!==l.cmpn(0);){var v=h.div(l);u=h.sub(v.mul(l)),f=y.sub(v.mul(p));var _=g.sub(v.mul(b));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++m)break;c=u,h=l,l=u,y=p,p=f,g=b,b=_}a=u.neg(),s=f;var w=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),d=n.redMul(u),l=c.redSqr().redIAdd(f).redISub(d).redISub(d),h=c.redMul(d.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(l,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(f).redISub(f),l=s.redMul(f.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,l,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),l=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),b=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),g=h.redMul(y);g=g.redIAdd(g).redISub(l);var m=u.redMul(s);t+1<e&&(c=c.redMul(l)),o=b,s=m,u=g}return this.curve.jpoint(o,u.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(l);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),l=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),f=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),l=a.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=s.redMul(d).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(s).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,l,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},83645:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),a=r(22725),s=r(39388).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(26500)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},9574:(e,t,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(39388),a=r(83645),s=r(15037),c=o.assert,u=r(53889),f=r(60872);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),l=0;;l++){var h=o.k?o.k(l):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==b.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new f({r:y,s:g,recoveryParam:m})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),s=t.r,u=t.s,d=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),b=u.mul(h).umod(o);return this.g.mulAdd(p,s,b)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},53889:(e,t,r)=>{"use strict";var n=r(39404),i=r(39388).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},60872:(e,t,r)=>{"use strict";var n=r(39404),i=r(39388),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),a=[48];return f(a,o.length),a=a.concat(o),i.encode(a,e)}},8289:(e,t,r)=>{"use strict";var n=r(77952),i=r(83645),o=r(39388),a=o.assert,s=o.parseBytes,c=r(42754),u=r(10263);function f(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},42754:(e,t,r)=>{"use strict";var n=r(39388),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},10263:(e,t,r)=>{"use strict";var n=r(39404),i=r(39388),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},26500:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},39388:(e,t,r)=>{"use strict";var n=t,i=r(39404),o=r(43349),a=r(64367);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,a=e.clone();for(n=0;n<i.length;n++){var s,c=a.andln(o-1);a.isOdd()?(s=c>(o>>1)-1?(o>>1)-c:c,a.isubn(s)):s=0,i[n]=s,a.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),s=1&u?3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:0,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},47108:(e,t,r)=>{"use strict";var n=r(56698),i=r(88276),o=r(66011),a=r(62802),s=r(56168);function c(e){s.call(this,"digest"),this._hash=e}n(c,s),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(a(e))}},20320:(e,t,r)=>{var n=r(88276);e.exports=function(e){return(new n).update(e).digest()}},83507:(e,t,r)=>{"use strict";var n=r(56698),i=r(41800),o=r(56168),a=r(92861).Buffer,s=r(20320),c=r(66011),u=r(62802),f=a.alloc(128);function d(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,f],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),s=0;s<r;s++)n[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(d,o),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new i(s,t):new d(e,t)}},41800:(e,t,r)=>{"use strict";var n=r(56698),i=r(92861).Buffer,o=r(56168),a=i.alloc(128),s=64;function c(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var r=this._ipad=i.allocUnsafe(s),n=this._opad=i.allocUnsafe(s),c=0;c<s;c++)r[c]=54^t[c],n[c]=92^t[c];this._hash=[r]}n(c,o),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},74945:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function b(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=u(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=f(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(l.prototype[Symbol.iterator]=l.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var r,n,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];w.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,r){return new Promise((function(n,o){var a=new v(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new w(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=l,e.Request=v,e.Response=w),t.Headers=l,t.Request=v,t.Response=w,t.fetch=x,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},91565:(e,t,r)=>{"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(53209),t.createHash=t.Hash=r(47108),t.createHmac=t.Hmac=r(83507);var n=r(55715),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=r(78396);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=r(30125);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var c=r(15380);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=r(20);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=r(61324);var f=r(97168);t.publicEncrypt=f.publicEncrypt,t.privateEncrypt=f.privateEncrypt,t.publicDecrypt=f.publicDecrypt,t.privateDecrypt=f.privateDecrypt;var d=r(76983);t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},82229:e=>{e.exports=function e(t){Object.freeze(t);var r="function"==typeof t,n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach((function(i){!n.call(t,i)||r&&("caller"===i||"callee"===i||"arguments"===i)||null===t[i]||"object"!=typeof t[i]&&"function"!=typeof t[i]||Object.isFrozen(t[i])||e(t[i])})),t}},29560:(e,t,r)=>{"use strict";t.utils=r(87626),t.Cipher=r(82808),t.DES=r(82211),t.CBC=r(3389),t.EDE=r(65279)},3389:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698),o={};function a(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var a=r[n];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,r,n);for(s=0;s<this.blockSize;s++)a[s]=r[n+s]}else{o._update.call(this,e,t,r,n);for(s=0;s<this.blockSize;s++)r[n+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},82808:(e,t,r)=>{"use strict";var n=r(43349);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},82211:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698),o=r(87626),a=r(82808);function s(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(c,a),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=u[a>>>1];r=o.r28shl(r,s),i=o.r28shl(i,s),o.pc2(r,i,e.keys,a)}},c.prototype._update=function(e,t,r,n){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(r,a,n),o.writeUInt32BE(r,s,n+4)},c.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,i){for(var a=t,s=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],f=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],f^=e.tmp[1];var d=o.substitute(u,f),l=s;s=(a^o.permute(d))>>>0,a=l}o.rip(s,a,n,i)},c.prototype._decrypt=function(e,t,r,n,i){for(var a=r,s=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],f=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],f^=e.tmp[1];var d=o.substitute(u,f),l=a;a=(s^o.permute(d))>>>0,s=l}o.rip(a,s,n,i)}},65279:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698),o=r(82808),a=r(82211);function s(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}function c(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},87626:(e,t)=>{"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}r[n+0]=i>>>0,r[n+1]=o>>>0},t.rip=function(e,t,r,n){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.pc1=function(e,t,r,n){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,a=0,s=r.length>>>1,c=0;c<s;c++)o<<=1,o|=e>>>r[c]&1;for(c=s;c<r.length;c++)a<<=1,a|=t>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,i=0;i<4;i++){r<<=4,r|=n[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){r<<=4,r|=n[256+64*i+(t>>>18-6*i&63)]}return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},15380:(e,t,r)=>{var n=r(48287).Buffer,i=r(4934),o=r(23241),a=r(14910);var s={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new n(o[e].prime,"hex"),r=new n(o[e].gen,"hex");return new a(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,o,c){return n.isBuffer(r)||void 0===s[r]?e(t,"binary",r,o):(r=r||"binary",c=c||"binary",o=o||new n([2]),n.isBuffer(o)||(o=new n(o,c)),"number"==typeof t?new a(i(t,o),o,!0):(n.isBuffer(t)||(t=new n(t,r)),new a(t,o,!0)))}},14910:(e,t,r)=>{var n=r(48287).Buffer,i=r(39404),o=new(r(52244)),a=new i(24),s=new i(11),c=new i(10),u=new i(3),f=new i(7),d=r(4934),l=r(53209);function h(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=y;var b={};function y(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function g(e,t){var r=new n(e.toArray());return t?r.toString(t):r}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in b)return b[n];var i,l=0;if(e.isEven()||!d.simpleSieve||!d.fermatTest(e)||!o.test(e))return l+=1,l+="02"===r||"05"===r?8:4,b[n]=l,l;switch(o.test(e.shrn(1))||(l+=2),r){case"02":e.mod(a).cmp(s)&&(l+=8);break;case"05":(i=e.mod(c)).cmp(u)&&i.cmp(f)&&(l+=8);break;default:l+=4}return b[n]=l,l}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new i(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),o=this.getPrime();if(r.length<o.length){var a=new n(o.length-r.length);a.fill(0),r=n.concat([a,r])}return r},y.prototype.getPublicKey=function(e){return g(this._pub,e)},y.prototype.getPrivateKey=function(e){return g(this._priv,e)},y.prototype.getPrime=function(e){return g(this.__prime,e)},y.prototype.getGenerator=function(e){return g(this._gen,e)},y.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}},4934:(e,t,r)=>{var n=r(53209);e.exports=m,m.simpleSieve=y,m.fermatTest=g;var i=r(39404),o=new i(24),a=new(r(52244)),s=new i(1),c=new i(2),u=new i(5),f=(new i(16),new i(8),new i(10)),d=new i(3),l=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function b(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function y(e){for(var t=b(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function g(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function m(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(s),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(f).cmp(d);)r.iadd(h)}else for(;r.mod(o).cmp(l);)r.iadd(h);if(y(p=r.shrn(1))&&y(r)&&g(p)&&g(r)&&a.test(p)&&a.test(r))return r}}},25170:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ECPairFactory=t.networks=void 0;const i=r(95249);t.networks=i;const o=r(90953),a=r(53209),s=r(57513),c=r(80709),u=o.typeforce.maybe(o.typeforce.compile({compressed:o.maybe(o.Boolean),network:o.maybe(o.Network)}));t.ECPairFactory=function(e){function t(t,r){if(o.typeforce(o.Buffer256bit,t),!e.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return o.typeforce(u,r),new f(t,void 0,r)}function r(t,r){return o.typeforce(e.isPoint,t),o.typeforce(u,r),new f(void 0,t,r)}(0,c.testEcc)(e);class f{__D;__Q;compressed;network;lowR;constructor(t,r,o){this.__D=t,this.__Q=r,this.lowR=!1,void 0===o&&(o={}),this.compressed=void 0===o.compressed||o.compressed,this.network=o.network||i.bitcoin,void 0!==r&&(this.__Q=n.from(e.pointCompress(r,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const t=e.pointFromScalar(this.__D,this.compressed);this.__Q=n.from(t)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return s.encode(this.network.wif,this.__D,this.compressed)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}sign(t,r){if(!this.__D)throw new Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return n.from(e.sign(t,this.__D));{let r=e.sign(t,this.__D);const i=n.alloc(32,0);let o=0;for(;r[0]>127;)o++,i.writeUIntLE(o,0,6),r=e.sign(t,this.__D,i);return n.from(r)}}signSchnorr(t){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return n.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}tweakFromPublicKey(t){const i=32===(o=this.publicKey).length?o:o.slice(1,33);var o;const a=e.xOnlyPointAddTweak(i,t);if(!a||null===a.xOnlyPubkey)throw new Error("Cannot tweak public key!");const s=n.from([0===a.parity?2:3]);return r(n.concat([s,a.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(r){const i=3===this.publicKey[0]||4===this.publicKey[0]&&!(1&~this.publicKey[64])?e.privateNegate(this.privateKey):this.privateKey,o=e.privateAdd(i,r);if(!o)throw new Error("Invalid tweaked private key!");return t(n.from(o),{network:this.network,compressed:this.compressed})}}return{isPoint:function(t){return e.isPoint(t)},fromPrivateKey:t,fromPublicKey:r,fromWIF:function(e,r){const n=s.decode(e),a=n.version;if(o.Array(r)){if(!(r=r.filter((e=>a===e.wif)).pop()))throw new Error("Unknown network version")}else if(r=r||i.bitcoin,a!==r.wif)throw new Error("Invalid network version");return t(n.privateKey,{compressed:n.compressed,network:r})},makeRandom:function(r){o.typeforce(u,r),void 0===r&&(r={});const n=r.rng||a;let i;do{i=n(32),o.typeforce(o.Buffer256bit,i)}while(!e.isPrivate(i));return t(i,r)}}}},38700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networks=t.ECPairFactory=t.default=void 0;var n=r(25170);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.ECPairFactory}}),Object.defineProperty(t,"ECPairFactory",{enumerable:!0,get:function(){return n.ECPairFactory}}),Object.defineProperty(t,"networks",{enumerable:!0,get:function(){return n.networks}})},95249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},80709:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testEcc=void 0;const i=e=>n.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}t.testEcc=function(e){o(e.isPoint(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(!e.isPoint(i("030000000000000000000000000000000000000000000000000000000000000005"))),o(e.isPrivate(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(!e.isPrivate(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),o(n.from(e.privateAdd(i("0000000000000000000000000000000000000000000000000000000000000001"),i("0000000000000000000000000000000000000000000000000000000000000000"))).equals(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(null===e.privateAdd(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateAdd(i("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),i("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(i("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),o(n.from(e.privateNegate(i("0000000000000000000000000000000000000000000000000000000000000001"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(e.privateNegate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateNegate(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointFromScalar(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),o(null===e.xOnlyPointAddTweak(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(i("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),i("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));o(n.from(t.xOnlyPubkey).equals(i("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(i("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),i("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),o(n.from(t.xOnlyPubkey).equals(i("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===t.parity),o(n.from(e.sign(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),o(e.verify(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&o(n.from(e.signSchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),i("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&o(e.verifySchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},90953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=r(8676),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe},86729:(e,t,r)=>{"use strict";var n=t;n.version=r(1636).rE,n.utils=r(47011),n.rand=r(15037),n.curve=r(894),n.curves=r(60480),n.ec=r(57447),n.eddsa=r(8650)},36677:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var f=a+r.step-1;f>=a;f--)c=(c<<1)+n[f];u.push(c)}for(var d=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?l=l.mixedAdd(r.points[a]):c===-h&&(l=l.mixedAdd(r.points[a].neg()));d=d.add(l)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&0===a[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var d=a[u];s(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,u,f=this._wnafT1,d=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(u=t[s])._getNAFPoints(e);f[s]=p.wnd,d[s]=p.points}for(s=n-1;s>=1;s-=2){var b=s-1,y=s;if(1===f[b]&&1===f[y]){var g=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(g[1]=t[b].add(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].add(t[y].neg())):(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[b],r[y]);for(h=Math.max(v[0].length,h),l[b]=new Array(h),l[y]=new Array(h),c=0;c<h;c++){var _=0|v[0][c],w=0|v[1][c];l[b][c]=m[3*(_+1)+(w+1)],l[y][c]=0,d[b]=g}}else l[b]=o(r[b],f[b],this._bitLength),l[y]=o(r[y],f[y],this._bitLength),h=Math.max(l[b].length,h),h=Math.max(l[y].length,h)}var S=this.jpoint(null,null,null),x=this._wnafT4;for(s=h;s>=0;s--){for(var A=0;s>=0;){var E=!0;for(c=0;c<n;c++)x[c]=0|l[c][s],0!==x[c]&&(E=!1);if(!E)break;A++,s--}if(s>=0&&A++,S=S.dblp(A),s<0)break;for(c=0;c<n;c++){var I=x[c];0!==I&&(I>0?u=d[c][I-1>>1]:I<0&&(u=d[c][-I-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(s=0;s<n;s++)d[s]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},31298:(e,t,r)=>{"use strict";var n=r(47011),i=r(39404),o=r(56698),a=r(36677),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),f=i.redMul(s),d=a.redMul(o);return this.curve.point(c,u,d,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),f=s.redMul(c),d=o.redMul(c),l=a.redMul(s);return this.curve.point(u,f,l,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},894:(e,t,r)=>{"use strict";var n=t;n.base=r(36677),n.short=r(39188),n.mont=r(30370),n.edwards=r(31298)},30370:(e,t,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(36677),a=r(47011);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(e,t,r)=>{"use strict";var n=r(47011),i=r(39404),o=r(56698),a=r(36677),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,u,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new i(1),b=new i(0),y=new i(0),g=new i(1),m=0;0!==l.cmpn(0);){var v=h.div(l);u=h.sub(v.mul(l)),f=y.sub(v.mul(p));var _=g.sub(v.mul(b));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++m)break;c=u,h=l,l=u,y=p,p=f,g=b,b=_}a=u.neg(),s=f;var w=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),d=n.redMul(u),l=c.redSqr().redIAdd(f).redISub(d).redISub(d),h=c.redMul(d.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(l,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(f).redISub(f),l=s.redMul(f.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,l,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),l=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),b=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),g=h.redMul(y);g=g.redIAdd(g).redISub(l);var m=u.redMul(s);t+1<e&&(c=c.redMul(l)),o=b,s=m,u=g}return this.curve.jpoint(o,u.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(l);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),l=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),f=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),l=a.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=s.redMul(d).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(s).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,l,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},60480:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),a=r(894),s=r(47011).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(74011)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},57447:(e,t,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(47011),a=r(60480),s=r(15037),c=o.assert,u=r(61200),f=r(28545);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),l=0;;l++){var h=o.k?o.k(l):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==b.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new f({r:y,s:g,recoveryParam:m})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),s=t.r,u=t.s,d=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),b=u.mul(h).umod(o);return this.g.mulAdd(p,s,b)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},61200:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var d=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),a=[48];return f(a,o.length),a=a.concat(o),i.encode(a,e)}},8650:(e,t,r)=>{"use strict";var n=r(77952),i=r(60480),o=r(47011),a=o.assert,s=o.parseBytes,c=r(46661),u=r(90220);function f(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=s(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},46661:(e,t,r)=>{"use strict";var n=r(47011),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},90220:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},74011:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(e,t,r)=>{"use strict";var n=t,i=r(39404),o=r(43349),a=r(64367);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<n.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),s=1&u?3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:0,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},37007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}b(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&b(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,o,a,u;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=a.length,u=f,console&&console.warn&&console.warn(u)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function l(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function b(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,f=p(c,u);for(r=0;r<u;++r)n(f[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return l(this,e,!0)},o.prototype.rawListeners=function(e){return l(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},68078:(e,t,r)=>{var n=r(92861).Buffer,i=r(88276);e.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,s=n.alloc(a),c=n.alloc(o||0),u=n.alloc(0);a>0||o>0;){var f=new i;f.update(u),f.update(e),t&&f.update(t),u=f.digest();var d=0;if(a>0){var l=s.length-a;d=Math.min(a,u.length),u.copy(s,l,0,d),a-=d}if(d<u.length&&o>0){var h=c.length-o,p=Math.min(o,u.length-d);u.copy(c,h,d,d+p),o-=p}}return u.fill(0),{key:s,iv:c}}},77952:(e,t,r)=>{var n=t;n.utils=r(67426),n.common=r(66166),n.sha=r(46229),n.ripemd=r(46784),n.hmac=r(28948),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},66166:(e,t,r)=>{"use strict";var n=r(67426),i=r(43349);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},28948:(e,t,r)=>{"use strict";var n=r(67426),i=r(43349);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},46784:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=n.rotl32,a=n.sum32,s=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,u),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],f=this.h[4],m=r,v=n,_=i,w=u,S=f,x=0;x<80;x++){var A=a(o(c(r,d(x,n,i,u),e[p[x]+t],l(x)),y[x]),f);r=f,f=u,u=o(i,10),i=n,n=A,A=a(o(c(m,d(79-x,v,_,w),e[b[x]+t],h(x)),g[x]),S),m=S,S=w,w=o(_,10),_=v,v=A}A=s(this.h[1],i,w),this.h[1]=s(this.h[2],u,S),this.h[2]=s(this.h[3],f,m),this.h[3]=s(this.h[4],r,v),this.h[4]=s(this.h[0],n,_),this.h[0]=A},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(e,t,r)=>{"use strict";t.sha1=r(43917),t.sha224=r(47714),t.sha256=r(2287),t.sha384=r(21911),t.sha512=r(57766)},43917:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(66225),a=n.rotl32,s=n.sum32,c=n.sum32_5,u=o.ft_1,f=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,f),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],l=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=c(a(i,5),u(p,o,f,l),h,r[n],d[p]);h=l,l=f,f=a(o,30),o=i,i=b}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],f),this.h[3]=s(this.h[3],l),this.h[4]=s(this.h[4],h)},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},47714:(e,t,r)=>{"use strict";var n=r(67426),i=r(2287);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},2287:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(66225),a=r(43349),s=n.sum32,c=n.sum32_4,u=n.sum32_5,f=o.ch32,d=o.maj32,l=o.s0_256,h=o.s1_256,p=o.g0_256,b=o.g1_256,y=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(m,y),e.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],g=this.h[3],m=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var S=u(w,h(m),f(m,v,_),this.k[n],r[n]),x=s(l(i),d(i,o,y));w=_,_=v,v=m,m=s(g,S),g=y,y=o,o=i,i=s(S,x)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],y),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],m),this.h[5]=s(this.h[5],v),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},m.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},21911:(e,t,r)=>{"use strict";var n=r(67426),i=r(57766);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},57766:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(43349),a=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,f=n.sum64,d=n.sum64_hi,l=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,y=n.sum64_5_lo,g=i.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function _(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function x(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function A(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,g),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=O(r[n-4],r[n-3]),o=P(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=T(r[n-30],r[n-29]),u=C(r[n-30],r[n-29]),f=r[n-32],d=r[n-31];r[n]=h(i,o,a,s,c,u,f,d),r[n+1]=p(i,o,a,s,c,u,f,d)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],m=this.h[9],v=this.h[10],T=this.h[11],C=this.h[12],O=this.h[13],P=this.h[14],M=this.h[15];o(this.k.length===r.length);for(var B=0;B<r.length;B+=2){var D=P,R=M,L=I(g,m),N=k(g,m),j=_(g,m,v,T,C),U=w(g,m,v,T,C,O),H=this.k[B],F=this.k[B+1],z=r[B],q=r[B+1],K=b(D,R,L,N,j,U,H,F,z,q),V=y(D,R,L,N,j,U,H,F,z,q);D=A(n,i),R=E(n,i),L=S(n,i,a,s,c),N=x(n,i,a,s,c,u);var $=d(D,R,L,N),W=l(D,R,L,N);P=C,M=O,C=v,O=T,v=g,T=m,g=d(h,p,K,V),m=l(p,p,K,V),h=c,p=u,c=a,u=s,a=n,s=i,n=d(K,V,$,W),i=l(K,V,$,W)}f(this.h,0,n,i),f(this.h,2,a,s),f(this.h,4,c,u),f(this.h,6,h,p),f(this.h,8,g,m),f(this.h,10,v,T),f(this.h,12,C,O),f(this.h,14,P,M)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},66225:(e,t,r)=>{"use strict";var n=r(67426).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?a(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},67426:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=a(i)),r+=c(i.toString(16))}return r},t.zero2=s,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var a=new Array(o/4),s=0,c=t;s<a.length;s++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[s]=u>>>0}return a},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,a,s){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,a,s,c,u){var f=0,d=t;return f+=(d=d+n>>>0)<t?1:0,f+=(d=d+o>>>0)<o?1:0,f+=(d=d+s>>>0)<s?1:0,e+r+i+a+c+(f+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,a,s,c,u){return t+n+o+s+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},32723:(e,t,r)=>{"use strict";var n=r(77952),i=r(64367),o=r(43349);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},251:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,f=-7,d=r?i-1:0,l=r?-1:1,h=e[t+d];for(d+=l,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+d],d+=l,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+d],d+=l,f-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,f=(1<<u)-1,d=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?l/c:l*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=f?(s=0,a=f):a+d>=1?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*b}},49568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Collection:()=>E,Iterable:()=>Tn,List:()=>cr,Map:()=>jt,OrderedMap:()=>Sr,OrderedSet:()=>fn,PairSorting:()=>bn,Range:()=>$r,Record:()=>yn,Repeat:()=>xn,Seq:()=>X,Set:()=>Ur,Stack:()=>Tr,default:()=>Cn,fromJS:()=>An,get:()=>ct,getIn:()=>Wr,has:()=>st,hasIn:()=>Qr,hash:()=>ge,is:()=>he,isAssociative:()=>A,isCollection:()=>v,isImmutable:()=>B,isIndexed:()=>x,isKeyed:()=>w,isList:()=>sr,isMap:()=>fe,isOrdered:()=>R,isOrderedMap:()=>de,isOrderedSet:()=>Rr,isPlainObject:()=>it,isRecord:()=>M,isSeq:()=>O,isSet:()=>Dr,isStack:()=>kr,isValueObject:()=>le,merge:()=>At,mergeDeep:()=>It,mergeDeepWith:()=>kt,mergeWith:()=>Et,remove:()=>ft,removeIn:()=>yt,set:()=>dt,setIn:()=>pt,update:()=>mt,updateIn:()=>lt,version:()=>kn});var n="delete",i=5,o=1<<i,a=o-1,s={};function c(e){e&&(e.value=!0)}function u(){}function f(e){return void 0===e.size&&(e.size=e.__iterate(l)),e.size}function d(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?f(e)+t:t}function l(){return!0}function h(e,t,r){return(0===e&&!g(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function p(e,t){return y(e,t,0)}function b(e,t){return y(e,t,t)}function y(e,t,r){return void 0===e?r:g(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function g(e){return e<0||0===e&&1/e==-1/0}var m="@@__IMMUTABLE_ITERABLE__@@";function v(e){return Boolean(e&&e[m])}var _="@@__IMMUTABLE_KEYED__@@";function w(e){return Boolean(e&&e[_])}var S="@@__IMMUTABLE_INDEXED__@@";function x(e){return Boolean(e&&e[S])}function A(e){return w(e)||x(e)}var E=function(e){return v(e)?e:X(e)},I=function(e){function t(e){return w(e)?e:J(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(E),k=function(e){function t(e){return x(e)?e:Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(E),T=function(e){function t(e){return v(e)&&!A(e)?e:ee(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(E);E.Keyed=I,E.Indexed=k,E.Set=T;var C="@@__IMMUTABLE_SEQ__@@";function O(e){return Boolean(e&&e[C])}var P="@@__IMMUTABLE_RECORD__@@";function M(e){return Boolean(e&&e[P])}function B(e){return v(e)||M(e)}var D="@@__IMMUTABLE_ORDERED__@@";function R(e){return Boolean(e&&e[D])}var L=0,N=1,j=2,U="function"==typeof Symbol&&Symbol.iterator,H="@@iterator",F=U||H,z=function(e){this.next=e};function q(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function K(){return{value:void 0,done:!0}}function V(e){return!!Array.isArray(e)||!!G(e)}function $(e){return e&&"function"==typeof e.next}function W(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(U&&e[U]||e[H]);if("function"==typeof t)return t}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=L,z.VALUES=N,z.ENTRIES=j,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[F]=function(){return this};var Q=Object.prototype.hasOwnProperty;function Y(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var X=function(e){function t(e){return null==e?oe():B(e)?e.toSeq():function(e){var t=ce(e);if(t)return(n=G(r=e))&&n===r.entries?t.fromEntrySeq():function(e){var t=G(e);return t&&t===e.keys}(e)?t.toSetSeq():t;var r,n;if("object"==typeof e)return new re(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[t?n-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,i=0;return new z((function(){if(i===n)return{value:void 0,done:!0};var o=r[t?n-++i:i++];return q(e,o[0],o[1])}))}return this.__iteratorUncached(e,t)},t}(E),J=function(e){function t(e){return null==e?oe().toKeyedSeq():v(e)?w(e)?e.toSeq():e.fromEntrySeq():M(e)?e.toSeq():ae(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(X),Z=function(e){function t(e){return null==e?oe():v(e)?w(e)?e.entrySeq():e.toIndexedSeq():M(e)?e.toSeq().entrySeq():se(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(X),ee=function(e){function t(e){return(v(e)&&!A(e)?e:Z(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(X);X.isSeq=O,X.Keyed=J,X.Set=ee,X.Indexed=Z,X.prototype[C]=!0;var te=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[d(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,i=0;i!==n;){var o=t?n-++i:i++;if(!1===e(r[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,i=0;return new z((function(){if(i===n)return{value:void 0,done:!0};var o=t?n-++i:i++;return q(e,o,r[o])}))},t}(Z),re=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return Q.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var a=n[t?i-++o:o++];if(!1===e(r[a],a,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length,o=0;return new z((function(){if(o===i)return{value:void 0,done:!0};var a=n[t?i-++o:o++];return q(e,a,r[a])}))},t}(J);re.prototype[D]=!0;var ne,ie=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=W(this._collection),n=0;if($(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=W(this._collection);if(!$(r))return new z(K);var n=0;return new z((function(){var t=r.next();return t.done?t:q(e,n++,t.value)}))},t}(Z);function oe(){return ne||(ne=new te([]))}function ae(e){var t=ce(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new re(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function se(e){var t=ce(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ce(e){return Y(e)?new te(e):V(e)?new ie(e):void 0}var ue="@@__IMMUTABLE_MAP__@@";function fe(e){return Boolean(e&&e[ue])}function de(e){return fe(e)&&R(e)}function le(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function he(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(le(e)&&le(t)&&e.equals(t))}var pe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function be(e){return e>>>1&1073741824|3221225471&e}var ye=Object.prototype.valueOf;function ge(e){if(null==e)return me(e);if("function"==typeof e.hashCode)return be(e.hashCode(e));var t,r=(t=e).valueOf!==ye&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==r)return me(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return be(t)}(r);case"string":return r.length>Te?function(e){var t=Pe[e];void 0===t&&(t=ve(e),Oe===Ce&&(Oe=0,Pe={}),Oe++,Pe[e]=t);return t}(r):ve(r);case"object":case"function":return function(e){var t;if(Ae&&void 0!==(t=xe.get(e)))return t;if(t=e[ke],void 0!==t)return t;if(!we){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[ke]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=Se(),Ae)xe.set(e,t);else{if(void 0!==_e&&!1===_e(e))throw new Error("Non-extensible objects are not allowed as keys.");if(we)Object.defineProperty(e,ke,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[ke]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[ke]=t}}return t}(r);case"symbol":return function(e){var t=Ee[e];if(void 0!==t)return t;return t=Se(),Ee[e]=t,t}(r);default:if("function"==typeof r.toString)return ve(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function me(e){return null===e?1108378658:1108378659}function ve(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return be(t)}var _e=Object.isExtensible,we=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Se(){var e=++Ie;return 1073741824&Ie&&(Ie=0),e}var xe,Ae="function"==typeof WeakMap;Ae&&(xe=new WeakMap);var Ee=Object.create(null),Ie=0,ke="__immutablehash__";"function"==typeof Symbol&&(ke=Symbol(ke));var Te=16,Ce=255,Oe=0,Pe={},Me=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=je(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=Ne(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(J);Me.prototype[D]=!0;var Be=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&f(this),this._iter.__iterate((function(i){return e(i,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(N,t),i=0;return t&&f(this),new z((function(){var o=n.next();return o.done?o:q(e,t?r.size-++i:i++,o.value,o)}))},t}(Z),De=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(N,t);return new z((function(){var t=r.next();return t.done?t:q(e,t.value,t.value,t)}))},t}(ee),Re=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){Ge(t);var n=v(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(N,t);return new z((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Ge(n);var i=v(n);return q(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}}))},t}(J);function Le(e){var t=Ye(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Xe,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===j){var n=e.__iterator(t,r);return new z((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===N?L:N,r)},t}function Ne(e,t,r){var n=Ye(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var o=e.get(n,s);return o===s?i:t.call(r,o,n,e)},n.__iterateUncached=function(n,i){var o=this;return e.__iterate((function(e,i,a){return!1!==n(t.call(r,e,i,a),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=e.__iterator(j,i);return new z((function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return q(n,s,t.call(r,a[1],s,e),i)}))},n}function je(e,t){var r=this,n=Ye(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Le(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=Xe,n.__iterate=function(r,n){var i=this,o=0;return n&&f(e),e.__iterate((function(e,a){return r(e,t?a:n?i.size-++o:o++,i)}),!n)},n.__iterator=function(n,i){var o=0;i&&f(e);var a=e.__iterator(j,!i);return new z((function(){var e=a.next();if(e.done)return e;var s=e.value;return q(n,t?s[0]:i?r.size-++o:o++,s[1],e)}))},n}function Ue(e,t,r,n){var i=Ye(e);return n&&(i.has=function(n){var i=e.get(n,s);return i!==s&&!!t.call(r,i,n,e)},i.get=function(n,i){var o=e.get(n,s);return o!==s&&t.call(r,o,n,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate((function(e,o,c){if(t.call(r,e,o,c))return s++,i(e,n?o:s-1,a)}),o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(j,o),s=0;return new z((function(){for(;;){var o=a.next();if(o.done)return o;var c=o.value,u=c[0],f=c[1];if(t.call(r,f,u,e))return q(i,n?u:s++,f,o)}}))},i}function He(e,t,r,n){var i=e.size;if(h(t,r,i))return e;var o=p(t,i),a=b(r,i);if(o!=o||a!=a)return He(e.toSeq().cacheResult(),t,r,n);var s,c=a-o;c==c&&(s=c<0?0:c);var u=Ye(e);return u.size=0===s?s:e.size&&s||void 0,!n&&O(e)&&s>=0&&(u.get=function(t,r){return(t=d(this,t))>=0&&t<s?e.get(t+o,r):r}),u.__iterateUncached=function(t,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,c=!0,u=0;return e.__iterate((function(e,r){if(!c||!(c=a++<o))return u++,!1!==t(e,n?r:u-1,i)&&u!==s})),u},u.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);if(0===s)return new z(K);var i=e.__iterator(t,r),a=0,c=0;return new z((function(){for(;a++<o;)i.next();if(++c>s)return{value:void 0,done:!0};var e=i.next();return n||t===N||e.done?e:q(t,c-1,t===L?void 0:e.value[1],e)}))},u}function Fe(e,t,r,n){var i=Ye(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,c=0;return e.__iterate((function(e,o,u){if(!s||!(s=t.call(r,e,o,u)))return c++,i(e,n?o:c-1,a)})),c},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(j,o),c=!0,u=0;return new z((function(){var e,o,f;do{if((e=s.next()).done)return n||i===N?e:q(i,u++,i===L?void 0:e.value[1],e);var d=e.value;o=d[0],f=d[1],c&&(c=t.call(r,f,o,a))}while(c);return i===j?e:q(i,o,f,e)}))},i}function ze(e,t,r){var n=Ye(e);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var a=0,s=!1;return function e(c,u){c.__iterate((function(o,c){return(!t||u<t)&&v(o)?e(o,u+1):(a++,!1===i(o,r?c:a-1,n)&&(s=!0)),!s}),o)}(e,0),a},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=e.__iterator(n,i),a=[],s=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var c=e.value;if(n===j&&(c=c[1]),t&&!(a.length<t)||!v(c))return r?e:q(n,s++,c,e);a.push(o),o=c.__iterator(n,i)}else o=a.pop()}return{value:void 0,done:!0}}))},n}function qe(e,t,r){t||(t=Je);var n=w(e),i=0,o=e.toSeq().map((function(t,n){return[n,t,i++,r?r(t,n,e):t]})).valueSeq().toArray();return o.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),n?J(o):x(e)?Z(o):ee(o)}function Ke(e,t,r){if(t||(t=Je),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return Ve(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return Ve(t,e,r)?r:e}))}function Ve(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function $e(e,t,r,n){var i=Ye(e),o=new te(r).map((function(e){return e.size}));return i.size=n?o.max():o.min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(N,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=E(e),W(i?e.reverse():e)})),a=0,s=!1;return new z((function(){var r;return s||(r=o.map((function(e){return e.next()})),s=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),s?{value:void 0,done:!0}:q(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},i}function We(e,t){return e===t?e:O(e)?t:e.constructor(t)}function Ge(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Qe(e){return w(e)?I:x(e)?k:T}function Ye(e){return Object.create((w(e)?J:x(e)?Z:ee).prototype)}function Xe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):X.prototype.cacheResult.call(this)}function Je(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ze(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function et(e,t){if(!e)throw new Error(t)}function tt(e){et(e!==1/0,"Cannot perform this action with an infinite size.")}function rt(e){if(Y(e)&&"string"!=typeof e)return e;if(R(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Be.prototype.cacheResult=Me.prototype.cacheResult=De.prototype.cacheResult=Re.prototype.cacheResult=Xe;var nt=Object.prototype.toString;function it(e){if(!e||"object"!=typeof e||"[object Object]"!==nt.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function ot(e){return"object"==typeof e&&(B(e)||Array.isArray(e)||it(e))}function at(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function st(e,t){return B(e)?e.has(t):ot(e)&&Q.call(e,t)}function ct(e,t,r){return B(e)?e.get(t,r):st(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function ut(e){if(Array.isArray(e))return Ze(e);var t={};for(var r in e)Q.call(e,r)&&(t[r]=e[r]);return t}function ft(e,t){if(!ot(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(B(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Q.call(e,t))return e;var r=ut(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function dt(e,t,r){if(!ot(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(B(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Q.call(e,t)&&r===e[t])return e;var n=ut(e);return n[t]=r,n}function lt(e,t,r,n){n||(n=r,r=void 0);var i=ht(B(e),e,rt(t),0,r,n);return i===s?r:i}function ht(e,t,r,n,i,o){var a=t===s;if(n===r.length){var c=a?i:t,u=o(c);return u===c?t:u}if(!a&&!ot(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(at)+"]: "+t);var f=r[n],d=a?s:ct(t,f,s),l=ht(d===s?e:B(d),d,r,n+1,i,o);return l===d?t:l===s?ft(t,f):dt(a?e?Yt():{}:t,f,l)}function pt(e,t,r){return lt(e,t,s,(function(){return r}))}function bt(e,t){return pt(this,e,t)}function yt(e,t){return lt(e,t,(function(){return s}))}function gt(e){return yt(this,e)}function mt(e,t,r,n){return lt(e,[t],r,n)}function vt(e,t,r){return 1===arguments.length?e(this):mt(this,e,t,r)}function _t(e,t,r){return lt(this,e,t,r)}function wt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return xt(this,e)}function St(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return xt(this,t,e)}function xt(e,t,r){for(var n=[],i=0;i<t.length;i++){var o=I(t[i]);0!==o.size&&n.push(o)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){mt(e,n,s,(function(e){return e===s?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},i=0;i<n.length;i++)n[i].forEach(t)})):e.constructor(n[0])}function At(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ct(e,t)}function Et(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Ct(t,r,e)}function It(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Tt(e,t)}function kt(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Tt(t,r,e)}function Tt(e,t,r){return Ct(e,t,function(e){function t(r,n,i){return ot(r)&&ot(n)&&(o=n,a=X(r),s=X(o),x(a)===x(s)&&w(a)===w(s))?Ct(r,[n],t):e?e(r,n,i):n;var o,a,s}return t}(r))}function Ct(e,t,r){if(!ot(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(B(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,o=n?k:I,a=n?function(t){i===e&&(i=ut(i)),i.push(t)}:function(t,n){var o=Q.call(i,n),a=o&&r?r(i[n],t,n):t;o&&a===i[n]||(i===e&&(i=ut(i)),i[n]=a)},s=0;s<t.length;s++)o(t[s]).forEach(a);return i}function Ot(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Tt(this,e)}function Pt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Tt(this,t,e)}function Mt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return lt(this,e,Yt(),(function(e){return Ct(e,t)}))}function Bt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return lt(this,e,Yt(),(function(e){return Tt(e,t)}))}function Dt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Rt(){return this.__ownerID?this:this.__ensureOwner(new u)}function Lt(){return this.__ensureOwner()}function Nt(){return this.__altered}var jt=function(e){function t(t){return null==t?Yt():fe(t)&&!R(t)?t:Yt().withMutations((function(r){var n=e(t);tt(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Yt().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Xt(this,e,t)},t.prototype.remove=function(e){return Xt(this,e,s)},t.prototype.deleteAll=function(e){var t=E(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Yt()},t.prototype.sort=function(e){return Sr(qe(this,e))},t.prototype.sortBy=function(e,t){return Sr(qe(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(i,o){n.set(o,e.call(t,i,o,r))}))}))},t.prototype.__iterator=function(e,t){return new $t(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qt(this.size,this._root,e,this.__hash):0===this.size?Yt():(this.__ownerID=e,this.__altered=!1,this)},t}(I);jt.isMap=fe;var Ut=jt.prototype;Ut[ue]=!0,Ut[n]=Ut.remove,Ut.removeAll=Ut.deleteAll,Ut.setIn=bt,Ut.removeIn=Ut.deleteIn=gt,Ut.update=vt,Ut.updateIn=_t,Ut.merge=Ut.concat=wt,Ut.mergeWith=St,Ut.mergeDeep=Ot,Ut.mergeDeepWith=Pt,Ut.mergeIn=Mt,Ut.mergeDeepIn=Bt,Ut.withMutations=Dt,Ut.wasAltered=Nt,Ut.asImmutable=Lt,Ut["@@transducer/init"]=Ut.asMutable=Rt,Ut["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Ut["@@transducer/result"]=function(e){return e.asImmutable()};var Ht=function(e,t){this.ownerID=e,this.entries=t};Ht.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(he(r,i[o][0]))return i[o][1];return n},Ht.prototype.update=function(e,t,r,n,i,o,a){for(var f=i===s,d=this.entries,l=0,h=d.length;l<h&&!he(n,d[l][0]);l++);var p=l<h;if(p?d[l][1]===i:f)return this;if(c(a),(f||!p)&&c(o),!f||1!==d.length){if(!p&&!f&&d.length>=nr)return function(e,t,r,n){e||(e=new u);for(var i=new Kt(e,ge(r),[r,n]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,d,n,i);var b=e&&e===this.ownerID,y=b?d:Ze(d);return p?f?l===h-1?y.pop():y[l]=y.pop():y[l]=[n,i]:y.push([n,i]),b?(this.entries=y,this):new Ht(e,y)}};var Ft=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};Ft.prototype.get=function(e,t,r,n){void 0===t&&(t=ge(r));var o=1<<((0===e?t:t>>>e)&a),s=this.bitmap;return s&o?this.nodes[tr(s&o-1)].get(e+i,t,r,n):n},Ft.prototype.update=function(e,t,r,n,c,u,f){void 0===r&&(r=ge(n));var d=(0===t?r:r>>>t)&a,l=1<<d,h=this.bitmap,p=!!(h&l);if(!p&&c===s)return this;var b=tr(h&l-1),y=this.nodes,g=p?y[b]:void 0,m=Jt(g,e,t+i,r,n,c,u,f);if(m===g)return this;if(!p&&m&&y.length>=ir)return function(e,t,r,n,i){for(var a=0,s=new Array(o),c=0;0!==r;c++,r>>>=1)s[c]=1&r?t[a++]:void 0;return s[n]=i,new zt(e,a+1,s)}(e,y,h,d,m);if(p&&!m&&2===y.length&&Zt(y[1^b]))return y[1^b];if(p&&m&&1===y.length&&Zt(m))return m;var v=e&&e===this.ownerID,_=p?m?h:h^l:h|l,w=p?m?rr(y,b,m,v):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,a=0;a<n;a++)a===t&&(o=1),i[a]=e[a+o];return i}(y,b,v):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=r,a=-1):o[s]=e[s+a];return o}(y,b,m,v);return v?(this.bitmap=_,this.nodes=w,this):new Ft(e,_,w)};var zt=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};zt.prototype.get=function(e,t,r,n){void 0===t&&(t=ge(r));var o=(0===e?t:t>>>e)&a,s=this.nodes[o];return s?s.get(e+i,t,r,n):n},zt.prototype.update=function(e,t,r,n,o,c,u){void 0===r&&(r=ge(n));var f=(0===t?r:r>>>t)&a,d=o===s,l=this.nodes,h=l[f];if(d&&!h)return this;var p=Jt(h,e,t+i,r,n,o,c,u);if(p===h)return this;var b=this.count;if(h){if(!p&&--b<or)return function(e,t,r,n){for(var i=0,o=0,a=new Array(r),s=0,c=1,u=t.length;s<u;s++,c<<=1){var f=t[s];void 0!==f&&s!==n&&(i|=c,a[o++]=f)}return new Ft(e,i,a)}(e,l,b,f)}else b++;var y=e&&e===this.ownerID,g=rr(l,f,p,y);return y?(this.count=b,this.nodes=g,this):new zt(e,b,g)};var qt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};qt.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(he(r,i[o][0]))return i[o][1];return n},qt.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=ge(n));var u=i===s;if(r!==this.keyHash)return u?this:(c(a),c(o),er(this,e,t,r,[n,i]));for(var f=this.entries,d=0,l=f.length;d<l&&!he(n,f[d][0]);d++);var h=d<l;if(h?f[d][1]===i:u)return this;if(c(a),(u||!h)&&c(o),u&&2===l)return new Kt(e,this.keyHash,f[1^d]);var p=e&&e===this.ownerID,b=p?f:Ze(f);return h?u?d===l-1?b.pop():b[d]=b.pop():b[d]=[n,i]:b.push([n,i]),p?(this.entries=b,this):new qt(e,this.keyHash,b)};var Kt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};Kt.prototype.get=function(e,t,r,n){return he(r,this.entry[0])?this.entry[1]:n},Kt.prototype.update=function(e,t,r,n,i,o,a){var u=i===s,f=he(n,this.entry[0]);return(f?i===this.entry[1]:u)?this:(c(a),u?void c(o):f?e&&e===this.ownerID?(this.entry[1]=i,this):new Kt(e,this.keyHash,[n,i]):(c(o),er(this,e,t,ge(n),[n,i])))},Ht.prototype.iterate=qt.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Ft.prototype.iterate=zt.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&!1===o.iterate(e,t))return!1}},Kt.prototype.iterate=function(e,t){return e(this.entry)};var Vt,$t=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Gt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,i=void 0;if(r.entry){if(0===n)return Wt(e,r.entry)}else if(r.entries){if(n<=(i=r.entries.length-1))return Wt(e,r.entries[this._reverse?i-n:n])}else if(n<=(i=r.nodes.length-1)){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return Wt(e,o.entry);t=this._stack=Gt(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(z);function Wt(e,t){return q(e,t[0],t[1])}function Gt(e,t){return{node:e,index:0,__prev:t}}function Qt(e,t,r,n){var i=Object.create(Ut);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Yt(){return Vt||(Vt=Qt(0))}function Xt(e,t,r){var n,i;if(e._root){var o={value:!1},a={value:!1};if(n=Jt(e._root,e.__ownerID,0,void 0,t,r,o,a),!a.value)return e;i=e.size+(o.value?r===s?-1:1:0)}else{if(r===s)return e;i=1,n=new Ht(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Qt(i,n):Yt()}function Jt(e,t,r,n,i,o,a,u){return e?e.update(t,r,n,i,o,a,u):o===s?e:(c(u),c(a),new Kt(t,n,[i,o]))}function Zt(e){return e.constructor===Kt||e.constructor===qt}function er(e,t,r,n,o){if(e.keyHash===n)return new qt(t,n,[e.entry,o]);var s,c=(0===r?e.keyHash:e.keyHash>>>r)&a,u=(0===r?n:n>>>r)&a,f=c===u?[er(e,t,r+i,n,o)]:(s=new Kt(t,n,o),c<u?[e,s]:[s,e]);return new Ft(t,1<<c|1<<u,f)}function tr(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function rr(e,t,r,n){var i=n?e:Ze(e);return i[t]=r,i}var nr=o/4,ir=o/2,or=o/4,ar="@@__IMMUTABLE_LIST__@@";function sr(e){return Boolean(e&&e[ar])}var cr=function(e){function t(t){var r=br();if(null==t)return r;if(sr(t))return t;var n=e(t),a=n.size;return 0===a?r:(tt(a),a>0&&a<o?pr(0,a,i,null,new fr(n.toArray())):r.withMutations((function(e){e.setSize(a),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=d(this,e))>=0&&e<this.size){var r=mr(this,e+=this._origin);return r&&r.array[e&a]}return t},t.prototype.set=function(e,t){return function(e,t,r){if(t=d(e,t),t!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?vr(e,t).set(0,r):vr(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,i=e._root,o={value:!1};t>=_r(e._capacity)?n=yr(n,e.__ownerID,0,t,r,o):i=yr(i,e.__ownerID,e._level,t,r,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return pr(e._origin,e._capacity,e._level,i,n)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=i,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):br()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){vr(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return vr(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){vr(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return vr(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var i=t[n],o=e("string"!=typeof i&&V(i)?i:[i]);0!==o.size&&r.push(o)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return vr(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var i=0;i<r.size;i++)n.set(i,e.call(t,n.get(i),i,r))}))},t.prototype.slice=function(e,t){var r=this.size;return h(e,t,r)?this:vr(this,p(e,r),b(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=hr(this,t);return new z((function(){var i=n();return i===lr?{value:void 0,done:!0}:q(e,t?--r:r++,i)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,i=hr(this,t);(r=i())!==lr&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?pr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?br():(this.__ownerID=e,this.__altered=!1,this)},t}(k);cr.isList=sr;var ur=cr.prototype;ur[ar]=!0,ur[n]=ur.remove,ur.merge=ur.concat,ur.setIn=bt,ur.deleteIn=ur.removeIn=gt,ur.update=vt,ur.updateIn=_t,ur.mergeIn=Mt,ur.mergeDeepIn=Bt,ur.withMutations=Dt,ur.wasAltered=Nt,ur.asImmutable=Lt,ur["@@transducer/init"]=ur.asMutable=Rt,ur["@@transducer/step"]=function(e,t){return e.push(t)},ur["@@transducer/result"]=function(e){return e.asImmutable()};var fr=function(e,t){this.array=e,this.ownerID=t};fr.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&a;if(n>=this.array.length)return new fr([],e);var o,s=0===n;if(t>0){var c=this.array[n];if((o=c&&c.removeBefore(e,t-i,r))===c&&s)return this}if(s&&!o)return this;var u=gr(this,e);if(!s)for(var f=0;f<n;f++)u.array[f]=void 0;return o&&(u.array[n]=o),u},fr.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&a;if(o>=this.array.length)return this;if(t>0){var s=this.array[o];if((n=s&&s.removeAfter(e,t-i,r))===s&&o===this.array.length-1)return this}var c=gr(this,e);return c.array.splice(o+1),n&&(c.array[o]=n),c};var dr,lr={};function hr(e,t){var r=e._origin,n=e._capacity,a=_r(n),s=e._tail;return c(e._root,e._level,0);function c(e,u,f){return 0===u?function(e,i){var c=i===a?s&&s.array:e&&e.array,u=i>r?0:r-i,f=n-i;f>o&&(f=o);return function(){if(u===f)return lr;var e=t?--f:u++;return c&&c[e]}}(e,f):function(e,a,s){var u,f=e&&e.array,d=s>r?0:r-s>>a,l=1+(n-s>>a);l>o&&(l=o);return function(){for(;;){if(u){var e=u();if(e!==lr)return e;u=null}if(d===l)return lr;var r=t?--l:d++;u=c(f&&f[r],a-i,s+(r<<a))}}}(e,u,f)}}function pr(e,t,r,n,i,o,a){var s=Object.create(ur);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function br(){return dr||(dr=pr(0,0,i))}function yr(e,t,r,n,o,s){var u,f=n>>>r&a,d=e&&f<e.array.length;if(!d&&void 0===o)return e;if(r>0){var l=e&&e.array[f],h=yr(l,t,r-i,n,o,s);return h===l?e:((u=gr(e,t)).array[f]=h,u)}return d&&e.array[f]===o?e:(s&&c(s),u=gr(e,t),void 0===o&&f===u.array.length-1?u.array.pop():u.array[f]=o,u)}function gr(e,t){return t&&e&&t===e.ownerID?e:new fr(e?e.array.slice():[],t)}function mr(e,t){if(t>=_r(e._capacity))return e._tail;if(t<1<<e._level+i){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&a],n-=i;return r}}function vr(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new u,o=e._origin,s=e._capacity,c=o+t,f=void 0===r?s:r<0?s+r:o+r;if(c===o&&f===s)return e;if(c>=f)return e.clear();for(var d=e._level,l=e._root,h=0;c+h<0;)l=new fr(l&&l.array.length?[void 0,l]:[],n),h+=1<<(d+=i);h&&(c+=h,o+=h,f+=h,s+=h);for(var p=_r(s),b=_r(f);b>=1<<d+i;)l=new fr(l&&l.array.length?[l]:[],n),d+=i;var y=e._tail,g=b<p?mr(e,f-1):b>p?new fr([],n):y;if(y&&b>p&&c<s&&y.array.length){for(var m=l=gr(l,n),v=d;v>i;v-=i){var _=p>>>v&a;m=m.array[_]=gr(m.array[_],n)}m.array[p>>>i&a]=y}if(f<s&&(g=g&&g.removeAfter(n,0,f)),c>=b)c-=b,f-=b,d=i,l=null,g=g&&g.removeBefore(n,0,c);else if(c>o||b<p){for(h=0;l;){var w=c>>>d&a;if(w!==b>>>d&a)break;w&&(h+=(1<<d)*w),d-=i,l=l.array[w]}l&&c>o&&(l=l.removeBefore(n,d,c-h)),l&&b<p&&(l=l.removeAfter(n,d,b-h)),h&&(c-=h,f-=h)}return e.__ownerID?(e.size=f-c,e._origin=c,e._capacity=f,e._level=d,e._root=l,e._tail=g,e.__hash=void 0,e.__altered=!0,e):pr(c,f,d,l,g)}function _r(e){return e<o?0:e-1>>>i<<i}var wr,Sr=function(e){function t(e){return null==e?Ar():de(e)?e:Ar().withMutations((function(t){var r=I(e);tt(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ar()},t.prototype.set=function(e,t){return Er(this,e,t)},t.prototype.remove=function(e){return Er(this,e,s)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?xr(t,r,e,this.__hash):0===this.size?Ar():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(jt);function xr(e,t,r,n){var i=Object.create(Sr.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ar(){return wr||(wr=xr(Yt(),br()))}function Er(e,t,r){var n,i,a=e._map,c=e._list,u=a.get(t),f=void 0!==u;if(r===s){if(!f)return e;c.size>=o&&c.size>=2*a.size?(n=(i=c.filter((function(e,t){return void 0!==e&&u!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=a.remove(t),i=u===c.size-1?c.pop():c.set(u,void 0))}else if(f){if(r===c.get(u)[1])return e;n=a,i=c.set(u,[t,r])}else n=a.set(t,c.size),i=c.set(c.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e.__altered=!0,e):xr(n,i)}Sr.isOrderedMap=de,Sr.prototype[D]=!0,Sr.prototype[n]=Sr.prototype.remove;var Ir="@@__IMMUTABLE_STACK__@@";function kr(e){return Boolean(e&&e[Ir])}var Tr=function(e){function t(e){return null==e?Mr():kr(e)?e:Mr().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=d(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Pr(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&kr(t))return t;tt(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):Pr(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mr()},t.prototype.slice=function(t,r){if(h(t,r,this.size))return this;var n=p(t,this.size);if(b(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pr(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pr(this.size,this._head,e,this.__hash):0===this.size?Mr():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new te(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,i=this._head;i&&!1!==e(i.value,n++,this);)i=i.next;return n},t.prototype.__iterator=function(e,t){if(t)return new te(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new z((function(){if(n){var t=n.value;return n=n.next,q(e,r++,t)}return{value:void 0,done:!0}}))},t}(k);Tr.isStack=kr;var Cr,Or=Tr.prototype;function Pr(e,t,r,n){var i=Object.create(Or);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Mr(){return Cr||(Cr=Pr(0))}Or[Ir]=!0,Or.shift=Or.pop,Or.unshift=Or.push,Or.unshiftAll=Or.pushAll,Or.withMutations=Dt,Or.wasAltered=Nt,Or.asImmutable=Lt,Or["@@transducer/init"]=Or.asMutable=Rt,Or["@@transducer/step"]=function(e,t){return e.unshift(t)},Or["@@transducer/result"]=function(e){return e.asImmutable()};var Br="@@__IMMUTABLE_SET__@@";function Dr(e){return Boolean(e&&e[Br])}function Rr(e){return Dr(e)&&R(e)}function Lr(e,t){if(e===t)return!0;if(!v(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||w(e)!==w(t)||x(e)!==x(t)||R(e)!==R(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!A(e);if(R(e)){var n=e.entries();return t.every((function(e,t){var i=n.next().value;return i&&he(i[1],e)&&(r||he(i[0],t))}))&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var a=!0,c=t.__iterate((function(t,n){if(r?!e.has(t):i?!he(t,e.get(n,s)):!he(e.get(n,s),t))return a=!1,!1}));return a&&e.size===c}function Nr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function jr(e){if(!e||"object"!=typeof e)return e;if(!v(e)){if(!ot(e))return e;e=X(e)}if(w(e)){var t={};return e.__iterate((function(e,r){t[r]=jr(e)})),t}var r=[];return e.__iterate((function(e){r.push(jr(e))})),r}var Ur=function(e){function t(t){return null==t?Kr():Dr(t)&&!R(t)?t:Kr().withMutations((function(r){var n=e(t);tt(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(I(e).keySeq())},t.intersect=function(e){return(e=E(e).toArray()).length?Fr.intersect.apply(t(e.pop()),e):Kr()},t.union=function(e){return(e=E(e).toArray()).length?Fr.union.apply(t(e.pop()),e):Kr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return zr(this,this._map.set(e,e))},t.prototype.remove=function(e){return zr(this,this._map.remove(e))},t.prototype.clear=function(){return zr(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,i=zr(this,this._map.mapEntries((function(i){var o=i[1],a=e.call(t,o,o,r);return a!==o&&(n=!0),[a,a]}),t));return n?i:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return fn(qe(this,e))},t.prototype.sortBy=function(e,t){return fn(qe(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(T);Ur.isSet=Dr;var Hr,Fr=Ur.prototype;function zr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function qr(e,t){var r=Object.create(Fr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Kr(){return Hr||(Hr=qr(Yt()))}Fr[Br]=!0,Fr[n]=Fr.remove,Fr.merge=Fr.concat=Fr.union,Fr.withMutations=Dt,Fr.asImmutable=Lt,Fr["@@transducer/init"]=Fr.asMutable=Rt,Fr["@@transducer/step"]=function(e,t){return e.add(t)},Fr["@@transducer/result"]=function(e){return e.asImmutable()},Fr.__empty=Kr,Fr.__make=qr;var Vr,$r=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(et(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(Vr)return Vr;Vr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+d(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return h(e,r,this.size)?this:(e=p(e,this.size),(r=b(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==e(i,t?r-++o:o++,this);)i+=t?-n:n;return o},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;return new z((function(){if(o===r)return{value:void 0,done:!0};var a=i;return i+=t?-n:n,q(e,t?r-++o:o++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Lr(this,e)},t}(Z);function Wr(e,t,r){for(var n=rt(t),i=0;i!==n.length;)if((e=ct(e,n[i++],s))===s)return r;return e}function Gr(e,t){return Wr(this,e,t)}function Qr(e,t){return Wr(e,t,s)!==s}function Yr(){tt(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}E.isIterable=v,E.isKeyed=w,E.isIndexed=x,E.isAssociative=A,E.isOrdered=R,E.Iterator=z,Nr(E,{toArray:function(){tt(this.size);var e=new Array(this.size||0),t=w(this),r=0;return this.__iterate((function(n,i){e[r++]=t?[i,n]:n})),e},toIndexedSeq:function(){return new Be(this)},toJS:function(){return jr(this)},toKeyedSeq:function(){return new Me(this,!0)},toMap:function(){return jt(this.toKeyedSeq())},toObject:Yr,toOrderedMap:function(){return Sr(this.toKeyedSeq())},toOrderedSet:function(){return fn(w(this)?this.valueSeq():this)},toSet:function(){return Ur(w(this)?this.valueSeq():this)},toSetSeq:function(){return new De(this)},toSeq:function(){return x(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Tr(w(this)?this.valueSeq():this)},toList:function(){return cr(w(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return We(this,function(e,t){var r=w(e),n=[e].concat(t).map((function(e){return v(e)?r&&(e=I(e)):e=r?ae(e):se(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var i=n[0];if(i===e||r&&w(i)||x(e)&&x(i))return i}var o=new te(n);return r?o=o.toKeyedSeq():x(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),o}(this,e))},includes:function(e){return this.some((function(t){return he(t,e)}))},entries:function(){return this.__iterator(j)},every:function(e,t){tt(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!e.call(t,n,i,o))return r=!1,!1})),r},filter:function(e,t){return We(this,Ue(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=w(e),i=[[],[]];e.__iterate((function(o,a){i[t.call(r,o,a,e)?1:0].push(n?[a,o]:o)}));var o=Qe(e);return i.map((function(t){return We(e,o(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return tt(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){tt(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(L)},map:function(e,t){return We(this,Ne(this,e,t))},reduce:function(e,t,r){return tn(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return tn(this,e,t,r,arguments.length<2,!0)},reverse:function(){return We(this,je(this,!0))},slice:function(e,t){return We(this,He(this,e,t,!0))},some:function(e,t){tt(this.size);var r=!1;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=!0,!1})),r},sort:function(e){return We(this,qe(this,e))},values:function(){return this.__iterator(N)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return f(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=jt().asMutable();return e.__iterate((function(i,o){n.update(t.call(r,i,o,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return Lr(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(nn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(on(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(l,null,e)},flatMap:function(e,t){return We(this,function(e,t,r){var n=Qe(e);return e.toSeq().map((function(i,o){return n(t.call(r,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return We(this,ze(this,e,!0))},fromEntrySeq:function(){return new Re(this)},get:function(e,t){return this.find((function(t,r){return he(r,e)}),void 0,t)},getIn:Gr,groupBy:function(e,t){return function(e,t,r){var n=w(e),i=(R(e)?Sr():jt()).asMutable();e.__iterate((function(o,a){i.update(t.call(r,o,a,e),(function(e){return(e=e||[]).push(n?[a,o]:o),e}))}));var o=Qe(e);return i.map((function(t){return We(e,o(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,s)!==s},hasIn:function(e){return Qr(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:E(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:E(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return he(t,e)}))},keySeq:function(){return this.toSeq().map(rn).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ke(this,e)},maxBy:function(e,t){return Ke(this,t,e)},min:function(e){return Ke(this,e?an(e):cn)},minBy:function(e,t){return Ke(this,t?an(t):cn,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return We(this,Fe(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(on(e),t)},sortBy:function(e,t){return We(this,qe(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return We(this,function(e,t,r){var n=Ye(e);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;return e.__iterate((function(e,i,s){return t.call(r,e,i,s)&&++a&&n(e,i,o)})),a},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(j,i),s=!0;return new z((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,c=i[0],u=i[1];return t.call(r,u,c,o)?n===j?e:q(n,c,u,e):(s=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(on(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=R(e),r=w(e),n=t?1:0;return function(e,t){return t=pe(t,3432918353),t=pe(t<<15|t>>>-15,461845907),t=pe(t<<13|t>>>-13,5),t=t+3864292196^e,t=pe(t^t>>>16,2246822507),t=pe(t^t>>>13,3266489909),t=be(t^t>>>16),t}(e.__iterate(r?t?function(e,t){n=31*n+un(ge(e),ge(t))|0}:function(e,t){n=n+un(ge(e),ge(t))|0}:t?function(e){n=31*n+ge(e)|0}:function(e){n=n+ge(e)|0}),n)}(this))}});var Xr=E.prototype;Xr[m]=!0,Xr[F]=Xr.values,Xr.toJSON=Xr.toArray,Xr.__toStringMapper=at,Xr.inspect=Xr.toSource=function(){return this.toString()},Xr.chain=Xr.flatMap,Xr.contains=Xr.includes,Nr(I,{flip:function(){return We(this,Le(this))},mapEntries:function(e,t){var r=this,n=0;return We(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return We(this,this.toSeq().flip().map((function(n,i){return e.call(t,n,i,r)})).flip())}});var Jr=I.prototype;Jr[_]=!0,Jr[F]=Xr.entries,Jr.toJSON=Yr,Jr.__toStringMapper=function(e,t){return at(t)+": "+at(e)},Nr(k,{toKeyedSeq:function(){return new Me(this,!1)},filter:function(e,t){return We(this,Ue(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return We(this,je(this,!1))},slice:function(e,t){return We(this,He(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=p(e,e<0?this.count():this.size);var n=this.slice(0,e);return We(this,1===r?n:n.concat(Ze(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return We(this,ze(this,e,!1))},get:function(e,t){return(e=d(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=d(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return We(this,function(e,t){var r=Ye(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return e.__iterate((function(e){return(!o||!1!==r(t,o++,i))&&!1!==r(e,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=e.__iterator(N,n),a=0;return new z((function(){return(!i||a%2)&&(i=o.next()).done?i:a%2?q(r,a++,t):q(r,a++,i.value,i)}))},r}(this,e))},interleave:function(){var e=[this].concat(Ze(arguments)),t=$e(this.toSeq(),Z.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),We(this,r)},keySeq:function(){return $r(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return We(this,Fe(this,e,t,!1))},zip:function(){return We(this,$e(this,sn,[this].concat(Ze(arguments))))},zipAll:function(){return We(this,$e(this,sn,[this].concat(Ze(arguments)),!0))},zipWith:function(e){var t=Ze(arguments);return t[0]=this,We(this,$e(this,e,t))}});var Zr=k.prototype;Zr[S]=!0,Zr[D]=!0,Nr(T,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var en=T.prototype;function tn(e,t,r,n,i,o){return tt(e.size),e.__iterate((function(e,o,a){i?(i=!1,r=e):r=t.call(n,r,e,o,a)}),o),r}function rn(e,t){return t}function nn(e,t){return[t,e]}function on(e){return function(){return!e.apply(this,arguments)}}function an(e){return function(){return-e.apply(this,arguments)}}function sn(){return Ze(arguments)}function cn(e,t){return e<t?1:e>t?-1:0}function un(e,t){return e^t+2654435769+(e<<6)+(e>>2)}en.has=Xr.includes,en.contains=en.includes,en.keys=en.values,Nr(J,Jr),Nr(Z,Zr),Nr(ee,en);var fn=function(e){function t(e){return null==e?pn():Rr(e)?e:pn().withMutations((function(t){var r=T(e);tt(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(I(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Ur);fn.isOrderedSet=Rr;var dn,ln=fn.prototype;function hn(e,t){var r=Object.create(ln);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function pn(){return dn||(dn=hn(Ar()))}ln[D]=!0,ln.zip=Zr.zip,ln.zipWith=Zr.zipWith,ln.zipAll=Zr.zipAll,ln.__empty=pn,ln.__make=hn;var bn={LeftThenRight:-1,RightThenLeft:1};var yn=function(e,t){var r;!function(e){if(M(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(B(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(o){var a=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var s=Object.keys(e),c=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var u=0;u<s.length;u++){var f=s[u];c[f]=u,i[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+vn(this)+' with property "'+f+'" since that property name is part of the Record API.'):wn(i,f)}}return this.__ownerID=void 0,this._values=cr().withMutations((function(e){e.setSize(a._keys.length),I(o).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},i=n.prototype=Object.create(gn);return i.constructor=n,t&&(n.displayName=t),n};yn.prototype.toString=function(){for(var e,t=vn(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)t+=(n?", ":"")+(e=r[n])+": "+at(this.get(e));return t+" }"},yn.prototype.equals=function(e){return this===e||M(e)&&_n(this).equals(_n(e))},yn.prototype.hashCode=function(){return _n(this).hashCode()},yn.prototype.has=function(e){return this._indices.hasOwnProperty(e)},yn.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},yn.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return mn(this,r)}return this},yn.prototype.remove=function(e){return this.set(e)},yn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:mn(this,e)},yn.prototype.wasAltered=function(){return this._values.wasAltered()},yn.prototype.toSeq=function(){return _n(this)},yn.prototype.toJS=function(){return jr(this)},yn.prototype.entries=function(){return this.__iterator(j)},yn.prototype.__iterator=function(e,t){return _n(this).__iterator(e,t)},yn.prototype.__iterate=function(e,t){return _n(this).__iterate(e,t)},yn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?mn(this,t,e):(this.__ownerID=e,this._values=t,this)},yn.isRecord=M,yn.getDescriptiveName=vn;var gn=yn.prototype;function mn(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function vn(e){return e.constructor.displayName||e.constructor.name||"Record"}function _n(e){return ae(e._keys.map((function(t){return[t,e.get(t)]})))}function wn(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){et(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}gn[P]=!0,gn[n]=gn.remove,gn.deleteIn=gn.removeIn=gt,gn.getIn=Gr,gn.hasIn=Xr.hasIn,gn.merge=wt,gn.mergeWith=St,gn.mergeIn=Mt,gn.mergeDeep=Ot,gn.mergeDeepWith=Pt,gn.mergeDeepIn=Bt,gn.setIn=bt,gn.update=vt,gn.updateIn=_t,gn.withMutations=Dt,gn.asMutable=Rt,gn.asImmutable=Lt,gn[F]=gn.entries,gn.toJSON=gn.toObject=Xr.toObject,gn.inspect=gn.toSource=function(){return this.toString()};var Sn,xn=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(Sn)return Sn;Sn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return he(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return h(e,r,n)?this:new t(this._value,b(r,n)-p(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return he(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return he(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,i=0;return new z((function(){return i===n?{value:void 0,done:!0}:q(e,t?n-++i:i++,r._value)}))},t.prototype.equals=function(e){return e instanceof t?he(this._value,e._value):Lr(this,e)},t}(Z);function An(e,t){return En([],t||In,e,"",t&&t.length>2?[]:void 0,{"":e})}function En(e,t,r,n,i,o){if("string"!=typeof r&&!B(r)&&(Y(r)||V(r)||it(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==n&&i.push(n);var a=t.call(o,n,X(r).map((function(n,o){return En(e,t,n,o,i,r)})),i&&i.slice());return e.pop(),i&&i.pop(),a}return r}function In(e,t){return x(t)?t.toList():w(t)?t.toMap():t.toSet()}var kn="4.3.6",Tn=E;const Cn={version:kn,Collection:E,Iterable:E,Seq:X,Map:jt,OrderedMap:Sr,List:cr,Stack:Tr,Set:Ur,OrderedSet:fn,PairSorting:bn,Record:yn,Range:$r,Repeat:xn,is:he,fromJS:An,hash:ge,isImmutable:B,isCollection:v,isKeyed:w,isIndexed:x,isAssociative:A,isOrdered:R,isValueObject:le,isPlainObject:it,isSeq:O,isList:sr,isMap:fe,isOrderedMap:de,isStack:kr,isSet:Dr,isOrderedSet:Rr,isRecord:M,get:ct,getIn:Wr,has:st,hasIn:Qr,merge:At,mergeDeep:It,mergeWith:Et,mergeDeepWith:kt,remove:ft,removeIn:yt,set:dt,setIn:pt,update:mt,updateIn:lt}},56698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},64634:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},71312:(e,t,r)=>{var n,i=r(65606);
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */
!function(){"use strict";var t="input is invalid type",o="object"==typeof window,a=o?window:{};a.JS_SHA256_NO_WINDOW&&(o=!1);var s=!o&&"object"==typeof self,c=!a.JS_SHA256_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node;c?a=r.g:s&&(a=self);var u=!a.JS_SHA256_NO_COMMON_JS&&e.exports,f=r.amdO,d=!a.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,l="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],p=[24,16,8,0],b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],y=["hex","array","digest","arrayBuffer"],g=[];!a.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!d||!a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var m=function(e,t){return function(r){return new x(t,!0).update(r)[e]()}},v=function(e){var t=m("hex",e);c&&(t=_(t,e)),t.create=function(){return new x(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<y.length;++r){var n=y[r];t[n]=m(n,e)}return t},_=function(e,n){var i,o=r(24394),s=r(91903).Buffer,c=n?"sha224":"sha256";i=s.from&&!a.JS_SHA256_NO_BUFFER_FROM?s.from:function(e){return new s(e)};return function(r){if("string"==typeof r)return o.createHash(c).update(r,"utf8").digest("hex");if(null==r)throw new Error(t);return r.constructor===ArrayBuffer&&(r=new Uint8Array(r)),Array.isArray(r)||ArrayBuffer.isView(r)||r.constructor===s?o.createHash(c).update(i(r)).digest("hex"):e(r)}},w=function(e,t){return function(r,n){return new A(r,t,!0).update(n)[e]()}},S=function(e){var t=w("hex",e);t.create=function(t){return new A(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<y.length;++r){var n=y[r];t[n]=w(n,e)}return t};function x(e,t){t?(g[0]=g[16]=g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=0,this.blocks=g):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function A(e,r,n){var i,o=typeof e;if("string"===o){var a,s=[],c=e.length,u=0;for(i=0;i<c;++i)(a=e.charCodeAt(i))<128?s[u++]=a:a<2048?(s[u++]=192|a>>>6,s[u++]=128|63&a):a<55296||a>=57344?(s[u++]=224|a>>>12,s[u++]=128|a>>>6&63,s[u++]=128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++i)),s[u++]=240|a>>>18,s[u++]=128|a>>>12&63,s[u++]=128|a>>>6&63,s[u++]=128|63&a);e=s}else{if("object"!==o)throw new Error(t);if(null===e)throw new Error(t);if(d&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||d&&ArrayBuffer.isView(e)))throw new Error(t)}e.length>64&&(e=new x(r,!0).update(e).array());var f=[],l=[];for(i=0;i<64;++i){var h=e[i]||0;f[i]=92^h,l[i]=54^h}x.call(this,r,n),this.update(l),this.oKeyPad=f,this.inner=!0,this.sharedMemory=n}x.prototype.update=function(e){if(!this.finalized){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(d&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||d&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,a=0,s=e.length,c=this.blocks;a<s;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,this.block=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),r)for(o=this.start;a<s&&o<64;++a)c[o>>>2]|=e[a]<<p[3&o++];else for(o=this.start;a<s&&o<64;++a)(i=e.charCodeAt(a))<128?c[o>>>2]|=i<<p[3&o++]:i<2048?(c[o>>>2]|=(192|i>>>6)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]):i<55296||i>=57344?(c[o>>>2]|=(224|i>>>12)<<p[3&o++],c[o>>>2]|=(128|i>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++a)),c[o>>>2]|=(240|i>>>18)<<p[3&o++],c[o>>>2]|=(128|i>>>12&63)<<p[3&o++],c[o>>>2]|=(128|i>>>6&63)<<p[3&o++],c[o>>>2]|=(128|63&i)<<p[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=c[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=h[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},x.prototype.hash=function(){var e,t,r,n,i,o,a,s,c,u=this.h0,f=this.h1,d=this.h2,l=this.h3,h=this.h4,p=this.h5,y=this.h6,g=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((i=m[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[e]=m[e-16]+t+m[e-7]+r|0;for(c=f&d,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,g=(i=m[0]-1413257819)-150054599|0,l=i+24177077|0):(o=704751109,g=(i=m[0]-210244248)-1521486534|0,l=i+143694565|0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(o=u&f)^u&d^c,g=l+(i=g+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&y)+b[e]+m[e])|0,l=i+(t+n)|0),t=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(a=l&u)^l&f^o,y=d+(i=y+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&h^~g&p)+b[e+1]+m[e+1])|0,t=((d=i+(t+n)|0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&l)^d&u^a,p=f+(i=p+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&g^~y&h)+b[e+2]+m[e+2])|0,t=((f=i+(t+n)|0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(c=f&d)^f&l^s,h=u+(i=h+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&y^~p&g)+b[e+3]+m[e+3])|0,u=i+(t+n)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+u|0,this.h1=this.h1+f|0,this.h2=this.h2+d|0,this.h3=this.h3+l|0,this.h4=this.h4+h|0,this.h5=this.h5+p|0,this.h6=this.h6+y|0,this.h7=this.h7+g|0},x.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=l[e>>>28&15]+l[e>>>24&15]+l[e>>>20&15]+l[e>>>16&15]+l[e>>>12&15]+l[e>>>8&15]+l[e>>>4&15]+l[15&e]+l[t>>>28&15]+l[t>>>24&15]+l[t>>>20&15]+l[t>>>16&15]+l[t>>>12&15]+l[t>>>8&15]+l[t>>>4&15]+l[15&t]+l[r>>>28&15]+l[r>>>24&15]+l[r>>>20&15]+l[r>>>16&15]+l[r>>>12&15]+l[r>>>8&15]+l[r>>>4&15]+l[15&r]+l[n>>>28&15]+l[n>>>24&15]+l[n>>>20&15]+l[n>>>16&15]+l[n>>>12&15]+l[n>>>8&15]+l[n>>>4&15]+l[15&n]+l[i>>>28&15]+l[i>>>24&15]+l[i>>>20&15]+l[i>>>16&15]+l[i>>>12&15]+l[i>>>8&15]+l[i>>>4&15]+l[15&i]+l[o>>>28&15]+l[o>>>24&15]+l[o>>>20&15]+l[o>>>16&15]+l[o>>>12&15]+l[o>>>8&15]+l[o>>>4&15]+l[15&o]+l[a>>>28&15]+l[a>>>24&15]+l[a>>>20&15]+l[a>>>16&15]+l[a>>>12&15]+l[a>>>8&15]+l[a>>>4&15]+l[15&a];return this.is224||(c+=l[s>>>28&15]+l[s>>>24&15]+l[s>>>20&15]+l[s>>>16&15]+l[s>>>12&15]+l[s>>>8&15]+l[s>>>4&15]+l[15&s]),c},x.prototype.toString=x.prototype.hex,x.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,c=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a];return this.is224||c.push(s>>>24&255,s>>>16&255,s>>>8&255,255&s),c},x.prototype.array=x.prototype.digest,x.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},A.prototype=new x,A.prototype.finalize=function(){if(x.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();x.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),x.prototype.finalize.call(this)}};var E=v();E.sha256=E,E.sha224=v(!0),E.sha256.hmac=S(),E.sha224.hmac=S(!0),u?e.exports=E:(a.sha256=E.sha256,a.sha224=E.sha224,f&&(void 0===(n=function(){return E}.call(E,r,E,e))||(e.exports=n)))}()},52290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(39769))},62778:(e,t)=>{"use strict";function r(e){const t=[];for(let r=0,n=e.length;r<n;++r){const n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(192|n>>6,128|63&n);else if(n<55296||n>=57344)t.push(224|n>>12,128|n>>6&63,128|63&n);else{let i=65536+((1023&n)<<10|1023&e.charCodeAt(++r));t.push(240|i>>18&7,128|i>>12&63,128|i>>6&63,128|63&i)}}return new Uint8Array(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8_1=function(e){const t=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],o=[0,128,128,128];for(const a of e){const e=r,s=a.codePointAt(0),c=0-(-(4294967168&s)>>31)-(-(4294965248&s)>>31)-(-(4294901760&s)>>31),u=i[c],f=o[c];e[3]=f|s&u,e[2]=f|s>>>6&u,e[1]=f|s>>>12&u,e[0]=f|s>>>18&u;const d=3-c;e[d]|=n[c],Array.prototype.push.apply(t,e.slice(d))}return new Uint8Array(t)},t.toUtf8_2=function(e){const t=[];for(const r of e){const e=r.codePointAt(0);e<128?t.push(e):e<2048?t.push(192|e>>6&31,128|63&e):e<65536?t.push(224|e>>12&15,128|e>>6&63,128|63&e):t.push(240|e>>18&7,128|e>>12&63,128|e>>6&63,128|63&e)}return new Uint8Array(t)},t.toUtf8_3=r,t.toUtf8=r,t.default=t.toUtf8},39769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62778),i=2654435761,o=2246822519,a=3266489917,s=668265263,c=374761393;t.xxHash32=function(e,t=0){const r=e="string"==typeof e?n.default(e):e;let u=t+c&4294967295,f=0;if(r.length>=16){const r=[t+i+o&4294967295,t+o&4294967295,t+0&4294967295,t-i&4294967295],n=e,a=n.length-16;let s=0;for(f=0;(4294967280&f)<=a;f+=4){const e=f,t=n[e+0]+(n[e+1]<<8),a=n[e+2]+(n[e+3]<<8),c=t*o+(a*o<<16);let u=r[s]+c&4294967295;u=u<<13|u>>>19;const d=65535&u,l=u>>>16;r[s]=d*i+(l*i<<16)&4294967295,s=s+1&3}u=(r[0]<<1|r[0]>>>31)+(r[1]<<7|r[1]>>>25)+(r[2]<<12|r[2]>>>20)+(r[3]<<18|r[3]>>>14)&4294967295}u=u+e.length&4294967295;let d=e.length-4;for(;f<=d;f+=4){const e=f,t=r[e+0]+(r[e+1]<<8),n=r[e+2]+(r[e+3]<<8);u=u+(t*a+(n*a<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*s+((u>>>16)*s<<16)&4294967295}for(;f<r.length;++f){u+=r[f]*c,u=u<<11|u>>>21,u=(65535&u)*i+((u>>>16)*i<<16)&4294967295}return u^=u>>>15,u=((65535&u)*o&4294967295)+((u>>>16)*o<<16),u^=u>>>13,u=((65535&u)*a&4294967295)+((u>>>16)*a<<16),u^=u>>>16,u<0?u+4294967296:u}},75951:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(){return c=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i},c.apply(null,arguments)}function u(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){function r(){return c(e,arguments,o(this).constructor)}if(null===e||!u(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},f(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function h(e){var t=s();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function p(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var g=function(r){var o=Math.abs,a=Math.max,s=Math.imul,c=Math.clz32;function u(e,r){var n;if(t(this,u),e>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return(n=f.call(this,e)).sign=r,n}i(u,r);var f=h(u);return n(u,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=y(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?u.__toStringGeneric(this,e,!1):u.__toStringBasePowerOfTwo(this,e)}},{key:"__copy",value:function(){for(var e=new u(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return c(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=65535&e,i=e>>>16,o=0,a=65535&t,c=t>>>16,u=0;u<r;u++){var f=this.__digit(u),d=65535&f,l=f>>>16,h=s(d,n),p=s(d,i),b=s(l,n),y=s(l,i),g=a+(65535&h),m=c+o+(g>>>16)+(h>>>16)+(65535&p)+(65535&b);o=(a=(p>>>16)+(b>>>16)+(65535&y)+(m>>>16))>>>16,a&=65535,c=y>>>16,this.__setDigit(u,65535&g|m<<16)}if(0!==o||0!==a||0!==c)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>16,this.__setHalfDigit(t+o,n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=65535&i,a=0;a<r-1>>>1;a++){var s=e.__digit(a),c=(i>>>16)-(65535&s)-n;n=1&c>>>16,this.__setDigit(t+a,c<<16|65535&o),n=1&(o=(65535&(i=this.__digit(t+a+1)))-(s>>>16)-n)>>>16}var u=e.__digit(a),f=(i>>>16)-(65535&u)-n;if(n=1&f>>>16,this.__setDigit(t+a,f<<16|65535&o),t+a+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(65535&(i=this.__digit(t+a+1)))-(u>>>16)-n)>>>16,this.__setDigit(t+e.length,4294901760&i|65535&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var l=this.__digit(t+d),h=e.__digit(d),p=(65535&l)-(65535&h)-n,b=(l>>>16)-(h>>>16)-(n=1&p>>>16);n=1&b>>>16,this.__setDigit(t+d,b<<16|65535&p)}var y=this.__digit(t+d),g=e.__digit(d),m=(65535&y)-(65535&g)-n;n=1&m>>>16;var v=0;!(1&r)&&(n=1&(v=(y>>>16)-(g>>>16)-n)>>>16),this.__setDigit(t+d,v<<16|65535&m)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,t<<32-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?65535&n|t<<16:4294901760&n|65535&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(t){var r=Math.floor,n=Number.isFinite;if("number"==typeof t){if(0===t)return u.__zero();if((0|t)===t)return 0>t?u.__oneDigit(-t,!0):u.__oneDigit(t,!1);if(!n(t)||r(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(t)}if("string"==typeof t){var i=u.__fromString(t);if(null===i)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return i}if("boolean"==typeof t)return!0===t?u.__oneDigit(1,!1):u.__zero();if("object"===e(t)){if(t.constructor===u)return t;var o=u.__toPrimitive(t);return u.BigInt(o)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=c(n),o=32*t-i;if(1024<o)return e.sign?-1/0:1/0;var a=o-1,s=n,f=t-1,d=i+1,l=32===d?0:s<<d;l>>>=12;var h=d-12,p=12<=d?0:s<<20+d,b=20+d;0<h&&0<f&&(f--,l|=(s=e.__digit(f))>>>32-h,p=s<<h,b=h),0<b&&0<f&&(f--,p|=(s=e.__digit(f))>>>32-b,b-=32);var y=u.__decideRounding(e,b,f,s);if((1===y||0===y&&!(1&~p))&&0==(p=p+1>>>0)&&0!=++l>>>20&&(l=0,1023<++a))return e.sign?-1/0:1/0;var g=e.sign?-2147483648:0;return a=a+1023<<20,u.__kBitConversionInts[1]=g|a|l,u.__kBitConversionInts[0]=p,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?u.__absoluteSubOne(e).__trim():u.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return u.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:u.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(r>>>5),i=new u(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<(31&r);return i.__setDigit(n-1,o),i}var a=null,s=e;for(!!(1&r)&&(a=e),r>>=1;0!==r;r>>=1)s=u.multiply(s,s),1&r&&(a=null===a?s:u.multiply(a,s));return a}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new u(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)u.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return u.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&65535>=i){if(1===i)return n===e.sign?e:u.unaryMinus(e);r=u.__absoluteDivSmall(e,i,null)}else r=u.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&65535>=r){if(1===r)return u.__zero();var n=u.__absoluteModSmall(e,r);return 0===n?u.__zero():u.__oneDigit(n,e.sign)}var i=u.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?u.__absoluteAdd(e,t,r):0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r):u.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__rightShiftByAbsolute(e,t):u.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__leftShiftByAbsolute(e,t):u.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>u.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=u.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<u.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=u.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!u.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=a(e.length,t.length)+1,n=u.__absoluteSubOne(e,r),i=u.__absoluteSubOne(t);return n=u.__absoluteOr(n,i,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}return u.__absoluteAndNot(e,u.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=a(e.length,t.length),n=u.__absoluteSubOne(e,r),i=u.__absoluteSubOne(t);return u.__absoluteXor(n,i,n).__trim()}var o=a(e.length,t.length)+1;if(e.sign){var s=[t,e];e=s[0],t=s[1]}var c=u.__absoluteSubOne(t,o);return c=u.__absoluteXor(c,e,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=a(e.length,t.length);if(!e.sign&&!t.sign)return u.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=u.__absoluteSubOne(e,r),i=u.__absoluteSubOne(t);return n=u.__absoluteAnd(n,i,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}var s=u.__absoluteSubOne(t,r);return s=u.__absoluteAndNot(s,e,s),u.__absoluteAddOne(s,!0,s).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0===e)return u.__zero();if(e>=u.__kMaxLengthBits)return t;var r=e+31>>>5;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(31&e-1);if(t.length===r&&n<i)return t;if((n&i)!==i)return u.__truncateToNBits(e,t);if(!t.sign)return u.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return u.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:u.__truncateToNBits(e,t)}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0===e)return u.__zero();if(t.sign){if(e>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=u.__kMaxLengthBits)return t;var r=e+31>>>5;if(t.length<r)return t;var n=31&e;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return u.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)&&u.__isBigInt(t))return u.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return u.__compare(e,t,0)}},{key:"LE",value:function(e,t){return u.__compare(e,t,1)}},{key:"GT",value:function(e,t){return u.__compare(e,t,2)}},{key:"GE",value:function(e,t){return u.__compare(e,t,3)}},{key:"EQ",value:function(t,r){for(;;){if(u.__isBigInt(t))return u.__isBigInt(r)?u.equal(t,r):u.EQ(r,t);if("number"==typeof t){if(u.__isBigInt(r))return u.__equalToNumber(r,t);if("object"!==e(r))return t==r;r=u.__toPrimitive(r)}else if("string"==typeof t){if(u.__isBigInt(r))return null!==(t=u.__fromString(t))&&u.equal(t,r);if("object"!==e(r))return t==r;r=u.__toPrimitive(r)}else if("boolean"==typeof t){if(u.__isBigInt(r))return u.__equalToNumber(r,+t);if("object"!==e(r))return t==r;r=u.__toPrimitive(r)}else if("symbol"===e(t)){if(u.__isBigInt(r))return!1;if("object"!==e(r))return t==r;r=u.__toPrimitive(r)}else{if("object"!==e(t))return t==r;if("object"===e(r)&&r.constructor!==u)return t==r;t=u.__toPrimitive(t)}}}},{key:"NE",value:function(e,t){return!u.EQ(e,t)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new u(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=31}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){u.__kBitConversionDouble[0]=e;var t,r=(2047&u.__kBitConversionInts[1]>>>20)-1023,n=1+(r>>>5),i=new u(n,0>e),o=1048575&u.__kBitConversionInts[1]|1048576,a=u.__kBitConversionInts[0],s=20,c=31&r,f=0;if(c<s){var d=s-c;f=d+32,t=o>>>d,o=o<<32-d|a>>>d,a<<=32-d}else if(c===s)f=32,t=o,o=a;else{var l=c-s;f=32-l,t=o<<l|a>>>32-l,o=a<<l}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--)0<f?(f-=32,t=o,o=a):t=0,i.__setDigit(h,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return u.__zero();for(var o=e.charCodeAt(i);u.__isWhitespace(o);){if(++i===n)return u.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return u.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return u.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}for(;48===o;){if(++i===n)return u.__zero();o=e.charCodeAt(i)}var a=n-i,s=u.__kMaxBitsPerChar[t],c=u.__kBitsPerCharTableMultiplier-1;if(a>1073741824/s)return null;var f=new u(31+(s*a+c>>>u.__kBitsPerCharTableShift)>>>5,!1),d=10>t?t:10,l=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var h=!1,p=0;do{for(var b,y=0,g=1;;){if(b=void 0,o-48>>>0<d)b=o-48;else{if(!((32|o)-97>>>0<l)){h=!0;break}b=(32|o)-87}var m=g*t;if(4294967295<m)break;if(g=m,y=y*t+b,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var v=s*p+(c=32*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift+5;f.__inplaceMultiplyAdd(g,y,v)}while(!h)}else{s>>=u.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var x,A=0,E=0;;){if(x=void 0,o-48>>>0<d)x=o-48;else{if(!((32|o)-97>>>0<l)){S=!0;break}x=(32|o)-87}if(E+=s,A=A<<s|x,++i===n){S=!0;break}if(o=e.charCodeAt(i),32<E+s)break}_.push(A),w.push(E)}while(!S);u.__fillFromParts(f,_,w)}if(i!==n){if(!u.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!u.__isWhitespace(o))return null}return 0!==r&&10!==t?null:(f.sign=-1===r,f.__trim())}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,a=t.length-1;0<=a;a--){var s=t[a],c=r[a];i|=s<<o,32===(o+=c)?(e.__setDigit(n++,i),o=0,i=0):32<o&&(e.__setDigit(n++,i),i=s>>>c-(o-=32))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,a=e.__digit(r-1),s=0|(32*r-c(a)+i-1)/i;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var f=Array(s),d=s-1,l=0,h=0,p=0;p<r-1;p++){var b=e.__digit(p),y=(l|b<<h)&o;f[d--]=u.__kConversionChars[y];var g=i-h;for(l=b>>>g,h=32-g;h>=i;)f[d--]=u.__kConversionChars[l&o],l>>>=i,h-=i}var m=(l|a<<h)&o;for(f[d--]=u.__kConversionChars[m],l=a>>>i-h;0!==l;)f[d--]=u.__kConversionChars[l&o],l>>>=i;if(e.sign&&(f[d--]="-"),-1!==d)throw new Error("implementation bug");return f.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,a,s=32*n-c(e.__digit(n-1)),f=u.__kMaxBitsPerChar[t]-1,d=s*u.__kBitsPerCharTableMultiplier,l=1+(d=0|(d+=f-1)/f)>>1,h=u.exponentiate(u.__oneDigit(t,!1),u.__oneDigit(l,!1)),p=h.__unsignedDigit(0);if(1===h.length&&65535>=p){(o=new u(e.length,!1)).__initializeDigits();for(var b,y=0,g=2*e.length-1;0<=g;g--)b=y<<16|e.__halfDigit(g),o.__setHalfDigit(g,0|b/p),y=0|b%p;a=y.toString(t)}else{var m=u.__absoluteDivLarge(e,h,!0,!0);o=m.quotient;var v=m.remainder.__trim();a=u.__toStringGeneric(v,t,!0)}o.__trim();for(var _=u.__toStringGeneric(o,t,!0);a.length<l;)a="0"+a;return!1===r&&e.sign&&(_="-"+_),_+a}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return u.__unequalSign(r);var n=u.__absoluteCompare(e,t);return 0<n?u.__absoluteGreater(r):0>n?u.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var r=e.sign,n=0>t;if(r!==n)return u.__unequalSign(r);if(0===e.length){if(n)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return u.__absoluteGreater(r);var i=o(t),a=e.__unsignedDigit(0);return a>i?u.__absoluteGreater(r):a<i?u.__absoluteLess(r):0}return u.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return u.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;u.__kBitConversionDouble[0]=t;var n=2047&u.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return u.__absoluteGreater(r);var o=e.length,a=e.__digit(o-1),s=c(a),f=32*o-s,d=i+1;if(f<d)return u.__absoluteLess(r);if(f>d)return u.__absoluteGreater(r);var l=1048576|1048575&u.__kBitConversionInts[1],h=u.__kBitConversionInts[0],p=20,b=31-s;if(b!==(f-1)%31)throw new Error("implementation bug");var y,g=0;if(b<p){var m=p-b;g=m+32,y=l>>>m,l=l<<32-m|h>>>m,h<<=32-m}else if(b===p)g=32,y=l,l=h;else{var v=b-p;g=32-v,y=l<<v|h>>>32-v,l=h<<v}if((a>>>=0)>(y>>>=0))return u.__absoluteGreater(r);if(a<y)return u.__absoluteLess(r);for(var _=o-2;0<=_;_--){0<g?(g-=32,y=l>>>0,l=h,h=0):y=0;var w=e.__unsignedDigit(_);if(w>y)return u.__absoluteGreater(r);if(w<y)return u.__absoluteLess(r)}if(0!==l||0!==h){if(0===g)throw new Error("implementation bug");return u.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,t){return t|0===t?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===o(t):0===u.__compareToDouble(e,t)}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,r){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(u.__isBigInt(e)&&"string"==typeof t)return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("string"==typeof e&&u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)){if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return u.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i=new u(n,r),o=0,a=0;a<t.length;a++){var s=t.__digit(a),c=e.__digit(a),f=(65535&c)+(65535&s)+o,d=(c>>>16)+(s>>>16)+(f>>>16);o=d>>>16,i.__setDigit(a,65535&f|d<<16)}for(;a<e.length;a++){var l=e.__digit(a),h=(65535&l)+o,p=(l>>>16)+(h>>>16);o=p>>>16,i.__setDigit(a,65535&h|p<<16)}return a<i.length&&i.__setDigit(a,o),i.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);for(var n=new u(e.length,r),i=0,o=0;o<t.length;o++){var a=e.__digit(o),s=t.__digit(o),c=(65535&a)-(65535&s)-i,f=(a>>>16)-(s>>>16)-(i=1&c>>>16);i=1&f>>>16,n.__setDigit(o,65535&c|f<<16)}for(;o<e.length;o++){var d=e.__digit(o),l=(65535&d)-i,h=(d>>>16)-(i=1&l>>>16);i=1&h>>>16,n.__setDigit(o,65535&l|h<<16)}return n.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new u(n,t):r.sign=t;for(var i,o=!0,a=0;a<n;a++){if(i=e.__digit(a),o){var s=-1===i;i=0|i+1,o=s}r.__setDigit(a,i)}return o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new u(t=t||n,!1),o=!0,a=0;a<n;a++){if(r=e.__digit(a),o){var s=0===r;r=0|r-1,o=s}i.__setDigit(a,r)}if(o)throw new Error("implementation bug");for(var c=n;c<t;c++)i.__setDigit(c,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=o;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var a=n;null===r?r=new u(a,!1):a=r.length;for(var s=0;s<o;s++)r.__setDigit(s,e.__digit(s)&~t.__digit(s));for(;s<n;s++)r.__setDigit(s,e.__digit(s));for(;s<a;s++)r.__setDigit(s,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=n;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var a=e,s=n;e=t,n=i,t=a,i=s}var c=n;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=65535&t,o=t>>>16,a=0,c=0,u=0,f=0;f<e.length;f++,n++){var d=r.__digit(n),l=65535&d,h=d>>>16,p=e.__digit(f),b=65535&p,y=p>>>16,g=s(b,i),m=s(b,o),v=s(y,i),_=s(y,o);a=(c=(m>>>16)+(v>>>16)+(65535&_)+(a=(h+=u+a+((l+=c+(65535&g))>>>16)+(g>>>16)+(65535&m)+(65535&v))>>>16))>>>16,c&=65535,u=_>>>16,d=65535&l|h<<16,r.__setDigit(n,d)}for(;0!==a||0!==c||0!==u;n++){var w=r.__digit(n),S=(65535&w)+c,x=(w>>>16)+(S>>>16)+u+a;c=0,u=0,a=x>>>16,w=65535&S|x<<16,r.__setDigit(n,w)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,a=0,c=0;c<n;c++){var u=e.__digit(c),f=s(65535&u,t),d=(65535&f)+a+o;o=d>>>16;var l=s(u>>>16,t),h=(65535&l)+(f>>>16)+o;o=h>>>16,a=l>>>16,i.__setDigit(c,h<<16|65535&d)}if(i.length>n)for(i.__setDigit(n++,o+a);n<i.length;)i.__setDigit(n++,0);else if(0!==o+a)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,r){null===r&&(r=new u(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<16|e.__halfDigit(i))>>>0,a=0|o/t,s=0|(o=((n=0|o%t)<<16|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,a<<16|s)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<16|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,a=e.__halfDigitLength()-i,c=null;r&&(c=new u(a+2>>>1,!1)).__initializeDigits();var f=new u(i+2>>>1,!1);f.__initializeDigits();var d=u.__clz16(t.__halfDigit(i-1));0<d&&(t=u.__specialLeftShift(t,d,0));for(var l=u.__specialLeftShift(e,d,1),h=t.__halfDigit(i-1),p=0,b=a;0<=b;b--){var y=65535,g=l.__halfDigit(b+i);if(g!==h){var m=(g<<16|l.__halfDigit(b+i-1))>>>0;y=0|m/h;for(var v=0|m%h,_=t.__halfDigit(i-2),w=l.__halfDigit(b+i-2);s(y,_)>>>0>(v<<16|w)>>>0&&(y--,!(65535<(v+=h))););}u.__internalMultiplyAdd(t,y,0,o,f);var S=l.__inplaceSub(f,b,i+1);0!==S&&(S=l.__inplaceAdd(t,b,i),l.__setHalfDigit(b+i,l.__halfDigit(b+i)+S),y--),r&&(1&b?p=y<<16:c.__setDigit(b>>>1,p|y))}return n?(l.__inplaceRightShift(d),r?{quotient:c,remainder:l}:l):r?c:void 0}},{key:"__clz16",value:function(e){return c(e)-16}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new u(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var a,s=0,c=0;c<n;c++)a=e.__digit(c),i.__setDigit(c,a<<t|s),s=a>>>32-t;return 0<r&&i.__setDigit(n,s),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=u.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=r>>>5,i=31&r,o=e.length,a=0!==i&&0!=e.__digit(o-1)>>>32-i,s=o+n+(a?1:0),c=new u(s,e.sign);if(0===i){for(var f=0;f<n;f++)c.__setDigit(f,0);for(;f<s;f++)c.__setDigit(f,e.__digit(f-n))}else{for(var d=0,l=0;l<n;l++)c.__setDigit(l,0);for(var h,p=0;p<o;p++)h=e.__digit(p),c.__setDigit(p+n,h<<i|d),d=h>>>32-i;if(a)c.__setDigit(o+n,d);else if(0!==d)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=u.__toShiftAmount(t);if(0>i)return u.__rightShiftByMaximum(n);var o=i>>>5,a=31&i,s=r-o;if(0>=s)return u.__rightShiftByMaximum(n);var c=!1;if(n)if(e.__digit(o)&(1<<a)-1)c=!0;else for(var f=0;f<o;f++)if(0!==e.__digit(f)){c=!0;break}c&&0===a&&0==~e.__digit(r-1)&&s++;var d=new u(s,n);if(0===a)for(var l=o;l<r;l++)d.__setDigit(l-o,e.__digit(l));else{for(var h,p=e.__digit(o)>>>a,b=r-o-1,y=0;y<b;y++)h=e.__digit(y+o+1),d.__setDigit(y,h<<32-a|p),p=h>>>a;d.__setDigit(b,p)}return c&&(d=u.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>u.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==e(t))return t;if(t.constructor===u)return t;var n=t[Symbol.toPrimitive];if(n){var i=n(r);if("object"!==e(i))return i;throw new TypeError("Cannot convert object to primitive value")}var o=t.valueOf;if(o){var a=o.call(t);if("object"!==e(a))return a}var s=t.toString;if(s){var c=s.call(t);if("object"!==e(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return u.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(t){return"object"===e(t)&&t.constructor===u}},{key:"__truncateToNBits",value:function(e,t){for(var r=e+31>>>5,n=new u(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var a=t.__digit(i);if(31&e){var s=32-(31&e);a=a<<s>>>s}return n.__setDigit(i,a),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n=Math.min,i=e+31>>>5,o=new u(i,r),a=0,s=i-1,c=0,f=n(s,t.length);a<f;a++){var d=t.__digit(a),l=0-(65535&d)-c,h=0-(d>>>16)-(c=1&l>>>16);c=1&h>>>16,o.__setDigit(a,65535&l|h<<16)}for(;a<s;a++)o.__setDigit(a,0|-c);var p,b=s<t.length?t.__digit(s):0,y=31&e;if(0===y){var g=0-(65535&b)-c;p=65535&g|0-(b>>>16)-(c=1&g>>>16)<<16}else{var m=32-y,v=1<<32-m,_=(65535&v)-(65535&(b=b<<m>>>m))-c;p=65535&_|(v>>>16)-(b>>>16)-(c=1&_>>>16)<<16,p&=v-1}return o.__setDigit(s,p),o.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}}]),u}(f(Array));return g.__kMaxLength=33554432,g.__kMaxLengthBits=g.__kMaxLength<<5,g.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],g.__kBitsPerCharTableShift=5,g.__kBitsPerCharTableMultiplier=1<<g.__kBitsPerCharTableShift,g.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],g.__kBitConversionBuffer=new ArrayBuffer(8),g.__kBitConversionDouble=new Float64Array(g.__kBitConversionBuffer),g.__kBitConversionInts=new Int32Array(g.__kBitConversionBuffer),g}()},8142:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",u="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",l="[object Error]",h="[object Function]",p="[object GeneratorFunction]",b="[object Map]",y="[object Number]",g="[object Null]",m="[object Object]",v="[object Promise]",_="[object Proxy]",w="[object RegExp]",S="[object Set]",x="[object String]",A="[object Symbol]",E="[object Undefined]",I="[object WeakMap]",k="[object ArrayBuffer]",T="[object DataView]",C=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[s]=P[c]=P[k]=P[f]=P[T]=P[d]=P[l]=P[h]=P[b]=P[y]=P[m]=P[w]=P[S]=P[x]=P[I]=!1;var M="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,B="object"==typeof self&&self&&self.Object===Object&&self,D=M||B||Function("return this")(),R=t&&!t.nodeType&&t,L=R&&e&&!e.nodeType&&e,N=L&&L.exports===R,j=N&&M.process,U=function(){try{return j&&j.binding&&j.binding("util")}catch(e){}}(),H=U&&U.isTypedArray;function F(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var K,V,$,W=Array.prototype,G=Function.prototype,Q=Object.prototype,Y=D["__core-js_shared__"],X=G.toString,J=Q.hasOwnProperty,Z=(K=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",ee=Q.toString,te=RegExp("^"+X.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=N?D.Buffer:void 0,ne=D.Symbol,ie=D.Uint8Array,oe=Q.propertyIsEnumerable,ae=W.splice,se=ne?ne.toStringTag:void 0,ce=Object.getOwnPropertySymbols,ue=re?re.isBuffer:void 0,fe=(V=Object.keys,$=Object,function(e){return V($(e))}),de=Ue(D,"DataView"),le=Ue(D,"Map"),he=Ue(D,"Promise"),pe=Ue(D,"Set"),be=Ue(D,"WeakMap"),ye=Ue(Object,"create"),ge=qe(de),me=qe(le),ve=qe(he),_e=qe(pe),we=qe(be),Se=ne?ne.prototype:void 0,xe=Se?Se.valueOf:void 0;function Ae(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ie;++t<r;)this.add(e[t])}function Te(e){var t=this.__data__=new Ee(e);this.size=t.size}function Ce(e,t){var r=$e(e),n=!r&&Ve(e),i=!r&&!n&&We(e),o=!r&&!n&&!i&&Je(e),a=r||n||i||o,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!J.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ze(u,c))||s.push(u);return s}function Oe(e,t){for(var r=e.length;r--;)if(Ke(e[r][0],t))return r;return-1}function Pe(e){return null==e?void 0===e?E:g:se&&se in Object(e)?function(e){var t=J.call(e,se),r=e[se];try{e[se]=void 0;var n=!0}catch(e){}var i=ee.call(e);n&&(t?e[se]=r:delete e[se]);return i}(e):function(e){return ee.call(e)}(e)}function Me(e){return Xe(e)&&Pe(e)==s}function Be(e,t,r,n,a){return e===t||(null==e||null==t||!Xe(e)&&!Xe(t)?e!=e&&t!=t:function(e,t,r,n,a,u){var h=$e(e),p=$e(t),g=h?c:Fe(e),v=p?c:Fe(t),_=(g=g==s?m:g)==m,E=(v=v==s?m:v)==m,I=g==v;if(I&&We(e)){if(!We(t))return!1;h=!0,_=!1}if(I&&!_)return u||(u=new Te),h||Je(e)?Le(e,t,r,n,a,u):function(e,t,r,n,a,s,c){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!s(new ie(e),new ie(t)));case f:case d:case y:return Ke(+e,+t);case l:return e.name==t.name&&e.message==t.message;case w:case x:return e==t+"";case b:var u=z;case S:var h=n&i;if(u||(u=q),e.size!=t.size&&!h)return!1;var p=c.get(e);if(p)return p==t;n|=o,c.set(e,t);var g=Le(u(e),u(t),n,a,s,c);return c.delete(e),g;case A:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,g,r,n,a,u);if(!(r&i)){var C=_&&J.call(e,"__wrapped__"),O=E&&J.call(t,"__wrapped__");if(C||O){var P=C?e.value():e,M=O?t.value():t;return u||(u=new Te),a(P,M,r,n,u)}}if(!I)return!1;return u||(u=new Te),function(e,t,r,n,o,a){var s=r&i,c=Ne(e),u=c.length,f=Ne(t),d=f.length;if(u!=d&&!s)return!1;var l=u;for(;l--;){var h=c[l];if(!(s?h in t:J.call(t,h)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var b=!0;a.set(e,t),a.set(t,e);var y=s;for(;++l<u;){var g=e[h=c[l]],m=t[h];if(n)var v=s?n(m,g,h,t,e,a):n(g,m,h,e,t,a);if(!(void 0===v?g===m||o(g,m,r,n,a):v)){b=!1;break}y||(y="constructor"==h)}if(b&&!y){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(b=!1)}return a.delete(e),a.delete(t),b}(e,t,r,n,a,u)}(e,t,r,n,Be,a))}function De(e){return!(!Ye(e)||function(e){return!!Z&&Z in e}(e))&&(Ge(e)?te:C).test(qe(e))}function Re(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Q,t!==n)return fe(e);var t,r,n,i=[];for(var o in Object(e))J.call(e,o)&&"constructor"!=o&&i.push(o);return i}function Le(e,t,r,n,a,s){var c=r&i,u=e.length,f=t.length;if(u!=f&&!(c&&f>u))return!1;var d=s.get(e);if(d&&s.get(t))return d==t;var l=-1,h=!0,p=r&o?new ke:void 0;for(s.set(e,t),s.set(t,e);++l<u;){var b=e[l],y=t[l];if(n)var g=c?n(y,b,l,t,e,s):n(b,y,l,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!F(t,(function(e,t){if(i=t,!p.has(i)&&(b===e||a(b,e,r,n,s)))return p.push(t);var i}))){h=!1;break}}else if(b!==y&&!a(b,y,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ne(e){return function(e,t,r){var n=t(e);return $e(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ze,He)}function je(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return De(r)?r:void 0}Ae.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},Ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae.prototype.get=function(e){var t=this.__data__;if(ye){var r=t[e];return r===n?void 0:r}return J.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:J.call(t,e)},Ae.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ye&&void 0===t?n:t,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,r=Oe(t,e);return!(r<0)&&(r==t.length-1?t.pop():ae.call(t,r,1),--this.size,!0)},Ee.prototype.get=function(e){var t=this.__data__,r=Oe(t,e);return r<0?void 0:t[r][1]},Ee.prototype.has=function(e){return Oe(this.__data__,e)>-1},Ee.prototype.set=function(e,t){var r=this.__data__,n=Oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Ie.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(le||Ee),string:new Ae}},Ie.prototype.delete=function(e){var t=je(this,e).delete(e);return this.size-=t?1:0,t},Ie.prototype.get=function(e){return je(this,e).get(e)},Ie.prototype.has=function(e){return je(this,e).has(e)},Ie.prototype.set=function(e,t){var r=je(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,n),this},ke.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new Ee,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ee){var n=r.__data__;if(!le||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ie(n)}return r.set(e,t),this.size=r.size,this};var He=ce?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}(ce(e),(function(t){return oe.call(e,t)})))}:function(){return[]},Fe=Pe;function ze(e,t){return!!(t=null==t?a:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ke(e,t){return e===t||e!=e&&t!=t}(de&&Fe(new de(new ArrayBuffer(1)))!=T||le&&Fe(new le)!=b||he&&Fe(he.resolve())!=v||pe&&Fe(new pe)!=S||be&&Fe(new be)!=I)&&(Fe=function(e){var t=Pe(e),r=t==m?e.constructor:void 0,n=r?qe(r):"";if(n)switch(n){case ge:return T;case me:return b;case ve:return v;case _e:return S;case we:return I}return t});var Ve=Me(function(){return arguments}())?Me:function(e){return Xe(e)&&J.call(e,"callee")&&!oe.call(e,"callee")},$e=Array.isArray;var We=ue||function(){return!1};function Ge(e){if(!Ye(e))return!1;var t=Pe(e);return t==h||t==p||t==u||t==_}function Qe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=a}function Ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Xe(e){return null!=e&&"object"==typeof e}var Je=H?function(e){return function(t){return e(t)}}(H):function(e){return Xe(e)&&Qe(e.length)&&!!P[Pe(e)]};function Ze(e){return null!=(t=e)&&Qe(t.length)&&!Ge(t)?Ce(e):Re(e);var t}e.exports=function(e,t){return Be(e,t)}},55580:(e,t,r)=>{var n=r(56110)(r(9325),"DataView");e.exports=n},21549:(e,t,r)=>{var n=r(22032),i=r(63862),o=r(66721),a=r(12749),s=r(35749);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},80079:(e,t,r)=>{var n=r(63702),i=r(70080),o=r(24739),a=r(48655),s=r(31175);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},68223:(e,t,r)=>{var n=r(56110)(r(9325),"Map");e.exports=n},53661:(e,t,r)=>{var n=r(63040),i=r(17670),o=r(90289),a=r(4509),s=r(72949);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=i,c.prototype.get=o,c.prototype.has=a,c.prototype.set=s,e.exports=c},32804:(e,t,r)=>{var n=r(56110)(r(9325),"Promise");e.exports=n},76545:(e,t,r)=>{var n=r(56110)(r(9325),"Set");e.exports=n},38859:(e,t,r)=>{var n=r(53661),i=r(31380),o=r(51459);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},37217:(e,t,r)=>{var n=r(80079),i=r(51420),o=r(90938),a=r(63605),s=r(29817),c=r(80945);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},51873:(e,t,r)=>{var n=r(9325).Symbol;e.exports=n},37828:(e,t,r)=>{var n=r(9325).Uint8Array;e.exports=n},28303:(e,t,r)=>{var n=r(56110)(r(9325),"WeakMap");e.exports=n},83729:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},79770:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}},70695:(e,t,r)=>{var n=r(78096),i=r(72428),o=r(56449),a=r(3656),s=r(30361),c=r(37167),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),f=!r&&i(e),d=!r&&!f&&a(e),l=!r&&!f&&!d&&c(e),h=r||f||d||l,p=h?n(e.length,String):[],b=p.length;for(var y in e)!t&&!u.call(e,y)||h&&("length"==y||d&&("offset"==y||"parent"==y)||l&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,b))||p.push(y);return p}},34932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},92147:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},14248:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},16547:(e,t,r)=>{var n=r(43360),i=r(75288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];o.call(e,t)&&i(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},26025:(e,t,r)=>{var n=r(75288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},74733:(e,t,r)=>{var n=r(21791),i=r(95950);e.exports=function(e,t){return e&&n(t,i(t),e)}},43838:(e,t,r)=>{var n=r(21791),i=r(37241);e.exports=function(e,t){return e&&n(t,i(t),e)}},43360:(e,t,r)=>{var n=r(93243);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},9999:(e,t,r)=>{var n=r(37217),i=r(83729),o=r(16547),a=r(74733),s=r(43838),c=r(93290),u=r(23007),f=r(92271),d=r(48948),l=r(50002),h=r(83349),p=r(5861),b=r(76189),y=r(77199),g=r(35529),m=r(56449),v=r(3656),_=r(87730),w=r(23805),S=r(38440),x=r(95950),A=r(37241),E="[object Arguments]",I="[object Function]",k="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[k]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[I]=T["[object WeakMap]"]=!1,e.exports=function e(t,r,C,O,P,M){var B,D=1&r,R=2&r,L=4&r;if(C&&(B=P?C(t,O,P,M):C(t)),void 0!==B)return B;if(!w(t))return t;var N=m(t);if(N){if(B=b(t),!D)return u(t,B)}else{var j=p(t),U=j==I||"[object GeneratorFunction]"==j;if(v(t))return c(t,D);if(j==k||j==E||U&&!P){if(B=R||U?{}:g(t),!D)return R?d(t,s(B,t)):f(t,a(B,t))}else{if(!T[j])return P?t:{};B=y(t,j,D)}}M||(M=new n);var H=M.get(t);if(H)return H;M.set(t,B),S(t)?t.forEach((function(n){B.add(e(n,r,C,n,t,M))})):_(t)&&t.forEach((function(n,i){B.set(i,e(n,r,C,i,t,M))}));var F=N?void 0:(L?R?h:l:R?A:x)(t);return i(F||t,(function(n,i){F&&(n=t[i=n]),o(B,i,e(n,r,C,i,t,M))})),B}},39344:(e,t,r)=>{var n=r(23805),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},47422:(e,t,r)=>{var n=r(31769),i=r(77797);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},82199:(e,t,r)=>{var n=r(92147),i=r(56449);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},72552:(e,t,r)=>{var n=r(51873),i=r(659),o=r(59350),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},28077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},27534:(e,t,r)=>{var n=r(72552),i=r(40346);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},60270:(e,t,r)=>{var n=r(87068),i=r(40346);e.exports=function e(t,r,o,a,s){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,a,e,s))}},87068:(e,t,r)=>{var n=r(37217),i=r(25911),o=r(21986),a=r(50689),s=r(5861),c=r(56449),u=r(3656),f=r(37167),d="[object Arguments]",l="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,b,y,g){var m=c(e),v=c(t),_=m?l:s(e),w=v?l:s(t),S=(_=_==d?h:_)==h,x=(w=w==d?h:w)==h,A=_==w;if(A&&u(e)){if(!u(t))return!1;m=!0,S=!1}if(A&&!S)return g||(g=new n),m||f(e)?i(e,t,r,b,y,g):o(e,t,_,r,b,y,g);if(!(1&r)){var E=S&&p.call(e,"__wrapped__"),I=x&&p.call(t,"__wrapped__");if(E||I){var k=E?e.value():e,T=I?t.value():t;return g||(g=new n),y(k,T,r,b,g)}}return!!A&&(g||(g=new n),a(e,t,r,b,y,g))}},29172:(e,t,r)=>{var n=r(5861),i=r(40346);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},41799:(e,t,r)=>{var n=r(37217),i=r(60270);e.exports=function(e,t,r,o){var a=r.length,s=a,c=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=r[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var f=(u=r[a])[0],d=e[f],l=u[1];if(c&&u[2]){if(void 0===d&&!(f in e))return!1}else{var h=new n;if(o)var p=o(d,l,f,e,t,h);if(!(void 0===p?i(l,d,3,o,h):p))return!1}}return!0}},45083:(e,t,r)=>{var n=r(1882),i=r(87296),o=r(23805),a=r(47473),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,d=u.hasOwnProperty,l=RegExp("^"+f.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?l:s).test(a(e))}},16038:(e,t,r)=>{var n=r(5861),i=r(40346);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},4901:(e,t,r)=>{var n=r(72552),i=r(30294),o=r(40346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},15389:(e,t,r)=>{var n=r(93663),i=r(87978),o=r(83488),a=r(56449),s=r(50583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}},88984:(e,t,r)=>{var n=r(55527),i=r(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},72903:(e,t,r)=>{var n=r(23805),i=r(55527),o=r(90181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},93663:(e,t,r)=>{var n=r(41799),i=r(10776),o=r(67197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},87978:(e,t,r)=>{var n=r(60270),i=r(58156),o=r(80631),a=r(28586),s=r(30756),c=r(67197),u=r(77797);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(r){var a=i(r,e);return void 0===a&&a===t?o(r,e):n(t,a,3)}}},97420:(e,t,r)=>{var n=r(47422),i=r(73170),o=r(31769);e.exports=function(e,t,r){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],f=n(e,u);r(f,u)&&i(c,o(u,e),f)}return c}},47237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},17255:(e,t,r)=>{var n=r(47422);e.exports=function(e){return function(t){return n(t,e)}}},73170:(e,t,r)=>{var n=r(16547),i=r(31769),o=r(30361),a=r(23805),s=r(77797);e.exports=function(e,t,r,c){if(!a(e))return e;for(var u=-1,f=(t=i(t,e)).length,d=f-1,l=e;null!=l&&++u<f;){var h=s(t[u]),p=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(u!=d){var b=l[h];void 0===(p=c?c(b,h,l):void 0)&&(p=a(b)?b:o(t[u+1])?[]:{})}n(l,h,p),l=l[h]}return e}},78096:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},77556:(e,t,r)=>{var n=r(51873),i=r(34932),o=r(56449),a=r(44394),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},27301:e=>{e.exports=function(e){return function(t){return e(t)}}},19219:e=>{e.exports=function(e,t){return e.has(t)}},31769:(e,t,r)=>{var n=r(56449),i=r(28586),o=r(61802),a=r(13222);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}},49653:(e,t,r)=>{var n=r(37828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},93290:(e,t,r)=>{e=r.nmd(e);var n=r(9325),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},76169:(e,t,r)=>{var n=r(49653);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},73201:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},93736:(e,t,r)=>{var n=r(51873),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},71961:(e,t,r)=>{var n=r(49653);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},23007:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},21791:(e,t,r)=>{var n=r(16547),i=r(43360);e.exports=function(e,t,r,o){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],f=o?o(r[u],e[u],u,r,e):void 0;void 0===f&&(f=e[u]),a?i(r,u,f):n(r,u,f)}return r}},92271:(e,t,r)=>{var n=r(21791),i=r(4664);e.exports=function(e,t){return n(e,i(e),t)}},48948:(e,t,r)=>{var n=r(21791),i=r(86375);e.exports=function(e,t){return n(e,i(e),t)}},55481:(e,t,r)=>{var n=r(9325)["__core-js_shared__"];e.exports=n},93243:(e,t,r)=>{var n=r(56110),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},25911:(e,t,r)=>{var n=r(38859),i=r(14248),o=r(19219);e.exports=function(e,t,r,a,s,c){var u=1&r,f=e.length,d=t.length;if(f!=d&&!(u&&d>f))return!1;var l=c.get(e),h=c.get(t);if(l&&h)return l==t&&h==e;var p=-1,b=!0,y=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++p<f;){var g=e[p],m=t[p];if(a)var v=u?a(m,g,p,t,e,c):a(g,m,p,e,t,c);if(void 0!==v){if(v)continue;b=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(g===e||s(g,e,r,a,c)))return y.push(t)}))){b=!1;break}}else if(g!==m&&!s(g,m,r,a,c)){b=!1;break}}return c.delete(e),c.delete(t),b}},21986:(e,t,r)=>{var n=r(51873),i=r(37828),o=r(75288),a=r(25911),s=r(20317),c=r(84247),u=n?n.prototype:void 0,f=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,d,l){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=c),e.size!=t.size&&!p)return!1;var b=l.get(e);if(b)return b==t;n|=2,l.set(e,t);var y=a(h(e),h(t),n,u,d,l);return l.delete(e),y;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}},50689:(e,t,r)=>{var n=r(50002),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,a,s){var c=1&r,u=n(e),f=u.length;if(f!=n(t).length&&!c)return!1;for(var d=f;d--;){var l=u[d];if(!(c?l in t:i.call(t,l)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var b=!0;s.set(e,t),s.set(t,e);for(var y=c;++d<f;){var g=e[l=u[d]],m=t[l];if(o)var v=c?o(m,g,l,t,e,s):o(g,m,l,e,t,s);if(!(void 0===v?g===m||a(g,m,r,o,s):v)){b=!1;break}y||(y="constructor"==l)}if(b&&!y){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(b=!1)}return s.delete(e),s.delete(t),b}},34840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},50002:(e,t,r)=>{var n=r(82199),i=r(4664),o=r(95950);e.exports=function(e){return n(e,o,i)}},83349:(e,t,r)=>{var n=r(82199),i=r(86375),o=r(37241);e.exports=function(e){return n(e,o,i)}},12651:(e,t,r)=>{var n=r(74218);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},10776:(e,t,r)=>{var n=r(30756),i=r(95950);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],a=e[o];t[r]=[o,a,n(a)]}return t}},56110:(e,t,r)=>{var n=r(45083),i=r(10392);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},28879:(e,t,r)=>{var n=r(74335)(Object.getPrototypeOf,Object);e.exports=n},659:(e,t,r)=>{var n=r(51873),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},4664:(e,t,r)=>{var n=r(79770),i=r(63345),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},86375:(e,t,r)=>{var n=r(92147),i=r(28879),o=r(4664),a=r(63345),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s},5861:(e,t,r)=>{var n=r(55580),i=r(68223),o=r(32804),a=r(76545),s=r(28303),c=r(72552),u=r(47473),f="[object Map]",d="[object Promise]",l="[object Set]",h="[object WeakMap]",p="[object DataView]",b=u(n),y=u(i),g=u(o),m=u(a),v=u(s),_=c;(n&&_(new n(new ArrayBuffer(1)))!=p||i&&_(new i)!=f||o&&_(o.resolve())!=d||a&&_(new a)!=l||s&&_(new s)!=h)&&(_=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case b:return p;case y:return f;case g:return d;case m:return l;case v:return h}return t}),e.exports=_},10392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},49326:(e,t,r)=>{var n=r(31769),i=r(72428),o=r(56449),a=r(30361),s=r(30294),c=r(77797);e.exports=function(e,t,r){for(var u=-1,f=(t=n(t,e)).length,d=!1;++u<f;){var l=c(t[u]);if(!(d=null!=e&&r(e,l)))break;e=e[l]}return d||++u!=f?d:!!(f=null==e?0:e.length)&&s(f)&&a(l,f)&&(o(e)||i(e))}},22032:(e,t,r)=>{var n=r(81042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},63862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},66721:(e,t,r)=>{var n=r(81042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},12749:(e,t,r)=>{var n=r(81042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},35749:(e,t,r)=>{var n=r(81042);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},76189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},77199:(e,t,r)=>{var n=r(49653),i=r(76169),o=r(73201),a=r(93736),s=r(71961);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},35529:(e,t,r)=>{var n=r(39344),i=r(28879),o=r(55527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},30361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},28586:(e,t,r)=>{var n=r(56449),i=r(44394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},74218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87296:(e,t,r)=>{var n,i=r(55481),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},55527:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},30756:(e,t,r)=>{var n=r(23805);e.exports=function(e){return e==e&&!n(e)}},63702:e=>{e.exports=function(){this.__data__=[],this.size=0}},70080:(e,t,r)=>{var n=r(26025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},24739:(e,t,r)=>{var n=r(26025);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},48655:(e,t,r)=>{var n=r(26025);e.exports=function(e){return n(this.__data__,e)>-1}},31175:(e,t,r)=>{var n=r(26025);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},63040:(e,t,r)=>{var n=r(21549),i=r(80079),o=r(68223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},17670:(e,t,r)=>{var n=r(12651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},90289:(e,t,r)=>{var n=r(12651);e.exports=function(e){return n(this,e).get(e)}},4509:(e,t,r)=>{var n=r(12651);e.exports=function(e){return n(this,e).has(e)}},72949:(e,t,r)=>{var n=r(12651);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},20317:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},67197:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},62224:(e,t,r)=>{var n=r(50104);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},81042:(e,t,r)=>{var n=r(56110)(Object,"create");e.exports=n},3650:(e,t,r)=>{var n=r(74335)(Object.keys,Object);e.exports=n},90181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},86009:(e,t,r)=>{e=r.nmd(e);var n=r(34840),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},74335:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},9325:(e,t,r)=>{var n=r(34840),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},31380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},51459:e=>{e.exports=function(e){return this.__data__.has(e)}},84247:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},51420:(e,t,r)=>{var n=r(80079);e.exports=function(){this.__data__=new n,this.size=0}},90938:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},63605:e=>{e.exports=function(e){return this.__data__.get(e)}},29817:e=>{e.exports=function(e){return this.__data__.has(e)}},80945:(e,t,r)=>{var n=r(80079),i=r(68223),o=r(53661);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(a)}return r.set(e,t),this.size=r.size,this}},61802:(e,t,r)=>{var n=r(62224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)})),t}));e.exports=a},77797:(e,t,r)=>{var n=r(44394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},47473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},88055:(e,t,r)=>{var n=r(9999);e.exports=function(e){return n(e,5)}},75288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},58156:(e,t,r)=>{var n=r(47422);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},80631:(e,t,r)=>{var n=r(28077),i=r(49326);e.exports=function(e,t){return null!=e&&i(e,t,n)}},83488:e=>{e.exports=function(e){return e}},72428:(e,t,r)=>{var n=r(27534),i=r(40346),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},56449:e=>{var t=Array.isArray;e.exports=t},64894:(e,t,r)=>{var n=r(1882),i=r(30294);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},3656:(e,t,r)=>{e=r.nmd(e);var n=r(9325),i=r(89935),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;e.exports=c},1882:(e,t,r)=>{var n=r(72552),i=r(23805);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},30294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},87730:(e,t,r)=>{var n=r(29172),i=r(27301),o=r(86009),a=o&&o.isMap,s=a?i(a):n;e.exports=s},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},38440:(e,t,r)=>{var n=r(16038),i=r(27301),o=r(86009),a=o&&o.isSet,s=a?i(a):n;e.exports=s},44394:(e,t,r)=>{var n=r(72552),i=r(40346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},37167:(e,t,r)=>{var n=r(4901),i=r(27301),o=r(86009),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},95950:(e,t,r)=>{var n=r(70695),i=r(88984),o=r(64894);e.exports=function(e){return o(e)?n(e):i(e)}},37241:(e,t,r)=>{var n=r(70695),i=r(72903),o=r(64894);e.exports=function(e){return o(e)?n(e,!0):i(e)}},2543:function(e,t,r){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=r.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,u=32,f=64,d=128,l=256,h=1/0,p=9007199254740991,b=NaN,y=4294967295,g=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",u],["partialRight",f],["rearg",l]],m="[object Arguments]",v="[object Array]",_="[object Boolean]",w="[object Date]",S="[object Error]",x="[object Function]",A="[object GeneratorFunction]",E="[object Map]",I="[object Number]",k="[object Object]",T="[object Promise]",C="[object RegExp]",O="[object Set]",P="[object String]",M="[object Symbol]",B="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",N="[object Float64Array]",j="[object Int8Array]",U="[object Int16Array]",H="[object Int32Array]",F="[object Uint8Array]",z="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]",V=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,Y=RegExp(G.source),X=RegExp(Q.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,be=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Me="["+Ae+"]",Be="["+Oe+"]",De="["+Ee+"]",Re="\\d+",Le="["+Ie+"]",Ne="["+ke+"]",je="[^"+Ae+Oe+Re+Ie+ke+Te+"]",Ue="\\ud83c[\\udffb-\\udfff]",He="[^"+Ae+"]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Te+"]",Ke="\\u200d",Ve="(?:"+Ne+"|"+je+")",$e="(?:"+qe+"|"+je+")",We="(?:['’](?:d|ll|m|re|s|t|ve))?",Ge="(?:['’](?:D|LL|M|RE|S|T|VE))?",Qe="(?:"+De+"|"+Ue+")"+"?",Ye="["+Ce+"]?",Xe=Ye+Qe+("(?:"+Ke+"(?:"+[He,Fe,ze].join("|")+")"+Ye+Qe+")*"),Je="(?:"+[Le,Fe,ze].join("|")+")"+Xe,Ze="(?:"+[He+De+"?",De,Fe,ze,Me].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(De,"g"),rt=RegExp(Ue+"(?="+Ue+")|"+Ze+Xe,"g"),nt=RegExp([qe+"?"+Ne+"+"+We+"(?="+[Be,qe,"$"].join("|")+")",$e+"+"+Ge+"(?="+[Be,qe+Ve,"$"].join("|")+")",qe+"?"+Ve+"+"+We,qe+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Je].join("|"),"g"),it=RegExp("["+Ke+Ae+Ee+Ce+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[L]=ct[N]=ct[j]=ct[U]=ct[H]=ct[F]=ct[z]=ct[q]=ct[K]=!0,ct[m]=ct[v]=ct[D]=ct[_]=ct[R]=ct[w]=ct[S]=ct[x]=ct[E]=ct[I]=ct[k]=ct[C]=ct[O]=ct[P]=ct[B]=!1;var ut={};ut[m]=ut[v]=ut[D]=ut[R]=ut[_]=ut[w]=ut[L]=ut[N]=ut[j]=ut[U]=ut[H]=ut[E]=ut[I]=ut[k]=ut[C]=ut[O]=ut[P]=ut[M]=ut[F]=ut[z]=ut[q]=ut[K]=!0,ut[S]=ut[x]=ut[B]=!1;var ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,lt=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,bt=ht||pt||Function("return this")(),yt=t&&!t.nodeType&&t,gt=yt&&e&&!e.nodeType&&e,mt=gt&&gt.exports===yt,vt=mt&&ht.process,_t=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),wt=_t&&_t.isArrayBuffer,St=_t&&_t.isDate,xt=_t&&_t.isMap,At=_t&&_t.isRegExp,Et=_t&&_t.isSet,It=_t&&_t.isTypedArray;function kt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Tt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function Bt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Dt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Lt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Nt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function jt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ht=Wt("length");function Ft(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function zt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function qt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):zt(e,Vt,r)}function Kt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Vt(e){return e!=e}function $t(e,t){var r=null==e?0:e.length;return r?Yt(e,t)/r:b}function Wt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Qt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Yt(e,t){for(var r,n=-1,o=e.length;++n<o;){var a=t(e[n]);a!==i&&(r=r===i?a:r+a)}return r}function Xt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Jt(e){return e?e.slice(0,br(e)+1).replace(ae,""):e}function Zt(e){return function(t){return e(t)}}function er(e,t){return Rt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&qt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&qt(t,e[r],0)>-1;);return r}var ir=Gt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),or=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ar(e){return"\\"+ft[e]}function sr(e){return it.test(e)}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function ur(e,t){return function(r){return e(t(r))}}function fr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[i++]=r)}return o}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function hr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ht(e)}function pr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function br(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var yr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gr=function e(t){var r,n=(t=null==t?bt:gr.defaults(bt.Object(),t,gr.pick(bt,at))).Array,se=t.Date,Ae=t.Error,Ee=t.Function,Ie=t.Math,ke=t.Object,Te=t.RegExp,Ce=t.String,Oe=t.TypeError,Pe=n.prototype,Me=Ee.prototype,Be=ke.prototype,De=t["__core-js_shared__"],Re=Me.toString,Le=Be.hasOwnProperty,Ne=0,je=(r=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Ue=Be.toString,He=Re.call(ke),Fe=bt._,ze=Te("^"+Re.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=mt?t.Buffer:i,Ke=t.Symbol,Ve=t.Uint8Array,$e=qe?qe.allocUnsafe:i,We=ur(ke.getPrototypeOf,ke),Ge=ke.create,Qe=Be.propertyIsEnumerable,Ye=Pe.splice,Xe=Ke?Ke.isConcatSpreadable:i,Je=Ke?Ke.iterator:i,Ze=Ke?Ke.toStringTag:i,rt=function(){try{var e=ho(ke,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==bt.clearTimeout&&t.clearTimeout,ft=se&&se.now!==bt.Date.now&&se.now,ht=t.setTimeout!==bt.setTimeout&&t.setTimeout,pt=Ie.ceil,yt=Ie.floor,gt=ke.getOwnPropertySymbols,vt=qe?qe.isBuffer:i,_t=t.isFinite,Ht=Pe.join,Gt=ur(ke.keys,ke),mr=Ie.max,vr=Ie.min,_r=se.now,wr=t.parseInt,Sr=Ie.random,xr=Pe.reverse,Ar=ho(t,"DataView"),Er=ho(t,"Map"),Ir=ho(t,"Promise"),kr=ho(t,"Set"),Tr=ho(t,"WeakMap"),Cr=ho(ke,"create"),Or=Tr&&new Tr,Pr={},Mr=Uo(Ar),Br=Uo(Er),Dr=Uo(Ir),Rr=Uo(kr),Lr=Uo(Tr),Nr=Ke?Ke.prototype:i,jr=Nr?Nr.valueOf:i,Ur=Nr?Nr.toString:i;function Hr(e){if(rs(e)&&!Va(e)&&!(e instanceof Kr)){if(e instanceof qr)return e;if(Le.call(e,"__wrapped__"))return Ho(e)}return new qr(e)}var Fr=function(){function e(){}return function(t){if(!ts(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function zr(){}function qr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Wr;++t<r;)this.add(e[t])}function Qr(e){var t=this.__data__=new $r(e);this.size=t.size}function Yr(e,t){var r=Va(e),n=!r&&Ka(e),i=!r&&!n&&Qa(e),o=!r&&!n&&!i&&fs(e),a=r||n||i||o,s=a?Xt(e.length,Ce):[],c=s.length;for(var u in e)!t&&!Le.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_o(u,c))||s.push(u);return s}function Xr(e){var t=e.length;return t?e[Qn(0,t-1)]:i}function Jr(e,t){return Lo(Oi(e),cn(t,0,e.length))}function Zr(e){return Lo(Oi(e))}function en(e,t,r){(r!==i&&!Fa(e[t],r)||r===i&&!(t in e))&&an(e,t,r)}function tn(e,t,r){var n=e[t];Le.call(e,t)&&Fa(n,r)&&(r!==i||t in e)||an(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(Fa(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function on(e,t){return e&&Pi(t,Ms(t),e)}function an(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:ks(e,t[r]);return a}function cn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function un(e,t,r,n,o,a){var s,c=1&t,u=2&t,f=4&t;if(r&&(s=o?r(e,n,o,a):r(e)),s!==i)return s;if(!ts(e))return e;var d=Va(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!c)return Oi(e,s)}else{var l=yo(e),h=l==x||l==A;if(Qa(e))return Ai(e,c);if(l==k||l==m||h&&!o){if(s=u||h?{}:mo(e),!c)return u?function(e,t){return Pi(e,bo(e),t)}(e,function(e,t){return e&&Pi(t,Bs(t),e)}(s,e)):function(e,t){return Pi(e,po(e),t)}(e,on(s,e))}else{if(!ut[l])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case D:return Ei(e);case _:case w:return new n(+e);case R:return function(e,t){var r=t?Ei(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case N:case j:case U:case H:case F:case z:case q:case K:return Ii(e,r);case E:return new n;case I:case P:return new n(e);case C:return function(e){var t=new e.constructor(e.source,be.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new n;case M:return i=e,jr?ke(jr.call(i)):{}}var i}(e,l,c)}}a||(a=new Qr);var p=a.get(e);if(p)return p;a.set(e,s),ss(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):ns(e)&&e.forEach((function(n,i){s.set(i,un(n,t,r,i,e,a))}));var b=d?i:(f?u?oo:io:u?Bs:Ms)(e);return Ct(b||e,(function(n,i){b&&(n=e[i=n]),tn(s,i,un(n,t,r,i,e,a))})),s}function fn(e,t,r){var n=r.length;if(null==e)return!n;for(e=ke(e);n--;){var o=r[n],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function dn(e,t,r){if("function"!=typeof e)throw new Oe(o);return Mo((function(){e.apply(i,r)}),t)}function ln(e,t,r,n){var i=-1,o=Bt,a=!0,s=e.length,c=[],u=t.length;if(!s)return c;r&&(t=Rt(t,Zt(r))),n?(o=Dt,a=!1):t.length>=200&&(o=tr,a=!1,t=new Gr(t));e:for(;++i<s;){var f=e[i],d=null==r?f:r(f);if(f=n||0!==f?f:0,a&&d==d){for(var l=u;l--;)if(t[l]===d)continue e;c.push(f)}else o(t,d,n)||c.push(f)}return c}Hr.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Hr}},Hr.prototype=zr.prototype,Hr.prototype.constructor=Hr,qr.prototype=Fr(zr.prototype),qr.prototype.constructor=qr,Kr.prototype=Fr(zr.prototype),Kr.prototype.constructor=Kr,Vr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vr.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===a?i:r}return Le.call(t,e)?t[e]:i},Vr.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==i:Le.call(t,e)},Vr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===i?a:t,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ye.call(t,r,1),--this.size,!0)},$r.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?i:t[r][1]},$r.prototype.has=function(e){return rn(this.__data__,e)>-1},$r.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Wr.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(Er||$r),string:new Vr}},Wr.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},Wr.prototype.get=function(e){return fo(this,e).get(e)},Wr.prototype.has=function(e){return fo(this,e).has(e)},Wr.prototype.set=function(e,t){var r=fo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Gr.prototype.add=Gr.prototype.push=function(e){return this.__data__.set(e,a),this},Gr.prototype.has=function(e){return this.__data__.has(e)},Qr.prototype.clear=function(){this.__data__=new $r,this.size=0},Qr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Qr.prototype.get=function(e){return this.__data__.get(e)},Qr.prototype.has=function(e){return this.__data__.has(e)},Qr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof $r){var n=r.__data__;if(!Er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Wr(n)}return r.set(e,t),this.size=r.size,this};var hn=Di(wn),pn=Di(Sn,!0);function bn(e,t){var r=!0;return hn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function yn(e,t,r){for(var n=-1,o=e.length;++n<o;){var a=e[n],s=t(a);if(null!=s&&(c===i?s==s&&!us(s):r(s,c)))var c=s,u=a}return u}function gn(e,t){var r=[];return hn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=vo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?mn(s,t-1,r,n,i):Lt(i,s):n||(i[i.length]=s)}return i}var vn=Ri(),_n=Ri(!0);function wn(e,t){return e&&vn(e,t,Ms)}function Sn(e,t){return e&&_n(e,t,Ms)}function xn(e,t){return Mt(t,(function(t){return Ja(e[t])}))}function An(e,t){for(var r=0,n=(t=_i(t,e)).length;null!=e&&r<n;)e=e[jo(t[r++])];return r&&r==n?e:i}function En(e,t,r){var n=t(e);return Va(e)?n:Lt(n,r(e))}function In(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in ke(e)?function(e){var t=Le.call(e,Ze),r=e[Ze];try{e[Ze]=i;var n=!0}catch(e){}var o=Ue.call(e);n&&(t?e[Ze]=r:delete e[Ze]);return o}(e):function(e){return Ue.call(e)}(e)}function kn(e,t){return e>t}function Tn(e,t){return null!=e&&Le.call(e,t)}function Cn(e,t){return null!=e&&t in ke(e)}function On(e,t,r){for(var o=r?Dt:Bt,a=e[0].length,s=e.length,c=s,u=n(s),f=1/0,d=[];c--;){var l=e[c];c&&t&&(l=Rt(l,Zt(t))),f=vr(l.length,f),u[c]=!r&&(t||a>=120&&l.length>=120)?new Gr(c&&l):i}l=e[0];var h=-1,p=u[0];e:for(;++h<a&&d.length<f;){var b=l[h],y=t?t(b):b;if(b=r||0!==b?b:0,!(p?tr(p,y):o(d,y,r))){for(c=s;--c;){var g=u[c];if(!(g?tr(g,y):o(e[c],y,r)))continue e}p&&p.push(y),d.push(b)}}return d}function Pn(e,t,r){var n=null==(e=Co(e,t=_i(t,e)))?e:e[jo(Xo(t))];return null==n?i:kt(n,e,r)}function Mn(e){return rs(e)&&In(e)==m}function Bn(e,t,r,n,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,r,n,o,a){var s=Va(e),c=Va(t),u=s?v:yo(e),f=c?v:yo(t),d=(u=u==m?k:u)==k,l=(f=f==m?k:f)==k,h=u==f;if(h&&Qa(e)){if(!Qa(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new Qr),s||fs(e)?ro(e,t,r,n,o,a):function(e,t,r,n,i,o,a){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case _:case w:case I:return Fa(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+"";case E:var s=cr;case O:var c=1&n;if(s||(s=dr),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var f=ro(s(e),s(t),n,i,o,a);return a.delete(e),f;case M:if(jr)return jr.call(e)==jr.call(t)}return!1}(e,t,u,r,n,o,a);if(!(1&r)){var p=d&&Le.call(e,"__wrapped__"),b=l&&Le.call(t,"__wrapped__");if(p||b){var y=p?e.value():e,g=b?t.value():t;return a||(a=new Qr),o(y,g,r,n,a)}}if(!h)return!1;return a||(a=new Qr),function(e,t,r,n,o,a){var s=1&r,c=io(e),u=c.length,f=io(t),d=f.length;if(u!=d&&!s)return!1;var l=u;for(;l--;){var h=c[l];if(!(s?h in t:Le.call(t,h)))return!1}var p=a.get(e),b=a.get(t);if(p&&b)return p==t&&b==e;var y=!0;a.set(e,t),a.set(t,e);var g=s;for(;++l<u;){var m=e[h=c[l]],v=t[h];if(n)var _=s?n(v,m,h,t,e,a):n(m,v,h,e,t,a);if(!(_===i?m===v||o(m,v,r,n,a):_)){y=!1;break}g||(g="constructor"==h)}if(y&&!g){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(y=!1)}return a.delete(e),a.delete(t),y}(e,t,r,n,o,a)}(e,t,r,n,Bn,o))}function Dn(e,t,r,n){var o=r.length,a=o,s=!n;if(null==e)return!a;for(e=ke(e);o--;){var c=r[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var u=(c=r[o])[0],f=e[u],d=c[1];if(s&&c[2]){if(f===i&&!(u in e))return!1}else{var l=new Qr;if(n)var h=n(f,d,u,e,t,l);if(!(h===i?Bn(d,f,3,n,l):h))return!1}}return!0}function Rn(e){return!(!ts(e)||(t=e,je&&je in t))&&(Ja(e)?ze:me).test(Uo(e));var t}function Ln(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Va(e)?zn(e[0],e[1]):Fn(e):hc(e)}function Nn(e){if(!Eo(e))return Gt(e);var t=[];for(var r in ke(e))Le.call(e,r)&&"constructor"!=r&&t.push(r);return t}function jn(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var r in ke(e))t.push(r);return t}(e);var t=Eo(e),r=[];for(var n in e)("constructor"!=n||!t&&Le.call(e,n))&&r.push(n);return r}function Un(e,t){return e<t}function Hn(e,t){var r=-1,i=Wa(e)?n(e.length):[];return hn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Fn(e){var t=lo(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(r){return r===e||Dn(r,e,t)}}function zn(e,t){return So(e)&&Io(t)?ko(jo(e),t):function(r){var n=ks(r,e);return n===i&&n===t?Ts(r,e):Bn(t,n,3)}}function qn(e,t,r,n,o){e!==t&&vn(t,(function(a,s){if(o||(o=new Qr),ts(a))!function(e,t,r,n,o,a,s){var c=Oo(e,r),u=Oo(t,r),f=s.get(u);if(f)return void en(e,r,f);var d=a?a(c,u,r+"",e,t,s):i,l=d===i;if(l){var h=Va(u),p=!h&&Qa(u),b=!h&&!p&&fs(u);d=u,h||p||b?Va(c)?d=c:Ga(c)?d=Oi(c):p?(l=!1,d=Ai(u,!0)):b?(l=!1,d=Ii(u,!0)):d=[]:os(u)||Ka(u)?(d=c,Ka(c)?d=ms(c):ts(c)&&!Ja(c)||(d=mo(u))):l=!1}l&&(s.set(u,d),o(d,u,n,a,s),s.delete(u));en(e,r,d)}(e,t,s,r,qn,n,o);else{var c=n?n(Oo(e,s),a,s+"",e,t,o):i;c===i&&(c=a),en(e,s,c)}}),Bs)}function Kn(e,t){var r=e.length;if(r)return _o(t+=t<0?r:0,r)?e[t]:i}function Vn(e,t,r){t=t.length?Rt(t,(function(e){return Va(e)?function(t){return An(t,1===e.length?e[0]:e)}:e})):[ic];var n=-1;t=Rt(t,Zt(uo()));var i=Hn(e,(function(e,r,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var c=ki(i[n],o[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function $n(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=An(e,a);r(s,a)&&ei(o,_i(a,e),s)}return o}function Wn(e,t,r,n){var i=n?Kt:qt,o=-1,a=t.length,s=e;for(e===t&&(t=Oi(t)),r&&(s=Rt(e,Zt(r)));++o<a;)for(var c=0,u=t[o],f=r?r(u):u;(c=i(s,f,c,n))>-1;)s!==e&&Ye.call(s,c,1),Ye.call(e,c,1);return e}function Gn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;_o(i)?Ye.call(e,i,1):li(e,i)}}return e}function Qn(e,t){return e+yt(Sr()*(t-e+1))}function Yn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=yt(t/2))&&(e+=e)}while(t);return r}function Xn(e,t){return Bo(To(e,t,ic),e+"")}function Jn(e){return Xr(Fs(e))}function Zn(e,t){var r=Fs(e);return Lo(r,cn(t,0,r.length))}function ei(e,t,r,n){if(!ts(e))return e;for(var o=-1,a=(t=_i(t,e)).length,s=a-1,c=e;null!=c&&++o<a;){var u=jo(t[o]),f=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var d=c[u];(f=n?n(d,u,c):i)===i&&(f=ts(d)?d:_o(t[o+1])?[]:{})}tn(c,u,f),c=c[u]}return e}var ti=Or?function(e,t){return Or.set(e,t),e}:ic,ri=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ni(e){return Lo(Fs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var r;return hn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ai(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!us(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return si(e,t,ic,r)}function si(e,t,r,n){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,c=null===t,u=us(t),f=t===i;o<a;){var d=yt((o+a)/2),l=r(e[d]),h=l!==i,p=null===l,b=l==l,y=us(l);if(s)var g=n||b;else g=f?b&&(n||h):c?b&&h&&(n||!p):u?b&&h&&!p&&(n||!y):!p&&!y&&(n?l<=t:l<t);g?o=d+1:a=d}return vr(a,4294967294)}function ci(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Fa(s,c)){var c=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?b:+e}function fi(e){if("string"==typeof e)return e;if(Va(e))return Rt(e,fi)+"";if(us(e))return Ur?Ur.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,r){var n=-1,i=Bt,o=e.length,a=!0,s=[],c=s;if(r)a=!1,i=Dt;else if(o>=200){var u=t?null:Yi(e);if(u)return dr(u);a=!1,i=tr,c=new Gr}else c=t?[]:s;e:for(;++n<o;){var f=e[n],d=t?t(f):f;if(f=r||0!==f?f:0,a&&d==d){for(var l=c.length;l--;)if(c[l]===d)continue e;t&&c.push(d),s.push(f)}else i(c,d,r)||(c!==s&&c.push(d),s.push(f))}return s}function li(e,t){return null==(e=Co(e,t=_i(t,e)))||delete e[jo(Xo(t))]}function hi(e,t,r,n){return ei(e,t,r(An(e,t)),n)}function pi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ii(e,n?0:o,n?o+1:i):ii(e,n?o+1:0,n?i:o)}function bi(e,t){var r=e;return r instanceof Kr&&(r=r.value()),Nt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),r)}function yi(e,t,r){var i=e.length;if(i<2)return i?di(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],c=-1;++c<i;)c!=o&&(a[o]=ln(a[o]||s,e[c],t,r));return di(mn(a,1),t,r)}function gi(e,t,r){for(var n=-1,o=e.length,a=t.length,s={};++n<o;){var c=n<a?t[n]:i;r(s,e[n],c)}return s}function mi(e){return Ga(e)?e:[]}function vi(e){return"function"==typeof e?e:ic}function _i(e,t){return Va(e)?e:So(e,t)?[e]:No(vs(e))}var wi=Xn;function Si(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ii(e,t,r)}var xi=it||function(e){return bt.clearTimeout(e)};function Ai(e,t){if(t)return e.slice();var r=e.length,n=$e?$e(r):new e.constructor(r);return e.copy(n),n}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Ii(e,t){var r=t?Ei(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,a=us(e),s=t!==i,c=null===t,u=t==t,f=us(t);if(!c&&!f&&!a&&e>t||a&&s&&u&&!c&&!f||n&&s&&u||!r&&u||!o)return 1;if(!n&&!a&&!f&&e<t||f&&r&&o&&!n&&!a||c&&r&&o||!s&&o||!u)return-1}return 0}function Ti(e,t,r,i){for(var o=-1,a=e.length,s=r.length,c=-1,u=t.length,f=mr(a-s,0),d=n(u+f),l=!i;++c<u;)d[c]=t[c];for(;++o<s;)(l||o<a)&&(d[r[o]]=e[o]);for(;f--;)d[c++]=e[o++];return d}function Ci(e,t,r,i){for(var o=-1,a=e.length,s=-1,c=r.length,u=-1,f=t.length,d=mr(a-c,0),l=n(d+f),h=!i;++o<d;)l[o]=e[o];for(var p=o;++u<f;)l[p+u]=t[u];for(;++s<c;)(h||o<a)&&(l[p+r[s]]=e[o++]);return l}function Oi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,r,n){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var c=t[a],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),o?an(r,c,u):tn(r,c,u)}return r}function Mi(e,t){return function(r,n){var i=Va(r)?Tt:nn,o=t?t():{};return i(r,e,uo(n,2),o)}}function Bi(e){return Xn((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,s=o>2?r[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(r[0],r[1],s)&&(a=o<3?i:a,o=1),t=ke(t);++n<o;){var c=r[n];c&&e(t,c,n,a)}return t}))}function Di(e,t){return function(r,n){if(null==r)return r;if(!Wa(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=ke(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Ri(e){return function(t,r,n){for(var i=-1,o=ke(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}function Li(e){return function(t){var r=sr(t=vs(t))?pr(t):i,n=r?r[0]:t.charAt(0),o=r?Si(r,1).join(""):t.slice(1);return n[e]()+o}}function Ni(e){return function(t){return Nt(Js(Ks(t).replace(et,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fr(e.prototype),n=e.apply(r,t);return ts(n)?n:r}}function Ui(e){return function(t,r,n){var o=ke(t);if(!Wa(t)){var a=uo(r,3);t=Ms(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[a?t[s]:s]:i}}function Hi(e){return no((function(t){var r=t.length,n=r,a=qr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Oe(o);if(a&&!c&&"wrapper"==so(s))var c=new qr([],!0)}for(n=c?n:r;++n<r;){var u=so(s=t[n]),f="wrapper"==u?ao(s):i;c=f&&xo(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?c[so(f[0])].apply(c,f[3]):1==s.length&&xo(s)?c[u]():c.thru(s)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Va(n))return c.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Fi(e,t,r,o,a,s,c,u,f,l){var h=t&d,p=1&t,b=2&t,y=24&t,g=512&t,m=b?i:ji(e);return function d(){for(var v=arguments.length,_=n(v),w=v;w--;)_[w]=arguments[w];if(y)var S=co(d),x=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,S);if(o&&(_=Ti(_,o,a,y)),s&&(_=Ci(_,s,c,y)),v-=x,y&&v<l){var A=fr(_,S);return Gi(e,t,Fi,d.placeholder,r,_,A,u,f,l-v)}var E=p?r:this,I=b?E[e]:e;return v=_.length,u?_=function(e,t){var r=e.length,n=vr(t.length,r),o=Oi(e);for(;n--;){var a=t[n];e[n]=_o(a,r)?o[a]:i}return e}(_,u):g&&v>1&&_.reverse(),h&&f<v&&(_.length=f),this&&this!==bt&&this instanceof d&&(I=m||ji(I)),I.apply(E,_)}}function zi(e,t){return function(r,n){return function(e,t,r,n){return wn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function qi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=fi(r),n=fi(n)):(r=ui(r),n=ui(n)),o=e(r,n)}return o}}function Ki(e){return no((function(t){return t=Rt(t,Zt(uo())),Xn((function(r){var n=this;return e(t,(function(e){return kt(e,n,r)}))}))}))}function Vi(e,t){var r=(t=t===i?" ":fi(t)).length;if(r<2)return r?Yn(t,e):t;var n=Yn(t,pt(e/hr(t)));return sr(t)?Si(pr(n),0,e).join(""):n.slice(0,e)}function $i(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=ps(t),r===i?(r=t,t=0):r=ps(r),function(e,t,r,i){for(var o=-1,a=mr(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:ps(o),e)}}function Wi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gs(t),r=gs(r)),e(t,r)}}function Gi(e,t,r,n,o,a,s,c,d,l){var h=8&t;t|=h?u:f,4&(t&=~(h?f:u))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,c,d,l],b=r.apply(i,p);return xo(e)&&Po(b,p),b.placeholder=n,Do(b,e,t)}function Qi(e){var t=Ie[e];return function(e,r){if(e=gs(e),(r=null==r?0:vr(bs(r),292))&&_t(e)){var n=(vs(e)+"e").split("e");return+((n=(vs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Yi=kr&&1/dr(new kr([,-0]))[1]==h?function(e){return new kr(e)}:uc;function Xi(e){return function(t){var r=yo(t);return r==E?cr(t):r==O?lr(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,a,h,p,b,y){var g=2&t;if(!g&&"function"!=typeof e)throw new Oe(o);var m=a?a.length:0;if(m||(t&=-97,a=h=i),b=b===i?b:mr(bs(b),0),y=y===i?y:bs(y),m-=h?h.length:0,t&f){var v=a,_=h;a=h=i}var w=g?i:ao(e),S=[e,t,r,a,h,v,_,p,b,y];if(w&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=n==d&&8==r||n==d&&r==l&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ti(u,c,t[4]):c,e[4]=u?fr(e[3],s):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ci(u,c,t[6]):c,e[6]=u?fr(e[5],s):t[6]);(c=t[7])&&(e[7]=c);n&d&&(e[8]=null==e[8]?t[8]:vr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(S,w),e=S[0],t=S[1],r=S[2],a=S[3],h=S[4],!(y=S[9]=S[9]===i?g?0:e.length:mr(S[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==c?function(e,t,r){var o=ji(e);return function a(){for(var s=arguments.length,c=n(s),u=s,f=co(a);u--;)c[u]=arguments[u];var d=s<3&&c[0]!==f&&c[s-1]!==f?[]:fr(c,f);return(s-=d.length)<r?Gi(e,t,Fi,a.placeholder,i,c,d,i,i,r-s):kt(this&&this!==bt&&this instanceof a?o:e,this,c)}}(e,t,y):t!=u&&33!=t||h.length?Fi.apply(i,S):function(e,t,r,i){var o=1&t,a=ji(e);return function t(){for(var s=-1,c=arguments.length,u=-1,f=i.length,d=n(f+c),l=this&&this!==bt&&this instanceof t?a:e;++u<f;)d[u]=i[u];for(;c--;)d[u++]=arguments[++s];return kt(l,o?r:this,d)}}(e,t,r,a);else var x=function(e,t,r){var n=1&t,i=ji(e);return function t(){return(this&&this!==bt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Do((w?ti:Po)(x,S),e,t)}function Zi(e,t,r,n){return e===i||Fa(e,Be[r])&&!Le.call(n,r)?t:e}function eo(e,t,r,n,o,a){return ts(e)&&ts(t)&&(a.set(t,e),qn(e,t,i,eo,a),a.delete(t)),e}function to(e){return os(e)?i:e}function ro(e,t,r,n,o,a){var s=1&r,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var l=-1,h=!0,p=2&r?new Gr:i;for(a.set(e,t),a.set(t,e);++l<c;){var b=e[l],y=t[l];if(n)var g=s?n(y,b,l,t,e,a):n(b,y,l,e,t,a);if(g!==i){if(g)continue;h=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tr(p,t)&&(b===e||o(b,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(b!==y&&!o(b,y,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function no(e){return Bo(To(e,i,$o),e+"")}function io(e){return En(e,Ms,po)}function oo(e){return En(e,Bs,bo)}var ao=Or?function(e){return Or.get(e)}:uc;function so(e){for(var t=e.name+"",r=Pr[t],n=Le.call(Pr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function co(e){return(Le.call(Hr,"placeholder")?Hr:e).placeholder}function uo(){var e=Hr.iteratee||oc;return e=e===oc?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function lo(e){for(var t=Ms(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Io(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Rn(r)?r:i}var po=gt?function(e){return null==e?[]:(e=ke(e),Mt(gt(e),(function(t){return Qe.call(e,t)})))}:yc,bo=gt?function(e){for(var t=[];e;)Lt(t,po(e)),e=We(e);return t}:yc,yo=In;function go(e,t,r){for(var n=-1,i=(t=_i(t,e)).length,o=!1;++n<i;){var a=jo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&es(i)&&_o(a,i)&&(Va(e)||Ka(e))}function mo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Fr(We(e))}function vo(e){return Va(e)||Ka(e)||!!(Xe&&e&&e[Xe])}function _o(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,r){if(!ts(r))return!1;var n=typeof t;return!!("number"==n?Wa(r)&&_o(t,r.length):"string"==n&&t in r)&&Fa(r[t],e)}function So(e,t){if(Va(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!us(e))||(re.test(e)||!te.test(e)||null!=t&&e in ke(t))}function xo(e){var t=so(e),r=Hr[t];if("function"!=typeof r||!(t in Kr.prototype))return!1;if(e===r)return!0;var n=ao(r);return!!n&&e===n[0]}(Ar&&yo(new Ar(new ArrayBuffer(1)))!=R||Er&&yo(new Er)!=E||Ir&&yo(Ir.resolve())!=T||kr&&yo(new kr)!=O||Tr&&yo(new Tr)!=B)&&(yo=function(e){var t=In(e),r=t==k?e.constructor:i,n=r?Uo(r):"";if(n)switch(n){case Mr:return R;case Br:return E;case Dr:return T;case Rr:return O;case Lr:return B}return t});var Ao=De?Ja:gc;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Be)}function Io(e){return e==e&&!ts(e)}function ko(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in ke(r)))}}function To(e,t,r){return t=mr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=mr(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=i[o];return c[t]=r(s),kt(e,this,c)}}function Co(e,t){return t.length<2?e:An(e,ii(t,0,-1))}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Ro(ti),Mo=ht||function(e,t){return bt.setTimeout(e,t)},Bo=Ro(ri);function Do(e,t,r){var n=t+"";return Bo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ct(g,(function(r){var n="_."+r[0];t&r[1]&&!Bt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(fe):[]}(n),r)))}function Ro(e){var t=0,r=0;return function(){var n=_r(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Lo(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var a=Qn(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var No=function(e){var t=Ra(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(he,"$1"):r||e)})),t}));function jo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ho(e){if(e instanceof Kr)return e.clone();var t=new qr(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Xn((function(e,t){return Ga(e)?ln(e,mn(t,1,Ga,!0)):[]})),zo=Xn((function(e,t){var r=Xo(t);return Ga(r)&&(r=i),Ga(e)?ln(e,mn(t,1,Ga,!0),uo(r,2)):[]})),qo=Xn((function(e,t){var r=Xo(t);return Ga(r)&&(r=i),Ga(e)?ln(e,mn(t,1,Ga,!0),i,r):[]}));function Ko(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:bs(r);return i<0&&(i=mr(n+i,0)),zt(e,uo(t,3),i)}function Vo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=bs(r),o=r<0?mr(n+o,0):vr(o,n-1)),zt(e,uo(t,3),o,!0)}function $o(e){return(null==e?0:e.length)?mn(e,1):[]}function Wo(e){return e&&e.length?e[0]:i}var Go=Xn((function(e){var t=Rt(e,mi);return t.length&&t[0]===e[0]?On(t):[]})),Qo=Xn((function(e){var t=Xo(e),r=Rt(e,mi);return t===Xo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?On(r,uo(t,2)):[]})),Yo=Xn((function(e){var t=Xo(e),r=Rt(e,mi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?On(r,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Xn(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?Wn(e,t):e}var ea=no((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Gn(e,Rt(t,(function(e){return _o(e,r)?+e:e})).sort(ki)),n}));function ta(e){return null==e?e:xr.call(e)}var ra=Xn((function(e){return di(mn(e,1,Ga,!0))})),na=Xn((function(e){var t=Xo(e);return Ga(t)&&(t=i),di(mn(e,1,Ga,!0),uo(t,2))})),ia=Xn((function(e){var t=Xo(e);return t="function"==typeof t?t:i,di(mn(e,1,Ga,!0),i,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Ga(e))return t=mr(e.length,t),!0})),Xt(t,(function(t){return Rt(e,Wt(t))}))}function aa(e,t){if(!e||!e.length)return[];var r=oa(e);return null==t?r:Rt(r,(function(e){return kt(t,i,e)}))}var sa=Xn((function(e,t){return Ga(e)?ln(e,t):[]})),ca=Xn((function(e){return yi(Mt(e,Ga))})),ua=Xn((function(e){var t=Xo(e);return Ga(t)&&(t=i),yi(Mt(e,Ga),uo(t,2))})),fa=Xn((function(e){var t=Xo(e);return t="function"==typeof t?t:i,yi(Mt(e,Ga),i,t)})),da=Xn(oa);var la=Xn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,aa(e,r)}));function ha(e){var t=Hr(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ba=no((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Kr&&_o(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:pa,args:[o],thisArg:i}),new qr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ya=Mi((function(e,t,r){Le.call(e,r)?++e[r]:an(e,r,1)}));var ga=Ui(Ko),ma=Ui(Vo);function va(e,t){return(Va(e)?Ct:hn)(e,uo(t,3))}function _a(e,t){return(Va(e)?Ot:pn)(e,uo(t,3))}var wa=Mi((function(e,t,r){Le.call(e,r)?e[r].push(t):an(e,r,[t])}));var Sa=Xn((function(e,t,r){var i=-1,o="function"==typeof t,a=Wa(e)?n(e.length):[];return hn(e,(function(e){a[++i]=o?kt(t,e,r):Pn(e,t,r)})),a})),xa=Mi((function(e,t,r){an(e,r,t)}));function Aa(e,t){return(Va(e)?Rt:Hn)(e,uo(t,3))}var Ea=Mi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ia=Xn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&wo(e,t[0],t[1])?t=[]:r>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,mn(t,1),[])})),ka=ft||function(){return bt.Date.now()};function Ta(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ca(e,t){var r;if("function"!=typeof t)throw new Oe(o);return e=bs(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Oa=Xn((function(e,t,r){var n=1;if(r.length){var i=fr(r,co(Oa));n|=u}return Ji(e,n,t,r,i)})),Pa=Xn((function(e,t,r){var n=3;if(r.length){var i=fr(r,co(Pa));n|=u}return Ji(t,n,e,r,i)}));function Ma(e,t,r){var n,a,s,c,u,f,d=0,l=!1,h=!1,p=!0;if("function"!=typeof e)throw new Oe(o);function b(t){var r=n,o=a;return n=a=i,d=t,c=e.apply(o,r)}function y(e){var r=e-f;return f===i||r>=t||r<0||h&&e-d>=s}function g(){var e=ka();if(y(e))return m(e);u=Mo(g,function(e){var r=t-(e-f);return h?vr(r,s-(e-d)):r}(e))}function m(e){return u=i,p&&n?b(e):(n=a=i,c)}function v(){var e=ka(),r=y(e);if(n=arguments,a=this,f=e,r){if(u===i)return function(e){return d=e,u=Mo(g,t),l?b(e):c}(f);if(h)return xi(u),u=Mo(g,t),b(f)}return u===i&&(u=Mo(g,t)),c}return t=gs(t)||0,ts(r)&&(l=!!r.leading,s=(h="maxWait"in r)?mr(gs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),v.cancel=function(){u!==i&&xi(u),d=0,n=f=a=u=i},v.flush=function(){return u===i?c:m(ka())},v}var Ba=Xn((function(e,t){return dn(e,1,t)})),Da=Xn((function(e,t,r){return dn(e,gs(t)||0,r)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Ra.Cache||Wr),r}function La(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Wr;var Na=wi((function(e,t){var r=(t=1==t.length&&Va(t[0])?Rt(t[0],Zt(uo())):Rt(mn(t,1),Zt(uo()))).length;return Xn((function(n){for(var i=-1,o=vr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return kt(e,this,n)}))})),ja=Xn((function(e,t){var r=fr(t,co(ja));return Ji(e,u,i,t,r)})),Ua=Xn((function(e,t){var r=fr(t,co(Ua));return Ji(e,f,i,t,r)})),Ha=no((function(e,t){return Ji(e,l,i,i,i,t)}));function Fa(e,t){return e===t||e!=e&&t!=t}var za=Wi(kn),qa=Wi((function(e,t){return e>=t})),Ka=Mn(function(){return arguments}())?Mn:function(e){return rs(e)&&Le.call(e,"callee")&&!Qe.call(e,"callee")},Va=n.isArray,$a=wt?Zt(wt):function(e){return rs(e)&&In(e)==D};function Wa(e){return null!=e&&es(e.length)&&!Ja(e)}function Ga(e){return rs(e)&&Wa(e)}var Qa=vt||gc,Ya=St?Zt(St):function(e){return rs(e)&&In(e)==w};function Xa(e){if(!rs(e))return!1;var t=In(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Ja(e){if(!ts(e))return!1;var t=In(e);return t==x||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Za(e){return"number"==typeof e&&e==bs(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var ns=xt?Zt(xt):function(e){return rs(e)&&yo(e)==E};function is(e){return"number"==typeof e||rs(e)&&In(e)==I}function os(e){if(!rs(e)||In(e)!=k)return!1;var t=We(e);if(null===t)return!0;var r=Le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Re.call(r)==He}var as=At?Zt(At):function(e){return rs(e)&&In(e)==C};var ss=Et?Zt(Et):function(e){return rs(e)&&yo(e)==O};function cs(e){return"string"==typeof e||!Va(e)&&rs(e)&&In(e)==P}function us(e){return"symbol"==typeof e||rs(e)&&In(e)==M}var fs=It?Zt(It):function(e){return rs(e)&&es(e.length)&&!!ct[In(e)]};var ds=Wi(Un),ls=Wi((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Wa(e))return cs(e)?pr(e):Oi(e);if(Je&&e[Je])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Je]());var t=yo(e);return(t==E?cr:t==O?dr:Fs)(e)}function ps(e){return e?(e=gs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function bs(e){var t=ps(e),r=t%1;return t==t?r?t-r:t:0}function ys(e){return e?cn(bs(e),0,y):0}function gs(e){if("number"==typeof e)return e;if(us(e))return b;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=ge.test(e);return r||ve.test(e)?lt(e.slice(2),r?2:8):ye.test(e)?b:+e}function ms(e){return Pi(e,Bs(e))}function vs(e){return null==e?"":fi(e)}var _s=Bi((function(e,t){if(Eo(t)||Wa(t))Pi(t,Ms(t),e);else for(var r in t)Le.call(t,r)&&tn(e,r,t[r])})),ws=Bi((function(e,t){Pi(t,Bs(t),e)})),Ss=Bi((function(e,t,r,n){Pi(t,Bs(t),e,n)})),xs=Bi((function(e,t,r,n){Pi(t,Ms(t),e,n)})),As=no(sn);var Es=Xn((function(e,t){e=ke(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],s=Bs(a),c=-1,u=s.length;++c<u;){var f=s[c],d=e[f];(d===i||Fa(d,Be[f])&&!Le.call(e,f))&&(e[f]=a[f])}return e})),Is=Xn((function(e){return e.push(i,eo),kt(Rs,i,e)}));function ks(e,t,r){var n=null==e?i:An(e,t);return n===i?r:n}function Ts(e,t){return null!=e&&go(e,t,Cn)}var Cs=zi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=r}),tc(ic)),Os=zi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Le.call(e,t)?e[t].push(r):e[t]=[r]}),uo),Ps=Xn(Pn);function Ms(e){return Wa(e)?Yr(e):Nn(e)}function Bs(e){return Wa(e)?Yr(e,!0):jn(e)}var Ds=Bi((function(e,t,r){qn(e,t,r)})),Rs=Bi((function(e,t,r,n){qn(e,t,r,n)})),Ls=no((function(e,t){var r={};if(null==e)return r;var n=!1;t=Rt(t,(function(t){return t=_i(t,e),n||(n=t.length>1),t})),Pi(e,oo(e),r),n&&(r=un(r,7,to));for(var i=t.length;i--;)li(r,t[i]);return r}));var Ns=no((function(e,t){return null==e?{}:function(e,t){return $n(e,t,(function(t,r){return Ts(e,r)}))}(e,t)}));function js(e,t){if(null==e)return{};var r=Rt(oo(e),(function(e){return[e]}));return t=uo(t),$n(e,r,(function(e,r){return t(e,r[0])}))}var Us=Xi(Ms),Hs=Xi(Bs);function Fs(e){return null==e?[]:er(e,Ms(e))}var zs=Ni((function(e,t,r){return t=t.toLowerCase(),e+(r?qs(t):t)}));function qs(e){return Xs(vs(e).toLowerCase())}function Ks(e){return(e=vs(e))&&e.replace(we,ir).replace(tt,"")}var Vs=Ni((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),$s=Ni((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Ws=Li("toLowerCase");var Gs=Ni((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Qs=Ni((function(e,t,r){return e+(r?" ":"")+Xs(t)}));var Ys=Ni((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Xs=Li("toUpperCase");function Js(e,t,r){return e=vs(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Zs=Xn((function(e,t){try{return kt(e,i,t)}catch(e){return Xa(e)?e:new Ae(e)}})),ec=no((function(e,t){return Ct(t,(function(t){t=jo(t),an(e,t,Oa(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Hi(),nc=Hi(!0);function ic(e){return e}function oc(e){return Ln("function"==typeof e?e:un(e,1))}var ac=Xn((function(e,t){return function(r){return Pn(r,e,t)}})),sc=Xn((function(e,t){return function(r){return Pn(e,r,t)}}));function cc(e,t,r){var n=Ms(t),i=xn(t,n);null!=r||ts(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=xn(t,Ms(t)));var o=!(ts(r)&&"chain"in r&&!r.chain),a=Ja(e);return Ct(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Oi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Lt([this.value()],arguments))})})),e}function uc(){}var fc=Ki(Rt),dc=Ki(Pt),lc=Ki(Ut);function hc(e){return So(e)?Wt(jo(e)):function(e){return function(t){return An(t,e)}}(e)}var pc=$i(),bc=$i(!0);function yc(){return[]}function gc(){return!1}var mc=qi((function(e,t){return e+t}),0),vc=Qi("ceil"),_c=qi((function(e,t){return e/t}),1),wc=Qi("floor");var Sc,xc=qi((function(e,t){return e*t}),1),Ac=Qi("round"),Ec=qi((function(e,t){return e-t}),0);return Hr.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=bs(e),function(){if(--e<1)return t.apply(this,arguments)}},Hr.ary=Ta,Hr.assign=_s,Hr.assignIn=ws,Hr.assignInWith=Ss,Hr.assignWith=xs,Hr.at=As,Hr.before=Ca,Hr.bind=Oa,Hr.bindAll=ec,Hr.bindKey=Pa,Hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Hr.chain=ha,Hr.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:mr(bs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,c=n(pt(o/t));a<o;)c[s++]=ii(e,a,a+=t);return c},Hr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(Va(r)?Oi(r):[r],mn(t,1))},Hr.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[r(e[0]),e[1]]})):[],Xn((function(r){for(var n=-1;++n<t;){var i=e[n];if(kt(i[0],this,r))return kt(i[1],this,r)}}))},Hr.conforms=function(e){return function(e){var t=Ms(e);return function(r){return fn(r,e,t)}}(un(e,1))},Hr.constant=tc,Hr.countBy=ya,Hr.create=function(e,t){var r=Fr(e);return null==t?r:on(r,t)},Hr.curry=function e(t,r,n){var o=Ji(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Hr.curryRight=function e(t,r,n){var o=Ji(t,c,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Hr.debounce=Ma,Hr.defaults=Es,Hr.defaultsDeep=Is,Hr.defer=Ba,Hr.delay=Da,Hr.difference=Fo,Hr.differenceBy=zo,Hr.differenceWith=qo,Hr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=r||t===i?1:bs(t))<0?0:t,n):[]},Hr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,0,(t=n-(t=r||t===i?1:bs(t)))<0?0:t):[]},Hr.dropRightWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!0,!0):[]},Hr.dropWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!0):[]},Hr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&wo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=bs(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:bs(n))<0&&(n+=o),n=r>n?0:ys(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Hr.filter=function(e,t){return(Va(e)?Mt:gn)(e,uo(t,3))},Hr.flatMap=function(e,t){return mn(Aa(e,t),1)},Hr.flatMapDeep=function(e,t){return mn(Aa(e,t),h)},Hr.flatMapDepth=function(e,t,r){return r=r===i?1:bs(r),mn(Aa(e,t),r)},Hr.flatten=$o,Hr.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,h):[]},Hr.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===i?1:bs(t)):[]},Hr.flip=function(e){return Ji(e,512)},Hr.flow=rc,Hr.flowRight=nc,Hr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Hr.functions=function(e){return null==e?[]:xn(e,Ms(e))},Hr.functionsIn=function(e){return null==e?[]:xn(e,Bs(e))},Hr.groupBy=wa,Hr.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Hr.intersection=Go,Hr.intersectionBy=Qo,Hr.intersectionWith=Yo,Hr.invert=Cs,Hr.invertBy=Os,Hr.invokeMap=Sa,Hr.iteratee=oc,Hr.keyBy=xa,Hr.keys=Ms,Hr.keysIn=Bs,Hr.map=Aa,Hr.mapKeys=function(e,t){var r={};return t=uo(t,3),wn(e,(function(e,n,i){an(r,t(e,n,i),e)})),r},Hr.mapValues=function(e,t){var r={};return t=uo(t,3),wn(e,(function(e,n,i){an(r,n,t(e,n,i))})),r},Hr.matches=function(e){return Fn(un(e,1))},Hr.matchesProperty=function(e,t){return zn(e,un(t,1))},Hr.memoize=Ra,Hr.merge=Ds,Hr.mergeWith=Rs,Hr.method=ac,Hr.methodOf=sc,Hr.mixin=cc,Hr.negate=La,Hr.nthArg=function(e){return e=bs(e),Xn((function(t){return Kn(t,e)}))},Hr.omit=Ls,Hr.omitBy=function(e,t){return js(e,La(uo(t)))},Hr.once=function(e){return Ca(2,e)},Hr.orderBy=function(e,t,r,n){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(r=n?i:r)||(r=null==r?[]:[r]),Vn(e,t,r))},Hr.over=fc,Hr.overArgs=Na,Hr.overEvery=dc,Hr.overSome=lc,Hr.partial=ja,Hr.partialRight=Ua,Hr.partition=Ea,Hr.pick=Ns,Hr.pickBy=js,Hr.property=hc,Hr.propertyOf=function(e){return function(t){return null==e?i:An(e,t)}},Hr.pull=Jo,Hr.pullAll=Zo,Hr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Wn(e,t,uo(r,2)):e},Hr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Wn(e,t,i,r):e},Hr.pullAt=ea,Hr.range=pc,Hr.rangeRight=bc,Hr.rearg=Ha,Hr.reject=function(e,t){return(Va(e)?Mt:gn)(e,La(uo(t,3)))},Hr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=uo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Gn(e,i),r},Hr.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Xn(e,t=t===i?t:bs(t))},Hr.reverse=ta,Hr.sampleSize=function(e,t,r){return t=(r?wo(e,t,r):t===i)?1:bs(t),(Va(e)?Jr:Zn)(e,t)},Hr.set=function(e,t,r){return null==e?e:ei(e,t,r)},Hr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ei(e,t,r,n)},Hr.shuffle=function(e){return(Va(e)?Zr:ni)(e)},Hr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&wo(e,t,r)?(t=0,r=n):(t=null==t?0:bs(t),r=r===i?n:bs(r)),ii(e,t,r)):[]},Hr.sortBy=Ia,Hr.sortedUniq=function(e){return e&&e.length?ci(e):[]},Hr.sortedUniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Hr.split=function(e,t,r){return r&&"number"!=typeof r&&wo(e,t,r)&&(t=r=i),(r=r===i?y:r>>>0)?(e=vs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=fi(t))&&sr(e)?Si(pr(e),0,r):e.split(t,r):[]},Hr.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:mr(bs(t),0),Xn((function(r){var n=r[t],i=Si(r,0,t);return n&&Lt(i,n),kt(e,this,i)}))},Hr.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Hr.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===i?1:bs(t))<0?0:t):[]},Hr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=n-(t=r||t===i?1:bs(t)))<0?0:t,n):[]},Hr.takeRightWhile=function(e,t){return e&&e.length?pi(e,uo(t,3),!1,!0):[]},Hr.takeWhile=function(e,t){return e&&e.length?pi(e,uo(t,3)):[]},Hr.tap=function(e,t){return t(e),e},Hr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Oe(o);return ts(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ma(e,t,{leading:n,maxWait:t,trailing:i})},Hr.thru=pa,Hr.toArray=hs,Hr.toPairs=Us,Hr.toPairsIn=Hs,Hr.toPath=function(e){return Va(e)?Rt(e,jo):us(e)?[e]:Oi(No(vs(e)))},Hr.toPlainObject=ms,Hr.transform=function(e,t,r){var n=Va(e),i=n||Qa(e)||fs(e);if(t=uo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ts(e)&&Ja(o)?Fr(We(e)):{}}return(i?Ct:wn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Hr.unary=function(e){return Ta(e,1)},Hr.union=ra,Hr.unionBy=na,Hr.unionWith=ia,Hr.uniq=function(e){return e&&e.length?di(e):[]},Hr.uniqBy=function(e,t){return e&&e.length?di(e,uo(t,2)):[]},Hr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Hr.unset=function(e,t){return null==e||li(e,t)},Hr.unzip=oa,Hr.unzipWith=aa,Hr.update=function(e,t,r){return null==e?e:hi(e,t,vi(r))},Hr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:hi(e,t,vi(r),n)},Hr.values=Fs,Hr.valuesIn=function(e){return null==e?[]:er(e,Bs(e))},Hr.without=sa,Hr.words=Js,Hr.wrap=function(e,t){return ja(vi(t),e)},Hr.xor=ca,Hr.xorBy=ua,Hr.xorWith=fa,Hr.zip=da,Hr.zipObject=function(e,t){return gi(e||[],t||[],tn)},Hr.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},Hr.zipWith=la,Hr.entries=Us,Hr.entriesIn=Hs,Hr.extend=ws,Hr.extendWith=Ss,cc(Hr,Hr),Hr.add=mc,Hr.attempt=Zs,Hr.camelCase=zs,Hr.capitalize=qs,Hr.ceil=vc,Hr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=gs(r))==r?r:0),t!==i&&(t=(t=gs(t))==t?t:0),cn(gs(e),t,r)},Hr.clone=function(e){return un(e,4)},Hr.cloneDeep=function(e){return un(e,5)},Hr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:i)},Hr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:i)},Hr.conformsTo=function(e,t){return null==t||fn(e,t,Ms(t))},Hr.deburr=Ks,Hr.defaultTo=function(e,t){return null==e||e!=e?t:e},Hr.divide=_c,Hr.endsWith=function(e,t,r){e=vs(e),t=fi(t);var n=e.length,o=r=r===i?n:cn(bs(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Hr.eq=Fa,Hr.escape=function(e){return(e=vs(e))&&X.test(e)?e.replace(Q,or):e},Hr.escapeRegExp=function(e){return(e=vs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Hr.every=function(e,t,r){var n=Va(e)?Pt:bn;return r&&wo(e,t,r)&&(t=i),n(e,uo(t,3))},Hr.find=ga,Hr.findIndex=Ko,Hr.findKey=function(e,t){return Ft(e,uo(t,3),wn)},Hr.findLast=ma,Hr.findLastIndex=Vo,Hr.findLastKey=function(e,t){return Ft(e,uo(t,3),Sn)},Hr.floor=wc,Hr.forEach=va,Hr.forEachRight=_a,Hr.forIn=function(e,t){return null==e?e:vn(e,uo(t,3),Bs)},Hr.forInRight=function(e,t){return null==e?e:_n(e,uo(t,3),Bs)},Hr.forOwn=function(e,t){return e&&wn(e,uo(t,3))},Hr.forOwnRight=function(e,t){return e&&Sn(e,uo(t,3))},Hr.get=ks,Hr.gt=za,Hr.gte=qa,Hr.has=function(e,t){return null!=e&&go(e,t,Tn)},Hr.hasIn=Ts,Hr.head=Wo,Hr.identity=ic,Hr.includes=function(e,t,r,n){e=Wa(e)?e:Fs(e),r=r&&!n?bs(r):0;var i=e.length;return r<0&&(r=mr(i+r,0)),cs(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&qt(e,t,r)>-1},Hr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:bs(r);return i<0&&(i=mr(n+i,0)),qt(e,t,i)},Hr.inRange=function(e,t,r){return t=ps(t),r===i?(r=t,t=0):r=ps(r),function(e,t,r){return e>=vr(t,r)&&e<mr(t,r)}(e=gs(e),t,r)},Hr.invoke=Ps,Hr.isArguments=Ka,Hr.isArray=Va,Hr.isArrayBuffer=$a,Hr.isArrayLike=Wa,Hr.isArrayLikeObject=Ga,Hr.isBoolean=function(e){return!0===e||!1===e||rs(e)&&In(e)==_},Hr.isBuffer=Qa,Hr.isDate=Ya,Hr.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Hr.isEmpty=function(e){if(null==e)return!0;if(Wa(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||fs(e)||Ka(e)))return!e.length;var t=yo(e);if(t==E||t==O)return!e.size;if(Eo(e))return!Nn(e).length;for(var r in e)if(Le.call(e,r))return!1;return!0},Hr.isEqual=function(e,t){return Bn(e,t)},Hr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Bn(e,t,i,r):!!n},Hr.isError=Xa,Hr.isFinite=function(e){return"number"==typeof e&&_t(e)},Hr.isFunction=Ja,Hr.isInteger=Za,Hr.isLength=es,Hr.isMap=ns,Hr.isMatch=function(e,t){return e===t||Dn(e,t,lo(t))},Hr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Dn(e,t,lo(t),r)},Hr.isNaN=function(e){return is(e)&&e!=+e},Hr.isNative=function(e){if(Ao(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rn(e)},Hr.isNil=function(e){return null==e},Hr.isNull=function(e){return null===e},Hr.isNumber=is,Hr.isObject=ts,Hr.isObjectLike=rs,Hr.isPlainObject=os,Hr.isRegExp=as,Hr.isSafeInteger=function(e){return Za(e)&&e>=-9007199254740991&&e<=p},Hr.isSet=ss,Hr.isString=cs,Hr.isSymbol=us,Hr.isTypedArray=fs,Hr.isUndefined=function(e){return e===i},Hr.isWeakMap=function(e){return rs(e)&&yo(e)==B},Hr.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==In(e)},Hr.join=function(e,t){return null==e?"":Ht.call(e,t)},Hr.kebabCase=Vs,Hr.last=Xo,Hr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=bs(r))<0?mr(n+o,0):vr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):zt(e,Vt,o,!0)},Hr.lowerCase=$s,Hr.lowerFirst=Ws,Hr.lt=ds,Hr.lte=ls,Hr.max=function(e){return e&&e.length?yn(e,ic,kn):i},Hr.maxBy=function(e,t){return e&&e.length?yn(e,uo(t,2),kn):i},Hr.mean=function(e){return $t(e,ic)},Hr.meanBy=function(e,t){return $t(e,uo(t,2))},Hr.min=function(e){return e&&e.length?yn(e,ic,Un):i},Hr.minBy=function(e,t){return e&&e.length?yn(e,uo(t,2),Un):i},Hr.stubArray=yc,Hr.stubFalse=gc,Hr.stubObject=function(){return{}},Hr.stubString=function(){return""},Hr.stubTrue=function(){return!0},Hr.multiply=xc,Hr.nth=function(e,t){return e&&e.length?Kn(e,bs(t)):i},Hr.noConflict=function(){return bt._===this&&(bt._=Fe),this},Hr.noop=uc,Hr.now=ka,Hr.pad=function(e,t,r){e=vs(e);var n=(t=bs(t))?hr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Vi(yt(i),r)+e+Vi(pt(i),r)},Hr.padEnd=function(e,t,r){e=vs(e);var n=(t=bs(t))?hr(e):0;return t&&n<t?e+Vi(t-n,r):e},Hr.padStart=function(e,t,r){e=vs(e);var n=(t=bs(t))?hr(e):0;return t&&n<t?Vi(t-n,r)+e:e},Hr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),wr(vs(e).replace(ae,""),t||0)},Hr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&wo(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=ps(e),t===i?(t=e,e=0):t=ps(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Sr();return vr(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Qn(e,t)},Hr.reduce=function(e,t,r){var n=Va(e)?Nt:Qt,i=arguments.length<3;return n(e,uo(t,4),r,i,hn)},Hr.reduceRight=function(e,t,r){var n=Va(e)?jt:Qt,i=arguments.length<3;return n(e,uo(t,4),r,i,pn)},Hr.repeat=function(e,t,r){return t=(r?wo(e,t,r):t===i)?1:bs(t),Yn(vs(e),t)},Hr.replace=function(){var e=arguments,t=vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hr.result=function(e,t,r){var n=-1,o=(t=_i(t,e)).length;for(o||(o=1,e=i);++n<o;){var a=null==e?i:e[jo(t[n])];a===i&&(n=o,a=r),e=Ja(a)?a.call(e):a}return e},Hr.round=Ac,Hr.runInContext=e,Hr.sample=function(e){return(Va(e)?Xr:Jn)(e)},Hr.size=function(e){if(null==e)return 0;if(Wa(e))return cs(e)?hr(e):e.length;var t=yo(e);return t==E||t==O?e.size:Nn(e).length},Hr.snakeCase=Gs,Hr.some=function(e,t,r){var n=Va(e)?Ut:oi;return r&&wo(e,t,r)&&(t=i),n(e,uo(t,3))},Hr.sortedIndex=function(e,t){return ai(e,t)},Hr.sortedIndexBy=function(e,t,r){return si(e,t,uo(r,2))},Hr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ai(e,t);if(n<r&&Fa(e[n],t))return n}return-1},Hr.sortedLastIndex=function(e,t){return ai(e,t,!0)},Hr.sortedLastIndexBy=function(e,t,r){return si(e,t,uo(r,2),!0)},Hr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ai(e,t,!0)-1;if(Fa(e[r],t))return r}return-1},Hr.startCase=Qs,Hr.startsWith=function(e,t,r){return e=vs(e),r=null==r?0:cn(bs(r),0,e.length),t=fi(t),e.slice(r,r+t.length)==t},Hr.subtract=Ec,Hr.sum=function(e){return e&&e.length?Yt(e,ic):0},Hr.sumBy=function(e,t){return e&&e.length?Yt(e,uo(t,2)):0},Hr.template=function(e,t,r){var n=Hr.templateSettings;r&&wo(e,t,r)&&(t=i),e=vs(e),t=Ss({},t,n,Zi);var o,a,s=Ss({},t.imports,n.imports,Zi),c=Ms(s),u=er(s,c),f=0,d=t.interpolate||Se,l="__p += '",h=Te((t.escape||Se).source+"|"+d.source+"|"+(d===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,r,n,i,s,c){return n||(n=i),l+=e.slice(f,c).replace(xe,ar),r&&(o=!0,l+="' +\n__e("+r+") +\n'"),s&&(a=!0,l+="';\n"+s+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=c+t.length,t})),l+="';\n";var b=Le.call(t,"variable")&&t.variable;if(b){if(le.test(b))throw new Ae("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(a?l.replace(V,""):l).replace($,"$1").replace(W,"$1;"),l="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var y=Zs((function(){return Ee(c,p+"return "+l).apply(i,u)}));if(y.source=l,Xa(y))throw y;return y},Hr.times=function(e,t){if((e=bs(e))<1||e>p)return[];var r=y,n=vr(e,y);t=uo(t),e-=y;for(var i=Xt(n,t);++r<e;)t(r);return i},Hr.toFinite=ps,Hr.toInteger=bs,Hr.toLength=ys,Hr.toLower=function(e){return vs(e).toLowerCase()},Hr.toNumber=gs,Hr.toSafeInteger=function(e){return e?cn(bs(e),-9007199254740991,p):0===e?e:0},Hr.toString=vs,Hr.toUpper=function(e){return vs(e).toUpperCase()},Hr.trim=function(e,t,r){if((e=vs(e))&&(r||t===i))return Jt(e);if(!e||!(t=fi(t)))return e;var n=pr(e),o=pr(t);return Si(n,rr(n,o),nr(n,o)+1).join("")},Hr.trimEnd=function(e,t,r){if((e=vs(e))&&(r||t===i))return e.slice(0,br(e)+1);if(!e||!(t=fi(t)))return e;var n=pr(e);return Si(n,0,nr(n,pr(t))+1).join("")},Hr.trimStart=function(e,t,r){if((e=vs(e))&&(r||t===i))return e.replace(ae,"");if(!e||!(t=fi(t)))return e;var n=pr(e);return Si(n,rr(n,pr(t))).join("")},Hr.truncate=function(e,t){var r=30,n="...";if(ts(t)){var o="separator"in t?t.separator:o;r="length"in t?bs(t.length):r,n="omission"in t?fi(t.omission):n}var a=(e=vs(e)).length;if(sr(e)){var s=pr(e);a=s.length}if(r>=a)return e;var c=r-hr(n);if(c<1)return n;var u=s?Si(s,0,c).join(""):e.slice(0,c);if(o===i)return u+n;if(s&&(c+=u.length-c),as(o)){if(e.slice(c).search(o)){var f,d=u;for(o.global||(o=Te(o.source,vs(be.exec(o))+"g")),o.lastIndex=0;f=o.exec(d);)var l=f.index;u=u.slice(0,l===i?c:l)}}else if(e.indexOf(fi(o),c)!=c){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+n},Hr.unescape=function(e){return(e=vs(e))&&Y.test(e)?e.replace(G,yr):e},Hr.uniqueId=function(e){var t=++Ne;return vs(e)+t},Hr.upperCase=Ys,Hr.upperFirst=Xs,Hr.each=va,Hr.eachRight=_a,Hr.first=Wo,cc(Hr,(Sc={},wn(Hr,(function(e,t){Le.call(Hr.prototype,t)||(Sc[t]=e)})),Sc),{chain:!1}),Hr.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hr[e].placeholder=Hr})),Ct(["drop","take"],(function(e,t){Kr.prototype[e]=function(r){r=r===i?1:mr(bs(r),0);var n=this.__filtered__&&!t?new Kr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,y),type:e+(n.__dir__<0?"Right":"")}),n},Kr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Kr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ct(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Kr.prototype[e]=function(){return this[r](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Kr.prototype[e]=function(){return this.__filtered__?new Kr(this):this[r](1)}})),Kr.prototype.compact=function(){return this.filter(ic)},Kr.prototype.find=function(e){return this.filter(e).head()},Kr.prototype.findLast=function(e){return this.reverse().find(e)},Kr.prototype.invokeMap=Xn((function(e,t){return"function"==typeof e?new Kr(this):this.map((function(r){return Pn(r,e,t)}))})),Kr.prototype.reject=function(e){return this.filter(La(uo(e)))},Kr.prototype.slice=function(e,t){e=bs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Kr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=bs(t))<0?r.dropRight(-t):r.take(t-e)),r)},Kr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kr.prototype.toArray=function(){return this.take(y)},wn(Kr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Hr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);o&&(Hr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,c=t instanceof Kr,u=s[0],f=c||Va(t),d=function(e){var t=o.apply(Hr,Lt([e],s));return n&&l?t[0]:t};f&&r&&"function"==typeof u&&1!=u.length&&(c=f=!1);var l=this.__chain__,h=!!this.__actions__.length,p=a&&!l,b=c&&!h;if(!a&&f){t=b?t:new Kr(this);var y=e.apply(t,s);return y.__actions__.push({func:pa,args:[d],thisArg:i}),new qr(y,l)}return p&&b?e.apply(this,s):(y=this.thru(d),p?n?y.value()[0]:y.value():y)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Hr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Va(i)?i:[],e)}return this[r]((function(r){return t.apply(Va(r)?r:[],e)}))}})),wn(Kr.prototype,(function(e,t){var r=Hr[t];if(r){var n=r.name+"";Le.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:t,func:r})}})),Pr[Fi(i,2).name]=[{name:"wrapper",func:i}],Kr.prototype.clone=function(){var e=new Kr(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Kr.prototype.reverse=function(){if(this.__filtered__){var e=new Kr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Va(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vr(t,e+a);break;case"takeRight":e=mr(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,c=s-a,u=n?s:a-1,f=this.__iteratees__,d=f.length,l=0,h=vr(c,this.__takeCount__);if(!r||!n&&i==c&&h==c)return bi(e,this.__actions__);var p=[];e:for(;c--&&l<h;){for(var b=-1,y=e[u+=t];++b<d;){var g=f[b],m=g.iteratee,v=g.type,_=m(y);if(2==v)y=_;else if(!_){if(1==v)continue e;break e}}p[l++]=y}return p},Hr.prototype.at=ba,Hr.prototype.chain=function(){return ha(this)},Hr.prototype.commit=function(){return new qr(this.value(),this.__chain__)},Hr.prototype.next=function(){this.__values__===i&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hr.prototype.plant=function(e){for(var t,r=this;r instanceof zr;){var n=Ho(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kr){var t=e;return this.__actions__.length&&(t=new Kr(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:i}),new qr(t,this.__chain__)}return this.thru(ta)},Hr.prototype.toJSON=Hr.prototype.valueOf=Hr.prototype.value=function(){return bi(this.__wrapped__,this.__actions__)},Hr.prototype.first=Hr.prototype.head,Je&&(Hr.prototype[Je]=function(){return this}),Hr}();bt._=gr,(n=function(){return gr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},50104:(e,t,r)=>{var n=r(53661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},71086:(e,t,r)=>{var n=r(34932),i=r(15389),o=r(97420),a=r(83349);e.exports=function(e,t){if(null==e)return{};var r=n(a(e),(function(e){return[e]}));return t=i(t),o(e,r,(function(e,r){return t(e,r[0])}))}},50583:(e,t,r)=>{var n=r(47237),i=r(17255),o=r(28586),a=r(77797);e.exports=function(e){return o(e)?n(a(e)):i(e)}},63345:e=>{e.exports=function(){return[]}},89935:e=>{e.exports=function(){return!1}},13222:(e,t,r)=>{var n=r(77556);e.exports=function(e){return null==e?"":n(e)}},48089:e=>{"use strict";const t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),i=(e,t,o,a=new WeakMap)=>{if(o={deep:!1,target:{},...o},a.has(e))return a.get(e);a.set(e,o.target);const{target:s}=o;delete o.target;const c=e=>e.map((e=>n(e)?i(e,t,o,a):e));if(Array.isArray(e))return c(e);for(const[u,f]of Object.entries(e)){const d=t(u,f,e);if(d===r)continue;let[l,h,{shouldRecurse:p=!0}={}]=d;"__proto__"!==l&&(o.deep&&p&&n(h)&&(h=Array.isArray(h)?c(h):i(h,t,o,a)),s[l]=h)}return s};e.exports=(e,r,n)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return i(e,r,n)},e.exports.mapObjectSkip=r},88276:(e,t,r)=>{"use strict";var n=r(56698),i=r(73726),o=r(92861).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o,a){return c(e+(t&r|~t&n)+i+o|0,a)+t|0}function f(e,t,r,n,i,o,a){return c(e+(t&n|r&~n)+i+o|0,a)+t|0}function d(e,t,r,n,i,o,a){return c(e+(t^r^n)+i+o|0,a)+t|0}function l(e,t,r,n,i,o,a){return c(e+(r^(t|~n))+i+o|0,a)+t|0}n(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=u(r,n,i,o,e[0],3614090360,7),o=u(o,r,n,i,e[1],3905402710,12),i=u(i,o,r,n,e[2],606105819,17),n=u(n,i,o,r,e[3],3250441966,22),r=u(r,n,i,o,e[4],4118548399,7),o=u(o,r,n,i,e[5],1200080426,12),i=u(i,o,r,n,e[6],2821735955,17),n=u(n,i,o,r,e[7],4249261313,22),r=u(r,n,i,o,e[8],1770035416,7),o=u(o,r,n,i,e[9],2336552879,12),i=u(i,o,r,n,e[10],4294925233,17),n=u(n,i,o,r,e[11],2304563134,22),r=u(r,n,i,o,e[12],1804603682,7),o=u(o,r,n,i,e[13],4254626195,12),i=u(i,o,r,n,e[14],2792965006,17),r=f(r,n=u(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=f(o,r,n,i,e[6],3225465664,9),i=f(i,o,r,n,e[11],643717713,14),n=f(n,i,o,r,e[0],3921069994,20),r=f(r,n,i,o,e[5],3593408605,5),o=f(o,r,n,i,e[10],38016083,9),i=f(i,o,r,n,e[15],3634488961,14),n=f(n,i,o,r,e[4],3889429448,20),r=f(r,n,i,o,e[9],568446438,5),o=f(o,r,n,i,e[14],3275163606,9),i=f(i,o,r,n,e[3],4107603335,14),n=f(n,i,o,r,e[8],1163531501,20),r=f(r,n,i,o,e[13],2850285829,5),o=f(o,r,n,i,e[2],4243563512,9),i=f(i,o,r,n,e[7],1735328473,14),r=d(r,n=f(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=d(o,r,n,i,e[8],2272392833,11),i=d(i,o,r,n,e[11],1839030562,16),n=d(n,i,o,r,e[14],4259657740,23),r=d(r,n,i,o,e[1],2763975236,4),o=d(o,r,n,i,e[4],1272893353,11),i=d(i,o,r,n,e[7],4139469664,16),n=d(n,i,o,r,e[10],3200236656,23),r=d(r,n,i,o,e[13],681279174,4),o=d(o,r,n,i,e[0],3936430074,11),i=d(i,o,r,n,e[3],3572445317,16),n=d(n,i,o,r,e[6],76029189,23),r=d(r,n,i,o,e[9],3654602809,4),o=d(o,r,n,i,e[12],3873151461,11),i=d(i,o,r,n,e[15],530742520,16),r=l(r,n=d(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=l(o,r,n,i,e[7],1126891415,10),i=l(i,o,r,n,e[14],2878612391,15),n=l(n,i,o,r,e[5],4237533241,21),r=l(r,n,i,o,e[12],1700485571,6),o=l(o,r,n,i,e[3],2399980690,10),i=l(i,o,r,n,e[10],4293915773,15),n=l(n,i,o,r,e[1],2240044497,21),r=l(r,n,i,o,e[8],1873313359,6),o=l(o,r,n,i,e[15],4264355552,10),i=l(i,o,r,n,e[6],2734768916,15),n=l(n,i,o,r,e[13],1309151649,21),r=l(r,n,i,o,e[4],4149444226,6),o=l(o,r,n,i,e[11],3174756917,10),i=l(i,o,r,n,e[2],718787259,15),n=l(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},73726:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(28399).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(56698)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},52244:(e,t,r)=>{var n=r(39404),i=r(15037);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),c=0;!s.testn(c);c++);for(var u=e.shrn(c),f=s.toRed(o);t>0;t--){var d=this._randrange(new n(2),s);r&&r(d);var l=d.toRed(o).redPow(u);if(0!==l.cmp(a)&&0!==l.cmp(f)){for(var h=1;h<c;h++){if(0===(l=l.redSqr()).cmp(a))return!1;if(0===l.cmp(f))break}if(h===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var c=e.shrn(s),u=a.toRed(i);t>0;t--){var f=this._randrange(new n(2),a),d=e.gcd(f);if(0!==d.cmpn(1))return d;var l=f.toRed(i).redPow(c);if(0!==l.cmp(o)&&0!==l.cmp(u)){for(var h=1;h<s;h++){if(0===(l=l.redSqr()).cmp(o))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(u))break}if(h===s)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},43349:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},64367:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},86889:e=>{e.exports=function e(r,n){if(!r){var i=new t(n);throw Error.captureStackTrace&&Error.captureStackTrace(i,e),i}};class t extends Error{}t.prototype.name="AssertionError"},90165:(e,t,r)=>{"use strict";const n=r(4693);e.exports=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new n;let r=0;const i=async(e,n,...i)=>{r++;const o=(async()=>e(...i))();n(o);try{await o}catch{}r--,t.size>0&&t.dequeue()()},o=(n,...o)=>new Promise((a=>{((n,o,...a)=>{t.enqueue(i.bind(null,n,o,...a)),(async()=>{await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()})()})(n,a,...o)}));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),o}},21137:(e,t,r)=>{"use strict";var n=r(87568);t.certificate=r(36413);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));t.PublicKey=s;var c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var f=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=f,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var d=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),l=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=l,t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},36413:(e,t,r)=>{"use strict";var n=r(87568),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=n.define("RDNSequence",(function(){this.seqof(c)})),f=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),d=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),l=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(f),this.key("validity").use(d),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},24101:(e,t,r)=>{"use strict";var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=r(68078),s=r(1241),c=r(92861).Buffer;e.exports=function(e,t){var r,u=e.toString(),f=u.match(n);if(f){var d="aes"+f[1],l=c.from(f[2],"hex"),h=c.from(f[3].replace(/[\r\n]/g,""),"base64"),p=a(t,l.slice(0,8),parseInt(f[1],10)).key,b=[],y=s.createDecipheriv(d,p,l);b.push(y.update(h)),b.push(y.final()),r=c.concat(b)}else{var g=u.match(o);r=c.from(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}},78170:(e,t,r)=>{"use strict";var n=r(21137),i=r(15579),o=r(24101),a=r(1241),s=r(78396),c=r(92861).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,f=o(e,t),d=f.tag,l=f.data;switch(d){case"CERTIFICATE":u=n.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(l,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":l=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,d=parseInt(o.split("-")[1],10)/8,l=s.pbkdf2Sync(t,r,n,d,"sha1"),h=a.createDecipheriv(o,l,u),p=[];return p.push(h.update(f)),p.push(h.final()),c.concat(p)}(l=n.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=n.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+d)}}u.signature=n.signature,e.exports=u},78396:(e,t,r)=>{t.pbkdf2=r(43832),t.pbkdf2Sync=r(21352)},43832:(e,t,r)=>{var n,i,o=r(92861).Buffer,a=r(64196),s=r(2455),c=r(21352),u=r(93382),f=r.g.crypto&&r.g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function h(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return f.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return f.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,t,i,b,y,g){"function"==typeof y&&(g=y,y=void 0);var m=d[(y=y||"sha1").toLowerCase()];if(m&&"function"==typeof r.g.Promise){if(a(i,b),e=u(e,s,"Password"),t=u(t,s,"Salt"),"function"!=typeof g)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){h()((function(){t(null,e)}))}),(function(e){h()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==l[e])return l[e];var t=p(n=n||o.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return l[e]=t,t}(m).then((function(r){return r?p(e,t,i,b,m):c(e,t,i,b,y)})),g)}else h()((function(){var r;try{r=c(e,t,i,b,y)}catch(e){return g(e)}g(null,r)}))}},2455:(e,t,r)=>{var n,i=r(65606);if(r.g.process&&r.g.process.browser)n="utf-8";else if(r.g.process&&r.g.process.version){n=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";e.exports=n},64196:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},21352:(e,t,r)=>{var n=r(20320),i=r(66011),o=r(62802),a=r(92861).Buffer,s=r(64196),c=r(2455),u=r(93382),f=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(e,t,r){var s=function(e){function t(t){return o(e).update(t).digest()}function r(e){return(new i).update(e).digest()}return"rmd160"===e||"ripemd160"===e?r:"md5"===e?n:t}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=s(t):t.length<c&&(t=a.concat([t,f],c));for(var u=a.allocUnsafe(c+d[e]),l=a.allocUnsafe(c+d[e]),h=0;h<c;h++)u[h]=54^t[h],l[h]=92^t[h];var p=a.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=l,this.alg=e,this.blocksize=c,this.hash=s,this.size=d[e]}l.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){s(r,n);var o=new l(i=i||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),f=a.allocUnsafe(n),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,b=d[i],y=Math.ceil(n/b),g=1;g<=y;g++){h.writeUInt32BE(g,t.length);for(var m=o.run(h,o.ipad1),v=m,_=1;_<r;_++){v=o.run(v,o.ipad2);for(var w=0;w<b;w++)m[w]^=v[w]}m.copy(f,p),p+=b}return f}},93382:(e,t,r)=>{var n=r(92861).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},33225:(e,t,r)=>{"use strict";var n=r(65606);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},65606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],u=!1,f=-1;function d(){u&&s&&(u=!1,s.length?c=s.concat(c):f=-1,c.length&&l())}function l(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||a(l)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},97168:(e,t,r)=>{t.publicEncrypt=r(28902),t.privateDecrypt=r(77362),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},48206:(e,t,r)=>{var n=r(47108),i=r(92861).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,a=i.alloc(0),s=0;a.length<t;)r=o(s++),a=i.concat([a,n("sha1").update(e).update(r).digest()]);return a.slice(0,t)}},77362:(e,t,r)=>{var n=r(78170),i=r(48206),o=r(52061),a=r(39404),s=r(67332),c=r(47108),u=r(99247),f=r(92861).Buffer;e.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var l,h=n(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");l=r?u(new a(t),h):s(t,h);var b=f.alloc(p-l.length);if(l=f.concat([b,l],p),4===d)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(f.alloc(0)).digest(),a=n.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),u=t.slice(a+1),d=o(s,i(u,a)),l=o(u,i(d,r-a-1));if(function(e,t){e=f.from(e),t=f.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,l.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===l[h];)h++;if(1!==l[h++])throw new Error("decryption error");return l.slice(h)}(h,l);if(1===d)return function(e,t,r){var n=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,l,r);if(3===d)return l;throw new Error("unknown padding")}},28902:(e,t,r)=>{var n=r(78170),i=r(53209),o=r(47108),a=r(48206),s=r(52061),c=r(39404),u=r(99247),f=r(67332),d=r(92861).Buffer;e.exports=function(e,t,r){var l;l=e.padding?e.padding:r?1:4;var h,p=n(e);if(4===l)h=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=o("sha1").update(d.alloc(0)).digest(),f=u.length,l=2*f;if(n>r-l-2)throw new Error("message too long");var h=d.alloc(r-n-l-2),p=r-f-1,b=i(f),y=s(d.concat([u,h,d.alloc(1,1),t],p),a(b,p)),g=s(b,a(y,f));return new c(d.concat([d.alloc(1),g,y],r))}(p,t);else if(1===l)h=function(e,t,r){var n,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");n=r?d.alloc(a-o-3,255):function(e){var t,r=d.allocUnsafe(e),n=0,o=i(2*e),a=0;for(;n<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(r[n++]=t);return r}(a-o-3);return new c(d.concat([d.from([0,r?1:2]),n,d.alloc(1),t],a))}(p,t,r);else{if(3!==l)throw new Error("unknown padding");if((h=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?f(h,p):u(h,p)}},99247:(e,t,r)=>{var n=r(39404),i=r(92861).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},52061:e=>{e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},87392:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t},53209:(e,t,r)=>{"use strict";var n=r(65606),i=65536,o=4294967295;var a=r(92861).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var r=a.allocUnsafe(e);if(e>0)if(e>i)for(var c=0;c<e;c+=i)s.getRandomValues(r.slice(c,c+i));else s.getRandomValues(r);if("function"==typeof t)return n.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},76983:(e,t,r)=>{"use strict";var n=r(65606);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(92861),a=r(53209),s=o.Buffer,c=o.kMaxLength,u=r.g.crypto||r.g.msCrypto,f=Math.pow(2,32)-1;function d(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function l(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function h(e,t,r,i){if(n.browser){var o=e.buffer,s=new Uint8Array(o,t,r);return u.getRandomValues(s),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return a(r).copy(e,t),e;a(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}u&&u.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(s.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return d(t,e.length),l(n,t,e.length),h(e,t,n,i)},t.randomFillSync=function(e,t,n){void 0===t&&(t=0);if(!(s.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');d(t,e.length),void 0===n&&(n=e.length-t);return l(n,t,e.length),h(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},86048:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s;if("string"==typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return s+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},25382:(e,t,r)=>{"use strict";var n=r(65606),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(45412),a=r(16708);r(56698)(f,o);for(var s=i(a.prototype),c=0;c<s.length;c++){var u=s[c];f.prototype[u]||(f.prototype[u]=a.prototype[u])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},63600:(e,t,r)=>{"use strict";e.exports=i;var n=r(74610);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(56698)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},45412:(e,t,r)=>{"use strict";var n,i=r(65606);e.exports=E,E.ReadableState=A;r(37007).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=r(40345),s=r(48287).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,f=r(79838);u=f&&f.debuglog?f.debuglog("stream"):function(){};var d,l,h,p=r(80345),b=r(75896),y=r(65291).getHighWaterMark,g=r(86048).F,m=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,_=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(56698)(E,a);var S=b.errorOrDestroy,x=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(25382),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(83141).I),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function E(e){if(n=n||r(25382),!(this instanceof E))return new E(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function I(e,t,r,n,i){u("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,a);else if(i||(o=function(e,t){var r;n=t,s.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)a.endEmitted?S(e,new w):k(e,a,t,!0);else if(a.ended)S(e,new v);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):M(e,a)):k(e,a,t,!1)}else n||(a.reading=!1,M(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=b.destroy,E.prototype._undestroy=b.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),I(this,e,t,!1,r)},E.prototype.unshift=function(e){return I(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){d||(d=r(83141).I);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(P,e))}function P(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,N(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(B,e,t))}function B(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){u("readable nexttick read 0"),e.read(0)}function L(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(H,t,e))}function H(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):O(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){S(this,new _("_read()"))},E.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,u("pipe count=%d opts=%j",n.pipesCount,t);var a=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?c:y;function s(t,i){u("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",b),e.removeListener("drain",f),e.removeListener("error",h),e.removeListener("unpipe",s),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",l),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function c(){u("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",s);var f=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",f);var d=!1;function l(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==F(n.pipes,e))&&!d&&(u("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){u("onerror",t),y(),e.removeListener("error",h),0===o(e,"error")&&S(e,t)}function p(){e.removeListener("finish",b),y()}function b(){u("onfinish"),e.removeListener("close",p),y()}function y(){u("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",b),e.emit("pipe",r),n.flowing||(u("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=F(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,u("on readable",n.length,n.reading),n.length?O(this):n.reading||i.nextTick(R,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(D,this),r},E.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(D,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(2955)),l(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=j,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===h&&(h=r(55157)),h(E,e,t)})},74610:(e,t,r)=>{"use strict";e.exports=f;var n=r(86048).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(25382);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(56698)(f,c),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},16708:(e,t,r)=>{"use strict";var n,i=r(65606);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=E,E.WritableState=A;var a={deprecate:r(94643)},s=r(40345),c=r(48287).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var f,d=r(75896),l=r(65291).getHighWaterMark,h=r(86048).F,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function x(){}function A(e,t,a){n=n||r(25382),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(P,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),P(e,t))}(e,r,n,t,o);else{var a=C(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),n?i.nextTick(k,e,r,a,o):k(e,r,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function E(e){var t=this instanceof(n=n||r(25382));if(!t&&!f.call(E,this))return new E(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function I(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),P(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)i[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;i.allBuffers=c,I(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,f=r.encoding,d=r.callback;if(I(e,t,!1,t.objectMode?1:u.length,u,f,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(56698)(E,s),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===E&&(e&&e._writableState instanceof A)}})):f=function(e){return e instanceof this},E.prototype.pipe=function(){S(this,new g)},E.prototype.write=function(e,t,r){var n,o=this._writableState,a=!1,s=!o.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return s&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=x),o.ending?function(e,t){var r=new _;S(e,r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,a=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else I(e,t,!1,s,n,i,o);return u}(this,o,s,e,t,r)),a},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new b("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=d.destroy,E.prototype._undestroy=d.undestroy,E.prototype._destroy=function(e,t){t(e)}},2955:(e,t,r)=>{"use strict";var n,i=r(65606);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(86238),s=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function b(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[d]=null,e[s]=null,e[c]=null,t(p(r,!1)))}}function y(e){i.nextTick(b,e)}var g=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,n=this[d];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[f]?r(p(void 0,!0)):t[l](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[l])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,f,{value:e._readableState.endEmitted,writable:!0}),o(t,l,{value:function(e,t){var n=r[h].read();n?(r[d]=null,r[s]=null,r[c]=null,e(p(n,!1))):(r[s]=e,r[c]=t)},writable:!0}),t));return r[d]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[d]=null,r[s]=null,r[c]=null,t(e)),void(r[u]=e)}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[c]=null,n(p(void 0,!0))),r[f]=!0})),e.on("readable",y.bind(null,r)),r}},80345:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var c=r(48287).Buffer,u=r(15340).inspect,f=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,n,i=c.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,c.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return u(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&a(t.prototype,r),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},75896:(e,t,r)=>{"use strict";var n=r(65606);function i(e,t){a(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return s||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(a,this,e)):n.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},86238:(e,t,r)=>{"use strict";var n=r(86048).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||f()},u=t._writableState&&t._writableState.finished,f=function(){s=!1,u=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,l=function(){a=!1,d=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},b=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",f),t.on("abort",p),t.req?b():t.on("request",b)),t.on("end",l),t.on("finish",f),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",b),t.req&&t.req.removeListener("finish",f),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("end",l),t.removeListener("error",h),t.removeListener("close",p)}}},55157:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},57758:(e,t,r)=>{"use strict";var n;var i=r(86048).F,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var f,d=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var l=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(86238)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,(function(e){f||(f=e),e&&l.forEach(c),o||(l.forEach(c),d(f))}))}));return t.reduce(u)}},65291:(e,t,r)=>{"use strict";var n=r(86048).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},40345:(e,t,r)=>{e.exports=r(37007).EventEmitter},28399:(e,t,r)=>{(t=e.exports=r(45412)).Stream=t,t.Readable=t,t.Writable=r(16708),t.Duplex=r(25382),t.Transform=r(74610),t.PassThrough=r(63600),t.finished=r(86238),t.pipeline=r(57758)},30096:(e,t,r)=>{"use strict";t.X9=t.PE=t.qS=t.zW=void 0;var n=r(41256);var i=r(90375);Object.defineProperty(t,"zW",{enumerable:!0,get:function(){return i.BtcAssetsApi}});var o=r(61611);Object.defineProperty(t,"qS",{enumerable:!0,get:function(){return o.DataSource}}),Object.defineProperty(t,"PE",{enumerable:!0,get:function(){return o.sendRgbppUtxos}});var a=r(6397);Object.defineProperty(t,"X9",{enumerable:!0,get:function(){return a.buildRgbppTransferTx}})},6397:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildRgbppTransferTx=void 0;const i=r(41256),o=r(49841),a=r(61611);t.buildRgbppTransferTx=e=>n(void 0,[e],void 0,(function*({ckb:{collector:e,xudtTypeArgs:t,rgbppLockArgsList:r,transferAmount:n,feeRate:s},btc:c,isMainnet:u}){const f=Object.assign(Object.assign({},(0,i.getXudtTypeScript)(u)),{args:t}),d=yield(0,i.genBtcTransferCkbVirtualTx)({collector:e,rgbppLockArgsList:r,xudtTypeBytes:(0,o.serializeScript)(f),transferAmount:n,isMainnet:u,ckbFeeRate:s,btcTestnetType:c.testnetType}),{commitment:l,ckbRawTx:h}=d;return{ckbVirtualTxResult:d,btcPsbtHex:(yield(0,a.sendRgbppUtxos)({ckbVirtualTx:h,commitment:l,tos:[c.toAddress],ckbCollector:e,from:c.fromAddress,fromPubkey:c.fromPubkey,source:c.dataSource,feeRate:c.feeRate})).toHex()}}))},43382:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addressToScript=t.parseAddress=t.pubkeyToAddress=t.fullPayloadToAddress=t.bech32Address=t.toAddressPayload=t.scriptToAddress=t.Bech32Type=t.AddressType=t.AddressPrefix=void 0;const n=r(49841),i=r(97798),o=r(99721),a=r(30136),s=1023;var c,u,f;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(c=t.AddressPrefix||(t.AddressPrefix={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(u=t.AddressType||(t.AddressType={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(f=t.Bech32Type||(t.Bech32Type={}));const d=({codeHash:e,hashType:t,args:r})=>{if(!r.startsWith("0x"))throw new a.HexStringWithout0xException(r);if(!e.startsWith("0x")||66!==e.length)throw new a.CodeHashException(e);let n;if(function(e){e.data="00",e.type="01",e.data1="02",e.data2="04"}(n||(n={})),!n[t])throw new a.HashTypeException(t);return(0,o.hexToBytes)(`0x00${e.slice(2)}${n[t]}${r.slice(2)}`)};t.scriptToAddress=(e,t=!0)=>((e,t=!0)=>n.bech32m.encode(t?c.Mainnet:c.Testnet,n.bech32m.toWords(e),s))(d(e),t);t.toAddressPayload=(e,t=u.HashIdx,r,n)=>{if("string"==typeof e&&!e.startsWith("0x"))throw new a.HexStringWithout0xException(e);if(![u.HashIdx,u.DataCodeHash,u.TypeCodeHash,u.FullVersion].includes(t))throw new a.AddressFormatTypeException(+t);if([u.DataCodeHash,u.TypeCodeHash].includes(t)&&console.warn("Address of 'AddressType.DataCodeHash' or 'AddressType.TypeCodeHash' is deprecated, please use address of AddressPrefix.FullVersion"),r||(r=t===u.HashIdx?"0x00":i.SECP256K1_BLAKE160.codeHash),t!==u.FullVersion)return new Uint8Array([...(0,o.hexToBytes)(t),...(0,o.hexToBytes)(r),..."string"==typeof e?(0,o.hexToBytes)(e):e]);if(n||r!==i.SECP256K1_BLAKE160.codeHash||(n=i.SECP256K1_BLAKE160.hashType),!r.startsWith("0x")||66!==r.length)throw new a.CodeHashException(r);if(!n)throw new a.ParameterRequiredException("hashType");return d({codeHash:r,hashType:n,args:"string"==typeof e?e:(0,o.bytesToHex)(e)})};t.bech32Address=(e,{prefix:r=c.Mainnet,type:i=u.HashIdx,codeHashOrCodeHashIndex:o=""}={})=>n.bech32.encode(r,n.bech32.toWords((0,t.toAddressPayload)(e,i,o)),s);t.fullPayloadToAddress=({args:e,prefix:r,type:n=u.DataCodeHash,codeHash:i})=>(0,t.bech32Address)(e,{prefix:r,type:n,codeHashOrCodeHashIndex:i});t.pubkeyToAddress=(e,r={})=>{const i=(0,n.blake160)(e);return(0,t.bech32Address)(i,r)};const l=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+u.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new a.AddressPayloadException(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new a.AddressPayloadException(e,"short");default:throw new a.AddressPayloadException(e,"short")}})(e,t);break;case+u.DataCodeHash:case+u.TypeCodeHash:if(t!==f.Bech32)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);if(n.length<32)throw new a.AddressPayloadException(e,"full");break;case+u.FullVersion:{if(t!==f.Bech32m)throw new a.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);const e=n.slice(0,32);if(e.length<32)throw new a.CodeHashException((0,o.bytesToHex)(e));const i=parseInt(n[32].toString(),16);if(![0,1,2,4].includes(i))throw new a.HashTypeException(`0x${i.toString(16)}`);break}default:throw new a.AddressPayloadException(e)}};t.parseAddress=(e,t="binary")=>{let r,i=new Uint8Array;try{const t=n.bech32.decode(e,s);r=f.Bech32,i=new Uint8Array(n.bech32.fromWords(new Uint8Array(t.words)))}catch(t){const o=n.bech32m.decode(e,s);r=f.Bech32m,i=new Uint8Array(n.bech32m.fromWords(new Uint8Array(o.words)))}try{l(i,r)}catch(t){if(t instanceof a.AddressFormatTypeAndEncodeMethodNotMatchException)throw t;throw new a.AddressException(e,t.stack,t.type)}return"binary"===t?i:(0,o.bytesToHex)(i)};t.addressToScript=e=>{const r=(0,t.parseAddress)(e),n=r[0];switch(n){case+u.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},t=(0,o.bytesToHex)(r);return{codeHash:`0x${t.substr(4,64)}`,hashType:e[t.substr(68,2)],args:`0x${t.substr(70)}`}}case+u.HashIdx:{const t=[i.SECP256K1_BLAKE160,i.SECP256K1_MULTISIG,e.startsWith(c.Mainnet)?i.ANYONE_CAN_PAY_MAINNET:i.ANYONE_CAN_PAY_TESTNET],n=r[1],a=r.slice(2),s=t[n];return{codeHash:s.codeHash,hashType:s.hashType,args:(0,o.bytesToHex)(a)}}case+u.DataCodeHash:case+u.TypeCodeHash:{const e=(0,o.bytesToHex)(r.slice(1)),t=n===+u.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:t,args:`0x${e.substr(66)}`}}default:throw new a.AddressFormatTypeException(n)}}},82041:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransactionFee=void 0;const n=(0,r(57576).__importDefault)(r(75951)),i=r(91762);t.calculateTransactionFee=(e,t)=>{(0,i.assertToBeHexStringOrBigint)(e),(0,i.assertToBeHexStringOrBigint)(t);const r=n.default.BigInt(1e3),o=n.default.multiply(n.default.BigInt(`${e}`),n.default.BigInt(`${t}`)),a=n.default.divide(o,r);return n.default.lessThan(n.default.multiply(a,r),o)?`0x${n.default.add(a,n.default.BigInt(1)).toString(16)}`:`0x${a.toString(16)}`},t.default=t.calculateTransactionFee},3746:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SECP_SIG=t.EMPTY_WITNESS_ARGS=t.PERSONAL=void 0,t.PERSONAL=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),t.EMPTY_WITNESS_ARGS={lock:"",inputType:"",outputType:""},t.EMPTY_SECP_SIG=`0x${"0".repeat(130)}`,t.default={PERSONAL:t.PERSONAL,EMPTY_WITNESS_ARGS:t.EMPTY_WITNESS_ARGS,EMPTY_SECP_SIG:t.EMPTY_SECP_SIG}},99721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToHex=t.toBigEndian=t.hexToBytes=t.toUint64Le=t.toUint32Le=t.toUint16Le=void 0;const n=r(91762),i=r(30136);t.toUint16Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(2));return t.setUint16(0,Number(e),!0),`0x${t.getUint16(0,!1).toString(16).padStart(4,"0")}`};t.toUint32Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`};t.toUint64Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const r=("bigint"==typeof e?e.toString(16):e.slice(2)).padStart(16,"0"),i=(0,t.toUint32Le)(`0x${r.slice(0,8)}`).slice(2);return`0x${(0,t.toUint32Le)(`0x${r.slice(8)}`).slice(2)}${i}`};t.hexToBytes=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new i.HexStringWithout0xException(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)};t.toBigEndian=e=>{(0,n.assertToBeHexString)(e);return`0x${(0,t.hexToBytes)(e).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`};t.bytesToHex=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`,t.default={toUint16Le:t.toUint16Le,toUint32Le:t.toUint32Le,toUint64Le:t.toUint64Le,hexToBytes:t.hexToBytes,bytesToHex:t.bytesToHex,toBigEndian:t.toBigEndian}},61509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake160=void 0;const n=(0,r(57576).__importDefault)(r(78926)),i=r(99721),o=r(3746);t.blake160=(e,t="binary")=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,a=(0,n.default)(32,null,null,o.PERSONAL);return a.update(r),a.digest(t).slice(0,"binary"===t?20:40)},t.default=t.blake160},78926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.Blake2b=void 0;const{OutLenTooSmallException:n,OutLenTooLargeException:i,KeyLenTooSmallException:o,KeyLenTooLargeException:a,OutTypeException:s,SaltTypeException:c,SaltLenException:u,InputTypeException:f,KeyTypeException:d,PersonalTypeException:l,PersonalLenException:h}=r(30136),p=new Uint32Array(32),b=new Uint32Array(32),y=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},g=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},m=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,v=(e,t,r,n,i,o)=>{const a=b[i],s=b[i+1],c=b[o],u=b[o+1];y(p,e,t),g(p,e,a,s);let f=p[n]^p[e],d=p[n+1]^p[e+1];p[n]=d,p[n+1]=f,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=f>>>24^d<<8,p[t+1]=d>>>24^f<<8,y(p,e,t),g(p,e,c,u),f=p[n]^p[e],d=p[n+1]^p[e+1],p[n]=f>>>16^d<<16,p[n+1]=d>>>16^f<<16,y(p,r,n),f=p[t]^p[r],d=p[t+1]^p[r+1],p[t]=d>>>31^f<<1,p[t+1]=f>>>31^d<<1},_=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),S=(e,t)=>{let r=0;for(r=0;r<16;r++)p[r]=e.h[r],p[r+16]=_[r];for(p[24]^=e.t,p[25]^=e.t/4294967296,t&&(p[28]=~p[28],p[29]=~p[29]),r=0;r<32;r++)b[r]=m(e.b,4*r);for(r=0;r<12;r++)v(0,8,16,24,w[16*r+0],w[16*r+1]),v(2,10,18,26,w[16*r+2],w[16*r+3]),v(4,12,20,28,w[16*r+4],w[16*r+5]),v(6,14,22,30,w[16*r+6],w[16*r+7]),v(0,10,20,30,w[16*r+8],w[16*r+9]),v(2,12,22,24,w[16*r+10],w[16*r+11]),v(4,14,16,26,w[16*r+12],w[16*r+13]),v(6,8,18,28,w[16*r+14],w[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^p[r]^p[r+16]},x=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,S(e,!1),e.c=0),e.b[e.c++]=+t[r]},A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class E{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new f;return x(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new s;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;S(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,A.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,A[0]=e,t&&(A[1]=t.length),A[2]=1,A[3]=1,r&&A.set(r,32),n&&A.set(n,48);for(let e=0;e<16;e++)this.h[e]=_[e]^m(A,4*e);t&&(x(this,t),this.c=128)}}t.Blake2b=E;t.blake2b=(e,t,r,s,f)=>{if(!0!==f){if(e<16)throw new n(e,16);if(e>64)throw new i(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new d;if(t.length<16)throw new o(t.length,16);if(t.length>64)throw new a(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new c;if(16!==r.length)throw new u(r.length,16)}if(null!==s){if(!(s instanceof Uint8Array))throw new l;if(16!==s.length)throw new h(s.length,16)}}return new E(e,t,r,s)},t.default=t.blake2b},54755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(57576),i=r(22343),o=(0,n.__importDefault)(r(78926)),a=(0,n.__importDefault)(r(61509));e.exports={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m},t.default={blake2b:o.default,blake160:a.default,bech32:i.bech32,bech32m:i.bech32m}},61725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(86729),i=r(99721),o=r(30136),a=new n.ec("secp256k1");t.default=class{constructor(e,{compressed:t=!0}={compressed:!0}){if(this.compressed=!1,this.getPrivateKey=(e="hex")=>"hex"===e?this.privateKey:this.key.getPrivate(e),this.getPublicKey=e=>"hex"===e?this.publicKey:this.key.getPublic(this.compressed,e),this.sign=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e;return`0x${this.key.sign(t,{canonical:!0}).toDER("hex")}`},this.verify=(e,t)=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,n="string"==typeof t?(0,i.hexToBytes)(t):t;return this.key.verify(r,n)},this.signRecoverable=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e,{r,s:n,recoveryParam:a}=this.key.sign(t,{canonical:!0});if(null===a)throw new o.SignMessageException;return`0x${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}0${a}`},void 0===e)throw new o.ParameterRequiredException("Private key");if("string"==typeof e&&!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);if("string"==typeof e&&66!==e.length)throw new o.PrivateKeyLenException;if("object"==typeof e&&32!==e.byteLength)throw new o.PrivateKeyLenException;this.key=a.keyFromPrivate("string"==typeof e?e.replace(/^0x/,""):e),this.compressed=t}get privateKey(){return`0x${this.key.getPrivate("hex").padStart(64,"0")}`}get publicKey(){return`0x${this.key.getPublic(this.compressed,"hex")}`}}},88831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithdrawEpoch=t.parseEpoch=t.serializeEpoch=void 0;const n=(0,r(57576).__importDefault)(r(75951)),i=r(91762);t.serializeEpoch=({length:e,index:t,number:r})=>{(0,i.assertToBeHexString)(e),(0,i.assertToBeHexString)(t),(0,i.assertToBeHexString)(r);return`0x${n.default.add(n.default.add(n.default.add(n.default.leftShift(n.default.BigInt(32),n.default.BigInt(56)),n.default.leftShift(n.default.BigInt(e),n.default.BigInt(40))),n.default.leftShift(n.default.BigInt(t),n.default.BigInt(24))),n.default.BigInt(r)).toString(16)}`};t.parseEpoch=e=>({length:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(40)),n.default.BigInt(65535)).toString(16)}`,index:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(24)),n.default.BigInt(65535)).toString(16)}`,number:`0x${n.default.bitwiseAnd(n.default.BigInt(e),n.default.BigInt(16777215)).toString(16)}`});t.getWithdrawEpoch=(e,r)=>{const n=180,i=(0,t.parseEpoch)(e),o=(0,t.parseEpoch)(r);let a=+o.number-+i.number;+o.index*+i.length>+i.index*+o.length&&(a+=1);const s=a<=n?n:(Math.floor((a-1)/n)+1)*n;return(0,t.serializeEpoch)({index:i.index,length:i.length,number:`0x${(+i.number+s).toString(16)}`})},t.default={serializeEpoch:t.serializeEpoch,parseEpoch:t.parseEpoch,getWithdrawEpoch:t.getWithdrawEpoch}},38767:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},85264:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressFormatTypeAndEncodeMethodNotMatchException=t.AddressFormatTypeException=t.HashTypeException=t.CodeHashException=t.AddressException=t.AddressPayloadException=void 0;const n=(0,r(57576).__importDefault)(r(38767));class i extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=n.default.AddressInvalid,this.type=t}}t.AddressPayloadException=i;class o extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=n.default.AddressInvalid,this.type=r,this.stack=t}}t.AddressException=o;class a extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=n.default.AddressInvalid}}t.CodeHashException=a;class s extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=n.default.AddressInvalid}}t.HashTypeException=s;class c extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeException=c;class u extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeAndEncodeMethodNotMatchException=u,t.default={AddressPayloadException:i,AddressException:o,CodeHashException:a,HashTypeException:s,AddressFormatTypeException:c,AddressFormatTypeAndEncodeMethodNotMatchException:u}},50773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalLenException=t.PersonalTypeException=t.KeyTypeException=t.InputTypeException=t.SaltLenException=t.SaltTypeException=t.OutTypeException=t.KeyLenTooLargeException=t.KeyLenTooSmallException=t.OutLenTooLargeException=t.OutLenTooSmallException=void 0;const n=(0,r(57576).__importDefault)(r(38767));class i extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooSmallException=i;class o extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooLargeException=o;class a extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooSmallException=a;class s extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooLargeException=s;class c extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=n.default.ParameterInvalid}}t.OutTypeException=c;class u extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.SaltTypeException=u;class f extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.SaltLenException=f;class d extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.InputTypeException=d;class l extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.KeyTypeException=l;class h extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.PersonalTypeException=h;class p extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.PersonalLenException=p,t.default={OutLenTooSmallException:i,OutLenTooLargeException:o,KeyLenTooSmallException:a,KeyLenTooLargeException:s,OutTypeException:c,SaltTypeException:u,SaltLenException:f,InputTypeException:d,KeyTypeException:l,PersonalTypeException:h,PersonalLenException:p}},28635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignMessageException=t.ParameterRequiredException=void 0;const n=(0,r(57576).__importDefault)(r(38767));class i extends Error{constructor(e){super(`${e} is required`),this.code=n.default.ParameterRequired}}t.ParameterRequiredException=i;class o extends Error{constructor(){super("Fail to sign the message"),this.code=n.default.SignMessageFailed}}t.SignMessageException=o,t.default={ParameterRequiredException:i,SignMessageException:o}},30136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(57576);(0,n.__exportStar)(r(38767),t),(0,n.__exportStar)(r(28635),t),(0,n.__exportStar)(r(41319),t),(0,n.__exportStar)(r(85264),t),(0,n.__exportStar)(r(50773),t),(0,n.__exportStar)(r(87592),t),(0,n.__exportStar)(r(92720),t)},87592:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateKeyLenException=void 0;const n=(0,r(57576).__importDefault)(r(38767));class i extends Error{constructor(){super("Private key has invalid length"),this.code=n.default.ParameterInvalid}}t.PrivateKeyLenException=i,t.default={PrivateKeyLenException:i}},41319:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=t.HexStringException=void 0;const n=(0,r(57576).__importDefault)(r(38767));class i extends Error{constructor(e){super(`${e} is an invalid hex string`),this.code=n.default.ParameterInvalid}}t.HexStringException=i;class o extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=n.default.ParameterInvalid}}t.HexStringWithout0xException=o,t.default={HexStringException:i,HexStringWithout0xException:o}},92720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReconciliationException=void 0;const n=(0,r(57576).__importDefault)(r(38767));class i extends Error{constructor(){super("Fail to reconcile transaction, try to increase extra count or check the transaction"),this.code=n.default.ReconciliationFailed}}t.ReconciliationException=i,t.default={ReconciliationException:i}},49841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMaximumWithdraw=t.extractDAOData=t.privateKeyToAddress=t.privateKeyToPublicKey=t.rawTransactionToHash=t.scriptToHash=t.blake160=t.bech32m=t.bech32=t.blake2b=t.PERSONAL=t.JSBI=t.serializeWitnessArgs=t.serializeTransaction=t.serializeRawTransaction=t.serializeScript=t.reconcilers=t.systemScripts=void 0;const n=r(57576),i=(0,n.__importDefault)(r(75951));t.JSBI=i.default;const o=(0,n.__importDefault)(r(61725)),a=r(99721),s=r(43382),c=r(30136),u=(0,n.__importDefault)(r(54755)),f=r(9090);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return f.serializeScript}});const d=r(13313),l=r(3030);Object.defineProperty(t,"serializeRawTransaction",{enumerable:!0,get:function(){return l.serializeRawTransaction}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return l.serializeTransaction}}),Object.defineProperty(t,"serializeWitnessArgs",{enumerable:!0,get:function(){return l.serializeWitnessArgs}});const h=r(3746);Object.defineProperty(t,"PERSONAL",{enumerable:!0,get:function(){return h.PERSONAL}}),(0,n.__exportStar)(r(43382),t),(0,n.__exportStar)(r(9090),t),(0,n.__exportStar)(r(99721),t),(0,n.__exportStar)(r(88831),t),(0,n.__exportStar)(r(48407),t),(0,n.__exportStar)(r(13313),t),t.systemScripts=(0,n.__importStar)(r(97798)),t.reconcilers=(0,n.__importStar)(r(28021)),t.blake2b=u.default.blake2b,t.bech32=u.default.bech32,t.bech32m=u.default.bech32m,t.blake160=u.default.blake160;t.scriptToHash=e=>{if(!e)throw new c.ParameterRequiredException("Script");const r=(0,f.serializeScript)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.rawTransactionToHash=e=>{if(!e)throw new c.ParameterRequiredException("Raw transaction");const r=(0,l.serializeRawTransaction)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,a.hexToBytes)(r));return`0x${n.digest("hex")}`};t.privateKeyToPublicKey=e=>new o.default(e).publicKey;t.privateKeyToAddress=(e,r)=>(0,s.pubkeyToAddress)((0,t.privateKeyToPublicKey)(e),r);t.extractDAOData=e=>{if(!e.startsWith("0x"))throw new c.HexStringWithout0xException(e);const t=e.replace("0x","");return{c:(0,a.toBigEndian)(`0x${t.slice(0,16)}`),ar:(0,a.toBigEndian)(`0x${t.slice(16,32)}`),s:(0,a.toBigEndian)(`0x${t.slice(32,48)}`),u:(0,a.toBigEndian)(`0x${t.slice(48,64)}`)}};t.calculateMaximumWithdraw=(e,r,n,o)=>{const a=(0,d.cellOccupied)(e)+r.slice(2).length/2,s=i.default.asUintN(128,i.default.multiply(i.default.BigInt(1e8),i.default.BigInt(a)));return`0x${i.default.add(i.default.divide(i.default.multiply(i.default.subtract(i.default.asUintN(128,i.default.BigInt(e.capacity)),s),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(o).ar))),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(n).ar))),s).toString(16)}`}},13313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellOccupied=t.scriptOccupied=void 0;t.scriptOccupied=e=>e.args.slice(2).length/2+32+1;t.cellOccupied=e=>8+(0,t.scriptOccupied)(e.lock)+(e.type?(0,t.scriptOccupied)(e.type):0)},89642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extraInputs=void 0;const n=r(57576),i=(0,n.__importDefault)(r(75951)),o=(0,n.__importDefault)(r(82041)),a=r(48407),s=r(30136);t.extraInputs=e=>{const t=i.default.BigInt(`${e.changeThreshold}`),r=i.default.BigInt(`${e.feeRate}`),n=e.tx.outputs[e.tx.outputs.length-1],c=i.default.BigInt(n.capacity),u=i.default.BigInt((0,o.default)(`0x${(0,a.getTransactionSize)(e.tx).toString(16)}`,`0x${r.toString(16)}`)),f=i.default.subtract(i.default.add(u,t),c);if(i.default.LE(f,i.default.BigInt(0)))return Object.assign(Object.assign({},e.tx),{outputs:[...e.tx.outputs.slice(0,-1),Object.assign(Object.assign({},n),{capacity:`0x${i.default.subtract(c,u).toString(16)}`})]});e.cells.sort(((e,t)=>+i.default.subtract(i.default.BigInt(e.capacity),i.default.BigInt(t.capacity))));const d=i.default.BigInt(44),l=i.default.divide(i.default.multiply(d,r),i.default.BigInt(1e3));for(let r=1;r<=Math.min(e.extraCount,e.cells.length);r++){const o=i.default.multiply(i.default.BigInt(r),l),a=i.default.add(f,o),s=e.cells.slice(0,r).reduce(((e,t)=>i.default.add(e,i.default.BigInt(t.capacity))),i.default.BigInt(0));if(i.default.GE(s,a)){const o=[...e.tx.inputs,...e.cells.slice(0,r).map((e=>({previousOutput:e.outPoint,since:"0x0"})))],c=i.default.add(t,i.default.subtract(s,a)),u=Object.assign(Object.assign({},n),{capacity:`0x${c.toString(16)}`}),f=[...e.tx.outputs.slice(0,-1),u];return Object.assign(Object.assign({},e.tx),{inputs:o,outputs:f})}}throw new s.ReconciliationException},t.default=t.extraInputs},28021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});(0,r(57576).__exportStar)(r(89642),t)},49360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeOption=t.serializeTable=t.serializeDynVec=t.serializeFixVec=t.serializeStruct=t.serializeArray=t.getOffsets=t.fullLengthSize=t.offsetSize=void 0;const n=r(99721);t.offsetSize=4,t.fullLengthSize=4;t.getOffsets=e=>{const r=[t.fullLengthSize+t.offsetSize*e.length];return e.forEach(((t,n)=>{n&&r.push(r[r.length-1]+e[n-1])})),r};t.serializeArray=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?(0,n.hexToBytes)(e):e;return(0,n.bytesToHex)(t)};t.serializeStruct=e=>{let r="";return e.forEach((e=>{r+=(0,t.serializeArray)(e).slice(2)})),`0x${r}`};t.serializeFixVec=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const r=("string"==typeof e?[...(0,n.hexToBytes)(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>(0,t.serializeArray)(e).slice(2)));return`0x${(0,n.toUint32Le)(`0x${r.length.toString(16)}`).slice(2)}${r.join("")}`};t.serializeDynVec=e=>{if(!Array.isArray(e))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const r=e.map((e=>(0,t.serializeArray)(e).slice(2))),i=r.join("");let o="";r.length&&(o=(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join(""));const a=t.fullLengthSize+t.offsetSize*r.length;return`0x${(0,n.toUint32Le)(`0x${(a+i.length/2).toString(16)}`).slice(2)}${o}${i}`};t.serializeTable=e=>{const r=[];e.forEach((e=>{r.push((0,t.serializeArray)(e).slice(2))}));const i=r.join(""),o=t.fullLengthSize+t.offsetSize*e.size;return`0x${(0,n.toUint32Le)(`0x${(o+i.length/2).toString(16)}`).slice(2)}${(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join("")}${i}`};t.serializeOption=e=>e||"0x"},9090:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(57576);(0,n.__exportStar)(r(49360),t),(0,n.__exportStar)(r(51859),t),(0,n.__exportStar)(r(3030),t)},51859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=t.serializeArgs=t.serializeHashType=t.serializeCodeHash=void 0;const n=r(49360),i=r(30136);t.serializeCodeHash=e=>(0,n.serializeArray)(e);t.serializeHashType=e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data', 'type', 'data1' or 'data2'")};t.serializeArgs=e=>(0,n.serializeFixVec)(e);t.serializeScript=e=>{if(!e)throw new i.ParameterRequiredException("Script");const{codeHash:r="",hashType:o,args:a=""}=e,s=(0,t.serializeCodeHash)(r),c=(0,t.serializeHashType)(o),u=(0,t.serializeArgs)(a),f=new Map([["codeHash",s],["hashType",c],["args",u]]);return(0,n.serializeTable)(f)}},3030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransaction=t.serializeRawTransaction=t.serializeWitnesses=t.serializeWitnessArgs=t.serializeOutputsData=t.serializeOutputs=t.serializeOutput=t.serializeInputs=t.serializeInput=t.serializeHeaderDeps=t.serializeCellDeps=t.serializeCellDep=t.serializeDepType=t.serializeOutPoint=t.serializeVersion=void 0;const n=r(51859),i=r(99721),o=r(49360);t.serializeVersion=e=>(0,i.toUint32Le)(e);t.serializeOutPoint=e=>{if(!e)return"";const t=new Map([["txHash",e.txHash],["index",(0,i.toUint32Le)(e.index)]]);return(0,o.serializeStruct)(t)};t.serializeDepType=e=>{if("code"===e)return"0x00";if("depGroup"===e)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")};t.serializeCellDep=e=>{const r=(0,t.serializeOutPoint)(e.outPoint),n=(0,t.serializeDepType)(e.depType),i=new Map([["outPoint",r],["depType",n]]);return(0,o.serializeStruct)(i)};t.serializeCellDeps=e=>{const r=e.map((e=>(0,t.serializeCellDep)(e)));return(0,o.serializeFixVec)(r)};t.serializeHeaderDeps=e=>{const t=e.map((e=>(0,o.serializeArray)(e)));return(0,o.serializeFixVec)(t)};t.serializeInput=e=>{const r=(0,t.serializeOutPoint)(e.previousOutput),n=(0,i.toUint64Le)(e.since),a=new Map([["since",n],["previousOutput",r]]);return(0,o.serializeStruct)(a)};t.serializeInputs=e=>{const r=e.map((e=>(0,t.serializeInput)(e)));return(0,o.serializeFixVec)(r)};t.serializeOutput=e=>{const t=(0,i.toUint64Le)(e.capacity),r=(0,n.serializeScript)(e.lock),a=e.type?(0,n.serializeScript)(e.type):"",s=new Map([["capacity",t],["lock",r],["type",a]]);return(0,o.serializeTable)(s)};t.serializeOutputs=e=>{const r=e.map((e=>(0,t.serializeOutput)(e)));return(0,o.serializeDynVec)(r)};t.serializeOutputsData=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeWitnessArgs=e=>{const[t,r,n]=[e.lock,e.inputType,e.outputType].map((e=>"0x"===(0,o.serializeOption)(e)?"0x":(0,o.serializeFixVec)(e))),i=new Map([["lock",t],["inputType",r],["outputType",n]]);return(0,o.serializeTable)(i)};t.serializeWitnesses=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeRawTransaction=e=>{const r=(0,t.serializeVersion)(e.version),n=(0,t.serializeCellDeps)(e.cellDeps),i=(0,t.serializeHeaderDeps)(e.headerDeps),a=(0,t.serializeInputs)(e.inputs),s=(0,t.serializeOutputs)(e.outputs),c=(0,t.serializeOutputsData)(e.outputsData),u=new Map([["version",r],["cellDeps",n],["headerDeps",i],["inputs",a],["outputs",s],["outputsData",c]]);return(0,o.serializeTable)(u)};t.serializeTransaction=e=>{const r=(0,t.serializeRawTransaction)(e),n=(0,t.serializeWitnesses)(e.witnesses||[]),i=new Map([["raw",r],["witnesses",n]]);return(0,o.serializeTable)(i)}},48407:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionSize=void 0;const n=r(3030);t.getTransactionSize=e=>{const t=Object.assign(Object.assign({},e),{witnesses:e.witnesses.map((e=>"string"==typeof e?e:(0,n.serializeWitnessArgs)(e)))});return(0,n.serializeTransaction)(t).slice(2).length/2+4},t.default={getTransactionSize:t.getTransactionSize}},97798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIMPLE_UDT=t.NERVOS_DAO=t.ANYONE_CAN_PAY_TESTNET=t.ANYONE_CAN_PAY_MAINNET=t.SECP256K1_MULTISIG=t.SECP256K1_BLAKE160=void 0,t.SECP256K1_BLAKE160={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},t.SECP256K1_MULTISIG={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},t.ANYONE_CAN_PAY_MAINNET={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},t.ANYONE_CAN_PAY_TESTNET={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},t.NERVOS_DAO={codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",depType:"code",mainnetOutPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:"0x2"},testnetOutPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:"0x2"}},t.SIMPLE_UDT={codeHash:"0x48dbf59b4c7ee1547238021b4869bceedf4eea6b43772e5d66ef8865b6ae7212",hashType:"data",depType:"code",testnetOutPoint:{txHash:"0xc1b2ae129fad7465aaa9acc9785f842ba3e6e8b8051d899defa89f5508a77958",index:"0x0"}}},91762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertToBeHexStringOrBigint=t.assertToBeHexString=void 0;const n=r(30136);t.assertToBeHexString=e=>{if("string"!=typeof e||!e.startsWith("0x")||Number.isNaN(+e))throw new n.HexStringException(e);return!0};t.assertToBeHexStringOrBigint=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},t.default={assertToBeHexString:t.assertToBeHexString,assertToBeHexStringOrBigint:t.assertToBeHexStringOrBigint}},57576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>T,__createBinding:()=>l,__decorate:()=>s,__exportStar:()=>h,__extends:()=>i,__generator:()=>d,__importDefault:()=>I,__importStar:()=>E,__makeTemplateObject:()=>x,__metadata:()=>u,__param:()=>c,__read:()=>b,__rest:()=>a,__spread:()=>y,__spreadArray:()=>m,__spreadArrays:()=>g,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var l=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||l(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function g(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(c,u):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function c(e){s("next",e)}function u(e){s("throw",e)}function f(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&l(t,e,r);return A(t,e),t}function I(e){return e&&e.__esModule?e:{default:e}}function k(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},66011:(e,t,r)=>{"use strict";var n=r(48287).Buffer,i=r(56698),o=r(51147),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function b(e,t,r,n,i,o,a,s){return p(e+(t^r^n)+o+a|0,s)+i|0}function y(e,t,r,n,i,o,a,s){return p(e+(t&r|~t&n)+o+a|0,s)+i|0}function g(e,t,r,n,i,o,a,s){return p(e+((t|~r)^n)+o+a|0,s)+i|0}function m(e,t,r,n,i,o,a,s){return p(e+(t&n|r&~n)+o+a|0,s)+i|0}function v(e,t,r,n,i,o,a,s){return p(e+(t^(r|~n))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,x=0|this._d,A=0|this._e,E=0;E<80;E+=1){var I,k;E<16?(I=b(r,n,i,o,h,e[s[E]],d[0],u[E]),k=v(_,w,S,x,A,e[c[E]],l[0],f[E])):E<32?(I=y(r,n,i,o,h,e[s[E]],d[1],u[E]),k=m(_,w,S,x,A,e[c[E]],l[1],f[E])):E<48?(I=g(r,n,i,o,h,e[s[E]],d[2],u[E]),k=g(_,w,S,x,A,e[c[E]],l[2],f[E])):E<64?(I=m(r,n,i,o,h,e[s[E]],d[3],u[E]),k=y(_,w,S,x,A,e[c[E]],l[3],f[E])):(I=v(r,n,i,o,h,e[s[E]],d[4],u[E]),k=b(_,w,S,x,A,e[c[E]],l[4],f[E])),r=h,h=o,o=p(i,10),i=n,n=I,_=A,A=x,x=p(S,10),S=w,w=k}var T=this._b+i+x|0;this._b=this._c+o+A|0,this._c=this._d+h+_|0,this._d=this._e+r+w|0,this._e=this._a+n+S|0,this._a=T},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},51147:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(28399).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(56698)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},92861:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(48287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},9983:function(e){"use strict";!function(){const t=2147483647;function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,a=1359893119,s=2600822924,c=528734635,u=1541459225;const f=new Uint32Array(64);function d(e){let d=0,l=e.length;for(;l>=64;){let h,p,b,y,g,m=r,v=n,_=i,w=o,S=a,x=s,A=c,E=u;for(p=0;p<16;p++)b=d+4*p,f[p]=(255&e[b])<<24|(255&e[b+1])<<16|(255&e[b+2])<<8|255&e[b+3];for(p=16;p<64;p++)h=f[p-2],y=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=f[p-15],g=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,f[p]=(y+f[p-7]|0)+(g+f[p-16]|0)|0;for(p=0;p<64;p++)y=(((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&x^~S&A)|0)+(E+(t[p]+f[p]|0)|0)|0,g=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&v^m&_^v&_)|0,E=A,A=x,x=S,S=w+y|0,w=_,_=v,v=m,m=y+g|0;r=r+m|0,n=n+v|0,i=i+_|0,o=o+w|0,a=a+S|0,s=s+x|0,c=c+A|0,u=u+E|0,d+=64,l-=64}}d(e);let l,h=e.length%64,p=e.length/536870912|0,b=e.length<<3,y=h<56?56:120,g=e.slice(e.length-h,e.length);for(g.push(128),l=h+1;l<y;l++)g.push(0);return g.push(p>>>24&255),g.push(p>>>16&255),g.push(p>>>8&255),g.push(p>>>0&255),g.push(b>>>24&255),g.push(b>>>16&255),g.push(b>>>8&255),g.push(b>>>0&255),d(g),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function n(e,t,n){e=e.length<=64?e:r(e);const i=64+t.length+4,o=new Array(i),a=new Array(64);let s,c=[];for(s=0;s<64;s++)o[s]=54;for(s=0;s<e.length;s++)o[s]^=e[s];for(s=0;s<t.length;s++)o[64+s]=t[s];for(s=i-4;s<i;s++)o[s]=0;for(s=0;s<64;s++)a[s]=92;for(s=0;s<e.length;s++)a[s]^=e[s];function u(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;n>=32;)u(),c=c.concat(r(a.concat(r(o)))),n-=32;return n>0&&(u(),c=c.concat(r(a.concat(r(o))).slice(0,n))),c}function i(e,t,r,n,i){let o;for(c(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)s(e,16*o,i,16),a(i,n),c(i,0,e,t+16*o,16);for(o=0;o<r;o++)c(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)c(e,t+16*(2*o+1),e,16*(o+r),16)}function o(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function s(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function d(e,r,o,a,d,l,h){if(o=f(o,"N"),a=f(a,"r"),d=f(d,"p"),l=f(l,"dkLen"),0===o||o&o-1)throw new Error("N must be power of 2");if(o>t/128/a)throw new Error("N too large");if(a>t/128/d)throw new Error("r too large");if(!u(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(r))throw new Error("salt must be an array or buffer");r=Array.prototype.slice.call(r);let p=n(e,r,128*d*a);const b=new Uint32Array(32*d*a);for(let e=0;e<b.length;e++){const t=4*e;b[e]=(255&p[t+3])<<24|(255&p[t+2])<<16|(255&p[t+1])<<8|255&p[t+0]}const y=new Uint32Array(64*a),g=new Uint32Array(32*a*o),m=32*a,v=new Uint32Array(16),_=new Uint32Array(16),w=d*o*2;let S,x,A=0,E=null,I=!1,k=0,T=0;const C=h?parseInt(1e3/a):4294967295,O="undefined"!=typeof setImmediate?setImmediate:setTimeout,P=function(){if(I)return h(new Error("cancelled"),A/w);let t;switch(k){case 0:x=32*T*a,c(b,x,y,0,m),k=1,S=0;case 1:t=o-S,t>C&&(t=C);for(let e=0;e<t;e++)c(y,0,g,(S+e)*m,m),i(y,m,a,v,_);if(S+=t,A+=t,h){const e=parseInt(1e3*A/w);if(e!==E){if(I=h(null,A/w),I)break;E=e}}if(S<o)break;S=0,k=2;case 2:t=o-S,t>C&&(t=C);for(let e=0;e<t;e++){const e=y[16*(2*a-1)]&o-1;s(g,e*m,y,m),i(y,m,a,v,_)}if(S+=t,A+=t,h){const e=parseInt(1e3*A/w);if(e!==E){if(I=h(null,A/w),I)break;E=e}}if(S<o)break;if(c(y,0,b,x,m),T++,T<d){k=0;break}p=[];for(let e=0;e<b.length;e++)p.push(255&b[e]),p.push(b[e]>>8&255),p.push(b[e]>>16&255),p.push(b[e]>>24&255);const r=n(e,p,l);return h&&h(null,1,r),r}h&&O(P)};if(!h)for(;;){const e=P();if(null!=e)return e}P()}const l={scrypt:function(e,t,r,n,i,o,a){return new Promise((function(s,c){let u=0;a&&a(0),d(e,t,r,n,i,o,(function(e,t,r){if(e)c(e);else if(r)a&&1!==u&&a(1),s(new Uint8Array(r));else if(a&&t!==u)return u=t,a(t)}))}))},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(d(e,t,r,n,i,o))}};e.exports=l}()},37141:(e,t,r)=>{"use strict";e.exports=r(95483)(r(558))},95469:(e,t,r)=>{"use strict";var n=r(48287).Buffer,i=Object.prototype.toString;t.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},t.isBoolean=function(e,t){if("[object Boolean]"!==i.call(e))throw TypeError(t)},t.isBuffer=function(e,t){if(!n.isBuffer(e))throw TypeError(t)},t.isFunction=function(e,t){if("[object Function]"!==i.call(e))throw TypeError(t)},t.isNumber=function(e,t){if("[object Number]"!==i.call(e))throw TypeError(t)},t.isObject=function(e,t){if("[object Object]"!==i.call(e))throw TypeError(t)},t.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},t.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},t.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},t.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}},95712:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(92368),o=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(e,t,r){var i=n.from(r?o:a);return e.copy(i,r?8:9),t.copy(i,r?181:214),i},t.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},t.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,o=0;r>1&&0===t[o]&&!(128&t[o+1]);--r,++o);for(var a=n.concat([n.from([0]),e.s]),s=33,c=0;s>1&&0===a[c]&&!(128&a[c+1]);--s,++c);return i.encode(t.slice(o),a.slice(c))},t.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var o=i.decode(e);if(33===o.r.length&&0===o.r[0]&&(o.r=o.r.slice(1)),o.r.length>32)throw new Error("R length is too long");if(33===o.s.length&&0===o.s[0]&&(o.s=o.s.slice(1)),o.s.length>32)throw new Error("S length is too long")}catch(e){return}return o.r.copy(t,32-o.r.length),o.s.copy(r,32-o.s.length),{r:t,s:r}},t.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,o=0;if(48===e[o++]){var a=e[o++];if(!(128&a&&(o+=a-128)>i)&&2===e[o++]){var s=e[o++];if(128&s){if(o+(a=s-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(s=0;a>0;o+=1,a-=1)s=(s<<8)+e[o]}if(!(s>i-o)){var c=o;if(o+=s,2===e[o++]){var u=e[o++];if(128&u){if(o+(a=u-128)>i)return;for(;a>0&&0===e[o];o+=1,a-=1);for(u=0;a>0;o+=1,a-=1)u=(u<<8)+e[o]}if(!(u>i-o)){var f=o;for(o+=u;s>0&&0===e[c];s-=1,c+=1);if(!(s>32)){var d=e.slice(c,c+s);for(d.copy(t,32-d.length);u>0&&0===e[f];u-=1,f+=1);if(!(u>32)){var l=e.slice(f,f+u);return l.copy(r,32-l.length),{r:t,s:r}}}}}}}}}},558:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(47108),o=r(39404),a=r(36883).ec,s=r(53892),c=new a("secp256k1"),u=c.curve;function f(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new o(t);if(r.cmp(u.p)>=0)return null;var n=(r=r.toRed(u.red)).redSqr().redIMul(r).redIAdd(u.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),c.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new o(t),i=new o(r);if(n.cmp(u.p)>=0||i.cmp(u.p)>=0)return null;if(n=n.toRed(u.red),i=i.toRed(u.red),(6===e||7===e)&&i.isOdd()!==(7===e))return null;var a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(u.b)).isZero()?c.keyPair({pub:{x:n,y:i}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}t.privateKeyVerify=function(e){var t=new o(e);return t.cmp(u.n)<0&&!t.isZero()},t.privateKeyExport=function(e,t){var r=new o(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(s.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},t.privateKeyNegate=function(e){var t=new o(e);return t.isZero()?n.alloc(32):u.n.sub(t).umod(u.n).toArrayLike(n,"be",32)},t.privateKeyModInverse=function(e){var t=new o(e);if(t.cmp(u.n)>=0||t.isZero())throw new Error(s.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(u.n).toArrayLike(n,"be",32)},t.privateKeyTweakAdd=function(e,t){var r=new o(t);if(r.cmp(u.n)>=0)throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new o(e)),r.cmp(u.n)>=0&&r.isub(u.n),r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},t.privateKeyTweakMul=function(e,t){var r=new o(t);if(r.cmp(u.n)>=0||r.isZero())throw new Error(s.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new o(e)),r.cmp(u.n)&&(r=r.umod(u.n)),r.toArrayLike(n,"be",32)},t.publicKeyCreate=function(e,t){var r=new o(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(s.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},t.publicKeyConvert=function(e,t){var r=f(e);if(null===r)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},t.publicKeyVerify=function(e){return null!==f(e)},t.publicKeyTweakAdd=function(e,t,r){var i=f(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(u.n)>=0)throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var a=u.g.mul(t).add(i.pub);if(a.isInfinity())throw new Error(s.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(a.encode(!0,r))},t.publicKeyTweakMul=function(e,t,r){var i=f(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new o(t)).cmp(u.n)>=0||t.isZero())throw new Error(s.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(i.pub.mul(t).encode(!0,r))},t.publicKeyCombine=function(e,t){for(var r=new Array(e.length),i=0;i<e.length;++i)if(r[i]=f(e[i]),null===r[i])throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);for(var o=r[0].pub,a=1;a<r.length;++a)o=o.add(r[a].pub);if(o.isInfinity())throw new Error(s.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(o.encode(!0,t))},t.signatureNormalize=function(e){var t=new o(e.slice(0,32)),r=new o(e.slice(32,64));if(t.cmp(u.n)>=0||r.cmp(u.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);var i=n.from(e);return 1===r.cmp(c.nh)&&u.n.sub(r).toArrayLike(n,"be",32).copy(i,32),i},t.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new o(t).cmp(u.n)>=0||new o(r).cmp(u.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},t.signatureImport=function(e){var t=new o(e.r);t.cmp(u.n)>=0&&(t=new o(0));var r=new o(e.s);return r.cmp(u.n)>=0&&(r=new o(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},t.sign=function(e,t,r,i){if("function"==typeof r){var a=r;r=function(r){var c=a(e,t,null,i,r);if(!n.isBuffer(c)||32!==c.length)throw new Error(s.ECDSA_SIGN_FAIL);return new o(c)}}var f=new o(t);if(f.cmp(u.n)>=0||f.isZero())throw new Error(s.ECDSA_SIGN_FAIL);var d=c.sign(e,t,{canonical:!0,k:r,pers:i});return{signature:n.concat([d.r.toArrayLike(n,"be",32),d.s.toArrayLike(n,"be",32)]),recovery:d.recoveryParam}},t.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},i=new o(n.r),a=new o(n.s);if(i.cmp(u.n)>=0||a.cmp(u.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);if(1===a.cmp(c.nh)||i.isZero()||a.isZero())return!1;var d=f(r);if(null===d)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);return c.verify(e,n,{x:d.pub.x,y:d.pub.y})},t.recover=function(e,t,r,i){var a={r:t.slice(0,32),s:t.slice(32,64)},f=new o(a.r),d=new o(a.s);if(f.cmp(u.n)>=0||d.cmp(u.n)>=0)throw new Error(s.ECDSA_SIGNATURE_PARSE_FAIL);try{if(f.isZero()||d.isZero())throw new Error;var l=c.recoverPubKey(e,a,r);return n.from(l.encode(!0,i))}catch(e){throw new Error(s.ECDSA_RECOVER_FAIL)}},t.ecdh=function(e,r){var n=t.ecdhUnsafe(e,r,!0);return i("sha256").update(n).digest()},t.ecdhUnsafe=function(e,t,r){var i=f(e);if(null===i)throw new Error(s.EC_PUBLIC_KEY_PARSE_FAIL);var a=new o(t);if(a.cmp(u.n)>=0||a.isZero())throw new Error(s.ECDH_FAIL);return n.from(i.pub.mul(a).encode(!0,r))}},95483:(e,t,r)=>{"use strict";var n=r(95469),i=r(95712),o=r(53892);function a(e,t){return void 0===e?t:(n.isBoolean(e,o.COMPRESSED_TYPE_INVALID),e)}e.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=a(r,!0);var s=e.privateKeyExport(t,r);return i.privateKeyExport(t,s,r)},privateKeyImport:function(t){if(n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),(t=i.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(o.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),r=a(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),r=a(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakAdd(t,r,i)},publicKeyTweakMul:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,o.TWEAK_LENGTH_INVALID),i=a(i,!0),e.publicKeyTweakMul(t,r,i)},publicKeyCombine:function(t,r){n.isArray(t,o.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,o.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var i=0;i<t.length;++i)n.isBuffer(t[i],o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[i],33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID);return r=a(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return i.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,o.ECDSA_SIGNATURE_LENGTH_INVALID);var r=i.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(o.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,i){n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID);var a=null,s=null;return void 0!==i&&(n.isObject(i,o.OPTIONS_TYPE_INVALID),void 0!==i.data&&(n.isBuffer(i.data,o.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(i.data,32,o.OPTIONS_DATA_LENGTH_INVALID),a=i.data),void 0!==i.noncefn&&(n.isFunction(i.noncefn,o.OPTIONS_NONCEFN_TYPE_INVALID),s=i.noncefn)),e.sign(t,r,s,a)},verify:function(t,r,i){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(i,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(i,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,i)},recover:function(t,r,i,s){return n.isBuffer(t,o.MSG32_TYPE_INVALID),n.isBufferLength(t,32,o.MSG32_LENGTH_INVALID),n.isBuffer(r,o.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,o.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(i,o.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(i,-1,4,o.RECOVERY_ID_VALUE_INVALID),s=a(s,!0),e.recover(t,r,i,s)},ecdh:function(t,r){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,i){return n.isBuffer(t,o.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,o.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,o.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,o.EC_PRIVATE_KEY_LENGTH_INVALID),i=a(i,!0),e.ecdhUnsafe(t,r,i)}}}},36883:(e,t,r)=>{"use strict";var n=t;n.version=r(16770).rE,n.utils=r(757),n.rand=r(15037),n.curve=r(87920),n.curves=r(63170),n.ec=r(40477),n.eddsa=r(41220)},59695:(e,t,r)=>{"use strict";var n=r(39404),i=r(757),o=i.getNAF,a=i.getJSF,s=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){s(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var f=a+r.step-1;f>=a;f--)c=(c<<1)+n[f];u.push(c)}for(var d=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<u.length;a++)(c=u[a])===h?l=l.mixedAdd(r.points[a]):c===-h&&(l=l.mixedAdd(r.points[a].neg()));d=d.add(l)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var f=0;u>=0&&0===a[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var d=a[u];s(0!==d),c="affine"===e.type?d>0?c.mixedAdd(i[d-1>>1]):c.mixedAdd(i[-d-1>>1].neg()):d>0?c.add(i[d-1>>1]):c.add(i[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var s,c,u,f=this._wnafT1,d=this._wnafT2,l=this._wnafT3,h=0;for(s=0;s<n;s++){var p=(u=t[s])._getNAFPoints(e);f[s]=p.wnd,d[s]=p.points}for(s=n-1;s>=1;s-=2){var b=s-1,y=s;if(1===f[b]&&1===f[y]){var g=[t[b],null,null,t[y]];0===t[b].y.cmp(t[y].y)?(g[1]=t[b].add(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg())):0===t[b].y.cmp(t[y].y.redNeg())?(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].add(t[y].neg())):(g[1]=t[b].toJ().mixedAdd(t[y]),g[2]=t[b].toJ().mixedAdd(t[y].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[b],r[y]);for(h=Math.max(v[0].length,h),l[b]=new Array(h),l[y]=new Array(h),c=0;c<h;c++){var _=0|v[0][c],w=0|v[1][c];l[b][c]=m[3*(_+1)+(w+1)],l[y][c]=0,d[b]=g}}else l[b]=o(r[b],f[b],this._bitLength),l[y]=o(r[y],f[y],this._bitLength),h=Math.max(l[b].length,h),h=Math.max(l[y].length,h)}var S=this.jpoint(null,null,null),x=this._wnafT4;for(s=h;s>=0;s--){for(var A=0;s>=0;){var E=!0;for(c=0;c<n;c++)x[c]=0|l[c][s],0!==x[c]&&(E=!1);if(!E)break;A++,s--}if(s>=0&&A++,S=S.dblp(A),s<0)break;for(c=0;c<n;c++){var I=x[c];0!==I&&(I>0?u=d[c][I-1>>1]:I<0&&(u=d[c][-I-1>>1].neg()),S="affine"===u.type?S.mixedAdd(u):S.add(u))}}for(s=0;s<n;s++)d[s]=null;return i?S:S.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?s(e[e.length-1]%2==0):7===e[0]&&s(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},5396:(e,t,r)=>{"use strict";var n=r(757),i=r(39404),o=r(56698),a=r(59695),s=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,o){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(t&&!c||!t&&c)&&(s=s.redNeg()),this.point(e,s)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),c=i.redMul(a),u=o.redMul(s),f=i.redMul(s),d=a.redMul(o);return this.curve.point(c,u,d,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(s)).redAdd(c);this.zOne?(e=a.redSub(s).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=a.redSub(s).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=s.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(s.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),c=r.redAdd(t),u=o.redMul(a),f=s.redMul(c),d=o.redMul(c),l=a.redMul(s);return this.curve.point(u,f,l,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),d=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},87920:(e,t,r)=>{"use strict";var n=t;n.base=r(59695),n.short=r(446),n.mont=r(68076),n.edwards=r(5396)},68076:(e,t,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(59695),a=r(757);function s(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new c(this,e,t)},s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),a=i.redMul(n),s=t.z.redMul(o.redAdd(a).redSqr()),c=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},446:(e,t,r)=>{"use strict";var n=r(757),i=r(39404),o=r(56698),a=r(59695),s=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],s(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,a,s,c,u,f,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),p=new i(1),b=new i(0),y=new i(0),g=new i(1),m=0;0!==l.cmpn(0);){var v=h.div(l);u=h.sub(v.mul(l)),f=y.sub(v.mul(p));var _=g.sub(v.mul(b));if(!n&&u.cmp(d)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2==++m)break;c=u,h=l,l=u,y=p,p=f,g=b,b=_}a=u.neg(),s=f;var w=n.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:o},{a,b:s}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*o]=s,n[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),f=u.redMul(s),d=n.redMul(u),l=c.redSqr().redIAdd(f).redISub(d).redISub(d),h=c.redMul(d.redISub(l)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(l,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),f=r.redMul(c),d=s.redSqr().redIAdd(u).redISub(f).redISub(f),l=s.redMul(f.redISub(d)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(d,l,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),d=u.redSqr(),l=d.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(d),b=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(b),g=h.redMul(y);g=g.redIAdd(g).redISub(l);var m=u.redMul(s);t+1<e&&(c=c.redMul(l)),o=b,s=m,u=g}return this.curve.jpoint(o,u.redMul(i),s)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),h=this.x.redAdd(d).redSqr().redISub(f).redISub(l);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),e=b.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=s.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),l=this.x.redMul(d),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=l.redIAdd(l),b=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var y=d.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),f=s.redSqr().redISub(u.redAdd(u)),d=u.redISub(f),l=a.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=s.redMul(d).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.x.redMul(s).redISub(f);d=(d=d.redIAdd(d)).redIAdd(d);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,l,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},63170:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),a=r(87920),s=r(757).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(37509)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},40477:(e,t,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(757),a=r(63170),s=r(15037),c=o.assert,u=r(5246),f=r(96883);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),c=e.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),l=0;;l++){var h=o.k?o.k(l):new n(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(d)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var b=p.getX(),y=b.umod(this.n);if(0!==y.cmpn(0)){var g=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==b.cmp(y)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new f({r:y,s:g,recoveryParam:m})}}}}}},d.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new n(e),s=t.r,u=t.s,d=1&r,l=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");s=l?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),b=u.mul(h).umod(o);return this.g.mulAdd(p,s,b)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},5246:(e,t,r)=>{"use strict";var n=r(39404),i=r(757).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},96883:(e,t,r)=>{"use strict";var n=r(39404),i=r(757),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,o=0,a=t.place;o<n;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new s;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;if(128&e[r.place])return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;if(128&e[r.place])return!1;var d=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),a=[48];return f(a,o.length),a=a.concat(o),i.encode(a,e)}},41220:(e,t,r)=>{"use strict";var n=r(77952),i=r(63170),o=r(757),a=o.assert,s=o.parseBytes,c=r(4583),u=r(41538);function f(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=s(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),a=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){if(e=s(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},4583:(e,t,r)=>{"use strict";var n=r(757),i=n.assert,o=n.parseBytes,a=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=s},41538:(e,t,r)=>{"use strict";var n=r(39404),i=r(757),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(o(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},37509:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},757:(e,t,r)=>{"use strict";var n=t,i=r(39404),o=r(43349),a=r(64367);n.assert=o,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,a=e.clone();for(n=0;n<i.length;n++){var s,c=a.andln(o-1);a.isOdd()?(s=c>(o>>1)-1?(o>>1)-c:c,a.isubn(s)):s=0,i[n]=s,a.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,s,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),s=1&u?3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u:0,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},90392:(e,t,r)=>{var n=r(92861).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var c=a%i,u=Math.min(o-s,i-c),f=0;f<u;f++)r[c+f]=e[s+f];s+=u,(a+=u)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},62802:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(27816),n.sha1=r(63737),n.sha224=r(26710),n.sha256=r(24107),n.sha384=r(32827),n.sha512=r(82890)},27816:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=r[d-3]^r[d-8]^r[d-14]^r[d-16];for(var l=0;l<80;++l){var h=~~(l/20),p=0|((t=n)<<5|t>>>27)+f(h,i,o,s)+c+r[l]+a[h];c=s,s=o,o=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},63737:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function d(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=(t=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),b=u(n)+d(p,i,o,s)+c+r[h]+a[p]|0;c=s,s=o,o=f(i),i=n,n=b}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},26710:(e,t,r)=>{var n=r(56698),i=r(24107),o=r(90392),a=r(92861).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},24107:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,b=0|this._g,y=0|this._h,g=0;g<16;++g)r[g]=e.readInt32BE(4*g);for(;g<64;++g)r[g]=0|(((t=r[g-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[g-7]+h(r[g-15])+r[g-16];for(var m=0;m<64;++m){var v=y+l(c)+u(c,p,b)+a[m]+r[m]|0,_=d(n)+f(n,i,o)|0;y=b,b=p,p=c,c=s+v|0,s=o,o=i,i=n,n=v+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=b+this._g|0,this._h=y+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},32827:(e,t,r)=>{var n=r(56698),i=r(82890),o=r(90392),a=r(92861).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},82890:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function b(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,m=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,x=0|this._dl,A=0|this._el,E=0|this._fl,I=0|this._gl,k=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var C=t[T-30],O=t[T-30+1],P=h(C,O),M=p(O,C),B=b(C=t[T-4],O=t[T-4+1]),D=y(O,C),R=t[T-14],L=t[T-14+1],N=t[T-32],j=t[T-32+1],U=M+L|0,H=P+R+g(U,M)|0;H=(H=H+B+g(U=U+D|0,D)|0)+N+g(U=U+j|0,j)|0,t[T]=H,t[T+1]=U}for(var F=0;F<160;F+=2){H=t[F],U=t[F+1];var z=f(r,n,i),q=f(_,w,S),K=d(r,_),V=d(_,r),$=l(s,A),W=l(A,s),G=a[F],Q=a[F+1],Y=u(s,c,m),X=u(A,E,I),J=k+W|0,Z=v+$+g(J,k)|0;Z=(Z=(Z=Z+Y+g(J=J+X|0,X)|0)+G+g(J=J+Q|0,Q)|0)+H+g(J=J+U|0,U)|0;var ee=V+q|0,te=K+z+g(ee,V)|0;v=m,k=I,m=c,I=E,c=s,E=A,s=o+Z+g(A=x+J|0,x)|0,o=i,x=S,i=n,S=w,n=r,w=_,r=Z+te+g(_=J+ee|0,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+x|0,this._el=this._el+A|0,this._fl=this._fl+E|0,this._gl=this._gl+I|0,this._hl=this._hl+k|0,this._ah=this._ah+r+g(this._al,_)|0,this._bh=this._bh+n+g(this._bl,w)|0,this._ch=this._ch+i+g(this._cl,S)|0,this._dh=this._dh+o+g(this._dl,x)|0,this._eh=this._eh+s+g(this._el,A)|0,this._fh=this._fh+c+g(this._fl,E)|0,this._gh=this._gh+m+g(this._gl,I)|0,this._hh=this._hh+v+g(this._hl,k)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},18190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHAKE=t.SHA3Hash=t.SHA3=t.Keccak=void 0;var n,i=r(48287),o=(n=r(23417))&&n.__esModule?n:{default:n};var a=function(e){var t=e.allowedSizes,r=e.defaultSize,n=e.padding;return function e(){var a=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(!this||this.constructor!==e)return new e(s);if(t&&!t.includes(s))throw new Error("Unsupported hash length");var c=new o.default({capacity:s});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(i.Buffer.isBuffer(e))return c.absorb(e),a;if("string"==typeof e)return a.update(i.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,r=c.squeeze({buffer:t.buffer,padding:t.padding||n});return t.format&&"binary"!==t.format?r.toString(t.format):r},this.reset=function(){return c.reset(),a},this}},s=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});t.Keccak=s;var c=a({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});t.SHA3=c;var u=a({allowedSizes:[128,256],defaultSize:256,padding:31});t.SHAKE=u;var f=s;t.SHA3Hash=f,c.SHA3Hash=f;var d=c;t.default=d},23417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(48287),o=(n=r(98096))&&n.__esModule?n:{default:n};var a=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}return t},s=function(e,t){for(var r=0;r<t.length;r+=8){var n=r/4;t[r]=e[n+1],t[r+1]=e[n+1]>>>8,t[r+2]=e[n+1]>>>16,t[r+3]=e[n+1]>>>24,t[r+4]=e[n],t[r+5]=e[n]>>>8,t[r+6]=e[n]>>>16,t[r+7]=e[n]>>>24}return t},c=function(e){var t=this,r=e.capacity,n=e.padding,c=(0,o.default)(),u=r/8,f=200-r/4,d=0,l=new Uint32Array(50),h=i.Buffer.allocUnsafe(f);return this.absorb=function(e){for(var r=0;r<e.length;r++)h[d]=e[r],(d+=1)>=f&&(a(h,l),c(l),d=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||i.Buffer.allocUnsafe(u),padding:e.padding||n,queue:i.Buffer.allocUnsafe(h.length),state:new Uint32Array(l.length)};h.copy(t.queue);for(var r=0;r<l.length;r++)t.state[r]=l[r];t.queue.fill(0,d),t.queue[d]|=t.padding,t.queue[f-1]|=128,a(t.queue,t.state);for(var o=0;o<t.buffer.length;o+=f)c(t.state),s(t.state,t.buffer.slice(o,o+f));return t.buffer},this.reset=function(){return h.fill(0),l.fill(0),d=0,t},this};t.default=c},56317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(11196))&&n.__esModule?n:{default:n};var o=function(e){for(var t=e.A,r=e.C,n=0;n<25;n+=5){for(var o=0;o<5;o++)(0,i.default)(t,n+o)(r,o);for(var a=0;a<5;a++){var s=2*(n+a),c=(a+1)%5*2,u=(a+2)%5*2;t[s]^=~r[c]&r[u],t[s+1]^=~r[c+1]&r[u+1]}}};t.default=o},11196:e=>{"use strict";e.exports=function(e,t){return function(r,n){var i=2*n,o=2*t;r[i]=e[o],r[i+1]=e[o+1]}}},98096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(56317)),i=s(r(33126)),o=s(r(12700)),a=s(r(23671));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){var e=new Uint32Array(10),t=new Uint32Array(10),r=new Uint32Array(2);return function(s){for(var c=0;c<24;c++)(0,a.default)({A:s,C:e,D:t,W:r}),(0,o.default)({A:s,C:e,W:r}),(0,n.default)({A:s,C:e}),(0,i.default)({A:s,roundIndex:c});e.fill(0),t.fill(0),r.fill(0)}};t.default=c},33126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1165))&&n.__esModule?n:{default:n};var o=function(e){var t=e.A,r=2*e.roundIndex;t[0]^=i.default[r],t[1]^=i.default[r+1]};t.default=o},1165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=r},12700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(16351)),i=a(r(55841)),o=a(r(11196));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.A,r=e.C,a=e.W;(0,o.default)(t,1)(a,0);for(var s=0,c=0,u=0,f=32,d=0;d<24;d++){var l=n.default[d],h=i.default[d];(0,o.default)(t,l)(r,0),s=a[0],c=a[1],f=32-h,a[u=h<32?0:1]=s<<h|c>>>f,a[(u+1)%2]=c<<h|s>>>f,(0,o.default)(a,0)(t,l),(0,o.default)(r,0)(a,0)}};t.default=s},16351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];t.default=r},55841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];t.default=r},23671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(11196))&&n.__esModule?n:{default:n};var o=function(e){for(var t=e.A,r=e.C,n=e.D,o=e.W,a=0,s=0,c=0;c<5;c++){var u=2*c,f=2*(c+5),d=2*(c+10),l=2*(c+15),h=2*(c+20);r[u]=t[u]^t[f]^t[d]^t[l]^t[h],r[u+1]=t[u+1]^t[f+1]^t[d+1]^t[l+1]^t[h+1]}for(var p=0;p<5;p++){(0,i.default)(r,(p+1)%5)(o,0),a=o[0],s=o[1],o[0]=a<<1|s>>>31,o[1]=s<<1|a>>>31,n[2*p]=r[(p+4)%5*2]^o[0],n[2*p+1]=r[(p+4)%5*2+1]^o[1];for(var b=0;b<25;b+=5)t[2*(b+p)]^=n[2*p],t[2*(b+p)+1]^=n[2*p+1]}};t.default=o},88310:(e,t,r)=>{e.exports=i;var n=r(37007).EventEmitter;function i(){n.call(this)}r(56698)(i,n),i.Readable=r(45412),i.Writable=r(16708),i.Duplex=r(25382),i.Transform=r(74610),i.PassThrough=r(63600),i.finished=r(86238),i.pipeline=r(57758),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",u),e.on("error",u),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},83141:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=d,t=3;break;default:return this.write=l,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=a(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1061:(e,t,r)=>{var n=r(12113);function i(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return n.Nil(e)?"":i(e.constructor)}function a(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function s(e){return n.Function(e)?e.toJSON?e.toJSON():i(e):n.Array(e)?"Array":e&&n.Object(e)?"Object":void 0!==e?e:""}function c(e,t,r){var i=function(e){return n.Function(e)?"":n.String(e)?JSON.stringify(e):e&&n.Object(e)?"":e}(t);return"Expected "+s(e)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function u(e,t,r){r=r||o(t),this.message=c(e,t,r),a(this,u),this.__type=e,this.__value=t,this.__valueTypeName=r}function f(e,t,r,n,i){e?(i=i||o(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),c('property "'+s(r)+o+s(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',a(this,u),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,f.prototype=Object.create(Error.prototype),f.prototype.constructor=u,e.exports={TfTypeError:u,TfPropertyTypeError:f,tfCustomError:function(e,t){return new u(e,{},t)},tfSubError:function(e,t,r){return e instanceof f?(t=t+"."+e.__property,e=new f(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof u&&(e=new f(e.__type,t,r,e.__value,e.__valueTypeName)),a(e),e},tfJSON:s,getValueTypeName:o}},69542:(e,t,r)=>{var n=r(48287).Buffer,i=r(12113),o=r(1061);function a(e){return n.isBuffer(e)}function s(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function c(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw o.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var u=c.bind(null,i.Array),f=c.bind(null,a),d=c.bind(null,s),l=c.bind(null,i.String);var h=Math.pow(2,53)-1;var p={ArrayN:u,Buffer:a,BufferN:f,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:s,HexN:d,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-h&&e<=h&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:l,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=h&&Math.floor(e)===e}};for(var b in p)p[b].toJSON=function(e){return e}.bind(null,b);e.exports=p},8676:(e,t,r)=>{var n=r(1061),i=r(12113),o=n.tfJSON,a=n.TfTypeError,s=n.TfPropertyTypeError,c=n.tfSubError,u=n.getValueTypeName,f={arrayOf:function(e,t){function r(r,n){return!!i.Array(r)&&(!i.Nil(r)&&(!(void 0!==t.minLength&&r.length<t.minLength)&&(!(void 0!==t.maxLength&&r.length>t.maxLength)&&((void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return l(e,t,n)}catch(e){throw c(e,r)}}))))))}return e=d(e),t=t||{},r.toJSON=function(){var r="["+o(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return i.Nil(r)||t(r,n,e)}return t=d(t),r.toJSON=function(){return"?"+o(t)},r},map:function(e,t){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{t&&l(t,o,n)}catch(e){throw c(e,o,"key")}try{var a=r[o];l(e,a,n)}catch(e){throw c(e,o)}}return!0}return e=d(e),t&&(t=d(t)),r.toJSON=t?function(){return"{"+o(t)+": "+o(e)+"}"}:function(){return"{"+o(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=d(e[r]);function n(e,r){if(!i.Object(e))return!1;if(i.Nil(e))return!1;var n;try{for(n in t){l(t[n],e[n],r)}}catch(e){throw c(e,n)}if(r)for(n in e)if(!t[n])throw new s(void 0,n);return!0}return n.toJSON=function(){return o(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(d);function t(t,r){return e.some((function(e){try{return l(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(d);function t(t,r){return e.every((function(e){try{return l(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===u(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(d);function t(t,r){return!i.Nil(t)&&(!i.Nil(t.length)&&((!r||t.length===e.length)&&e.every((function(e,n){try{return l(e,t[n],r)}catch(e){throw c(e,n)}}))))}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function d(e){if(i.String(e))return"?"===e[0]?f.maybe(e.slice(1)):i[e]||f.quacksLike(e);if(e&&i.Object(e)){if(i.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(e[0])}return f.object(e)}return i.Function(e)?e:f.value(e)}function l(e,t,r,n){if(i.Function(e)){if(e(t,r))return!0;throw new a(n||e,t)}return l(d(e),t,r)}for(var h in f.oneOf=f.anyOf,i)l[h]=i[h];for(h in f)l[h]=f[h];var p=r(69542);for(h in p)l[h]=p[h];l.compile=d,l.TfTypeError=a,l.TfPropertyTypeError=s,e.exports=l},12113:e=>{var t={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var r in t.Null=t.Nil,t)t[r].toJSON=function(e){return e}.bind(null,r);e.exports=t},94643:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},10611:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{NIL:()=>M,parse:()=>y,stringify:()=>f,v1:()=>b,v3:()=>I,v4:()=>k,v5:()=>P,validate:()=>s,version:()=>B});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const s=function(e){return"string"==typeof e&&a.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r};var d,l,h=0,p=0;const b=function(e,t,r){var n=t&&r||0,i=t||new Array(16),a=(e=e||{}).node||d,s=void 0!==e.clockseq?e.clockseq:l;if(null==a||null==s){var c=e.random||(e.rng||o)();null==a&&(a=d=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==s&&(s=l=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),b=void 0!==e.nsecs?e.nsecs:p+1,y=u-h+(b-p)/1e4;if(y<0&&void 0===e.clockseq&&(s=s+1&16383),(y<0||u>h)&&void 0===e.nsecs&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=u,p=b,l=s;var g=(1e4*(268435455&(u+=122192928e5))+b)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=255&g;var m=u/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var v=0;v<6;++v)i[n+v]=a[v];return t||f(i)};const y=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function g(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return f(a)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(e){return 14+(e+64>>>9<<4)+1}function v(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function _(e,t,r,n,i,o){return v((a=v(v(t,e),v(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function w(e,t,r,n,i,o,a){return _(t&r|~t&n,e,t,i,o,a)}function S(e,t,r,n,i,o,a){return _(t&n|r&~n,e,t,i,o,a)}function x(e,t,r,n,i,o,a){return _(t^r^n,e,t,i,o,a)}function A(e,t,r,n,i,o,a){return _(r^(t|~n),e,t,i,o,a)}const E=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,c=n,u=i,f=o;r=w(r,n,i,o,e[a],7,-680876936),o=w(o,r,n,i,e[a+1],12,-389564586),i=w(i,o,r,n,e[a+2],17,606105819),n=w(n,i,o,r,e[a+3],22,-1044525330),r=w(r,n,i,o,e[a+4],7,-176418897),o=w(o,r,n,i,e[a+5],12,1200080426),i=w(i,o,r,n,e[a+6],17,-1473231341),n=w(n,i,o,r,e[a+7],22,-45705983),r=w(r,n,i,o,e[a+8],7,1770035416),o=w(o,r,n,i,e[a+9],12,-1958414417),i=w(i,o,r,n,e[a+10],17,-42063),n=w(n,i,o,r,e[a+11],22,-1990404162),r=w(r,n,i,o,e[a+12],7,1804603682),o=w(o,r,n,i,e[a+13],12,-40341101),i=w(i,o,r,n,e[a+14],17,-1502002290),r=S(r,n=w(n,i,o,r,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=S(o,r,n,i,e[a+6],9,-1069501632),i=S(i,o,r,n,e[a+11],14,643717713),n=S(n,i,o,r,e[a],20,-373897302),r=S(r,n,i,o,e[a+5],5,-701558691),o=S(o,r,n,i,e[a+10],9,38016083),i=S(i,o,r,n,e[a+15],14,-660478335),n=S(n,i,o,r,e[a+4],20,-405537848),r=S(r,n,i,o,e[a+9],5,568446438),o=S(o,r,n,i,e[a+14],9,-1019803690),i=S(i,o,r,n,e[a+3],14,-187363961),n=S(n,i,o,r,e[a+8],20,1163531501),r=S(r,n,i,o,e[a+13],5,-1444681467),o=S(o,r,n,i,e[a+2],9,-51403784),i=S(i,o,r,n,e[a+7],14,1735328473),r=x(r,n=S(n,i,o,r,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=x(o,r,n,i,e[a+8],11,-2022574463),i=x(i,o,r,n,e[a+11],16,1839030562),n=x(n,i,o,r,e[a+14],23,-35309556),r=x(r,n,i,o,e[a+1],4,-1530992060),o=x(o,r,n,i,e[a+4],11,1272893353),i=x(i,o,r,n,e[a+7],16,-155497632),n=x(n,i,o,r,e[a+10],23,-1094730640),r=x(r,n,i,o,e[a+13],4,681279174),o=x(o,r,n,i,e[a],11,-358537222),i=x(i,o,r,n,e[a+3],16,-722521979),n=x(n,i,o,r,e[a+6],23,76029189),r=x(r,n,i,o,e[a+9],4,-640364487),o=x(o,r,n,i,e[a+12],11,-421815835),i=x(i,o,r,n,e[a+15],16,530742520),r=A(r,n=x(n,i,o,r,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=A(o,r,n,i,e[a+7],10,1126891415),i=A(i,o,r,n,e[a+14],15,-1416354905),n=A(n,i,o,r,e[a+5],21,-57434055),r=A(r,n,i,o,e[a+12],6,1700485571),o=A(o,r,n,i,e[a+3],10,-1894986606),i=A(i,o,r,n,e[a+10],15,-1051523),n=A(n,i,o,r,e[a+1],21,-2054922799),r=A(r,n,i,o,e[a+8],6,1873313359),o=A(o,r,n,i,e[a+15],10,-30611744),i=A(i,o,r,n,e[a+6],15,-1560198380),n=A(n,i,o,r,e[a+13],21,1309151649),r=A(r,n,i,o,e[a+4],6,-145523070),o=A(o,r,n,i,e[a+11],10,-1120210379),i=A(i,o,r,n,e[a+2],15,718787259),n=A(n,i,o,r,e[a+9],21,-343485551),r=v(r,s),n=v(n,c),i=v(i,u),o=v(o,f)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};const I=g("v3",48,E);const k=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return f(n)};function T(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function C(e,t){return e<<t|e>>>32-t}const O=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),c=0;c<a;++c){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=e[64*c+4*f]<<24|e[64*c+4*f+1]<<16|e[64*c+4*f+2]<<8|e[64*c+4*f+3];s[c]=u}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<a;++d){for(var l=new Uint32Array(80),h=0;h<16;++h)l[h]=s[d][h];for(var p=16;p<80;++p)l[p]=C(l[p-3]^l[p-8]^l[p-14]^l[p-16],1);for(var b=r[0],y=r[1],g=r[2],m=r[3],v=r[4],_=0;_<80;++_){var w=Math.floor(_/20),S=C(b,5)+T(w,y,g,m)+v+t[w]+l[_]>>>0;v=m,m=g,g=C(y,30)>>>0,y=b,b=S}r[0]=r[0]+b>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};const P=g("v5",80,O),M="00000000-0000-0000-0000-000000000000";const B=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},68469:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=9007199254740991;function o(e){if(e<0||e>i||e%1!=0)throw new RangeError("value out of range")}function a(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,r,i){if(o(t),r||(r=n.allocUnsafe(a(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),t<253?(r.writeUInt8(t,i),e.bytes=1):t<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(t,i+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(t,i+1),e.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(t>>>0,i+1),r.writeUInt32LE(t/4294967296|0,i+5),e.bytes=9),r},decode:function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var i=t.readUInt8(r);if(i<253)return e.bytes=1,i;if(253===i)return e.bytes=3,t.readUInt16LE(r+1);if(254===i)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var a=t.readUInt32LE(r+1),s=4294967296*t.readUInt32LE(r+5)+a;return o(s),s},encodingLength:a}},68961:(__unused_webpack_module,exports)=>{var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),(function(t){r[t]=e[t]})),forEach(globals,(function(t){e[t]&&(r[t]=e[t])}));var o=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,r[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),r},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),t}},57513:(e,t,r)=>{var n=r(48287).Buffer,i=r(91889);function o(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function a(e,t,r){var i=new n(r?34:33);return i.writeUInt8(e,0),t.copy(i,1),r&&(i[33]=1),i}e.exports={decode:function(e,t){return o(i.decode(e),t)},decodeRaw:o,encode:function(e,t,r){return"number"==typeof e?i.encode(a(e,t,r)):i.encode(a(e.version,e.privateKey,e.compressed))},encodeRaw:a}},4693:e=>{class t{constructor(e){this.value=e,this.next=void 0}}class r{constructor(){this.clear()}enqueue(e){const r=new t(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}e.exports=r},84102:()=>{},26272:()=>{},14923:()=>{},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},61626:()=>{},21638:()=>{},92668:()=>{},91903:()=>{},24394:()=>{},15340:()=>{},79838:()=>{},56750:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(a,{boundaryMatchRegex:()=>c,boundaryRegex:()=>s,default:()=>S,encodeMultipartMessage:()=>b,parseMessage:()=>_,parseMultipartMessage:()=>S}),e.exports=(t=a,((e,t,a,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let c of i(t))!o.call(e,c)&&c!==a&&r(e,c,{get:()=>t[c],enumerable:!(s=n(t,c))||s.enumerable});return e})(r({},"__esModule",{value:!0}),t));var s=/^[0-9a-zA-Z'()+_,\-./:=? ]{0,69}[0-9a-zA-Z'()+_,\-./:=?]$/,c=/;\s*boundary=(?:"([0-9a-zA-Z'()+_,\-./:=? ]{0,69}[0-9a-zA-Z'()+_,\-./:=?])"|([0-9a-zA-Z'+_\-.]{0,69}[0-9a-zA-Z'+_\-.]))/,u=e=>new ReadableStream({pull(t){if(ArrayBuffer.isView(e))t.enqueue(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else{if(!(e instanceof ArrayBuffer))throw new TypeError("Expected ArrayBuffer or an ArrayBuffer view.");t.enqueue(e)}t.close()}}),f=/;\s*boundary=(?:"([^"]+)"|([^;",]+))/,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+_-.",l=()=>{let e=new Uint8Array(24);return globalThis.crypto.getRandomValues(e),Array.from(e).map((e=>d[e%66])).join("")},h={preventClose:!0};async function*p(e,t,r){let n=new TextEncoder,i=n.encode(`\r\n--${e}`);if(Array.isArray(t)&&t.length<1)return void await r.abort(Error("At least one part is required"));let o=0;for await(let e of t){let t,a;if(o++,!e.body&&e.parts)if(a=e.headers.get("content-type"),a){if(!a.startsWith("multipart/")||!f.test(a))return void await r.abort(Error("Invalid multipart content type: "+a));{let e=a.match(c);(!e||!(t=e[1]||e[2]))&&(t=l(),a=a.replace(f,`; boundary="${t}"`))}}else t=l(),a=`multipart/mixed; boundary="${t}"`;await u(i).pipeTo(r,h),yield;{let t=[""];if(a){let r=!1;e.headers.forEach(((e,n)=>{"content-type"!==n?t.push(`${n}: ${e}`):(r=!0,t.push(`${n}: ${a}`))})),r||t.push(`content-type: ${a}`)}else e.headers.forEach(((e,r)=>{t.push(`${r}: ${e}`)}));e.parts||!e.body?t.push(""):t.push("","");let i=n.encode(t.join("\r\n"));t.length=0,await u(i).pipeTo(r,h),yield}if(e.body){if(e.body instanceof ArrayBuffer||ArrayBuffer.isView(e.body))await u(e.body).pipeTo(r,h);else if(e.body instanceof Blob)await e.body.stream().pipeTo(r,h);else{if(!(e.body instanceof ReadableStream))return void await r.abort(Error("Invalid body type"));await e.body.pipeTo(r,h)}yield}else if(e.parts){if(!t)return void await r.abort(Error("Runtime exception: undefined part boundary"));yield*p(t,e.parts,r),yield}}if(!o)return void await r.abort(Error("At least one part is required"));let a=n.encode(`\r\n--${e}--`);await u(a).pipeTo(r,h)}var b=(e,t)=>{let r=new TransformStream,n=p(e,t,r.writable),i=!1,o=r.readable.getReader();return new ReadableStream({start(e){(async()=>{for(;;)try{let t=await o.read();if(t.done){let t=new Uint8Array([13,10]);return e.enqueue(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)),void e.close()}e.enqueue(t.value)}catch(t){return void e.error(t)}})().catch((()=>{}))},async pull(){i||(await n.next()).done&&(i=!0,await r.writable.close())}})},y=(e,t)=>{e:for(let r=0;r<=e.length-t.length;r++){for(let n=0;n<t.length;n++)if(e[r+n]!==t[n])continue e;return r}return-1},g=new TextDecoder,m=(new TextEncoder).encode("\r\n"),v=[9,32],_=e=>{let t=0,r=[];for(;-1!==(t=y(e,m))&&0!==t;){let n=e.indexOf(58);if(-1===n)throw new Error("Invalid header");let i=g.decode(e.subarray(0,n));for(;v.includes(e[t+2]);){let r=y(e.subarray(t+2),m);if(r<1)break;t+=2+r}let o=g.decode(e.subarray(n+1,t)).replace(/\r\n/g,"");r.push([i,o]),e=e.subarray(t+m.length)}let n=new Headers(r);return n.has("content-transfer-encoding")||n.set("content-transfer-encoding","7bit"),n.has("content-type")||n.set("content-type","text/plain; charset=us-ascii"),{headers:n,body:-1===t?null:e.subarray(t+m.length)}},w=(e,...t)=>{let r=t.reduce(((e,t)=>e+t.byteLength),e.length),n=new(Object(t[0]).constructor)(r);n.set(e);let i=e.length;return t.forEach((e=>{n.set(e,i),i+=e.byteLength})),n};var S=async function*e(t,r){var n;if(!s.test(r))throw new Error("Invalid boundary delimiter");let i=new TextEncoder,o=[9,32],a=new Uint8Array([13,10]),f=i.encode(`\r\n--${r}`),d=new Uint8Array,l=0,h=!1,p=t.getReader();try{for(;3!==l;){let{done:t,value:i}=await p.read();if(t){if(0===d.length||h)throw new Error("Invalid message");h=!0}else d=w(d,ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i));for(;d.length>0;){let i=NaN;if(0===l&&(i=y(d,f.slice(2))-2,-3===i)||(-2!==i&&(i=y(d,f)),-1===i))break;let s=i+f.length,h=t?0:y(d.subarray(s,s+32),a);if(-1===h&&d.length-s<32)break;if(-1===h||!Array.from(d.subarray(s+Math.min(2,h),s+h)).every((e=>o.includes(e))))throw new Error(`Invalid boundary at index ${i}`);if(t||h>=2)if([1,2].includes(l)&&d[s+0]===d[s+1]&&45===d[s+0])l=3;else if(!o.includes(d[s+0])||!o.includes(d[s+1]))throw new Error(`Invalid boundary at index ${i} (${r}): ${null==(n=d[s+1])?void 0:n.toString(16)}`);switch(l){case 0:l=1;break;case 1:l=2;case 2:case 3:if(d.subarray(i,s).length>0){let t,r=d.subarray(0,i),n=_(r),o=n.headers.get("content-type");if(n.body&&null!=o&&o.startsWith("multipart/")){let r=o.match(c);if(r){let i=r[1]||r[2];t=e(u(n.body),i)}else t=null}yield{headers:n.headers,body:n.body,...void 0!==t&&{parts:t}}}}if(3===l){d=d.subarray(d.length);break}d=d.subarray(h+s+2)}}}finally{p.releaseLock()}}},7188:(e,t,r)=>{"use strict";var n=r(48287).Buffer;function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,s=(c=Object.create(null),e=>{const t=o.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>s(t)===e),f=e=>t=>typeof t===e,{isArray:d}=Array,l=f("undefined");const h=u("ArrayBuffer");const p=f("string"),b=f("function"),y=f("number"),g=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==s(e))return!1;const t=a(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},v=u("Date"),_=u("File"),w=u("Blob"),S=u("FileList"),x=u("URLSearchParams");function A(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),d(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function E(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,k=e=>!l(e)&&e!==I;const T=(C="undefined"!=typeof Uint8Array&&a(Uint8Array),e=>C&&e instanceof C);var C;const O=u("HTMLFormElement"),P=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),M=u("RegExp"),B=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};A(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},D="abcdefghijklmnopqrstuvwxyz",R="0123456789",L={DIGIT:R,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+R};const N=u("AsyncFunction");var j={isArray:d,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=s(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:p,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:m,isUndefined:l,isDate:v,isFile:_,isBlob:w,isRegExp:M,isFunction:b,isStream:e=>g(e)&&b(e.pipe),isURLSearchParams:x,isTypedArray:T,isFileList:S,forEach:A,merge:function e(){const{caseless:t}=k(this)&&this||{},r={},n=(n,i)=>{const o=t&&E(r,i)||i;m(r[o])&&m(n)?r[o]=e(r[o],n):m(n)?r[o]=e({},n):d(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&A(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(A(t,((t,n)=>{r&&b(t)?e[n]=i(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const c={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||c[s]||(t[s]=e[s],c[s]=!0);e=!1!==r&&a(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!y(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:O,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,r)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];b(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return d(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:E,global:I,isContextDefined:k,ALPHABET:L,generateString:(e=16,t=L.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=d(e)?[]:{};return A(e,((e,t)=>{const o=r(e,n+1);!l(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:N,isThenable:e=>e&&(g(e)||b(e))&&b(e.then)&&b(e.catch)};function U(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}j.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const H=U.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{F[e]={value:e}})),Object.defineProperties(U,F),Object.defineProperty(H,"isAxiosError",{value:!0}),U.from=(e,t,r,n,i,o)=>{const a=Object.create(H);return j.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),U.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};function z(e){return j.isPlainObject(e)||j.isArray(e)}function q(e){return j.endsWith(e,"[]")?e.slice(0,-2):e}function K(e,t,r){return e?e.concat(t).map((function(e,t){return e=q(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const V=j.toFlatObject(j,{},null,(function(e){return/^is[A-Z]/.test(e)}));function $(e,t,r){if(!j.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(r=j.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!j.isUndefined(t[e])}))).metaTokens,o=r.visitor||f,a=r.dots,s=r.indexes,c=(r.Blob||"undefined"!=typeof Blob&&Blob)&&j.isSpecCompliantForm(t);if(!j.isFunction(o))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(j.isDate(e))return e.toISOString();if(!c&&j.isBlob(e))throw new U("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(e)||j.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):n.from(e):e}function f(e,r,n){let o=e;if(e&&!n&&"object"==typeof e)if(j.endsWith(r,"{}"))r=i?r:r.slice(0,-2),e=JSON.stringify(e);else if(j.isArray(e)&&function(e){return j.isArray(e)&&!e.some(z)}(e)||(j.isFileList(e)||j.endsWith(r,"[]"))&&(o=j.toArray(e)))return r=q(r),o.forEach((function(e,n){!j.isUndefined(e)&&null!==e&&t.append(!0===s?K([r],n,a):null===s?r:r+"[]",u(e))})),!1;return!!z(e)||(t.append(K(n,r,a),u(e)),!1)}const d=[],l=Object.assign(V,{defaultVisitor:f,convertValue:u,isVisitable:z});if(!j.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!j.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),j.forEach(r,(function(r,i){!0===(!(j.isUndefined(r)||null===r)&&o.call(t,r,j.isString(i)?i.trim():i,n,l))&&e(r,n?n.concat(i):[i])})),d.pop()}}(e),t}function W(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function G(e,t){this._pairs=[],e&&$(e,this,t)}const Q=G.prototype;function Y(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(e,t,r){if(!t)return e;const n=r&&r.encode||Y,i=r&&r.serialize;let o;if(o=i?i(t,r):j.isURLSearchParams(t)?t.toString():new G(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}Q.append=function(e,t){this._pairs.push([e,t])},Q.toString=function(e){const t=e?function(t){return e.call(this,t,W)}:W;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var J=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Z={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ee={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:G,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const te="undefined"!=typeof window&&"undefined"!=typeof document,re=(ne="undefined"!=typeof navigator&&navigator.product,te&&["ReactNative","NativeScript","NS"].indexOf(ne)<0);var ne;const ie="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var oe={...Object.freeze({__proto__:null,hasBrowserEnv:te,hasStandardBrowserWebWorkerEnv:ie,hasStandardBrowserEnv:re}),...ee};function ae(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&j.isArray(n)?n.length:o,s)return j.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a;n[o]&&j.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&j.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!a}if(j.isFormData(e)&&j.isFunction(e.entries)){const r={};return j.forEachEntry(e,((e,n)=>{t(function(e){return j.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const se={transitional:Z,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=j.isObject(e);i&&j.isHTMLForm(e)&&(e=new FormData(e));if(j.isFormData(e))return n?JSON.stringify(ae(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $(e,new oe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return oe.isNode&&j.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return $(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(j.isString(e))try{return(t||JSON.parse)(e),j.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||se.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&j.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw U.from(e,U.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],(e=>{se.headers[e]={}}));var ce=se;const ue=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const fe=Symbol("internals");function de(e){return e&&String(e).trim().toLowerCase()}function le(e){return!1===e||null==e?e:j.isArray(e)?e.map(le):String(e)}function he(e,t,r,n,i){return j.isFunction(n)?n.call(this,t,r):(i&&(t=r),j.isString(t)?j.isString(n)?-1!==t.indexOf(n):j.isRegExp(n)?n.test(t):void 0:void 0)}class pe{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=de(t);if(!i)throw new Error("header name must be a non-empty string");const o=j.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=le(e))}const o=(e,t)=>j.forEach(e,((e,r)=>i(e,r,t)));return j.isPlainObject(e)||e instanceof this.constructor?o(e,t):j.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&ue[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=de(e)){const r=j.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(j.isFunction(t))return t.call(this,e,r);if(j.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=de(e)){const r=j.findKey(this,e);return!(!r||void 0===this[r]||t&&!he(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=de(e)){const i=j.findKey(r,e);!i||t&&!he(0,r[i],i,t)||(delete r[i],n=!0)}}return j.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!he(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return j.forEach(this,((n,i)=>{const o=j.findKey(r,i);if(o)return t[o]=le(n),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();a!==i&&delete t[i],t[a]=le(n),r[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return j.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&j.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[fe]=this[fe]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=de(e);t[n]||(!function(e,t){const r=j.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return j.isArray(e)?e.forEach(n):n(e),this}}pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),j.reduceDescriptors(pe.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),j.freezeMethods(pe);var be=pe;function ye(e,t){const r=this||ce,n=t||r,i=be.from(n.headers);let o=n.data;return j.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function ge(e){return!(!e||!e.__CANCEL__)}function me(e,t,r){U.call(this,null==e?"canceled":e,U.ERR_CANCELED,t,r),this.name="CanceledError"}j.inherits(me,U,{__CANCEL__:!0});var ve=oe.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const a=[e+"="+encodeURIComponent(t)];j.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),j.isString(n)&&a.push("path="+n),j.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _e(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var we=oe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=j.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};function Se(e,t){let r=0;const n=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=n[a];i||(i=c),r[o]=s,n[o]=c;let f=a,d=0;for(;f!==o;)d+=r[f++],f%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const l=u&&c-u;return l?Math.round(1e3*d/l):void 0}}(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,c=n(s);r=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const xe={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){let n=e.data;const i=be.from(e.headers).normalize();let o,a,{responseType:s,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(j.isFormData(n))if(oe.hasStandardBrowserEnv||oe.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let f=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+r))}const d=_e(e.baseURL,e.url);function l(){if(!f)return;const n=be.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new U("Request failed with status code "+r.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),u()}),(function(e){r(e),u()}),{data:s&&"text"!==s&&"json"!==s?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}if(f.open(e.method.toUpperCase(),X(d,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=l:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(l)},f.onabort=function(){f&&(r(new U("Request aborted",U.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new U("Network Error",U.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||Z;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new U(t,n.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,f)),f=null},oe.hasStandardBrowserEnv&&(c&&j.isFunction(c)&&(c=c(e)),c||!1!==c&&we(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&ve.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===n&&i.setContentType(null),"setRequestHeader"in f&&j.forEach(i.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),j.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),s&&"json"!==s&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",Se(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",Se(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{f&&(r(!t||t.type?new me(null,e,f):t),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===oe.protocols.indexOf(h)?r(new U("Unsupported protocol "+h+":",U.ERR_BAD_REQUEST,e)):f.send(n||null)}))}};j.forEach(xe,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ae=e=>`- ${e}`,Ee=e=>j.isFunction(e)||null===e||!1===e;var Ie=e=>{e=j.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Ee(r)&&(n=xe[(t=String(r)).toLowerCase()],void 0===n))throw new U(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new U("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Ae).join("\n"):" "+Ae(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function ke(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function Te(e){ke(e),e.headers=be.from(e.headers),e.data=ye.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ie(e.adapter||ce.adapter)(e).then((function(t){return ke(e),t.data=ye.call(e,e.transformResponse,t),t.headers=be.from(t.headers),t}),(function(t){return ge(t)||(ke(e),t&&t.response&&(t.response.data=ye.call(e,e.transformResponse,t.response),t.response.headers=be.from(t.response.headers))),Promise.reject(t)}))}const Ce=e=>e instanceof be?e.toJSON():e;function Oe(e,t){t=t||{};const r={};function n(e,t,r){return j.isPlainObject(e)&&j.isPlainObject(t)?j.merge.call({caseless:r},e,t):j.isPlainObject(t)?j.merge({},t):j.isArray(t)?t.slice():t}function i(e,t,r){return j.isUndefined(t)?j.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!j.isUndefined(t))return n(void 0,t)}function a(e,t){return j.isUndefined(t)?j.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Ce(e),Ce(t),!0)};return j.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=c[n]||i,a=o(e[n],t[n],n);j.isUndefined(a)&&o!==s||(r[n]=a)})),r}const Pe="1.6.7",Me={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Me[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Be={};Me.transitional=function(e,t,r){function n(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new U(n(i," has been removed"+(t?" in "+t:"")),U.ERR_DEPRECATED);return t&&!Be[i]&&(Be[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var De={assertOptions:function(e,t,r){if("object"!=typeof e)throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],a=t[o];if(a){const t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new U("option "+o+" must be "+r,U.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new U("Unknown option "+o,U.ERR_BAD_OPTION)}},validators:Me};const Re=De.validators;class Le{constructor(e){this.defaults=e,this.interceptors={request:new J,response:new J}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Oe(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&De.assertOptions(r,{silentJSONParsing:Re.transitional(Re.boolean),forcedJSONParsing:Re.transitional(Re.boolean),clarifyTimeoutError:Re.transitional(Re.boolean)},!1),null!=n&&(j.isFunction(n)?t.paramsSerializer={serialize:n}:De.assertOptions(n,{encode:Re.function,serialize:Re.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&j.merge(i.common,i[t.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=be.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let f,d=0;if(!s){const e=[Te.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),f=e.length,u=Promise.resolve(t);d<f;)u=u.then(e[d++],e[d++]);return u}f=a.length;let l=t;for(d=0;d<f;){const e=a[d++],t=a[d++];try{l=e(l)}catch(e){t.call(this,e);break}}try{u=Te.call(this,l)}catch(e){return Promise.reject(e)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){return X(_e((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],(function(e){Le.prototype[e]=function(t,r){return this.request(Oe(r||{},{method:e,url:t,data:(r||{}).data}))}})),j.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Le.prototype[e]=t(),Le.prototype[e+"Form"]=t(!0)}));var Ne=Le;class je{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new me(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new je((function(t){e=t})),cancel:e}}}var Ue=je;const He={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(He).forEach((([e,t])=>{He[t]=e}));var Fe=He;const ze=function e(t){const r=new Ne(t),n=i(Ne.prototype.request,r);return j.extend(n,Ne.prototype,r,{allOwnKeys:!0}),j.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Oe(t,r))},n}(ce);ze.Axios=Ne,ze.CanceledError=me,ze.CancelToken=Ue,ze.isCancel=ge,ze.VERSION=Pe,ze.toFormData=$,ze.AxiosError=U,ze.Cancel=ze.CanceledError,ze.all=function(e){return Promise.all(e)},ze.spread=function(e){return function(t){return e.apply(null,t)}},ze.isAxiosError=function(e){return j.isObject(e)&&!0===e.isAxiosError},ze.mergeConfig=Oe,ze.AxiosHeaders=be,ze.formToJSON=e=>ae(j.isHTMLForm(e)?new FormData(e):e),ze.getAdapter=Ie,ze.HttpStatusCode=Fe,ze.default=ze,e.exports=ze},86425:(e,t,r)=>{"use strict";var n=r(48287).Buffer;function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,s=(c=Object.create(null),e=>{const t=o.call(e);return c[t]||(c[t]=t.slice(8,-1).toLowerCase())});var c;const u=e=>(e=e.toLowerCase(),t=>s(t)===e),f=e=>t=>typeof t===e,{isArray:d}=Array,l=f("undefined");const h=u("ArrayBuffer");const p=f("string"),b=f("function"),y=f("number"),g=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==s(e))return!1;const t=a(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},v=u("Date"),_=u("File"),w=u("Blob"),S=u("FileList"),x=u("URLSearchParams"),[A,E,I,k]=["ReadableStream","Request","Response","Headers"].map(u);function T(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),d(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function C(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,P=e=>!l(e)&&e!==O;const M=(B="undefined"!=typeof Uint8Array&&a(Uint8Array),e=>B&&e instanceof B);var B;const D=u("HTMLFormElement"),R=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),L=u("RegExp"),N=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};T(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},j="abcdefghijklmnopqrstuvwxyz",U="0123456789",H={DIGIT:U,ALPHA:j,ALPHA_DIGIT:j+j.toUpperCase()+U};const F=u("AsyncFunction");var z={isArray:d,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&b(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||b(e.append)&&("formdata"===(t=s(e))||"object"===t&&b(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:p,isNumber:y,isBoolean:e=>!0===e||!1===e,isObject:g,isPlainObject:m,isReadableStream:A,isRequest:E,isResponse:I,isHeaders:k,isUndefined:l,isDate:v,isFile:_,isBlob:w,isRegExp:L,isFunction:b,isStream:e=>g(e)&&b(e.pipe),isURLSearchParams:x,isTypedArray:M,isFileList:S,forEach:T,merge:function e(){const{caseless:t}=P(this)&&this||{},r={},n=(n,i)=>{const o=t&&C(r,i)||i;m(r[o])&&m(n)?r[o]=e(r[o],n):m(n)?r[o]=e({},n):d(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(T(t,((t,n)=>{r&&b(t)?e[n]=i(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const c={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||c[s]||(t[s]=e[s],c[s]=!0);e=!1!==r&&a(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:u,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!y(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:D,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:N,freezeMethods:e=>{N(e,((t,r)=>{if(b(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];b(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return d(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:C,global:O,isContextDefined:P,ALPHABET:H,generateString:(e=16,t=H.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&b(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(g(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=d(e)?[]:{};return T(e,((e,t)=>{const o=r(e,n+1);!l(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:F,isThenable:e=>e&&(g(e)||b(e))&&b(e.then)&&b(e.catch)};function q(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}z.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const K=q.prototype,V={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{V[e]={value:e}})),Object.defineProperties(q,V),Object.defineProperty(K,"isAxiosError",{value:!0}),q.from=(e,t,r,n,i,o)=>{const a=Object.create(K);return z.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),q.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};function $(e){return z.isPlainObject(e)||z.isArray(e)}function W(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function G(e,t,r){return e?e.concat(t).map((function(e,t){return e=W(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Q=z.toFlatObject(z,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Y(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!z.isUndefined(t[e])}))).metaTokens,o=r.visitor||f,a=r.dots,s=r.indexes,c=(r.Blob||"undefined"!=typeof Blob&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(z.isDate(e))return e.toISOString();if(!c&&z.isBlob(e))throw new q("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(e)||z.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):n.from(e):e}function f(e,r,n){let o=e;if(e&&!n&&"object"==typeof e)if(z.endsWith(r,"{}"))r=i?r:r.slice(0,-2),e=JSON.stringify(e);else if(z.isArray(e)&&function(e){return z.isArray(e)&&!e.some($)}(e)||(z.isFileList(e)||z.endsWith(r,"[]"))&&(o=z.toArray(e)))return r=W(r),o.forEach((function(e,n){!z.isUndefined(e)&&null!==e&&t.append(!0===s?G([r],n,a):null===s?r:r+"[]",u(e))})),!1;return!!$(e)||(t.append(G(n,r,a),u(e)),!1)}const d=[],l=Object.assign(Q,{defaultVisitor:f,convertValue:u,isVisitable:$});if(!z.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!z.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),z.forEach(r,(function(r,i){!0===(!(z.isUndefined(r)||null===r)&&o.call(t,r,z.isString(i)?i.trim():i,n,l))&&e(r,n?n.concat(i):[i])})),d.pop()}}(e),t}function X(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function J(e,t){this._pairs=[],e&&Y(e,this,t)}const Z=J.prototype;function ee(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function te(e,t,r){if(!t)return e;const n=r&&r.encode||ee,i=r&&r.serialize;let o;if(o=i?i(t,r):z.isURLSearchParams(t)?t.toString():new J(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}Z.append=function(e,t){this._pairs.push([e,t])},Z.toString=function(e){const t=e?function(t){return e.call(this,t,X)}:X;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var re=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ie={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:J,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const oe="undefined"!=typeof window&&"undefined"!=typeof document,ae=(se="undefined"!=typeof navigator&&navigator.product,oe&&["ReactNative","NativeScript","NS"].indexOf(se)<0);var se;const ce="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ue=oe&&window.location.href||"http://localhost";var fe={...Object.freeze({__proto__:null,hasBrowserEnv:oe,hasStandardBrowserWebWorkerEnv:ce,hasStandardBrowserEnv:ae,origin:ue}),...ie};function de(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&z.isArray(n)?n.length:o,s)return z.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a;n[o]&&z.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&z.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!a}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,((e,n)=>{t(function(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const le={transitional:ne,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=z.isObject(e);i&&z.isHTMLForm(e)&&(e=new FormData(e));if(z.isFormData(e))return n?JSON.stringify(de(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return fe.isNode&&z.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Y(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||le.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw q.from(e,q.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],(e=>{le.headers[e]={}}));var he=le;const pe=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const be=Symbol("internals");function ye(e){return e&&String(e).trim().toLowerCase()}function ge(e){return!1===e||null==e?e:z.isArray(e)?e.map(ge):String(e)}function me(e,t,r,n,i){return z.isFunction(n)?n.call(this,t,r):(i&&(t=r),z.isString(t)?z.isString(n)?-1!==t.indexOf(n):z.isRegExp(n)?n.test(t):void 0:void 0)}class ve{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=ye(t);if(!i)throw new Error("header name must be a non-empty string");const o=z.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=ge(e))}const o=(e,t)=>z.forEach(e,((e,r)=>i(e,r,t)));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(z.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&pe[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(z.isHeaders(e))for(const[t,n]of e.entries())i(n,t,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=ye(e)){const r=z.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(z.isFunction(t))return t.call(this,e,r);if(z.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ye(e)){const r=z.findKey(this,e);return!(!r||void 0===this[r]||t&&!me(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=ye(e)){const i=z.findKey(r,e);!i||t&&!me(0,r[i],i,t)||(delete r[i],n=!0)}}return z.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!me(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return z.forEach(this,((n,i)=>{const o=z.findKey(r,i);if(o)return t[o]=ge(n),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();a!==i&&delete t[i],t[a]=ge(n),r[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&z.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[be]=this[be]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ye(e);t[n]||(!function(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return z.isArray(e)?e.forEach(n):n(e),this}}ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),z.reduceDescriptors(ve.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),z.freezeMethods(ve);var _e=ve;function we(e,t){const r=this||he,n=t||r,i=_e.from(n.headers);let o=n.data;return z.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Se(e){return!(!e||!e.__CANCEL__)}function xe(e,t,r){q.call(this,null==e?"canceled":e,q.ERR_CANCELED,t,r),this.name="CanceledError"}function Ae(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new q("Request failed with status code "+r.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}z.inherits(xe,q,{__CANCEL__:!0});var Ee=(e,t,r=3)=>{let n=0;const i=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),u=n[a];i||(i=c),r[o]=s,n[o]=c;let f=a,d=0;for(;f!==o;)d+=r[f++],f%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const l=u&&c-u;return l?Math.round(1e3*d/l):void 0}}(50,250);return function(e,t){let r=0;const n=1e3/t;let i=null;return function(){const t=!0===this,o=Date.now();if(t||o-r>n)return i&&(clearTimeout(i),i=null),r=o,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,r=Date.now(),e.apply(null,arguments))),n-(o-r)))}}((r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-n,c=i(s);n=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&o<=a?(a-o)/c:void 0,event:r,lengthComputable:null!=a};u[t?"download":"upload"]=!0,e(u)}),r)},Ie=fe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=z.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},ke=fe.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const a=[e+"="+encodeURIComponent(t)];z.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),z.isString(n)&&a.push("path="+n),z.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Te(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ce=e=>e instanceof _e?{...e}:e;function Oe(e,t){t=t||{};const r={};function n(e,t,r){return z.isPlainObject(e)&&z.isPlainObject(t)?z.merge.call({caseless:r},e,t):z.isPlainObject(t)?z.merge({},t):z.isArray(t)?t.slice():t}function i(e,t,r){return z.isUndefined(t)?z.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!z.isUndefined(t))return n(void 0,t)}function a(e,t){return z.isUndefined(t)?z.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Ce(e),Ce(t),!0)};return z.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=c[n]||i,a=o(e[n],t[n],n);z.isUndefined(a)&&o!==s||(r[n]=a)})),r}var Pe=e=>{const t=Oe({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=_e.from(s),t.url=te(Te(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),z.isFormData(n))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(r=s.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(i&&z.isFunction(i)&&(i=i(t)),i||!1!==i&&Ie(t.url))){const e=o&&a&&ke.read(a);e&&s.set(o,e)}return t};var Me="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Pe(e);let i=n.data;const o=_e.from(n.headers).normalize();let a,{responseType:s}=n;function c(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}let u=new XMLHttpRequest;function f(){if(!u)return;const n=_e.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());Ae((function(e){t(e),c()}),(function(e){r(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:n,config:e,request:u}),u=null}u.open(n.method.toUpperCase(),n.url,!0),u.timeout=n.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(r(new q("Request aborted",q.ECONNABORTED,n,u)),u=null)},u.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,n,u)),u=null},u.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const t=n.transitional||ne;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new q(e,t.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,n,u)),u=null},void 0===i&&o.setContentType(null),"setRequestHeader"in u&&z.forEach(o.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),z.isUndefined(n.withCredentials)||(u.withCredentials=!!n.withCredentials),s&&"json"!==s&&(u.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&u.addEventListener("progress",Ee(n.onDownloadProgress,!0)),"function"==typeof n.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Ee(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=t=>{u&&(r(!t||t.type?new xe(null,e,u):t),u.abort(),u=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);d&&-1===fe.protocols.indexOf(d)?r(new q("Unsupported protocol "+d+":",q.ERR_BAD_REQUEST,e)):u.send(i||null)}))};var Be=(e,t)=>{let r,n=new AbortController;const i=function(e){if(!r){r=!0,a();const t=e instanceof Error?e:this.reason;n.abort(t instanceof q?t:new xe(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new q(`timeout ${t} of ms exceeded`,q.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:s}=n;return s.unsubscribe=a,[s,()=>{o&&clearTimeout(o),o=null}]};const De=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},Re=(e,t,r,n,i)=>{const o=async function*(e,t,r){for await(const n of e)yield*De(ArrayBuffer.isView(n)?n:await r(String(n)),t)}(e,t,i);let a=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:i}=await o.next();if(t)return e.close(),void n();let s=i.byteLength;r&&r(a+=s),e.enqueue(new Uint8Array(i))},cancel:e=>(n(e),o.return())},{highWaterMark:2})},Le=(e,t)=>{const r=null!=e;return n=>setTimeout((()=>t({lengthComputable:r,total:e,loaded:n})))},Ne="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,je=Ne&&"function"==typeof ReadableStream,Ue=Ne&&("function"==typeof TextEncoder?(He=new TextEncoder,e=>He.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var He;const Fe=je&&(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),ze=je&&!!(()=>{try{return z.isReadableStream(new Response("").body)}catch(e){}})(),qe={stream:ze&&(e=>e.body)};var Ke;Ne&&(Ke=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!qe[e]&&(qe[e]=z.isFunction(Ke[e])?t=>t[e]():(t,r)=>{throw new q(`Response type '${e}' is not supported`,q.ERR_NOT_SUPPORT,r)})})));const Ve=async(e,t)=>{const r=z.toFiniteNumber(e.getContentLength());return null==r?(async e=>null==e?0:z.isBlob(e)?e.size:z.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:z.isArrayBufferView(e)?e.byteLength:(z.isURLSearchParams(e)&&(e+=""),z.isString(e)?(await Ue(e)).byteLength:void 0))(t):r};const $e={http:null,xhr:Me,fetch:Ne&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:u,headers:f,withCredentials:d="same-origin",fetchOptions:l}=Pe(e);u=u?(u+"").toLowerCase():"text";let h,p,[b,y]=i||o||a?Be([i,o],a):[];const g=()=>{!h&&setTimeout((()=>{b&&b.unsubscribe()})),h=!0};let m;try{if(c&&Fe&&"get"!==r&&"head"!==r&&0!==(m=await Ve(f,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});z.isFormData(n)&&(e=r.headers.get("content-type"))&&f.setContentType(e),r.body&&(n=Re(r.body,65536,Le(m,Ee(c)),null,Ue))}z.isString(d)||(d=d?"cors":"omit"),p=new Request(t,{...l,signal:b,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",withCredentials:d});let i=await fetch(p);const o=ze&&("stream"===u||"response"===u);if(ze&&(s||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=z.toFiniteNumber(i.headers.get("content-length"));i=new Response(Re(i.body,65536,s&&Le(t,Ee(s,!0)),o&&g,Ue),e)}u=u||"text";let a=await qe[z.findKey(qe,u)||"text"](i,e);return!o&&g(),y&&y(),await new Promise(((t,r)=>{Ae(t,r,{data:a,headers:_e.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(t){if(g(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new q("Network Error",q.ERR_NETWORK,e,p),{cause:t.cause||t});throw q.from(t,t&&t.code,e,p)}})};z.forEach($e,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const We=e=>`- ${e}`,Ge=e=>z.isFunction(e)||null===e||!1===e;var Qe=e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Ge(r)&&(n=$e[(t=String(r)).toLowerCase()],void 0===n))throw new q(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new q("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(We).join("\n"):" "+We(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Ye(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xe(null,e)}function Xe(e){Ye(e),e.headers=_e.from(e.headers),e.data=we.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Qe(e.adapter||he.adapter)(e).then((function(t){return Ye(e),t.data=we.call(e,e.transformResponse,t),t.headers=_e.from(t.headers),t}),(function(t){return Se(t)||(Ye(e),t&&t.response&&(t.response.data=we.call(e,e.transformResponse,t.response),t.response.headers=_e.from(t.response.headers))),Promise.reject(t)}))}const Je="1.7.2",Ze={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ze[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const et={};Ze.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new q(n(i," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!et[i]&&(et[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var tt={assertOptions:function(e,t,r){if("object"!=typeof e)throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],a=t[o];if(a){const t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new q("option "+o+" must be "+r,q.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new q("Unknown option "+o,q.ERR_BAD_OPTION)}},validators:Ze};const rt=tt.validators;class nt{constructor(e){this.defaults=e,this.interceptors={request:new re,response:new re}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Oe(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&tt.assertOptions(r,{silentJSONParsing:rt.transitional(rt.boolean),forcedJSONParsing:rt.transitional(rt.boolean),clarifyTimeoutError:rt.transitional(rt.boolean)},!1),null!=n&&(z.isFunction(n)?t.paramsSerializer={serialize:n}:tt.assertOptions(n,{encode:rt.function,serialize:rt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&z.merge(i.common,i[t.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=_e.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let f,d=0;if(!s){const e=[Xe.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,c),f=e.length,u=Promise.resolve(t);d<f;)u=u.then(e[d++],e[d++]);return u}f=a.length;let l=t;for(d=0;d<f;){const e=a[d++],t=a[d++];try{l=e(l)}catch(e){t.call(this,e);break}}try{u=Xe.call(this,l)}catch(e){return Promise.reject(e)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){return te(Te((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],(function(e){nt.prototype[e]=function(t,r){return this.request(Oe(r||{},{method:e,url:t,data:(r||{}).data}))}})),z.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}nt.prototype[e]=t(),nt.prototype[e+"Form"]=t(!0)}));var it=nt;class ot{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new xe(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new ot((function(t){e=t})),cancel:e}}}var at=ot;const st={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(st).forEach((([e,t])=>{st[t]=e}));var ct=st;const ut=function e(t){const r=new it(t),n=i(it.prototype.request,r);return z.extend(n,it.prototype,r,{allOwnKeys:!0}),z.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Oe(t,r))},n}(he);ut.Axios=it,ut.CanceledError=xe,ut.CancelToken=at,ut.isCancel=Se,ut.VERSION=Je,ut.toFormData=Y,ut.AxiosError=q,ut.Cancel=ut.CanceledError,ut.all=function(e){return Promise.all(e)},ut.spread=function(e){return function(t){return e.apply(null,t)}},ut.isAxiosError=function(e){return z.isObject(e)&&!0===e.isAxiosError},ut.mergeConfig=Oe,ut.AxiosHeaders=_e,ut.formToJSON=e=>de(z.isHTMLForm(e)?new FormData(e):e),ut.getAdapter=Qe,ut.HttpStatusCode=ct,ut.default=ut,e.exports=ut},5908:e=>{"use strict";e.exports={rE:"6.5.5"}},3219:e=>{"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:e=>{"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:e=>{"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},62270:e=>{"use strict";e.exports={rE:"6.5.5"}},7133:e=>{"use strict";e.exports={rE:"6.5.5"}},23241:e=>{"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:e=>{"use strict";e.exports={rE:"6.5.4"}},15579:e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},53892:e=>{"use strict";e.exports=JSON.parse('{"COMPRESSED_TYPE_INVALID":"compressed should be a boolean","EC_PRIVATE_KEY_TYPE_INVALID":"private key should be a Buffer","EC_PRIVATE_KEY_LENGTH_INVALID":"private key length is invalid","EC_PRIVATE_KEY_RANGE_INVALID":"private key range is invalid","EC_PRIVATE_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting private key is invalid","EC_PRIVATE_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PRIVATE_KEY_EXPORT_DER_FAIL":"couldn\'t export to DER format","EC_PRIVATE_KEY_IMPORT_DER_FAIL":"couldn\'t import from DER format","EC_PUBLIC_KEYS_TYPE_INVALID":"public keys should be an Array","EC_PUBLIC_KEYS_LENGTH_INVALID":"public keys Array should have at least 1 element","EC_PUBLIC_KEY_TYPE_INVALID":"public key should be a Buffer","EC_PUBLIC_KEY_LENGTH_INVALID":"public key length is invalid","EC_PUBLIC_KEY_PARSE_FAIL":"the public key could not be parsed or is invalid","EC_PUBLIC_KEY_CREATE_FAIL":"private was invalid, try again","EC_PUBLIC_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting public key is invalid","EC_PUBLIC_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PUBLIC_KEY_COMBINE_FAIL":"the sum of the public keys is not valid","ECDH_FAIL":"scalar was invalid (zero or overflow)","ECDSA_SIGNATURE_TYPE_INVALID":"signature should be a Buffer","ECDSA_SIGNATURE_LENGTH_INVALID":"signature length is invalid","ECDSA_SIGNATURE_PARSE_FAIL":"couldn\'t parse signature","ECDSA_SIGNATURE_PARSE_DER_FAIL":"couldn\'t parse DER signature","ECDSA_SIGNATURE_SERIALIZE_DER_FAIL":"couldn\'t serialize signature to DER format","ECDSA_SIGN_FAIL":"nonce generation function failed or private key is invalid","ECDSA_RECOVER_FAIL":"couldn\'t recover public key from signature","MSG32_TYPE_INVALID":"message should be a Buffer","MSG32_LENGTH_INVALID":"message length is invalid","OPTIONS_TYPE_INVALID":"options should be an Object","OPTIONS_DATA_TYPE_INVALID":"options.data should be a Buffer","OPTIONS_DATA_LENGTH_INVALID":"options.data length is invalid","OPTIONS_NONCEFN_TYPE_INVALID":"options.noncefn should be a Function","RECOVERY_ID_TYPE_INVALID":"recovery should be a Number","RECOVERY_ID_VALUE_INVALID":"recovery should have value between -1 and 4","TWEAK_TYPE_INVALID":"tweak should be a Buffer","TWEAK_LENGTH_INVALID":"tweak length is invalid"}')},16770:e=>{"use strict";e.exports={rE:"6.5.7"}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BtcHelper:()=>Tc,CkbHelper:()=>Ic,RgbppSDK:()=>cy,convertToTxSkeleton:()=>Ac,createBurnXudtTransaction:()=>uy,createClusterCombined:()=>my,createIssueXudtTransaction:()=>fy,createMergeXudtTransaction:()=>dy,createSporesCombined:()=>_y,createTransferXudtTransaction:()=>ly,distributeCombined:()=>Ay,launchCombined:()=>ky,leapFromBtcToCkbCombined:()=>Oy,leapFromCkbToBtcTransaction:()=>hy,leapSporeFromBtcToCkbCombined:()=>Ry,leapSporeFromCkbToBtcTransaction:()=>py,prepareClusterCellTransaction:()=>vy,prepareCreateSporeUnsignedPsbt:()=>Sy,prepareCreateSporeUnsignedTransaction:()=>wy,prepareDistributeUnsignedPsbt:()=>Ey,prepareLaunchCellTransaction:()=>Ty,prepareLauncherUnsignedPsbt:()=>Cy,prepareLeapSporeUnsignedPsbt:()=>Ly,prepareLeapUnsignedPsbt:()=>Py,prepareTransferSporeUnsignedPsbt:()=>Dy,prepareTransferUnsignedPsbt:()=>jy,transferCombined:()=>Ny,transferSporeCombined:()=>My});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{aK:()=>ct,e8:()=>We,DO:()=>$e,OG:()=>ut,My:()=>Qe,Ph:()=>et,lX:()=>tt,Id:()=>ot,fg:()=>lt,qj:()=>it,aT:()=>Ze,r4:()=>st,aY:()=>Ve,x:()=>bt,lq:()=>rt,z:()=>nt,Q5:()=>pt});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{Vu:()=>en,I:()=>An,p2:()=>En,ji:()=>In,mf:()=>Sn});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{OG:()=>So,My:()=>ho,Ph:()=>yo,lX:()=>go,Id:()=>wo,fg:()=>Eo,qj:()=>_o,aT:()=>bo,lq:()=>mo,z:()=>vo,Q5:()=>ko});var n=__webpack_require__(22343),i=__webpack_require__(48287);function o(...e){return new Uint8Array(e.reduce(((e,t)=>(e.push(...a(t)),e)),[]))}function a(e,t){if(e instanceof Uint8Array)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(Array.isArray(e)){if(e.some((e=>e<0||255<e)))throw new Error(`Invalid bytes ${JSON.stringify(e)}`);return new Uint8Array(e)}if(void 0!==t)return i.Buffer.from(e,t);const r=e.startsWith("0x")?e.slice(2):e,n=r.length%2==0?r:`0${r}`,o=i.Buffer.from(n,"hex");if(2*o.length!==n.length)throw new Error(`Invalid bytes ${e}`);return o}var s=__webpack_require__(72206);function c(e){return`0x${t=a(e),r="hex",i.Buffer.from(a(t)).toString(r)}`;var t,r}function u(e){return"bigint"==typeof e?e:"string"==typeof e||"number"==typeof e?BigInt(e):BigInt(c(e))}function f(e){return`0x${u(e).toString(16)}`}function d(e,t){return function(e,t){return l(e,t).reverse()}(e,t)}function l(e,t){const r=a(u(e).toString(16));return null==t?r:o(Array.from(Array(t-r.length),(()=>0)),r)}function h(e){return function(e){return function(e){return u(a(e))}(a(e).reverse())}(e)}class p{constructor(e=32,t="ckb-default-hash"){this.hasher=s(e,void 0,void 0,a(t,"utf8"))}update(e){return this.hasher.update(a(e)),this}digest(){return`0x${this.hasher.digest("hex")}`}}function b(...e){const t=new p;return e.forEach((e=>t.update(e))),t.digest()}function y(e,t){throw new Error(`Invalid data length! Required: ${t}, actual: ${e}`)}function g(e,t){e!==t&&y(e,t)}function m(e){if(e instanceof Object&&e.toArrayBuffer instanceof Function&&(e=e.toArrayBuffer()),e instanceof Uint8Array)return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset);if(!(e instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return e}function v(e,t,r){e.byteLength<4&&y(e.byteLength,">4");const n=e.getUint32(0,!0);if(g(e.byteLength,n),4===n)return[n];n<8&&y(e.byteLength,">8");const i=e.getUint32(4,!0);if(i%4!=0||i<8)throw new Error(`Invalid first offset: ${i}`);const o=i/4-1;if(o<t)throw new Error(`Item count not enough! Required: ${t}, actual: ${o}`);if(!r&&o>t)throw new Error(`Item count is more than required! Required: ${t}, actual: ${o}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const a=[];for(let t=0;t<o;t++){const r=4+4*t;a.push(e.getUint32(r,!0))}a.push(n);for(let e=0;e<a.length-1;e++)if(a[e]>a[e+1])throw new Error(`Offset index ${e}: ${a[e]} is larger than offset index ${e+1}: ${a[e+1]}`);return a}function _(e){const t=e.length;let r=4*(t+1);const n=[];for(let i=0;i<t;i++)n.push(r),r+=e[i].byteLength;const i=new ArrayBuffer(r),o=new Uint8Array(i),a=new DataView(i);a.setUint32(0,r,!0);for(let r=0;r<t;r++)a.setUint32(4+4*r,n[r],!0),o.set(new Uint8Array(e[r]),n[r]);return i}class w{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){g(this.view.byteLength,4)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function S(e){const t=m(e);return g(t.byteLength,4),t}class x{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){g(this.view.byteLength,8)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 8}}function A(e){const t=m(e);return g(t.byteLength,8),t}class E{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){g(this.view.byteLength,32)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 32}}function I(e){const t=m(e);return g(t.byteLength,32),t}class k{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){this.view.byteLength<4&&y(this.view.byteLength,">4");const t=this.length()+4;g(this.view.byteLength,t)}raw(){return this.view.buffer.slice(4)}indexAt(e){return this.view.getUint8(4+e)}length(){return this.view.getUint32(0,!0)}}function T(e){const t=m(e),r=new Uint8Array(4+t.byteLength);return new DataView(r.buffer).setUint32(0,t.byteLength,!0),r.set(new Uint8Array(t),4),r.buffer}class C{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new k(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function O(e){return e?T(e):new ArrayBuffer(0)}function P(e){return _(e.map((e=>T(e))))}class M{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new B(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}class B{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){const t=v(this.view,0,!0);if(new E(this.view.buffer.slice(t[0],t[1]),{validate:!1}).validate(),t[2]-t[1]!=1)throw new Error(`Invalid offset for hashType: ${t[1]} - ${t[2]}`);new k(this.view.buffer.slice(t[2],t[3]),{validate:!1}).validate()}getCodeHash(){const e=this.view.getUint32(4,!0),t=this.view.getUint32(8,!0);return new E(this.view.buffer.slice(e,t),{validate:!1})}getHashType(){const e=this.view.getUint32(8,!0),t=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(e,t)).getUint8(0)}getArgs(){const e=this.view.getUint32(12,!0),t=this.view.byteLength;return new k(this.view.buffer.slice(e,t),{validate:!1})}}function D(e){const t=[];t.push(I(e.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,e.hashType),t.push(r.buffer),t.push(T(e.args)),_(t)}class R{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}getTxHash(){return new E(this.view.buffer.slice(0,0+E.size()),{validate:!1})}getIndex(){return new w(this.view.buffer.slice(0+E.size(),0+E.size()+w.size()),{validate:!1})}validate(e=!1){g(this.view.byteLength,R.size()),this.getTxHash().validate(e),this.getIndex().validate(e)}static size(){return 0+E.size()+w.size()}}function L(e){const t=new Uint8Array(0+E.size()+w.size());new DataView(t.buffer);return t.set(new Uint8Array(I(e.txHash)),0),t.set(new Uint8Array(S(e.index)),0+E.size()),t.buffer}class N{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}getSince(){return new x(this.view.buffer.slice(0,0+x.size()),{validate:!1})}getPreviousOutput(){return new R(this.view.buffer.slice(0+x.size(),0+x.size()+R.size()),{validate:!1})}validate(e=!1){g(this.view.byteLength,N.size()),this.getSince().validate(e),this.getPreviousOutput().validate(e)}static size(){return 0+x.size()+R.size()}}function j(e){const t=new Uint8Array(0+x.size()+R.size());new DataView(t.buffer);return t.set(new Uint8Array(A(e.since)),0),t.set(new Uint8Array(L(e.previousOutput)),0+x.size()),t.buffer}class U{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){const t=v(this.view,0,!0);new x(this.view.buffer.slice(t[0],t[1]),{validate:!1}).validate(),new B(this.view.buffer.slice(t[1],t[2]),{validate:!1}).validate(),new M(this.view.buffer.slice(t[2],t[3]),{validate:!1}).validate()}getCapacity(){const e=this.view.getUint32(4,!0),t=this.view.getUint32(8,!0);return new x(this.view.buffer.slice(e,t),{validate:!1})}getLock(){const e=this.view.getUint32(8,!0),t=this.view.getUint32(12,!0);return new B(this.view.buffer.slice(e,t),{validate:!1})}getType(){const e=this.view.getUint32(12,!0),t=this.view.byteLength;return new M(this.view.buffer.slice(e,t),{validate:!1})}}function H(e){const t=[];return t.push(A(e.capacity)),t.push(D(e.lock)),t.push(function(e){return e?D(e):new ArrayBuffer(0)}(e.type)),_(t)}class F{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}getOutPoint(){return new R(this.view.buffer.slice(0,0+R.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+R.size())}validate(e=!1){g(this.view.byteLength,F.size()),this.getOutPoint().validate(e)}static size(){return 0+R.size()+1}}function z(e){const t=new Uint8Array(0+R.size()+1),r=new DataView(t.buffer);return t.set(new Uint8Array(L(e.outPoint)),0),r.setUint8(0+R.size(),e.depType),t.buffer}function q(e){const t=[];return t.push(S(e.version)),t.push(function(e){const t=new Uint8Array(4+F.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=z(e[r]);t.set(new Uint8Array(n),4+r*F.size())}return t.buffer}(e.cellDeps)),t.push(function(e){const t=new Uint8Array(4+E.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=I(e[r]);t.set(new Uint8Array(n),4+r*E.size())}return t.buffer}(e.headerDeps)),t.push(function(e){const t=new Uint8Array(4+N.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=j(e[r]);t.set(new Uint8Array(n),4+r*N.size())}return t.buffer}(e.inputs)),t.push(function(e){return _(e.map((e=>H(e))))}(e.outputs)),t.push(P(e.outputsData)),_(t)}function K(e){const t=[];return t.push(q(e.raw)),t.push(P(e.witnesses)),_(t)}class V{constructor(e,{validate:t=!0}={}){this.view=new DataView(m(e)),t&&this.validate()}validate(e=!1){const t=v(this.view,0,!0);new C(this.view.buffer.slice(t[0],t[1]),{validate:!1}).validate(),new C(this.view.buffer.slice(t[1],t[2]),{validate:!1}).validate(),new C(this.view.buffer.slice(t[2],t[3]),{validate:!1}).validate()}getLock(){const e=this.view.getUint32(4,!0),t=this.view.getUint32(8,!0);return new C(this.view.buffer.slice(e,t),{validate:!1})}getInputType(){const e=this.view.getUint32(8,!0),t=this.view.getUint32(12,!0);return new C(this.view.buffer.slice(e,t),{validate:!1})}getOutputType(){const e=this.view.getUint32(12,!0),t=this.view.byteLength;return new C(this.view.buffer.slice(e,t),{validate:!1})}}const $={type:1,data:0,data1:2,data2:4},W={1:"type",0:"data",2:"data1",4:"data2"},G=Object.keys($);function Q(e){const t="number"==typeof e?W[e]:"bigint"==typeof e?W[Number(e)]:G.includes(e)?e:void 0;if(void 0===t)throw new Error(`Invalid hash type ${e}`);return t}function Y(e){return a([$[Q(e)]])}function X(e){return W[a(e)[0]]}class J{constructor(e,t,r){this.codeHash=e,this.hashType=t,this.args=r}get occupiedSize(){return 33+a(this.args).length}clone(){return new J(this.codeHash,this.hashType,this.args)}static from(e){return e instanceof J?e:new J(c(e.codeHash),Q(e.hashType),c(e.args))}static async fromKnownScript(e,t,r){const n=await e.getKnownScript(t);return new J(n.codeHash,n.hashType,c(r))}_toMolData(){return{codeHash:a(this.codeHash),hashType:Y(this.hashType),args:a(this.args)}}toBytes(){return a(D(this._toMolData()))}hash(){return b(this.toBytes())}static fromBytes(e){const t=e instanceof B?e:new B(a(e));return new J(c(t.getCodeHash().raw()),X([t.getHashType()]),c(t.getArgs().raw()))}eq(e){const t=J.from(e);return this.codeHash===t.codeHash&&this.args===t.args&&this.hashType===t.hashType}}function Z(e,t=8){if("bigint"==typeof e)return e;const[r,n]=("number"==typeof e?e.toFixed(t):e.toString()).split("."),i=BigInt(r.padEnd(r.length+t,"0"));return void 0===n?i:i+BigInt(n.slice(0,t).padEnd(t,"0"))}Z("1");function ee(e,t){if(null!=t)return e(t)}async function te(e,t,r){if(void 0===r){if(0===e.length)throw new TypeError("Reduce of empty array with no initial value");r=e[0],e=e.slice(1)}return e.reduce(((e,r,n,i)=>e.then((e=>Promise.resolve(t(e,r,n,i)).then((t=>t??e))))),Promise.resolve(r))}function re(e){if(e.hasValue())return e.value()}const ne={code:0,depGroup:1},ie={0:"code",1:"depGroup"};Object.keys(ne);function oe(e){const t="number"==typeof e?ie[e]:"bigint"==typeof e?ie[Number(e)]:e;if(void 0===t)throw new Error(`Invalid dep type ${e}`);return t}class ae{constructor(e,t){this.txHash=e,this.index=t}clone(){return new ae(this.txHash,this.index)}static from(e){return e instanceof ae?e:new ae(c(e.txHash),u(e.index))}_toMolData(){return{txHash:a(this.txHash),index:d(this.index,4)}}toBytes(){return a(L(this._toMolData()))}static fromBytes(e){const t=e instanceof R?e:new R(a(e));return new ae(c(t.getTxHash().raw()),h(t.getIndex().raw()))}eq(e){const t=ae.from(e);return this.txHash===t.txHash&&this.index===t.index}}class se{constructor(e,t,r){this.capacity=e,this.lock=t,this.type=r}get occupiedSize(){return 8+this.lock.occupiedSize+(this.type?.occupiedSize??0)}clone(){return new se(this.capacity,this.lock.clone(),this.type?.clone())}static from(e){return e instanceof se?e:new se(u(e.capacity),J.from(e.lock),ee(J.from,e.type))}_toMolData(){return{capacity:d(this.capacity,8),lock:this.lock._toMolData(),type:this.type?._toMolData()}}toBytes(){return a(H(this._toMolData()))}static fromBytes(e){const t=e instanceof U?e:new U(a(e));return new se(h(t.getCapacity().raw()),J.fromBytes(t.getLock()),ee(J.fromBytes,re(t.getType())))}}class ce{constructor(e,t,r,n){this.previousOutput=e,this.since=t,this.cellOutput=r,this.outputData=n}clone(){return new ce(this.previousOutput.clone(),this.since,this.cellOutput?.clone(),this.outputData)}static from(e){return e instanceof ce?e:new ce(ae.from(e.previousOutput),u(e.since??0),ee(se.from,e.cellOutput),ee(c,e.outputData))}async completeExtraInfos(e){if(this.cellOutput&&this.outputData)return;const t=await e.getCell(this.previousOutput);t&&(this.cellOutput=t.cellOutput,this.outputData=t.outputData)}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:d(this.since,8)}}toBytes(){return a(j(this._toMolData()))}static fromBytes(e){const t=e instanceof N?e:new N(a(e));return new ce(ae.fromBytes(t.getPreviousOutput()),h(t.getSince().raw()))}}class ue{constructor(e,t){this.outPoint=e,this.depType=t}clone(){return new ue(this.outPoint.clone(),this.depType)}static from(e){return e instanceof ue?e:new ue(ae.from(e.outPoint),oe(e.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:(e=this.depType,a([ne[oe(e)]]))};var e}toBytes(){return a(z(this._toMolData()))}fromBytes(e){const t=e instanceof F?e:new F(a(e));return new ue(ae.fromBytes(t.getOutPoint()),function(e){return ie[a(e)[0]]}([t.getDepType()]))}eq(e){const t=ue.from(e);return this.outPoint.eq(t.outPoint)&&this.depType===t.depType}}class fe{constructor(e,t,r){this.lock=e,this.inputType=t,this.outputType=r}static from(e){return e instanceof fe?e:new fe(ee(c,e.lock),ee(c,e.inputType),ee(c,e.outputType))}_toMolData(){return{lock:ee(a,this.lock),inputType:ee(a,this.inputType),outputType:ee(a,this.outputType)}}toBytes(){return a(function(e){const t=[];return t.push(O(e.lock)),t.push(O(e.inputType)),t.push(O(e.outputType)),_(t)}(this._toMolData()))}static fromBytes(e){const t=e instanceof V?e:new V(a(e));return new fe(ee(c,re(t.getLock())?.raw()),ee(c,re(t.getInputType())?.raw()),ee(c,re(t.getOutputType())?.raw()))}}function de(e){const t=a(e).slice(0,16);if(16!==t.length)throw new Error("Invalid UDT cell data");return h(t)}class le{constructor(e,t,r,n,i,o,a){this.version=e,this.cellDeps=t,this.headerDeps=r,this.inputs=n,this.outputs=i,this.outputsData=o,this.witnesses=a}static default(){return new le(0n,[],[],[],[],[],[])}copy(e){const t=le.from(e);this.version=t.version,this.cellDeps=t.cellDeps,this.headerDeps=t.headerDeps,this.inputs=t.inputs,this.outputs=t.outputs,this.outputsData=t.outputsData,this.witnesses=t.witnesses}clone(){return new le(0n,this.cellDeps.map((e=>e.clone())),[...this.headerDeps],this.inputs.map((e=>e.clone())),this.outputs.map((e=>e.clone())),[...this.outputsData],[...this.witnesses])}static from(e){if(e instanceof le)return e;const t=e.outputs?.map(((t,r)=>{const n=se.from({...t,capacity:t.capacity??0});return 0n===n.capacity&&(n.capacity=Z(n.occupiedSize+(ee(a,e.outputsData?.[r])?.length??0))),n}))??[],r=t.map(((t,r)=>c(e.outputsData?.[r]??"0x")));return null!=e.outputsData&&r.length<e.outputsData.length&&r.push(...e.outputsData.slice(r.length).map((e=>c(e)))),new le(u(e.version??0),e.cellDeps?.map((e=>ue.from(e)))??[],e.headerDeps?.map(c)??[],e.inputs?.map((e=>ce.from(e)))??[],t,r,e.witnesses?.map(c)??[])}static fromLumosSkeleton(e){return le.from({version:0n,cellDeps:e.cellDeps.toArray(),headerDeps:e.headerDeps.toArray(),inputs:e.inputs.toArray().map(((t,r)=>{if(!t.outPoint)throw new Error("outPoint is required in input");return ce.from({previousOutput:t.outPoint,since:e.inputSinces.get(r,"0x0"),cellOutput:t.cellOutput,outputData:t.data})})),outputs:e.outputs.toArray().map((e=>e.cellOutput)),outputsData:e.outputs.toArray().map((e=>e.data)),witnesses:e.witnesses.toArray()})}stringify(){return JSON.stringify(this,((e,t)=>"bigint"==typeof t?f(t):t))}rawToBytes(){return a(q({version:d(this.version,4),cellDeps:this.cellDeps.map((e=>e._toMolData())),headerDeps:this.headerDeps.map((e=>a(e))),inputs:this.inputs.map((e=>e._toMolData())),outputs:this.outputs.map((e=>e._toMolData())),outputsData:this.outputsData.map((e=>a(e)))}))}toBytes(){return a(K({raw:{version:d(this.version,4),cellDeps:this.cellDeps.map((e=>e._toMolData())),headerDeps:this.headerDeps.map((e=>a(e))),inputs:this.inputs.map((e=>e._toMolData())),outputs:this.outputs.map((e=>e._toMolData())),outputsData:this.outputsData.map((e=>a(e)))},witnesses:this.witnesses.map((e=>a(e)))}))}hash(){return b(this.rawToBytes())}static hashWitnessToHasher(e,t){const r=a(c(e));t.update(d(r.length,8)),t.update(r)}async getSignHashInfo(e,t){const r=J.from(e);let n=-1;const i=new p;i.update(this.hash());for(let e=0;e<this.witnesses.length;e+=1){const o=this.inputs[e];if(o){if(await o.completeExtraInfos(t),!o.cellOutput)throw new Error("Unable to complete input");if(!r.eq(o.cellOutput.lock))continue;-1===n&&(n=e)}if(-1===n)return;le.hashWitnessToHasher(this.witnesses[e],i)}if(-1!==n)return{message:i.digest(),position:n}}async findInputIndexByLock(e,t){const r=J.from(e);for(let e=0;e<this.inputs.length;e+=1){const n=this.inputs[e];if(await n.completeExtraInfos(t),!n.cellOutput)throw new Error("Unable to complete input");if(r.eq(n.cellOutput.lock))return e}}async findLastInputIndexByLock(e,t){const r=J.from(e);for(let e=this.inputs.length-1;e>=0;e-=1){const n=this.inputs[e];if(await n.completeExtraInfos(t),!n.cellOutput)throw new Error("Unable to complete input");if(r.eq(n.cellOutput.lock))return e}}addCellDeps(...e){e.flat().forEach((e=>{const t=ue.from(e);this.cellDeps.some((e=>e.eq(t)))||this.cellDeps.push(t)}))}addCellDepsAtStart(...e){e.flat().forEach((e=>{const t=ue.from(e);this.cellDeps.some((e=>e.eq(t)))||this.cellDeps.unshift(t)}))}async addCellDepInfos(e,...t){this.addCellDeps(await e.getCellDeps(...t))}async addCellDepsOfKnownScripts(e,...t){await Promise.all(t.flat().map((async t=>this.addCellDepInfos(e,(await e.getKnownScript(t)).cellDeps))))}setOutputDataAt(e,t){this.outputsData.length<e&&this.outputsData.push(...Array.from(new Array(e-this.outputsData.length),(()=>"0x"))),this.outputsData[e]=c(t)}addOutput(e,t="0x"){const r=se.from({...e,capacity:e.capacity??0});0n===r.capacity&&(r.capacity=Z(r.occupiedSize+a(t).length));const n=this.outputs.push(r)-1;this.setOutputDataAt(n,t)}getWitnessArgsAt(e){const t=this.witnesses[e];return"0x"!==(t??"0x")?fe.fromBytes(t):void 0}setWitnessArgsAt(e,t){this.witnesses.length<e&&this.witnesses.push(...Array.from(new Array(e-this.witnesses.length),(()=>"0x"))),this.witnesses[e]=c(t.toBytes())}async prepareSighashAllWitness(e,t,r){const n=await this.findInputIndexByLock(e,r);if(void 0===n)return;const i=this.getWitnessArgsAt(n)??fe.from({});i.lock=c(Array.from(new Array(t),(()=>0))),this.setWitnessArgsAt(n,i)}async getInputsCapacity(e){return te(this.inputs,(async(t,r)=>{if(await r.completeExtraInfos(e),!r.cellOutput)throw new Error("Unable to complete input");return t+r.cellOutput.capacity}),u(0))}getOutputsCapacity(){return this.outputs.reduce(((e,{capacity:t})=>e+t),u(0))}async getInputsUdtBalance(e,t){return te(this.inputs,(async(r,n)=>{if(await n.completeExtraInfos(e),!n.cellOutput||!n.outputData)throw new Error("Unable to complete input");if(n.cellOutput.type?.eq(t))return r+de(n.outputData)}),u(0))}getOutputsUdtBalance(e){return this.outputs.reduce(((t,r,n)=>r.type?.eq(e)?t+de(this.outputsData[n]):t),u(0))}async completeInputs(e,t,r,n){const i=(await e.getAddressObjs()).map((({script:e})=>e)),o=[];let a=n;for(const n of i)for await(const i of e.client.findCellsByCollectableSearchKey({script:n,scriptType:"lock",filter:t,scriptSearchMode:"exact",withData:!0})){if(this.inputs.some((({previousOutput:e})=>e.eq(i.outPoint))))continue;const e=o.push(i),t=await Promise.resolve(r(a,i,e-1,o));if(void 0===t)return this.inputs.push(...o.map((({outPoint:e,outputData:t,cellOutput:r})=>ce.from({previousOutput:e,since:0,outputData:t,cellOutput:r})))),{addedCount:o.length};a=t}return{addedCount:o.length,accumulated:a}}async completeInputsByCapacity(e,t,r){const n=this.getOutputsCapacity()+u(t??0),i=await this.getInputsCapacity(e.client);if(i>=n)return 0;const{addedCount:o,accumulated:a}=await this.completeInputs(e,r??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},((e,{cellOutput:{capacity:t}})=>{const r=e+t;return r>=n?void 0:r}),i);if(void 0===a)return o;throw new Error(`Insufficient CKB, need ${function(e,t=8){const r=Z(e).toString();if(0===t)return r;const n=r.length<=t?"0":r.slice(0,-t),i=r.slice(-t).padStart(t,"0").replace(/0*$/,"");return""===i?n:`${n}.${i}`}(n-a)} extra CKB`)}async completeInputsAll(e,t){const{addedCount:r}=await this.completeInputs(e,t??{scriptLenRange:[0,1],outputDataLenRange:[0,1]},((e,{cellOutput:{capacity:t}})=>e+t),0n);return r}async completeInputsByUdt(e,t){const r=this.getOutputsUdtBalance(t),n=await this.getInputsUdtBalance(e.client,t);if(n>=r)return 0;const{addedCount:i,accumulated:o}=await this.completeInputs(e,{script:t,outputDataLenRange:[16,u("0xffffffff")]},((e,{outputData:t})=>{const n=e+de(t);return n>=r?void 0:n}),n);if(void 0===o)return i;throw new Error(`Insufficient coin, need ${r-o} extra coin`)}estimateFee(e){return(u(this.toBytes().length+4)*u(e)+u(1e3))/u(1e3)}async completeFee(e,t,r,n){await this.getInputsCapacity(e.client);let i=0n,o=0n;for(;;){const a=this.clone(),s=await(async()=>{try{return await a.completeInputsByCapacity(e,i+o,n)}catch(e){if(0n!==o)throw new Error("Not enough capacity for the change cell");throw e}})();await e.prepareTransaction(a),0n===i&&(i=a.estimateFee(r));const c=await a.getInputsCapacity(e.client)-a.getOutputsCapacity();if(c===i)return this.copy(a),[s,!1];const f=u(await Promise.resolve(t(a,c-i)));if(f>0n){o=f;continue}if(await a.getInputsCapacity(e.client)-a.getOutputsCapacity()!==i)throw new Error("The change function doesn't use all available capacity");await e.prepareTransaction(a);const d=a.estimateFee(r);if(i>d)throw new Error("The change function removed existed transaction data");if(i===d)return this.copy(a),[s,!0];i=d}}completeFeeChangeToLock(e,t,r,n){const i=J.from(t);return this.completeFee(e,((e,t)=>{const r=se.from({capacity:0,lock:i}),n=Z(r.occupiedSize);return t<n?n:(r.capacity=t,e.addOutput(r),0)}),r,n)}async completeFeeBy(e,t,r){const{script:n}=await e.getRecommendedAddressObj();return this.completeFeeChangeToLock(e,n,t,r)}completeFeeChangeToOutput(e,t,r,n){const i=Number(u(t));if(!this.outputs[i])throw new Error("Non-existed output to change");return this.completeFee(e,((e,t)=>(e.outputs[i].capacity+=t,0)),r,n)}}var he;!function(e){e.Secp256k1Blake160="Secp256k1Blake160",e.Secp256k1Multisig="Secp256k1Multisig",e.AnyoneCanPay="AnyoneCanPay",e.TypeId="TypeId",e.XUdt="XUdt",e.JoyId="JoyId",e.COTA="COTA",e.OmniLock="OmniLock",e.NostrLock="NostrLock",e.UniqueType="UniqueType",e.SingleUseLock="SingleUseLock",e.OutputTypeProxyLock="OutputTypeProxyLock"}(he||(he={}));Object.freeze({[he.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}}]},[he.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:1},depType:"depGroup"}}]},[he.AnyoneCanPay]:{codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:0},depType:"depGroup"}}]},[he.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[he.XUdt]:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:0},depType:"code"}}]},[he.JoyId]:{codeHash:"0xd00c84f0ec8fd441c38bc3f87a371f547190f2fcff88e642bc5bf54b9e318323",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf05188e5f3a6767fc4687faf45ba5f1a6e25d3ada6129dae8722cb282f262493",index:0},depType:"depGroup"}}]},[he.COTA]:{codeHash:"0x1122a4fb54697cf2e6e3a96c9d80fd398a936559b90954c6e88eb7ba0cf652df",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xabaa25237554f0d6c586dc010e7e85e6870bcfd9fb8773257ecacfbe1fd738a0",index:0},depType:"depGroup"}}]},[he.OmniLock]:{codeHash:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x855508fe0f0ca25b935b070452ecaee48f6c9f1d66cd15f046616b99e948236a"}}]},[he.NostrLock]:{codeHash:"0x641a89ad2f77721b803cd50d01351c1f308444072d5fa20088567196c0574c68",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x1911208b136957d5f7c1708a8835edfe8ae1d02700d5cb2c3a6aacf4d5906306",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xfad8cb75eb0bb01718e2336002064568bc05887af107f74ed5dd501829e192f8"}}]},[he.UniqueType]:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:0},depType:"code"}}]},[he.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:4},depType:"code"}}]},[he.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0x10d63a996157d32c01078058000052674ca58d15f921bec7f1dcdac2160eb66b",index:2},depType:"code"}}]}});__webpack_require__(59819);Object.freeze({[he.Secp256k1Blake160]:{codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}}]},[he.Secp256k1Multisig]:{codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:1},depType:"depGroup"}}]},[he.AnyoneCanPay]:{codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:0},depType:"depGroup"}}]},[he.TypeId]:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",cellDeps:[]},[he.XUdt]:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x44ec8b96663e06cc94c8c468a4d46d7d9af69eaf418f6390c9f11bb763dda0ae"}}]},[he.JoyId]:{codeHash:"0xd23761b364210735c19c60561d213fb3beae2fd6172743719eff6920e020baac",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x4dcf3f3b09efac8995d6cbee87c5345e812d310094651e0c3d9a730f32dc9263",index:0},depType:"depGroup"}}]},[he.COTA]:{codeHash:"0x89cd8003a0eaf8e65e0c31525b7d1d5c1becefd2ea75bb4cff87810ae37764d8",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0x636a786001f87cb615acfcf408be0f9a1f077001f0bbc75ca54eadfe7e221713",index:0},depType:"depGroup"}}]},[he.OmniLock]:{codeHash:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:0},depType:"depGroup"}},{cellDep:{outPoint:{txHash:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x761f51fc9cd6a504c32c6ae64b3746594d1af27629b427c5ccf6c9a725a89144"}}]},[he.NostrLock]:{codeHash:"0x6ae5ee0cb887b2df5a9a18137315b9bdc55be8d52637b2de0624092d5f0c91d5",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xa2a434dcdbe280b9ed75bb7d6c7d68186a842456aba0fc506657dc5ed7c01d68",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x8dc56c6f35f0c535e23ded1629b1f20535477a1b43e59f14617d11e32c50e0aa"}}]},[he.UniqueType]:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",cellDeps:[{cellDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:0},depType:"code"},type:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0xe04976b67600fd25ac50305f77b33aee2c12e3c18e63ece9119e5b32117884b5"}}]},[he.SingleUseLock]:{codeHash:"0x8290467a512e5b9a6b816469b0edabba1f4ac474e28ffdd604c2a7c76446bbaf",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:4},depType:"code"}}]},[he.OutputTypeProxyLock]:{codeHash:"0x2df53b592db3ae3685b7787adcfef0332a611edb83ca3feca435809964c3aff2",hashType:"data1",cellDeps:[{cellDep:{outPoint:{txHash:"0xb4f171c9c9caf7401f54a8e56225ae21d95032150a87a4678eac3f66a3137b93",index:2},depType:"code"}}]}});var pe;!function(e){e[e.Full=0]="Full",e[e.Short=1]="Short",e[e.FullData=2]="FullData",e[e.FullType=4]="FullType"}(pe||(pe={}));const be=1023;class ye{constructor(e,t){this.script=e,this.prefix=t}static from(e){return e instanceof ye?e:new ye(J.from(e.script),e.prefix)}static async fromString(e,t){const{prefix:r,format:i,payload:o}=function(e){try{const{words:t,prefix:r}=n.bech32m.decode(e,be),[i,...o]=n.bech32m.fromWords(t);if(i===pe.Full)return{prefix:r,format:pe.Full,payload:o}}catch(e){}try{const{prefix:t,words:r}=n.bech32.decode(e,be),[i,...o]=n.bech32.fromWords(r);if([pe.FullData,pe.FullType,pe.Short].includes(i))return{prefix:t,format:i,payload:o}}catch(e){}throw Error(`Unknown address format ${e}`)}(e),a=t[r]??t;if(!a)throw new Error(`Unknown address prefix ${r}`);const s=a.addressPrefix;if(s!==r)throw new Error(`Unknown address prefix ${r}, expected ${s}`);return ye.from(await async function(e,t,r,n){if(t===pe.Full){if(r.length<33)throw new Error(`Invalid full address without enough payload ${c(r)}`);return{script:{codeHash:r.slice(0,32),hashType:X(r.slice(32,33)),args:r.slice(33)},prefix:e}}if(t===pe.FullData){if(r.length<32)throw new Error(`Invalid full data address without enough payload ${c(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"data",args:r.slice(32)},prefix:e}}if(t===pe.FullType){if(r.length<32)throw new Error(`Invalid full type address without enough payload ${c(r)}`);return{script:{codeHash:r.slice(0,32),hashType:"type",args:r.slice(32)},prefix:e}}if(21!==r.length)throw new Error(`Invalid short address without enough payload ${c(r)}`);const i=[he.Secp256k1Blake160,he.Secp256k1Multisig,he.AnyoneCanPay][r[0]];if(void 0===i)throw new Error(`Invalid short address with unknown script ${c(r)}`);return{script:await J.fromKnownScript(n,i,r.slice(1)),prefix:e}}(r,i,o,a))}static fromScript(e,t){return ye.from({script:e,prefix:t.addressPrefix})}static async fromKnownScript(e,t,r){return ye.from({script:await J.fromKnownScript(e,t,r),prefix:e.addressPrefix})}toString(){const e=o([pe.Full],a(this.script.codeHash),Y(this.script.hashType),a(this.script.args));return n.bech32m.encode(this.prefix,n.bech32m.toWords(e),be)}}function ge(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function me(e,...t){if(!((r=e)instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ve(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ge(e.outputLen),ge(e.blockLen)}function _e(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function we(e,t){me(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Se="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const xe=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ae=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Ee(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),me(e),e}class Ie{clone(){return this._cloneInto()}}function ke(e){const t=t=>e().update(Ee(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Te(e=32){if(Se&&"function"==typeof Se.getRandomValues)return Se.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Ce=(e,t,r)=>e&t^e&r^t&r;class Oe extends Ie{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xe(this.buffer)}update(e){_e(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Ee(e)).length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);if(a!==n)r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=xe(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){_e(this),we(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const a=xe(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,u[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const Pe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Me=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let Be=[Me],De=[Me.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[Be,De])t.push(t[e].map((e=>Pe[e])));const Re=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Le=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ne=new Uint32Array(64);class je extends Oe{constructor(){super(64,32,8,!1),this.A=0|Le[0],this.B=0|Le[1],this.C=0|Le[2],this.D=0|Le[3],this.E=0|Le[4],this.F=0|Le[5],this.G=0|Le[6],this.H=0|Le[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)Ne[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Ne[e-15],r=Ne[e-2],n=Ae(t,7)^Ae(t,18)^t>>>3,i=Ae(r,17)^Ae(r,19)^r>>>10;Ne[e]=i+Ne[e-7]+n+Ne[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Ae(a,6)^Ae(a,11)^Ae(a,25))+((f=a)&s^~f&c)+Re[e]+Ne[e]|0,d=(Ae(r,2)^Ae(r,13)^Ae(r,22))+Ce(r,n,i)|0;u=c,c=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+d|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,o,a,s,c,u)}roundClean(){Ne.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ue=ke((()=>new je));class He extends Ie{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ve(e);const r=Ee(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return _e(this),this.iHash.update(e),this}digestInto(e){_e(this),me(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fe=(e,t,r)=>new He(e,t).update(r).digest();Fe.create=(e,t)=>new He(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ze=BigInt(0),qe=BigInt(1),Ke=BigInt(2);function Ve(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function $e(e){if(!Ve(e))throw new Error("Uint8Array expected")}function We(e,t){if("boolean"!=typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const Ge=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Qe(e){$e(e);let t="";for(let r=0;r<e.length;r++)t+=Ge[e[r]];return t}function Ye(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const Xe={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Je(e){return e>=Xe._0&&e<=Xe._9?e-Xe._0:e>=Xe._A&&e<=Xe._F?e-(Xe._A-10):e>=Xe._a&&e<=Xe._f?e-(Xe._a-10):void 0}function Ze(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=Je(e.charCodeAt(i)),o=Je(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n}function et(e){return Ye(Qe(e))}function tt(e){return $e(e),Ye(Qe(Uint8Array.from(e).reverse()))}function rt(e,t){return Ze(e.toString(16).padStart(2*t,"0"))}function nt(e,t){return rt(e,t).reverse()}function it(e,t,r){let n;if("string"==typeof t)try{n=Ze(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!Ve(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function ot(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];$e(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}const at=e=>"bigint"==typeof e&&ze<=e;function st(e,t,r){return at(e)&&at(t)&&at(r)&&t<=e&&e<r}function ct(e,t,r,n){if(!st(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}const ut=e=>(Ke<<BigInt(e-1))-qe,ft=e=>new Uint8Array(e),dt=e=>Uint8Array.from(e);function lt(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=ft(e),i=ft(e),o=0;const a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=ft())=>{i=s(dt([0]),e),n=s(),0!==e.length&&(i=s(dt([1]),e),n=s())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=s();const t=n.slice();r.push(t),e+=n.length}return ot(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(u()));)c();return a(),r}}const ht={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||Ve(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function pt(e,t,r={}){const n=(t,r,n)=>{const i=ht[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function bt(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const o=e(r,...n);return t.set(r,o),o}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const yt=BigInt(0),gt=BigInt(1),mt=BigInt(2),vt=BigInt(3),_t=BigInt(4),wt=BigInt(5),St=BigInt(8);BigInt(9),BigInt(16);function xt(e,t){const r=e%t;return r>=yt?r:t+r}function At(e,t,r){if(r<=yt||t<yt)throw new Error("Expected power/modulo > 0");if(r===gt)return yt;let n=gt;for(;t>yt;)t&gt&&(n=n*e%r),e=e*e%r,t>>=gt;return n}function Et(e,t,r){let n=e;for(;t-- >yt;)n*=n,n%=r;return n}function It(e,t){if(e===yt||t<=yt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=xt(e,t),n=t,i=yt,o=gt,a=gt,s=yt;for(;r!==yt;){const e=n/r,t=n%r,c=i-a*e,u=o-s*e;n=r,r=t,i=a,o=s,a=c,s=u}if(n!==gt)throw new Error("invert: does not exist");return xt(i,t)}function kt(e){if(e%_t===vt){const t=(e+gt)/_t;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%St===wt){const t=(e-wt)/St;return function(e,r){const n=e.mul(r,mt),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,mt),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-gt)/mt;let r,n,i;for(r=e-gt,n=0;r%mt===yt;r/=mt,n++);for(i=mt;i<e&&At(i,t,e)!==e-gt;i++);if(1===n){const t=(e+gt)/_t;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+gt)/mt;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(a,o),f=e.pow(a,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,gt<<BigInt(s-t-1));c=e.sqr(r),u=e.mul(u,r),f=e.mul(f,c),s=t}return u}}(e)}const Tt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ct(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Ot(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Pt(e){const t=Ot(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Mt=BigInt(0),Bt=BigInt(1),Dt=new WeakMap,Rt=new WeakMap;function Lt(e){return pt(e.Fp,Tt.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),pt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ct(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function Nt(e){void 0!==e.lowS&&We("lowS",e.lowS),void 0!==e.prehash&&We("prehash",e.prehash)}const{Ph:jt,aT:Ut}=e,Ht={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Ht;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:jt(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Ht,r="string"==typeof e?Ut(e):e;$e(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Ht._parseInt(r.subarray(2)),{d:a,l:s}=Ht._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,a=i.length/2,s=r(o),c=r(a);return`30${r(a+o+4)}02${c}${i}02${s}${n}`}},Ft=BigInt(0),zt=BigInt(1),qt=(BigInt(2),BigInt(3));BigInt(4);function Kt(e){const t=function(e){const t=Lt(e);pt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return ot(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),a=r.mul(o,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!=typeof e){if(Ve(e)&&(e=Qe(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let a;try{a="bigint"==typeof e?e:et(it("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(a=xt(a,o)),ct("private key",a,zt,o),a}function s(e){if(!(e instanceof f))throw new Error("ProjectivePoint expected")}const c=bt(((e,t)=>{const{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};const a=e.is0();null==t&&(t=a?r.ONE:r.inv(o));const s=r.mul(n,t),c=r.mul(i,t),u=r.mul(o,t);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:s,y:c}})),u=bt((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const a=r.sqr(i),s=o(n);if(!r.eql(a,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class f{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof f)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?f.ZERO:new f(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(f.fromAffine)}static fromHex(e){const t=f.fromAffine(i(it("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return f.BASE.multiply(a(e))}_setWindowSize(e){l.setWindowSize(this,e)}assertValidity(){u(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){s(e);const{px:t,py:n,pz:i}=this,{px:o,py:a,pz:c}=e,u=r.eql(r.mul(t,c),r.mul(o,i)),f=r.eql(r.mul(n,c),r.mul(a,i));return u&&f}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,qt),{px:o,py:a,pz:s}=this;let c=r.ZERO,u=r.ZERO,d=r.ZERO,l=r.mul(o,o),h=r.mul(a,a),p=r.mul(s,s),b=r.mul(o,a);return b=r.add(b,b),d=r.mul(o,s),d=r.add(d,d),c=r.mul(e,d),u=r.mul(i,p),u=r.add(c,u),c=r.sub(h,u),u=r.add(h,u),u=r.mul(c,u),c=r.mul(b,c),d=r.mul(i,d),p=r.mul(e,p),b=r.sub(l,p),b=r.mul(e,b),b=r.add(b,d),d=r.add(l,l),l=r.add(d,l),l=r.add(l,p),l=r.mul(l,b),u=r.add(u,l),p=r.mul(a,s),p=r.add(p,p),l=r.mul(p,b),c=r.sub(c,l),d=r.mul(p,h),d=r.add(d,d),d=r.add(d,d),new f(c,u,d)}add(e){s(e);const{px:n,py:i,pz:o}=this,{px:a,py:c,pz:u}=e;let d=r.ZERO,l=r.ZERO,h=r.ZERO;const p=t.a,b=r.mul(t.b,qt);let y=r.mul(n,a),g=r.mul(i,c),m=r.mul(o,u),v=r.add(n,i),_=r.add(a,c);v=r.mul(v,_),_=r.add(y,g),v=r.sub(v,_),_=r.add(n,o);let w=r.add(a,u);return _=r.mul(_,w),w=r.add(y,m),_=r.sub(_,w),w=r.add(i,o),d=r.add(c,u),w=r.mul(w,d),d=r.add(g,m),w=r.sub(w,d),h=r.mul(p,_),d=r.mul(b,m),h=r.add(d,h),d=r.sub(g,h),h=r.add(g,h),l=r.mul(d,h),g=r.add(y,y),g=r.add(g,y),m=r.mul(p,m),_=r.mul(b,_),g=r.add(g,m),m=r.sub(y,m),m=r.mul(p,m),_=r.add(_,m),y=r.mul(g,_),l=r.add(l,y),y=r.mul(w,_),d=r.mul(v,d),d=r.sub(d,y),y=r.mul(v,g),h=r.mul(w,h),h=r.add(h,y),new f(d,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(f.ZERO)}wNAF(e){return l.wNAFCached(this,e,f.normalizeZ)}multiplyUnsafe(e){ct("scalar",e,Ft,t.n);const n=f.ZERO;if(e===Ft)return n;if(e===zt)return this;const{endo:i}=t;if(!i)return l.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:s,k2:c}=i.splitScalar(e),u=n,d=n,h=this;for(;a>Ft||c>Ft;)a&zt&&(u=u.add(h)),c&zt&&(d=d.add(h)),h=h.double(),a>>=zt,c>>=zt;return o&&(u=u.negate()),s&&(d=d.negate()),d=new f(r.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(e){const{endo:n,n:i}=t;let o,a;if(ct("scalar",e,zt,i),n){const{k1neg:t,k1:i,k2neg:s,k2:c}=n.splitScalar(e);let{p:u,f:d}=this.wNAF(i),{p:h,f:p}=this.wNAF(c);u=l.constTimeNegate(t,u),h=l.constTimeNegate(s,h),h=new f(r.mul(h.px,n.beta),h.py,h.pz),o=u.add(h),a=d.add(p)}else{const{p:t,f:r}=this.wNAF(e);o=t,a=r}return f.normalizeZ([o,a])[0]}multiplyAndAddUnsafe(e,t,r){const n=f.BASE,i=(e,t)=>t!==Ft&&t!==zt&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return c(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===zt)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===zt?this:r?r(f,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return We("isCompressed",e),this.assertValidity(),n(f,this,e)}toHex(e=!0){return We("isCompressed",e),Qe(this.toRawBytes(e))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,l=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>(n(e),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>Mt;)r&Bt&&(n=n.add(i)),i=i.double(),r>>=Bt;return n},precomputeWindow(e,t){const{windows:r,windowSize:n}=i(t),o=[];let a=e,s=a;for(let e=0;e<r;e++){s=a,o.push(s);for(let e=1;e<n;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,n,o){const{windows:a,windowSize:s}=i(t);let c=e.ZERO,u=e.BASE;const f=BigInt(2**t-1),d=2**t,l=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let i=Number(o&f);o>>=l,i>s&&(i-=d,o+=Bt);const a=t,h=t+Math.abs(i)-1,p=e%2!=0,b=i<0;0===i?u=u.add(r(p,n[a])):c=c.add(r(b,n[h]))}return{p:c,f:u}},wNAFCached(e,t,r){const n=Rt.get(e)||1;let i=Dt.get(e);return i||(i=this.precomputeWindow(e,n),1!==n&&Dt.set(e,r(i))),this.wNAF(n,i,t)},setWindowSize(e,t){n(t),Rt.set(e,t),Dt.delete(e)}}}(f,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:a,weierstrassEquation:o,isWithinCurveOrder:function(e){return st(e,zt,t.n)}}}function Vt(e){const t=function(e){const t=Lt(e);return pt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function a(e){return xt(e,n)}function s(e){return It(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=Kt({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),a=ot;return We("isCompressed",n),n?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],a=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=et(a);if(!st(e,zt,r.ORDER))throw new Error("Point is not on curve");const t=f(e);let i;try{i=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!==((i&zt)===zt)&&(i=r.neg(i)),{x:e,y:i}}}}),l=e=>Qe(rt(e,t.nByteLength));function h(e){return e>n>>zt}const p=(e,t,r)=>et(e.slice(t,r));class b{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=it("compactSignature",e,2*r),new b(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Ht.toSig(it("DER",e));return new b(t,r)}assertValidity(){ct("r",this.r,zt,n),ct("s",this.s,zt,n)}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,u=v(it("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+t.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&o?"03":"02",h=c.fromHex(d+l(f)),p=s(f),b=a(-u*p),y=a(i*p),g=c.BASE.multiplyAndAddUnsafe(h,b,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ze(this.toDERHex())}toDERHex(){return Ht.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ze(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Pt(t.n);return function(e,t,r=!1){const n=e.length,i=Ot(t),o=Pt(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const a=xt(r?et(e):tt(e),t-gt)+gt;return r?nt(a,i):rt(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=Ve(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof c}const m=t.bits2int||function(e){const r=et(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return a(m(e))},_=ut(t.nBitLength);function w(e){return ct(`num < 2^${t.nBitLength}`,e,Ft,_),rt(e,t.nByteLength)}function S(e,n,i=x){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:l,prehash:p,extraEntropy:y}=i;null==l&&(l=!0),e=it("msgHash",e),Nt(i),p&&(e=it("prehashed msgHash",o(e)));const g=v(e),_=u(n),S=[w(_),w(g)];if(null!=y&&!1!==y){const e=!0===y?f(r.BYTES):y;S.push(it("extraEntropy",e))}const A=ot(...S),E=g;return{seed:A,k2sig:function(e){const t=m(e);if(!d(t))return;const r=s(t),n=c.BASE.multiply(t).toAffine(),i=a(n.x);if(i===Ft)return;const o=a(r*a(E+i*_));if(o===Ft)return;let u=(n.x===i?0:2)|Number(n.y&zt),f=o;return l&&h(o)&&(f=function(e){return h(e)?a(-e):e}(o),u^=1),new b(i,f,u)}}}const x={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=x){const{seed:i,k2sig:o}=S(e,r,n),a=t;return lt(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,r,n,i=A){const o=e;if(r=it("msgHash",r),n=it("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");Nt(i);const{lowS:u,prehash:f}=i;let d,l;try{if("string"==typeof o||Ve(o))try{d=b.fromDER(o)}catch(e){if(!(e instanceof Ht.Err))throw e;d=b.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new b(e,t)}}l=c.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;f&&(r=t.hash(r));const{r:h,s:p}=d,y=v(r),g=s(p),m=a(y*g),_=a(h*g),w=c.BASE.multiplyAndAddUnsafe(l,m,_)?.toAffine();return!!w&&a(w.x)===h},ProjectivePoint:c,Signature:b,utils:y}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function $t(e){return{hash:e,hmac:(t,...r)=>Fe(e,t,function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];me(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:Te}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Wt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Gt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qt=BigInt(1),Yt=BigInt(2),Xt=(e,t)=>(e+t/Yt)/t;function Jt(e){const t=Wt,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=Et(f,r,t)*f%t,l=Et(d,r,t)*f%t,h=Et(l,Yt,t)*u%t,p=Et(h,i,t)*h%t,b=Et(p,o,t)*p%t,y=Et(b,s,t)*b%t,g=Et(y,c,t)*y%t,m=Et(g,s,t)*b%t,v=Et(m,r,t)*f%t,_=Et(v,a,t)*p%t,w=Et(_,n,t)*u%t,S=Et(w,Yt,t);if(!Zt.eql(Zt.sqr(S),e))throw new Error("Cannot find square root");return S}const Zt=function(e,t,r=!1,n={}){if(e<=yt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Ct(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=kt(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:ut(i),ZERO:yt,ONE:gt,create:t=>xt(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return yt<=t&&t<e},is0:e=>e===yt,isOdd:e=>(e&gt)===gt,neg:t=>xt(-t,e),eql:(e,t)=>e===t,sqr:t=>xt(t*t,e),add:(t,r)=>xt(t+r,e),sub:(t,r)=>xt(t-r,e),mul:(t,r)=>xt(t*r,e),pow:(e,t)=>function(e,t,r){if(r<yt)throw new Error("Expected power > 0");if(r===yt)return e.ONE;if(r===gt)return t;let n=e.ONE,i=t;for(;r>yt;)r&gt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=gt;return n}(s,e,t),div:(t,r)=>xt(t*It(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>It(t,e),sqrt:n.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(s,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?nt(e,o):rt(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?tt(e):et(e)}});return Object.freeze(s)}(Wt,void 0,void 0,{sqrt:Jt}),er=function(e,t){const r=t=>Vt({...e,...$t(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:Zt,n:Gt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Gt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Qt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=Xt(o*e,t),c=Xt(-n*e,t);let u=xt(e-s*r-c*i,t),f=xt(-s*n-c*o,t);const d=u>a,l=f>a;if(d&&(u=t-u),l&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},Ue),tr=BigInt(0),rr={};function nr(e,...t){let r=rr[e];if(void 0===r){const t=Ue(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=ot(t,t),rr[e]=r}return Ue(ot(r,...t))}const ir=e=>e.toRawBytes(!0).slice(1),or=e=>rt(e,32),ar=e=>xt(e,Wt),sr=e=>xt(e,Gt),cr=er.ProjectivePoint,ur=(e,t,r)=>cr.BASE.multiplyAndAddUnsafe(e,t,r);function fr(e){let t=er.utils.normPrivateKeyToScalar(e),r=cr.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:sr(-t),bytes:ir(r)}}function dr(e){ct("x",e,Qt,Wt);const t=ar(e*e);let r=Jt(ar(t*e+BigInt(7)));r%Yt!==tr&&(r=ar(-r));const n=new cr(e,r,Qt);return n.assertValidity(),n}const lr=et;function hr(...e){return sr(lr(nr("BIP0340/challenge",...e)))}function pr(e){return fr(e).bytes}function br(e,t,r=Te(32)){const n=it("message",e),{bytes:i,scalar:o}=fr(t),a=it("auxRand",r,32),s=or(o^lr(nr("BIP0340/aux",a))),c=nr("BIP0340/nonce",s,i,n),u=sr(lr(c));if(u===tr)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=fr(u),l=hr(f,i,n),h=new Uint8Array(64);if(h.set(f,0),h.set(or(sr(d+l*o)),32),!yr(h,n,i))throw new Error("sign: Invalid signature produced");return h}function yr(e,t,r){const n=it("signature",e,64),i=it("message",t),o=it("publicKey",r,32);try{const e=dr(lr(o)),t=lr(n.subarray(0,32));if(!st(t,Qt,Wt))return!1;const r=lr(n.subarray(32,64));if(!st(r,Qt,Gt))return!1;const a=hr(or(t),ir(e),i),s=ur(e,r,sr(-a));return!(!s||!s.hasEvenY()||s.toAffine().x!==t)}catch(e){return!1}}const gr=(()=>({getPublicKey:pr,sign:br,verify:yr,utils:{randomPrivateKey:er.utils.randomPrivateKey,lift_x:dr,pointToBytes:ir,numberToBytesBE:rt,bytesToNumberBE:et,taggedHash:nr,mod:xt}}))();function mr(e){return b(a(`Nervos Message:${"string"==typeof e?e:c(e)}`,"utf8"))}__webpack_require__(75951);var vr,_r=__webpack_require__(86729);!function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(vr||(vr={}));const wr=vr;class Sr extends Error{constructor(e){super(`${e} is required`),this.code=wr.ParameterRequired}}Error;Error;class xr extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=wr.ParameterInvalid}}class Ar extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=wr.AddressInvalid,this.type=t}}class Er extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=wr.AddressInvalid,this.type=r,this.stack=t}}class Ir extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=wr.AddressInvalid}}class kr extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=wr.AddressInvalid}}class Tr extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=wr.AddressInvalid}}class Cr extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=wr.AddressInvalid}}class Or extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=wr.ParameterInvalid}}class Pr extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=wr.ParameterInvalid}}class Mr extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=wr.ParameterInvalid}}class Br extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=wr.ParameterInvalid}}class Dr extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=wr.ParameterInvalid}}class Rr extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=wr.ParameterInvalid}}class Lr extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=wr.ParameterInvalid}}class Nr extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=wr.ParameterInvalid}}class jr extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=wr.ParameterInvalid}}class Ur extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=wr.ParameterInvalid}}class Hr extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=wr.ParameterInvalid}}Error;Error;const Fr=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new xr(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},zr=e=>{Fr(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`},qr=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new xr(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)},Kr=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`;new _r.ec("secp256k1");const Vr={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},$r={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},Wr={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},Gr={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},Qr=1023;var Yr,Xr,Jr;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(Yr||(Yr={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(Xr||(Xr={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(Jr||(Jr={}));const Zr=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+Xr.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==Jr.Bech32)throw new Cr(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new Ar(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new Ar(e,"short");default:throw new Ar(e,"short")}})(e,t);break;case+Xr.DataCodeHash:case+Xr.TypeCodeHash:if(t!==Jr.Bech32)throw new Cr(r,t);if(n.length<32)throw new Ar(e,"full");break;case+Xr.FullVersion:{if(t!==Jr.Bech32m)throw new Cr(r,t);const e=n.slice(0,32);if(e.length<32)throw new Ir(Kr(e));const i=parseInt(n[32].toString(),16);if(i>2)throw new kr(`0x${i.toString(16)}`);break}default:throw new Ar(e)}},en=e=>{const t=((e,t="binary")=>{let r,n=new Uint8Array;try{const t=An.decode(e,Qr);r=Jr.Bech32,n=new Uint8Array(An.fromWords(new Uint8Array(t.words)))}catch(t){const i=En.decode(e,Qr);r=Jr.Bech32m,n=new Uint8Array(En.fromWords(new Uint8Array(i.words)))}try{Zr(n,r)}catch(t){if(t instanceof Cr)throw t;throw new Er(e,t.stack,t.type)}return"binary"===t?n:Kr(n)})(e),r=t[0];switch(r){case+Xr.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},r=Kr(t);return{codeHash:`0x${r.substr(4,64)}`,hashType:e[r.substr(68,2)],args:`0x${r.substr(70)}`}}case+Xr.HashIdx:{const r=[Vr,$r,e.startsWith(Yr.Mainnet)?Wr:Gr],n=t[1],i=t.slice(2),o=r[n];return{codeHash:o.codeHash,hashType:o.hashType,args:Kr(i)}}case+Xr.DataCodeHash:case+Xr.TypeCodeHash:{const e=Kr(t.slice(1)),n=r===+Xr.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:n,args:`0x${e.substr(66)}`}}default:throw new Tr(r)}},tn=new Uint32Array(32),rn=new Uint32Array(32),nn=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},on=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},an=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,sn=(e,t,r,n,i,o)=>{const a=rn[i],s=rn[i+1],c=rn[o],u=rn[o+1];nn(tn,e,t),on(tn,e,a,s);let f=tn[n]^tn[e],d=tn[n+1]^tn[e+1];tn[n]=d,tn[n+1]=f,nn(tn,r,n),f=tn[t]^tn[r],d=tn[t+1]^tn[r+1],tn[t]=f>>>24^d<<8,tn[t+1]=d>>>24^f<<8,nn(tn,e,t),on(tn,e,c,u),f=tn[n]^tn[e],d=tn[n+1]^tn[e+1],tn[n]=f>>>16^d<<16,tn[n+1]=d>>>16^f<<16,nn(tn,r,n),f=tn[t]^tn[r],d=tn[t+1]^tn[r+1],tn[t]=d>>>31^f<<1,tn[t+1]=f>>>31^d<<1},cn=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),un=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),fn=(e,t)=>{let r=0;for(r=0;r<16;r++)tn[r]=e.h[r],tn[r+16]=cn[r];for(tn[24]^=e.t,tn[25]^=e.t/4294967296,t&&(tn[28]=~tn[28],tn[29]=~tn[29]),r=0;r<32;r++)rn[r]=an(e.b,4*r);for(r=0;r<12;r++)sn(0,8,16,24,un[16*r+0],un[16*r+1]),sn(2,10,18,26,un[16*r+2],un[16*r+3]),sn(4,12,20,28,un[16*r+4],un[16*r+5]),sn(6,14,22,30,un[16*r+6],un[16*r+7]),sn(0,10,20,30,un[16*r+8],un[16*r+9]),sn(2,12,22,24,un[16*r+10],un[16*r+11]),sn(4,14,16,26,un[16*r+12],un[16*r+13]),sn(6,8,18,28,un[16*r+14],un[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^tn[r]^tn[r+16]},dn=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,fn(e,!1),e.c=0),e.b[e.c++]=+t[r]},ln=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class hn{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new Nr;return dn(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new Dr;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;fn(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,ln.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,ln[0]=e,t&&(ln[1]=t.length),ln[2]=1,ln[3]=1,r&&ln.set(r,32),n&&ln.set(n,48);for(let e=0;e<16;e++)this.h[e]=cn[e]^an(ln,4*e);t&&(dn(this,t),this.c=128)}}const pn=(e,t,r,n,i)=>{if(!0!==i){if(e<16)throw new Or(e,16);if(e>64)throw new Pr(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new jr;if(t.length<16)throw new Mr(t.length,16);if(t.length>64)throw new Br(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new Rr;if(16!==r.length)throw new Lr(r.length,16)}if(null!==n){if(!(n instanceof Uint8Array))throw new Ur;if(16!==n.length)throw new Hr(n.length,16)}}return new hn(e,t,r,n)},bn=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),yn=("0".repeat(130),(e,t="binary")=>{const r="string"==typeof e?qr(e):e,n=pn(32,null,null,bn);return n.update(r),n.digest(t).slice(0,"binary"===t?20:40)}),gn={blake2b:pn,blake160:yn,bech32:n.bech32,bech32m:n.bech32m},mn=e=>{const t=[4+4*e.length];return e.forEach(((r,n)=>{n&&t.push(t[t.length-1]+e[n-1])})),t},vn=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?qr(e):e;return Kr(t)},_n=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const t=("string"==typeof e?[...qr(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>vn(e).slice(2)));return`0x${zr(`0x${t.length.toString(16)}`).slice(2)}${t.join("")}`},wn=e=>{const t=[];e.forEach((e=>{t.push(vn(e).slice(2))}));const r=t.join(""),n=4+4*e.size;return`0x${zr(`0x${(n+r.length/2).toString(16)}`).slice(2)}${mn(t.map((e=>e.length/2))).map((e=>zr(`0x${e.toString(16)}`).slice(2))).join("")}${r}`},Sn=e=>{if(!e)throw new Sr("Script");const{codeHash:t="",hashType:r,args:n=""}=e,i=(e=>vn(e))(t),o=(e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data' or 'type'")})(r),a=(e=>_n(e))(n),s=new Map([["codeHash",i],["hashType",o],["args",a]]);return wn(s)},{blake2b:xn,bech32:An,bech32m:En,blake160:In}=gn;__webpack_require__(59045);const kn=globalThis.crypto,Tn=kn.subtle;var Cn=class extends Error{constructor(e,t="Invalid Params",r=void 0){super(e),this.name="User Rejected"===e?e:t,this.rawError=r}};function On(e){if(!e)return"";const t=decodeURIComponent(e);return"false"!==t&&("true"===t||(0*+t==0&&""+ +t===t?+t:t))}var Pn;Pn=JSON.parse,JSON.stringify,JSON.parse;function Mn(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4,n=t.padEnd(t.length+r,"="),i=atob(n),o=new ArrayBuffer(i.length),a=new Uint8Array(o);for(let e=0;e<i.length;e++)a[e]=i.charCodeAt(e);return o}function Bn(e){const t=new Uint8Array(e);let r="";for(let e=0;e<t.length;e++){const n=t[e];null!=n&&(r+=String.fromCharCode(n))}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Dn(e){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=Number.parseInt(e.substring(r,r+2),16);return t.buffer}function Rn(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}var Ln=(e=>(e[e.RS256=-257]="RS256",e[e.ES256=-7]="ES256",e))(Ln||{});Error,Error;var Nn=(e,t)=>{try{const n=function(e){let t="";for(let r=0;r<e.length;r+=2)t+=String.fromCharCode(Number.parseInt(e.substr(r,2),16));return t}(Rn(t));return JSON.parse(n).challenge===Bn((r=e,(new TextEncoder).encode(r)))}catch(e){return!1}var r},jn=async({message:e,signature:t,pubkey:r,challenge:n,alg:i})=>{try{const o=Dn(`${r}`),a=Mn(e),s=Mn(t),c=a.slice(0,37),u=a.slice(37);if(!Nn(n,u))return!1;const f=function(e,t){const r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r.buffer}(c,await Tn.digest("SHA-256",u)),d=i===Ln.ES256,l=d?{kty:"EC",crv:"P-256",x:Bn(o.slice(0,32)),y:Bn(o.slice(32))}:{alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Bn(new Uint8Array(o.slice(0,3)).reverse()),n:Bn(new Uint8Array(o.slice(4)).reverse())},h=d?{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}}:{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},p=await Tn.importKey("jwk",l,h,!1,["verify"]),b=await Tn.verify(h,p,i===Ln.RS256?s:function(e){const t=Array.from(new Uint8Array(e),(e=>`00${e.toString(16)}`.slice(-2))).join(""),r=2*Number.parseInt(t.substr(6,2),16);let n=t.substr(8,r),i=t.substr(12+r);return n=n.length>64?n.substr(-64):n.padStart(64,"0"),i=i.length>64?i.substr(-64):i.padStart(64,"0"),new Uint8Array(`${n}${i}`.match(/[\da-f]{2}/gi).map((e=>Number.parseInt(e,16))))}(s),f);return b}catch(e){return console.error(e),!1}},Un=async e=>{const{message:t,signature:r,pubkey:n,keyType:i}=e;return"main_key"===i||"sub_key"===i?jn(e):(async(e,t,r)=>{try{const n="RSASSA-PKCS1-v1_5",i=Dn(r),o=Mn(e),a=Mn(t),s=new Uint8Array(i.slice(0,3)).reverse(),c=new Uint8Array(i.slice(4)).reverse(),u={alg:"RS256",ext:!0,key_ops:["verify"],kty:"RSA",e:Bn(s),n:Bn(c)},f=await Tn.importKey("jwk",u,{name:n,hash:"SHA-256"},!1,["verify"]);return await Tn.verify(n,f,a,o)}catch(e){return console.error(e),!1}})(t,r,n)};var{Vu:Hn,ji:Fn,mf:zn}=t;function qn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Kn(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Vn(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");qn(e.outputLen),qn(e.blockLen)}function $n(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Wn(e,t){Kn(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Gn=BigInt(2**32-1),Qn=BigInt(32);function Yn(e,t=!1){return t?{h:Number(e&Gn),l:Number(e>>Qn&Gn)}:{h:0|Number(e>>Qn&Gn),l:0|Number(e&Gn)}}function Xn(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:a}=Yn(e[i],t);[r[i],n[i]]=[o,a]}return[r,n]}const Jn=(e,t,r)=>e<<r|t>>>32-r,Zn=(e,t,r)=>t<<r|e>>>32-r,ei=(e,t,r)=>t<<r-32|e>>>64-r,ti=(e,t,r)=>e<<r-32|t>>>64-r;const ri="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ni=e=>e instanceof Uint8Array,ii=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),oi=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function ai(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!ni(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class si{clone(){return this._cloneInto()}}function ci(e){const t=t=>e().update(ai(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ui(e=32){if(ri&&"function"==typeof ri.getRandomValues)return ri.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[fi,di,li]=[[],[],[]],hi=BigInt(0),pi=BigInt(1),bi=BigInt(2),yi=BigInt(7),gi=BigInt(256),mi=BigInt(113);for(let e=0,t=pi,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],fi.push(2*(5*n+r)),di.push((e+1)*(e+2)/2%64);let i=hi;for(let e=0;e<7;e++)t=(t<<pi^(t>>yi)*mi)%gi,t&bi&&(i^=pi<<(pi<<BigInt(e))-pi);li.push(i)}const[vi,_i]=Xn(li,!0),wi=(e,t,r)=>r>32?ei(e,t,r):Jn(e,t,r),Si=(e,t,r)=>r>32?ti(e,t,r):Zn(e,t,r);class xi extends si{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,o=r[i],a=r[i+1],s=wi(o,a,1)^r[n],c=Si(o,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=di[r],o=wi(t,i,n),a=Si(t,i,n),s=fi[r];t=e[s],i=e[s+1],e[s]=o,e[s+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=vi[n],e[1]^=_i[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){$n(this);const{blockLen:t,state:r}=this,n=(e=ai(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){$n(this,!1),Kn(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Wn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new xi(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Ai=(e,t,r)=>ci((()=>new xi(t,e,r))),Ei=Ai(1,136,32),Ii="6.13.1";function ki(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}function Ti(e,t,r){for(let n in t){let i=t[n];const o=r?r[n]:null;o&&ki(i,o,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Ci(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Ci).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return Ci(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Ci(t)}: ${Ci(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Oi(e,t,r,n){if(!e)throw function(e,t,r){let n,i=e;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Ci(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];n.push(e+"="+Ci(t))}}n.push(`code=${t}`),n.push(`version=${Ii}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(e);break;default:n=new Error(e)}return Ti(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&Ti(n,{shortMessage:i}),n}(t,r,n)}function Pi(e,t,r,n){Oi(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}const Mi=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function Bi(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}Pi(!1,"invalid BytesLike value",t||"value",e)}function Di(e,t){return Bi(e,t,!1)}function Ri(e,t){return Bi(e,t,!0)}function Li(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0))}const Ni="0123456789abcdef";function ji(e){const t=Di(e);let r="0x";for(let e=0;e<t.length;e++){const n=t[e];r+=Ni[(240&n)>>4]+Ni[15&n]}return r}function Ui(e){return"0x"+e.map((e=>ji(e).substring(2))).join("")}function Hi(e){return Li(e,!0)?(e.length-2)/2:Di(e).length}function Fi(e,t,r){const n=Di(e);Oi(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),ji(i)}let zi=!1;const qi=function(e){return Ei(e)};let Ki=qi;function Vi(e){const t=Di(e,"data");return ji(Ki(t))}Vi._=qi,Vi.lock=function(){zi=!0},Vi.register=function(e){if(zi)throw new TypeError("keccak256 is locked");Ki=e},Object.freeze(Vi);const $i="Ethereum Signed Message:\n",Wi=BigInt(0),Gi=BigInt(36);function Qi(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=Di(Vi(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Yi={};for(let e=0;e<10;e++)Yi[String(e)]=String(e);for(let e=0;e<26;e++)Yi[String.fromCharCode(65+e)]=String(10+e);const Xi=15;function Ji(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>Yi[e])).join("");for(;t.length>=Xi;){let e=t.substring(0,Xi);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const Zi=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function eo(e){if(Pi("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=Qi(e);return Pi(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){Pi(e.substring(2,4)===Ji(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=Wi;for(let r=0;r<e.length;r++)t=t*Gi+Zi[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return Qi("0x"+t)}Pi(!1,"invalid address","address",e)}class to extends si{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ii(this.buffer)}update(e){$n(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=ai(e)).length;for(let o=0;o<i;){const a=Math.min(n-this.pos,i-o);if(a!==n)r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=ii(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){$n(this),Wn(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,s,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const a=ii(e),s=this.outputLen;if(s%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=s/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)a.setUint32(4*e,u[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const ro=(e,t,r)=>e&t^e&r^t&r,no=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),io=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oo=new Uint32Array(64);class ao extends to{constructor(){super(64,32,8,!1),this.A=0|io[0],this.B=0|io[1],this.C=0|io[2],this.D=0|io[3],this.E=0|io[4],this.F=0|io[5],this.G=0|io[6],this.H=0|io[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)oo[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=oo[e-15],r=oo[e-2],n=oi(t,7)^oi(t,18)^t>>>3,i=oi(r,17)^oi(r,19)^r>>>10;oo[e]=i+oo[e-7]+n+oo[e-16]|0}let{A:r,B:n,C:i,D:o,E:a,F:s,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(oi(a,6)^oi(a,11)^oi(a,25))+((f=a)&s^~f&c)+no[e]+oo[e]|0,d=(oi(r,2)^oi(r,13)^oi(r,22))+ro(r,n,i)|0;u=c,c=s,s=a,a=o+t|0,o=i,i=n,n=r,r=t+d|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,o,a,s,c,u)}roundClean(){oo.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const so=ci((()=>new ao)),co=(BigInt(0),BigInt(1)),uo=BigInt(2),fo=e=>e instanceof Uint8Array,lo=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function ho(e){if(!fo(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=lo[e[r]];return t}function po(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function bo(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[t]=o}return r}function yo(e){return po(ho(e))}function go(e){if(!fo(e))throw new Error("Uint8Array expected");return po(ho(Uint8Array.from(e).reverse()))}function mo(e,t){return bo(e.toString(16).padStart(2*t,"0"))}function vo(e,t){return mo(e,t).reverse()}function _o(e,t,r){let n;if("string"==typeof t)try{n=bo(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!fo(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function wo(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!fo(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}const So=e=>(uo<<BigInt(e-1))-co,xo=e=>new Uint8Array(e),Ao=e=>Uint8Array.from(e);function Eo(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=xo(e),i=xo(e),o=0;const a=()=>{n.fill(1),i.fill(0),o=0},s=(...e)=>r(i,n,...e),c=(e=xo())=>{i=s(Ao([0]),e),n=s(),0!==e.length&&(i=s(Ao([1]),e),n=s())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=s();const t=n.slice();r.push(t),e+=n.length}return wo(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(u()));)c();return a(),r}}const Io={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ko(e,t,r={}){const n=(t,r,n)=>{const i=Io[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const To=BigInt(0),Co=BigInt(1),Oo=BigInt(2),Po=BigInt(3),Mo=BigInt(4),Bo=BigInt(5),Do=BigInt(8);BigInt(9),BigInt(16);function Ro(e,t){const r=e%t;return r>=To?r:t+r}function Lo(e,t,r){if(r<=To||t<To)throw new Error("Expected power/modulo > 0");if(r===Co)return To;let n=Co;for(;t>To;)t&Co&&(n=n*e%r),e=e*e%r,t>>=Co;return n}function No(e,t,r){let n=e;for(;t-- >To;)n*=n,n%=r;return n}function jo(e,t){if(e===To||t<=To)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ro(e,t),n=t,i=To,o=Co,a=Co,s=To;for(;r!==To;){const e=n/r,t=n%r,c=i-a*e,u=o-s*e;n=r,r=t,i=a,o=s,a=c,s=u}if(n!==Co)throw new Error("invert: does not exist");return Ro(i,t)}function Uo(e){if(e%Mo===Po){const t=(e+Co)/Mo;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%Do===Bo){const t=(e-Bo)/Do;return function(e,r){const n=e.mul(r,Oo),i=e.pow(n,t),o=e.mul(r,i),a=e.mul(e.mul(o,Oo),i),s=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(s),r))throw new Error("Cannot find square root");return s}}return function(e){const t=(e-Co)/Oo;let r,n,i;for(r=e-Co,n=0;r%Oo===To;r/=Oo,n++);for(i=Oo;i<e&&Lo(i,t,e)!==e-Co;i++);if(1===n){const t=(e+Co)/Mo;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+Co)/Oo;return function(e,a){if(e.pow(a,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(a,o),f=e.pow(a,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,Co<<BigInt(s-t-1));c=e.sqr(r),u=e.mul(u,r),f=e.mul(f,c),s=t}return u}}(e)}const Ho=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fo(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function zo(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function qo(e){const t=zo(e);return t+Math.ceil(t/2)}class Ko extends si{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Vn(e);const r=ai(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return $n(this),this.iHash.update(e),this}digestInto(e){$n(this),Kn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Vo=(e,t,r)=>new Ko(e,t).update(r).digest();Vo.create=(e,t)=>new Ko(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const $o=BigInt(0),Wo=BigInt(1);function Go(e){return ko(e.Fp,Ho.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ko(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fo(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:Qo,aT:Yo}=r,Xo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Xo;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Qo(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Xo,r="string"==typeof e?Yo(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Xo._parseInt(r.subarray(2)),{d:a,l:s}=Xo._parseInt(o);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,a=i.length/2,s=r(o),c=r(a);return`30${r(a+o+4)}02${c}${i}02${s}${n}`}},Jo=BigInt(0),Zo=BigInt(1),ea=(BigInt(2),BigInt(3));BigInt(4);function ta(e){const t=
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function(e){const t=Go(e);ko(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return wo(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),a=r.mul(o,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&Jo<e&&e<t.n}function s(e){if(!a(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ho(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let a;try{a="bigint"==typeof e?e:yo(_o("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(a=Ro(a,o)),s(a),a}const u=new Map;function f(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(i(_o("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),a=o(e);if(!r.eql(i,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:n,pz:i}=this,{px:o,py:a,pz:s}=e,c=r.eql(r.mul(t,s),r.mul(o,i)),u=r.eql(r.mul(n,s),r.mul(a,i));return c&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,ea),{px:o,py:a,pz:s}=this;let c=r.ZERO,u=r.ZERO,f=r.ZERO,l=r.mul(o,o),h=r.mul(a,a),p=r.mul(s,s),b=r.mul(o,a);return b=r.add(b,b),f=r.mul(o,s),f=r.add(f,f),c=r.mul(e,f),u=r.mul(i,p),u=r.add(c,u),c=r.sub(h,u),u=r.add(h,u),u=r.mul(c,u),c=r.mul(b,c),f=r.mul(i,f),p=r.mul(e,p),b=r.sub(l,p),b=r.mul(e,b),b=r.add(b,f),f=r.add(l,l),l=r.add(f,l),l=r.add(l,p),l=r.mul(l,b),u=r.add(u,l),p=r.mul(a,s),p=r.add(p,p),l=r.mul(p,b),c=r.sub(c,l),f=r.mul(p,h),f=r.add(f,f),f=r.add(f,f),new d(c,u,f)}add(e){f(e);const{px:n,py:i,pz:o}=this,{px:a,py:s,pz:c}=e;let u=r.ZERO,l=r.ZERO,h=r.ZERO;const p=t.a,b=r.mul(t.b,ea);let y=r.mul(n,a),g=r.mul(i,s),m=r.mul(o,c),v=r.add(n,i),_=r.add(a,s);v=r.mul(v,_),_=r.add(y,g),v=r.sub(v,_),_=r.add(n,o);let w=r.add(a,c);return _=r.mul(_,w),w=r.add(y,m),_=r.sub(_,w),w=r.add(i,o),u=r.add(s,c),w=r.mul(w,u),u=r.add(g,m),w=r.sub(w,u),h=r.mul(p,_),u=r.mul(b,m),h=r.add(u,h),u=r.sub(g,h),h=r.add(g,h),l=r.mul(u,h),g=r.add(y,y),g=r.add(g,y),m=r.mul(p,m),_=r.mul(b,_),g=r.add(g,m),m=r.sub(y,m),m=r.mul(p,m),_=r.add(_,m),y=r.mul(g,_),l=r.add(l,y),y=r.mul(w,_),u=r.mul(v,u),u=r.sub(u,y),y=r.mul(v,g),h=r.mul(w,h),h=r.add(h,y),new d(u,l,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return h.wNAFCached(this,u,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}))}multiplyUnsafe(e){const n=d.ZERO;if(e===Jo)return n;if(s(e),e===Zo)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:c,k2:u}=i.splitScalar(e),f=n,l=n,p=this;for(;a>Jo||u>Jo;)a&Zo&&(f=f.add(p)),u&Zo&&(l=l.add(p)),p=p.double(),a>>=Zo,u>>=Zo;return o&&(f=f.negate()),c&&(l=l.negate()),l=new d(r.mul(l.px,i.beta),l.py,l.pz),f.add(l)}multiply(e){s(e);let n,i,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:c}=a.splitScalar(o);let{p:u,f}=this.wNAF(t),{p:l,f:p}=this.wNAF(c);u=h.constTimeNegate(e,u),l=h.constTimeNegate(s,l),l=new d(r.mul(l.px,a.beta),l.py,l.pz),n=u.add(l),i=f.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=d.BASE,i=(e,t)=>t!==Jo&&t!==Zo&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const a=r.mul(t,e),s=r.mul(n,e),c=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Zo)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Zo?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(d,this,e)}toHex(e=!0){return ho(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const l=t.nBitLength,h=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>$o;)r&Wo&&(n=n.add(i)),i=i.double(),r>>=Wo;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let a=e,s=a;for(let e=0;e<r;e++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(t,i,o){const{windows:a,windowSize:s}=n(t);let c=e.ZERO,u=e.BASE;const f=BigInt(2**t-1),d=2**t,l=BigInt(t);for(let e=0;e<a;e++){const t=e*s;let n=Number(o&f);o>>=l,n>s&&(n-=d,o+=Wo);const a=t,h=t+Math.abs(n)-1,p=e%2!=0,b=n<0;0===n?u=u.add(r(p,i[a])):c=c.add(r(b,i[h]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}(d,t.endo?Math.ceil(l/2):l);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function ra(e){const t=function(e){const t=Go(e);return ko(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function a(e){return Ro(e,n)}function s(e){return jo(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=ta({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),a=wo;return n?a(Uint8Array.from([t.hasEvenY()?2:3]),o):a(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],a=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=yo(a);if(!function(e){return Jo<e&&e<r.ORDER}(e))throw new Error("Point is not on curve");const t=f(e);let i=r.sqrt(t);return!(1&~n)!==((i&Zo)===Zo)&&(i=r.neg(i)),{x:e,y:i}}}}),l=e=>ho(mo(e,t.nByteLength));function h(e){return e>n>>Zo}const p=(e,t,r)=>yo(e.slice(t,r));class b{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=_o("compactSignature",e,2*r),new b(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Xo.toSig(_o("DER",e));return new b(t,r)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,u=v(_o("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+t.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=1&o?"03":"02",h=c.fromHex(d+l(f)),p=s(f),b=a(-u*p),y=a(i*p),g=c.BASE.multiplyAndAddUnsafe(h,b,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return bo(this.toDERHex())}toDERHex(){return Xo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return bo(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=qo(t.n);return function(e,t,r=!1){const n=e.length,i=zo(t),o=qo(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const a=Ro(r?yo(e):go(e),t-Co)+Co;return r?vo(a,i):mo(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof c}const m=t.bits2int||function(e){const r=yo(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return a(m(e))},_=So(t.nBitLength);function w(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Jo<=e&&e<_))throw new Error(`bigint expected < 2^${t.nBitLength}`);return mo(e,t.nByteLength)}function S(e,n,i=x){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:l,prehash:p,extraEntropy:y}=i;null==l&&(l=!0),e=_o("msgHash",e),p&&(e=_o("prehashed msgHash",o(e)));const g=v(e),_=u(n),S=[w(_),w(g)];if(null!=y){const e=!0===y?f(r.BYTES):y;S.push(_o("extraEntropy",e))}const A=wo(...S),E=g;return{seed:A,k2sig:function(e){const t=m(e);if(!d(t))return;const r=s(t),n=c.BASE.multiply(t).toAffine(),i=a(n.x);if(i===Jo)return;const o=a(r*a(E+i*_));if(o===Jo)return;let u=(n.x===i?0:2)|Number(n.y&Zo),f=o;return l&&h(o)&&(f=function(e){return h(e)?a(-e):e}(o),u^=1),new b(i,f,u)}}}const x={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=x){const{seed:i,k2sig:o}=S(e,r,n),a=t;return Eo(a.hash.outputLen,a.nByteLength,a.hmac)(i,o)},verify:function(e,r,n,i=A){const o=e;if(r=_o("msgHash",r),n=_o("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:f}=i;let d,l;try{if("string"==typeof o||o instanceof Uint8Array)try{d=b.fromDER(o)}catch(e){if(!(e instanceof Xo.Err))throw e;d=b.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new b(e,t)}}l=c.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;f&&(r=t.hash(r));const{r:h,s:p}=d,y=v(r),g=s(p),m=a(y*g),_=a(h*g),w=c.BASE.multiplyAndAddUnsafe(l,m,_)?.toAffine();return!!w&&a(w.x)===h},ProjectivePoint:c,Signature:b,utils:y}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function na(e){return{hash:e,hmac:(t,...r)=>Vo(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!ni(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}(...r)),randomBytes:ui}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ia=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),oa=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),aa=BigInt(1),sa=BigInt(2),ca=(e,t)=>(e+t/sa)/t;function ua(e){const t=ia,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),s=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=No(f,r,t)*f%t,l=No(d,r,t)*f%t,h=No(l,sa,t)*u%t,p=No(h,i,t)*h%t,b=No(p,o,t)*p%t,y=No(b,s,t)*b%t,g=No(y,c,t)*y%t,m=No(g,s,t)*b%t,v=No(m,r,t)*f%t,_=No(v,a,t)*p%t,w=No(_,n,t)*u%t,S=No(w,sa,t);if(!fa.eql(fa.sqr(S),e))throw new Error("Cannot find square root");return S}const fa=function(e,t,r=!1,n={}){if(e<=To)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Fo(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=Uo(e),s=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:So(i),ZERO:To,ONE:Co,create:t=>Ro(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return To<=t&&t<e},is0:e=>e===To,isOdd:e=>(e&Co)===Co,neg:t=>Ro(-t,e),eql:(e,t)=>e===t,sqr:t=>Ro(t*t,e),add:(t,r)=>Ro(t+r,e),sub:(t,r)=>Ro(t-r,e),mul:(t,r)=>Ro(t*r,e),pow:(e,t)=>function(e,t,r){if(r<To)throw new Error("Expected power > 0");if(r===To)return e.ONE;if(r===Co)return t;let n=e.ONE,i=t;for(;r>To;)r&Co&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Co;return n}(s,e,t),div:(t,r)=>Ro(t*jo(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>jo(t,e),sqrt:n.sqrt||(e=>a(s,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(s,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?vo(e,o):mo(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?go(e):yo(e)}});return Object.freeze(s)}(ia,void 0,void 0,{sqrt:ua}),da=function(e,t){const r=t=>ra({...e,...na(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:fa,n:oa,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=oa,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-aa*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),s=ca(o*e,t),c=ca(-n*e,t);let u=Ro(e-s*r-c*i,t),f=Ro(-s*n-c*o,t);const d=u>a,l=f>a;if(d&&(u=t-u),l&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},so);BigInt(0);da.ProjectivePoint;const la=BigInt(0),ha=(BigInt(1),9007199254740991);function pa(e,t){switch(typeof e){case"bigint":return e;case"number":return Pi(Number.isInteger(e),"underflow",t||"value",e),Pi(e>=-ha&&e<=ha,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){Pi(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}Pi(!1,"invalid BigNumberish value",t||"value",e)}function ba(e,t){const r=pa(e,t);return Oi(r>=la,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}function ya(e,t){switch(typeof e){case"bigint":return Pi(e>=-ha&&e<=ha,"overflow",t||"value",e),Number(e);case"number":return Pi(Number.isInteger(e),"underflow",t||"value",e),Pi(e>=-ha&&e<=ha,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return ya(BigInt(e),t)}catch(r){Pi(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}Pi(!1,"invalid numeric value",t||"value",e)}function ga(e,t){let r=ba(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const n=ya(t,"width");for(Oi(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function ma(e){const t=ba(e,"value");if(t===la)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}const va="0x0000000000000000000000000000000000000000000000000000000000000000",_a=BigInt(0),wa=BigInt(1),Sa=BigInt(2),xa=BigInt(27),Aa=BigInt(28),Ea=BigInt(35),Ia={};function ka(e){return Fi(ma(e),32,!0)}class Ta{#s;#c;#u;#f;get r(){return this.#s}set r(e){Pi(32===Hi(e),"invalid r","value",e),this.#s=ji(e)}get s(){return this.#c}set s(e){Pi(32===Hi(e),"invalid s","value",e);const t=ji(e);Pi(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#c=t}get v(){return this.#u}set v(e){const t=ya(e,"value");Pi(27===t||28===t,"invalid v","v",e),this.#u=t}get networkV(){return this.#f}get legacyChainId(){const e=this.networkV;return null==e?null:Ta.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=Di(this.s);return this.yParity&&(e[0]|=128),ji(e)}get compactSerialized(){return Ui([this.r,this.yParityAndS])}get serialized(){return Ui([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){!function(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),Oi(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}(e,Ia,"Signature"),this.#s=t,this.#c=r,this.#u=n,this.#f=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Ta(Ia,this.r,this.s,this.v);return this.networkV&&(e.#f=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=pa(e,"v");return t==xa||t==Aa?_a:(Pi(t>=Ea,"invalid EIP-155 v","v",e),(t-Ea)/Sa)}static getChainIdV(e,t){return pa(e)*Sa+BigInt(35+t-27)}static getNormalizedV(e){const t=pa(e);return t===_a||t===xa?27:t===wa||t===Aa?28:(Pi(t>=Ea,"invalid v","v",e),t&wa?27:28)}static from(e){function t(t,r){Pi(t,r,"signature",e)}if(null==e)return new Ta(Ia,va,va,27);if("string"==typeof e){const r=Di(e,"signature");if(64===r.length){const e=ji(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new Ta(Ia,e,ji(t),n)}if(65===r.length){const e=ji(r.slice(0,32)),n=r.slice(32,64);t(!(128&n[0]),"non-canonical s");const i=Ta.getNormalizedV(r[64]);return new Ta(Ia,e,ji(n),i)}t(!1,"invalid raw signature length")}if(e instanceof Ta)return e.clone();const r=e.r;t(null!=r,"missing r");const n=ka(r),i=function(e,r){if(null!=e)return ka(e);if(null!=r){t(Li(r,32),"invalid yParityAndS");const e=Di(r);return e[0]&=127,ji(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(!(128&Di(i)[0]),"non-canonical s");const{networkV:o,v:a}=function(e,r,n){if(null!=e){const t=pa(e);return{networkV:t>=Ea?t:void 0,v:Ta.getNormalizedV(t)}}if(null!=r)return t(Li(r,32),"invalid yParityAndS"),{v:128&Di(r)[0]?28:27};if(null!=n){switch(ya(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),s=new Ta(Ia,n,i,a);return o&&(s.#f=o),t(null==e.yParity||ya(e.yParity,"sig.yParity")===s.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===s.yParityAndS,"yParityAndS mismatch"),s}}class Ca{#d;constructor(e){Pi(32===Hi(e),"invalid private key","privateKey","[REDACTED]"),this.#d=ji(e)}get privateKey(){return this.#d}get publicKey(){return Ca.computePublicKey(this.#d)}get compressedPublicKey(){return Ca.computePublicKey(this.#d,!0)}sign(e){Pi(32===Hi(e),"invalid digest length","digest",e);const t=da.sign(Ri(e),Ri(this.#d),{lowS:!0});return Ta.from({r:ga(t.r,32),s:ga(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ca.computePublicKey(e);return ji(da.getSharedSecret(Ri(this.#d),Di(t),!1))}static computePublicKey(e,t){let r=Di(e,"key");if(32===r.length){return ji(da.getPublicKey(r,!!t))}if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return ji(da.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){Pi(32===Hi(e),"invalid digest length","digest",e);const r=Ta.from(t);let n=da.Signature.fromCompact(Ri(Ui([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const i=n.recoverPublicKey(Ri(e));return Pi(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){const n=da.ProjectivePoint.fromHex(Ca.computePublicKey(e).substring(2)),i=da.ProjectivePoint.fromHex(Ca.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}function Oa(e,t){return function(e){let t;return t="string"==typeof e?Ca.computePublicKey(e,!1):e.publicKey,eo(Vi("0x"+t.substring(4)).substring(26))}(Ca.recoverPublicKey(e,t))}function Pa(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}Object.freeze({error:function(e,t,r,n,i){Pi(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Pa,replace:function(e,t,r,n,i){return"OVERLONG"===e?(Pi("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Pa(e,t,r))}});function Ma(e,t){Pi("string"==typeof e,"invalid string value","str",e),null!=t&&(!function(e){Oi(Mi.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);Pi(t<e.length&&56320==(64512&i),"invalid surrogate pair","str",e);const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function Ba(e,t){const r=function(e){return"string"==typeof e&&(e=Ma(e)),Vi(Ui([Ma($i),Ma(String(e.length)),e]))}(e);return Oa(r,t)}function Da(e){if("string"==typeof e)try{const t=JSON.parse(e);if("object"==typeof t&&"number"==typeof t.created_at&&"number"==typeof t.kind&&"string"==typeof t.content&&Array.isArray(t.args)&&t.args.every((e=>Array.isArray(e)&&e.every((e=>"string"==typeof e)))))return t}catch(e){}return{kind:23335,created_at:0,content:"string"==typeof e?e:c(e),tags:[]}}var Ra,La;!function(e){e.Unknown="Unknown",e.BtcEcdsa="BtcEcdsa",e.EvmPersonal="EvmPersonal",e.JoyId="JoyId",e.NostrEvent="NostrEvent",e.CkbSecp256k1="CkbSecp256k1"}(Ra||(Ra={})),function(e){e.EVM="EVM",e.BTC="BTC",e.CKB="CKB",e.Nostr="Nostr"}(La||(La={}));class Na{constructor(e){this.client_=e}get client(){return this.client_}matchNetworkPreference(e,t){if(!e.some((({signerType:e,addressPrefix:t,network:r})=>{e===this.type&&this.client.addressPrefix})))return e.find((({signerType:e,addressPrefix:t})=>e===this.type&&t===this.client.addressPrefix))}static async verifyMessage(e,t){switch(t.signType){case Ra.EvmPersonal:return function(e,t,r){return r.toLowerCase()===Ba("string"==typeof e?e:a(e),t).toLowerCase()}(e,t.signature,t.identity);case Ra.BtcEcdsa:return function(e,t,r){const n="string"==typeof e?e:c(e).slice(2),[i,...o]=a(t,"base64");return er.verify(a(o),(0,ja.magicHash)(n),r)}(e,t.signature,t.identity);case Ra.JoyId:return function(e,t,r){const n="string"==typeof e?e:c(e).slice(2),{publicKey:i,keyType:o}=JSON.parse(r);return Un({challenge:n,pubkey:i,keyType:o,...JSON.parse(t)})}(e,t.signature,t.identity);case Ra.NostrEvent:return function(e,t,r){const{words:i}=n.bech32.decode(r),o=c(n.bech32.fromWords(i)).slice(2),s=Da(e),u=JSON.stringify([0,o,s.created_at,s.kind,s.tags,s.content]),f=c(Ue(a(u,"utf8")));try{return gr.verify(t.slice(2),f.slice(2),o)}catch(e){return!1}}(e,t.signature,t.identity);case Ra.CkbSecp256k1:return function(e,t,r){const n=a(t);return er.verify(new er.Signature(u(n.slice(0,32)),u(n.slice(32,64))).addRecoveryBit(Number(u(n.slice(64,65)))),a(mr(e)),a(r))}(e,t.signature,t.identity);case Ra.Unknown:throw new Error("Unknown signer sign type")}}onReplaced(e){return()=>{}}async disconnect(){}async getIdentity(){return this.getInternalAddress()}async getRecommendedAddressObj(e){return(await this.getAddressObjs())[0]}async getRecommendedAddress(e){return(await this.getRecommendedAddressObj(e)).toString()}async getAddresses(){return this.getAddressObjs().then((e=>e.map((e=>e.toString()))))}async getBalance(){return this.client.getBalance((await this.getAddressObjs()).map((({script:e})=>e)))}async signMessage(e){return{signature:await this.signMessageRaw(e),identity:await this.getIdentity(),signType:this.signType}}signMessageRaw(e){throw Error("Signer.signMessageRaw not implemented")}async verifyMessage(e,t){return"string"==typeof t?Na.verifyMessage(e,{signType:this.signType,signature:t,identity:await this.getIdentity()}):!(t.identity!==await this.getIdentity()||![Ra.Unknown,this.signType].includes(t.signType))&&Na.verifyMessage(e,t)}async sendTransaction(e){return this.client.sendTransaction(await this.signTransaction(e))}async signTransaction(e){const t=await this.prepareTransaction(e);return this.signOnlyTransaction(t)}prepareTransaction(e){throw Error("Signer.prepareTransaction not implemented")}signOnlyTransaction(e){throw Error("Signer.signOnlyTransaction not implemented")}}var ja=__webpack_require__(1948);class Ua extends Na{get type(){return La.Nostr}get signType(){return Ra.NostrEvent}async signMessageRaw(e){return c((await this.signNostrEvent(Da(e))).sig)}async getInternalAddress(){return n.bech32.encode("npub",n.bech32.toWords(a(await this.getNostrPublicKey())))}async getAddressObjs(){const e=await this.getNostrPublicKey();return[await ye.fromKnownScript(this.client,he.NostrLock,c(o([0],b(e).slice(0,42))))]}async prepareTransaction(e){const t=le.from(e),{script:r}=await this.getRecommendedAddressObj();return await t.addCellDepsOfKnownScripts(this.client,he.NostrLock),await t.prepareSighashAllWitness(r,572,this.client),t}async signOnlyTransaction(e){let t=le.from(e);const{script:r}=await this.getRecommendedAddressObj(),n=await t.getSignHashInfo(r,this.client);if(!n)return t;const i=a(JSON.stringify(await this.signNostrEvent({pubkey:(await this.getNostrPublicKey()).slice(2),tags:[[Ua.CKB_SIG_HASH_ALL_TAG,n.message.slice(2)]],created_at:Math.floor(Date.now()/1e3),kind:Ua.CKB_UNLOCK_EVENT_KIND,content:Ua.CKB_UNLOCK_EVENT_CONTENT})),"utf8"),o=fe.fromBytes(t.witnesses[n.position]);return o.lock=c(i),t.setWitnessArgsAt(n.position,o),t}}Ua.CKB_SIG_HASH_ALL_TAG="ckb_sighash_all",Ua.CKB_UNLOCK_EVENT_KIND=23334,Ua.CKB_UNLOCK_EVENT_CONTENT="Signing a CKB transaction\n\nIMPORTANT: Please verify the integrity and authenticity of connected Nostr client before signing this message\n";var Ha,Fa=__webpack_require__(33089),za=__webpack_require__(33701);!function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(Ha||(Ha={}));const qa=Ha;class Ka extends Error{constructor(e){super(`${e} is required`),this.code=qa.ParameterRequired}}Error;Error;class Va extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=qa.ParameterInvalid}}class $a extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=qa.AddressInvalid,this.type=t}}class Wa extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=qa.AddressInvalid,this.type=r,this.stack=t}}class Ga extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=qa.AddressInvalid}}class Qa extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=qa.AddressInvalid}}class Ya extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=qa.AddressInvalid}}class Xa extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=qa.AddressInvalid}}class Ja extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=qa.ParameterInvalid}}class Za extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=qa.ParameterInvalid}}class es extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=qa.ParameterInvalid}}class ts extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=qa.ParameterInvalid}}class rs extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=qa.ParameterInvalid}}class ns extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=qa.ParameterInvalid}}class is extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=qa.ParameterInvalid}}class os extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=qa.ParameterInvalid}}class as extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=qa.ParameterInvalid}}class ss extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=qa.ParameterInvalid}}class cs extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=qa.ParameterInvalid}}Error;Error;const us=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new Va(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},fs=e=>{us(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`},ds=e=>{us(e);const t=("bigint"==typeof e?e.toString(16):e.slice(2)).padStart(16,"0"),r=fs(`0x${t.slice(0,8)}`).slice(2);return`0x${fs(`0x${t.slice(8)}`).slice(2)}${r}`},ls=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new Va(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)},hs=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`;new _r.ec("secp256k1");const ps={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},bs={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},ys={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},gs={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},ms=1023;var vs,_s,ws;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(vs||(vs={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(_s||(_s={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(ws||(ws={}));const Ss=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+_s.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==ws.Bech32)throw new Xa(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new $a(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new $a(e,"short");default:throw new $a(e,"short")}})(e,t);break;case+_s.DataCodeHash:case+_s.TypeCodeHash:if(t!==ws.Bech32)throw new Xa(r,t);if(n.length<32)throw new $a(e,"full");break;case+_s.FullVersion:{if(t!==ws.Bech32m)throw new Xa(r,t);const e=n.slice(0,32);if(e.length<32)throw new Ga(hs(e));const i=parseInt(n[32].toString(),16);if(i>2)throw new Qa(`0x${i.toString(16)}`);break}default:throw new $a(e)}},xs=e=>{const t=((e,t="binary")=>{let r,n=new Uint8Array;try{const t=tc.decode(e,ms);r=ws.Bech32,n=new Uint8Array(tc.fromWords(new Uint8Array(t.words)))}catch(t){const i=rc.decode(e,ms);r=ws.Bech32m,n=new Uint8Array(rc.fromWords(new Uint8Array(i.words)))}try{Ss(n,r)}catch(t){if(t instanceof Xa)throw t;throw new Wa(e,t.stack,t.type)}return"binary"===t?n:hs(n)})(e),r=t[0];switch(r){case+_s.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},r=hs(t);return{codeHash:`0x${r.substr(4,64)}`,hashType:e[r.substr(68,2)],args:`0x${r.substr(70)}`}}case+_s.HashIdx:{const r=[ps,bs,e.startsWith(vs.Mainnet)?ys:gs],n=t[1],i=t.slice(2),o=r[n];return{codeHash:o.codeHash,hashType:o.hashType,args:hs(i)}}case+_s.DataCodeHash:case+_s.TypeCodeHash:{const e=hs(t.slice(1)),n=r===+_s.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:n,args:`0x${e.substr(66)}`}}default:throw new Ya(r)}},As=new Uint32Array(32),Es=new Uint32Array(32),Is=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},ks=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},Ts=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,Cs=(e,t,r,n,i,o)=>{const a=Es[i],s=Es[i+1],c=Es[o],u=Es[o+1];Is(As,e,t),ks(As,e,a,s);let f=As[n]^As[e],d=As[n+1]^As[e+1];As[n]=d,As[n+1]=f,Is(As,r,n),f=As[t]^As[r],d=As[t+1]^As[r+1],As[t]=f>>>24^d<<8,As[t+1]=d>>>24^f<<8,Is(As,e,t),ks(As,e,c,u),f=As[n]^As[e],d=As[n+1]^As[e+1],As[n]=f>>>16^d<<16,As[n+1]=d>>>16^f<<16,Is(As,r,n),f=As[t]^As[r],d=As[t+1]^As[r+1],As[t]=d>>>31^f<<1,As[t+1]=f>>>31^d<<1},Os=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ps=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),Ms=(e,t)=>{let r=0;for(r=0;r<16;r++)As[r]=e.h[r],As[r+16]=Os[r];for(As[24]^=e.t,As[25]^=e.t/4294967296,t&&(As[28]=~As[28],As[29]=~As[29]),r=0;r<32;r++)Es[r]=Ts(e.b,4*r);for(r=0;r<12;r++)Cs(0,8,16,24,Ps[16*r+0],Ps[16*r+1]),Cs(2,10,18,26,Ps[16*r+2],Ps[16*r+3]),Cs(4,12,20,28,Ps[16*r+4],Ps[16*r+5]),Cs(6,14,22,30,Ps[16*r+6],Ps[16*r+7]),Cs(0,10,20,30,Ps[16*r+8],Ps[16*r+9]),Cs(2,12,22,24,Ps[16*r+10],Ps[16*r+11]),Cs(4,14,16,26,Ps[16*r+12],Ps[16*r+13]),Cs(6,8,18,28,Ps[16*r+14],Ps[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^As[r]^As[r+16]},Bs=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,Ms(e,!1),e.c=0),e.b[e.c++]=+t[r]},Ds=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class Rs{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new os;return Bs(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new rs;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;Ms(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,Ds.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,Ds[0]=e,t&&(Ds[1]=t.length),Ds[2]=1,Ds[3]=1,r&&Ds.set(r,32),n&&Ds.set(n,48);for(let e=0;e<16;e++)this.h[e]=Os[e]^Ts(Ds,4*e);t&&(Bs(this,t),this.c=128)}}const Ls=(e,t,r,n,i)=>{if(!0!==i){if(e<16)throw new Ja(e,16);if(e>64)throw new Za(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new as;if(t.length<16)throw new es(t.length,16);if(t.length>64)throw new ts(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new ns;if(16!==r.length)throw new is(r.length,16)}if(null!==n){if(!(n instanceof Uint8Array))throw new ss;if(16!==n.length)throw new cs(n.length,16)}}return new Rs(e,t,r,n)},Ns=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),js=("0".repeat(130),(e,t="binary")=>{const r="string"==typeof e?ls(e):e,n=Ls(32,null,null,Ns);return n.update(r),n.digest(t).slice(0,"binary"===t?20:40)}),Us={blake2b:Ls,blake160:js,bech32:n.bech32,bech32m:n.bech32m},Hs=e=>{const t=[4+4*e.length];return e.forEach(((r,n)=>{n&&t.push(t[t.length-1]+e[n-1])})),t},Fs=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?ls(e):e;return hs(t)},zs=e=>{let t="";return e.forEach((e=>{t+=Fs(e).slice(2)})),`0x${t}`},qs=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const t=("string"==typeof e?[...ls(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>Fs(e).slice(2)));return`0x${fs(`0x${t.length.toString(16)}`).slice(2)}${t.join("")}`},Ks=e=>{if(!Array.isArray(e))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const t=e.map((e=>Fs(e).slice(2))),r=t.join("");let n="";t.length&&(n=Hs(t.map((e=>e.length/2))).map((e=>fs(`0x${e.toString(16)}`).slice(2))).join(""));const i=4+4*t.length;return`0x${fs(`0x${(i+r.length/2).toString(16)}`).slice(2)}${n}${r}`},Vs=e=>{const t=[];e.forEach((e=>{t.push(Fs(e).slice(2))}));const r=t.join(""),n=4+4*e.size;return`0x${fs(`0x${(n+r.length/2).toString(16)}`).slice(2)}${Hs(t.map((e=>e.length/2))).map((e=>fs(`0x${e.toString(16)}`).slice(2))).join("")}${r}`},$s=e=>{if(!e)throw new Ka("Script");const{codeHash:t="",hashType:r,args:n=""}=e,i=(e=>Fs(e))(t),o=(e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data' or 'type'")})(r),a=(e=>qs(e))(n),s=new Map([["codeHash",i],["hashType",o],["args",a]]);return Vs(s)},Ws=e=>{if(!e)return"";const t=new Map([["txHash",e.txHash],["index",fs(e.index)]]);return zs(t)},Gs=e=>{const t=Ws(e.outPoint),r=(e=>{if("code"===e)return"0x00";if("depGroup"===e)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")})(e.depType),n=new Map([["outPoint",t],["depType",r]]);return zs(n)},Qs=e=>{const t=e.map((e=>(e=>{const t=Ws(e.previousOutput),r=ds(e.since),n=new Map([["since",r],["previousOutput",t]]);return zs(n)})(e)));return qs(t)},Ys=e=>{const t=e.map((e=>(e=>{const t=ds(e.capacity),r=$s(e.lock),n=e.type?$s(e.type):"",i=new Map([["capacity",t],["lock",r],["type",n]]);return Vs(i)})(e)));return Ks(t)},Xs=e=>{const t=(e=>fs(e))(e.version),r=(e=>{const t=e.map((e=>Gs(e)));return qs(t)})(e.cellDeps),n=(e=>{const t=e.map((e=>Fs(e)));return qs(t)})(e.headerDeps),i=Qs(e.inputs),o=Ys(e.outputs),a=(e=>{const t=e.map((e=>qs(e)));return Ks(t)})(e.outputsData),s=new Map([["version",t],["cellDeps",r],["headerDeps",n],["inputs",i],["outputs",o],["outputsData",a]]);return Vs(s)},Js=e=>{const t=Xs(e),r=(e=>{const t=e.map((e=>qs(e)));return Ks(t)})(e.witnesses||[]),n=new Map([["raw",t],["witnesses",r]]);return Vs(n)},Zs=e=>{const t=Object.assign(Object.assign({},e),{witnesses:e.witnesses.map((e=>"string"==typeof e?e:(e=>{const[t,r,n]=[e.lock,e.inputType,e.outputType].map((e=>"0x"===(e||"0x")?"0x":qs(e))),i=new Map([["lock",t],["inputType",r],["outputType",n]]);return Vs(i)})(e)))});return Js(t).slice(2).length/2+4},{blake2b:ec,bech32:tc,bech32m:rc,blake160:nc}=Us,ic=e=>{if(!e)throw new Ka("Script");const t=$s(e),r=ec(32,null,null,Ns);r.update(ls(t));return`0x${r.digest("hex")}`};var oc=__webpack_require__(41256),ac=__webpack_require__(30096),sc=__webpack_require__(41600),cc=__webpack_require__(71313),uc=__webpack_require__(28670);function fc(e){return{capacity:e.capacity,lock:e.lock,type:e.type?e.type:void 0}}const{table:dc,option:lc,vector:hc,byteVecOf:pc}=cc.molecule,{Uint8:bc}=cc.number,{bytify:yc,hexify:gc}=cc.bytes;const mc=pc({pack:yc,unpack:gc}),vc=lc(mc);var _c;const wc=dc({codeHash:(_c=32,(0,cc.createFixedBytesCodec)({byteLength:_c,pack:e=>yc(e),unpack:e=>gc(e)})),hashType:bc,args:mc},["codeHash","hashType","args"]),Sc=dc({owner_script:lc(wc),owner_signature:vc,raw_extension_data:lc(hc(wc)),extension_data:hc(mc)},["owner_script","owner_signature","raw_extension_data","extension_data"]),xc=(()=>{const e=Sc.pack({extension_data:[]}),t=Sc.pack({extension_data:[]}),r=sc.blockchain.WitnessArgs.pack({lock:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",inputType:e,outputType:t});return cc.bytes.hexify(r)})();async function Ac(e,t){console.debug("Starting conversion to TransactionSkeleton"),console.debug("Mapping rawTransaction to transaction object");const r={...e,witnesses:e.witnesses.map((e=>(console.debug(`Processing witness: ${"string"==typeof e?e:"non-string witness"}`),"string"==typeof e?e:xc))),inputs:e.inputs.map((e=>(console.debug(`Converting cell input: ${JSON.stringify(e)}`),function(e){if(!e.previousOutput)throw new Error("CellInput previousOutput is required but was not provided.");return{previousOutput:e.previousOutput,since:e.since}}(e)))),outputs:e.outputs.map((e=>(console.debug(`Converting cell output: ${JSON.stringify(e)}`),fc(e)))),cellDeps:e.cellDeps.map((e=>(console.debug(`Converting cell dep: ${JSON.stringify(e)}`),function(e){if(!e.outPoint)throw new Error("CellDep outPoint is required but was not provided.");return{outPoint:e.outPoint,depType:e.depType}}(e))))};console.debug("Initializing TransactionSkeleton");let n=(0,uc.TransactionSkeleton)();console.debug("Updating cellDeps and headerDeps in TransactionSkeleton"),n=n.update("cellDeps",(e=>(console.debug(`Adding cellDeps: ${JSON.stringify(r.cellDeps)}`),e.push(...r.cellDeps)))).update("headerDeps",(e=>(console.debug(`Adding headerDeps: ${JSON.stringify(r.headerDeps)}`),e.push(...r.headerDeps)))),console.debug("Fetching input cells");const i=(await t.getLiveCells(r.inputs.map((e=>e.previousOutput)),!0)).map(((e,t)=>{return n=e,i=r.inputs[t].previousOutput,{cellOutput:fc(n.output),data:n.data?n.data.content:"",outPoint:i};var n,i}));console.debug("Updating inputs in TransactionSkeleton"),n=n.update("inputs",(e=>(console.debug(`Adding inputCells: ${JSON.stringify(i)}`),e.push(...i)))),console.debug("Updating inputSinces in TransactionSkeleton"),n=n.update("inputSinces",(e=>(console.debug("Mapping inputSinces"),r.inputs.reduce(((e,t,r)=>(console.debug(`Setting since for input at index ${r}: ${t.since}`),e.set(r,t.since))),e)))),console.debug("Mapping output cells");const o=r.outputs.map(((e,t)=>(console.debug(`Creating output cell for output at index ${t}: ${JSON.stringify(e)}`),{cellOutput:e,data:r.outputsData[t]??"0x"})));return console.debug("Updating outputs and witnesses in TransactionSkeleton"),n=n.update("outputs",(e=>(console.debug(`Adding outputCells: ${JSON.stringify(o)}`),e.push(...o)))).update("witnesses",(e=>(console.debug(`Adding witnesses: ${JSON.stringify(r.witnesses)}`),e.push(...r.witnesses)))),console.debug("Conversion to TransactionSkeleton completed"),n}const Ec=async(e,t,r)=>{const n=await Ac(e,t);return{txHash:await r.sendTransaction(le.fromLumosSkeleton(n))}};class Ic{collector;isMainnet;constructor(e){this.isMainnet=e,this.collector=e?new oc.Collector({ckbNodeUrl:"https://mainnet.ckbapp.dev",ckbIndexerUrl:"https://mainnet.ckbapp.dev/indexer"}):new oc.Collector({ckbNodeUrl:"https://testnet.ckbapp.dev",ckbIndexerUrl:"https://testnet.ckb.dev"})}}const kc=e=>{let t,r;void 0===e?(t="https://api.rgbpp.io",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJNb2JpdCIsImF1ZCI6Im1vYml0LmFwcCIsImp0aSI6IjNjMTAzNGNmLTcwZWEtNDgzMy04MGUwLTRlMDA2NTNkNTY3YiIsImlhdCI6MTcxODM0Njg0OX0.97pGqGCPMpP9rVaqq1QNaDcjykQLThGildYJWu93DiM"):"Signet"===e?(t="https://api.signet.rgbpp.io",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtb2JpdCIsImF1ZCI6Im1vYml0LmFwcCIsImp0aSI6IjcxNzk3YzcxLTgyMmUtNGJhZC04OWIwLTdmNWZhZThhNjZkNyIsImlhdCI6MTcyMjMyODg0MH0.HiSNr_d8iYjIea9s1wBfKP8KzaBmz_7pXJcy68YcCPY"):(t="https://api.testnet.rgbpp.io",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtb2JpdCIsImF1ZCI6Im1vYml0LmFwcCIsImp0aSI6ImY1NDZjZDBkLTUzNzQtNGI4YS1iMGRlLWY4NTRjMDY1Y2ZkOCIsImlhdCI6MTcyMjMyODc3Mn0.NmtM_Y7jkTjNKgTwatyAP0YoUDtwwci6LUe13R1L9SM");return ac.zW.fromToken(t,r,"https://mobit.app")};class Tc{btcDataSource;btcTestnetType;btcService;wallet;networkType;constructor(e,t,r){this.btcTestnetType=r,this.networkType=t,this.btcService=kc(r),this.btcDataSource=new ac.qS(this.btcService,t),this.wallet=e}}async function Cc({ckbAddresses:e,type:t,collector:r}){const n=e.map(xs);let i=[];console.debug("Starting to fetch indexer cells for addresses:",e),console.debug("Converted addresses to locks:",n);for(const e of n){console.debug("Fetching cells for lock:",e);try{const n=await r.getCells({lock:e,type:t});console.debug("Fetched cells for lock:",e,"Cells:",n),i=i.concat(n)}catch(t){throw console.error("Error fetching cells for lock:",e,"Error:",t),t}}return console.debug("Total indexer cells fetched:",i),i}async function Oc(e,t){let r;r=e?za.MAINNET:za.TESTNET;const n=r.SCRIPTS,i=[],o=t.some((e=>(0,Fa.isOmnilockAddress)(e,r))),a=t.some((e=>(0,Fa.isAcpAddress)(e,r))),s=t.some((e=>(0,Fa.isSecp256k1Blake160Address)(e,r))),c=t.some((e=>(0,Fa.isSecp256k1Blake160MultisigAddress)(e,r)));if(o){const e=n.OMNILOCK;if(!e)throw new Error("OMNILOCK script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}if(a){const e=n.ANYONE_CAN_PAY;if(!e)throw new Error("ANYONE_CAN_PAY script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}if(s){const e=n.SECP256K1_BLAKE160;if(!e)throw new Error("SECP256K1_BLAKE160 script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}if(c){const e=n.SECP256K1_BLAKE160_MULTISIG;if(!e)throw new Error("SECP256K1_BLAKE160_MULTISIG script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}return i}const Pc=292,Mc=41,Bc=65,Dc=130;function Rc(e,t){let r;return r=t?za.MAINNET:za.TESTNET,(0,Fa.isOmnilockAddress)(e,r)?Pc:(0,Fa.isAcpAddress)(e,r)?Mc:(0,Fa.isSecp256k1Blake160Address)(e,r)?Bc:(0,Fa.isSecp256k1Blake160MultisigAddress)(e,r)?Dc:(console.warn(`Unknown address type for address: ${e}. Using default witness size.`),Bc)}var Lc=function(e,t){return Lc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Lc(e,t)};function Nc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Lc(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var jc=function(){return jc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jc.apply(this,arguments)};function Uc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function Hc(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function Fc(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function zc(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;function qc(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const Kc=/\r\n|[\n\r]/g;function Vc(e,t){let r=0,n=1;for(const i of e.body.matchAll(Kc)){if("number"==typeof i.index||qc(!1),i.index>=t)break;r=i.index+i[0].length,n+=1}return{line:n,column:t+1-r}}function $c(e){return Wc(e.source,Vc(e.source,e.start))}function Wc(e,t){const r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?r:0,c=t.column+s,u=`${e.name}:${a}:${c}\n`,f=n.split(/\r\n|[\n\r]/g),d=f[i];if(d.length>120){const e=Math.floor(c/80),t=c%80,r=[];for(let e=0;e<d.length;e+=80)r.push(d.slice(e,e+80));return u+Gc([[`${a} |`,r[0]],...r.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",r[e+1]]])}return u+Gc([[a-1+" |",f[i-1]],[`${a} |`,d],["|","^".padStart(c)],[`${a+1} |`,f[i+1]]])}function Gc(e){const t=e.filter((([e,t])=>void 0!==t)),r=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(r)+(t?" "+t:""))).join("\n")}class Qc extends Error{constructor(e,...t){var r,n,i;const{nodes:o,source:a,positions:s,path:c,originalError:u,extensions:f}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=c?c:void 0,this.originalError=null!=u?u:void 0,this.nodes=Yc(Array.isArray(o)?o:o?[o]:void 0);const d=Yc(null===(r=this.nodes)||void 0===r?void 0:r.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=a?a:null==d||null===(n=d[0])||void 0===n?void 0:n.source,this.positions=null!=s?s:null==d?void 0:d.map((e=>e.start)),this.locations=s&&a?s.map((e=>Vc(a,e))):null==d?void 0:d.map((e=>Vc(e.source,e.start)));const l="object"==typeof(h=null==u?void 0:u.extensions)&&null!==h?null==u?void 0:u.extensions:void 0;var h;this.extensions=null!==(i=null!=f?f:l)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Qc):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+$c(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+Wc(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Yc(e){return void 0===e||0===e.length?void 0:e}function Xc(e,t,r){return new Qc(`Syntax Error: ${r}`,{source:e,positions:[t]})}class Jc{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Zc{constructor(e,t,r,n,i,o){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const eu={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},tu=new Set(Object.keys(eu));function ru(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&tu.has(t)}var nu,iu,ou,au;function su(e){return 9===e||32===e}function cu(e){return e>=48&&e<=57}function uu(e){return e>=97&&e<=122||e>=65&&e<=90}function fu(e){return uu(e)||95===e}function du(e){return uu(e)||cu(e)||95===e}function lu(e){var t;let r=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let t=0;t<e.length;++t){var o;const a=e[t],s=hu(a);s!==a.length&&(n=null!==(o=n)&&void 0!==o?o:t,i=t,0!==t&&s<r&&(r=s))}return e.map(((e,t)=>0===t?e:e.slice(r))).slice(null!==(t=n)&&void 0!==t?t:0,i+1)}function hu(e){let t=0;for(;t<e.length&&su(e.charCodeAt(t));)++t;return t}!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(nu||(nu={})),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(iu||(iu={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(ou||(ou={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(au||(au={}));class pu{constructor(e){const t=new Zc(au.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==au.EOF)do{if(e.next)e=e.next;else{const t=wu(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===au.COMMENT);return e}}function bu(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function yu(e,t){return gu(e.charCodeAt(t))&&mu(e.charCodeAt(t+1))}function gu(e){return e>=55296&&e<=56319}function mu(e){return e>=56320&&e<=57343}function vu(e,t){const r=e.source.body.codePointAt(t);if(void 0===r)return au.EOF;if(r>=32&&r<=126){const e=String.fromCodePoint(r);return'"'===e?"'\"'":`"${e}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function _u(e,t,r,n,i){const o=e.line,a=1+r-e.lineStart;return new Zc(t,r,n,o,a,i)}function wu(e,t){const r=e.source.body,n=r.length;let i=t;for(;i<n;){const t=r.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return Su(e,i);case 33:return _u(e,au.BANG,i,i+1);case 36:return _u(e,au.DOLLAR,i,i+1);case 38:return _u(e,au.AMP,i,i+1);case 40:return _u(e,au.PAREN_L,i,i+1);case 41:return _u(e,au.PAREN_R,i,i+1);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return _u(e,au.SPREAD,i,i+3);break;case 58:return _u(e,au.COLON,i,i+1);case 61:return _u(e,au.EQUALS,i,i+1);case 64:return _u(e,au.AT,i,i+1);case 91:return _u(e,au.BRACKET_L,i,i+1);case 93:return _u(e,au.BRACKET_R,i,i+1);case 123:return _u(e,au.BRACE_L,i,i+1);case 124:return _u(e,au.PIPE,i,i+1);case 125:return _u(e,au.BRACE_R,i,i+1);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?Pu(e,i):Eu(e,i)}if(cu(t)||45===t)return xu(e,i,t);if(fu(t))return Mu(e,i);throw Xc(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":bu(t)||yu(r,i)?`Unexpected character: ${vu(e,i)}.`:`Invalid character: ${vu(e,i)}.`)}return _u(e,au.EOF,n,n)}function Su(e,t){const r=e.source.body,n=r.length;let i=t+1;for(;i<n;){const e=r.charCodeAt(i);if(10===e||13===e)break;if(bu(e))++i;else{if(!yu(r,i))break;i+=2}}return _u(e,au.COMMENT,t,i,r.slice(t+1,i))}function xu(e,t,r){const n=e.source.body;let i=t,o=r,a=!1;if(45===o&&(o=n.charCodeAt(++i)),48===o){if(o=n.charCodeAt(++i),cu(o))throw Xc(e.source,i,`Invalid number, unexpected digit after 0: ${vu(e,i)}.`)}else i=Au(e,i,o),o=n.charCodeAt(i);if(46===o&&(a=!0,o=n.charCodeAt(++i),i=Au(e,i,o),o=n.charCodeAt(i)),69!==o&&101!==o||(a=!0,o=n.charCodeAt(++i),43!==o&&45!==o||(o=n.charCodeAt(++i)),i=Au(e,i,o),o=n.charCodeAt(i)),46===o||fu(o))throw Xc(e.source,i,`Invalid number, expected digit but got: ${vu(e,i)}.`);return _u(e,a?au.FLOAT:au.INT,t,i,n.slice(t,i))}function Au(e,t,r){if(!cu(r))throw Xc(e.source,t,`Invalid number, expected digit but got: ${vu(e,t)}.`);const n=e.source.body;let i=t+1;for(;cu(n.charCodeAt(i));)++i;return i}function Eu(e,t){const r=e.source.body,n=r.length;let i=t+1,o=i,a="";for(;i<n;){const n=r.charCodeAt(i);if(34===n)return a+=r.slice(o,i),_u(e,au.STRING,t,i+1,a);if(92!==n){if(10===n||13===n)break;if(bu(n))++i;else{if(!yu(r,i))throw Xc(e.source,i,`Invalid character within String: ${vu(e,i)}.`);i+=2}}else{a+=r.slice(o,i);const t=117===r.charCodeAt(i+1)?123===r.charCodeAt(i+2)?Iu(e,i):ku(e,i):Ou(e,i);a+=t.value,i+=t.size,o=i}}throw Xc(e.source,i,"Unterminated string.")}function Iu(e,t){const r=e.source.body;let n=0,i=3;for(;i<12;){const e=r.charCodeAt(t+i++);if(125===e){if(i<5||!bu(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|Cu(e),n<0)break}throw Xc(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}function ku(e,t){const r=e.source.body,n=Tu(r,t+2);if(bu(n))return{value:String.fromCodePoint(n),size:6};if(gu(n)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){const e=Tu(r,t+8);if(mu(e))return{value:String.fromCodePoint(n,e),size:12}}throw Xc(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}function Tu(e,t){return Cu(e.charCodeAt(t))<<12|Cu(e.charCodeAt(t+1))<<8|Cu(e.charCodeAt(t+2))<<4|Cu(e.charCodeAt(t+3))}function Cu(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ou(e,t){const r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw Xc(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}function Pu(e,t){const r=e.source.body,n=r.length;let i=e.lineStart,o=t+3,a=o,s="";const c=[];for(;o<n;){const n=r.charCodeAt(o);if(34===n&&34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)){s+=r.slice(a,o),c.push(s);const n=_u(e,au.BLOCK_STRING,t,o+3,lu(c).join("\n"));return e.line+=c.length-1,e.lineStart=i,n}if(92!==n||34!==r.charCodeAt(o+1)||34!==r.charCodeAt(o+2)||34!==r.charCodeAt(o+3))if(10!==n&&13!==n)if(bu(n))++o;else{if(!yu(r,o))throw Xc(e.source,o,`Invalid character within String: ${vu(e,o)}.`);o+=2}else s+=r.slice(a,o),c.push(s),13===n&&10===r.charCodeAt(o+1)?o+=2:++o,s="",a=o,i=o;else s+=r.slice(a,o),a=o+1,o+=4}throw Xc(e.source,o,"Unterminated string.")}function Mu(e,t){const r=e.source.body,n=r.length;let i=t+1;for(;i<n;){if(!du(r.charCodeAt(i)))break;++i}return _u(e,au.NAME,t,i,r.slice(t,i))}function Bu(e,t){if(!Boolean(e))throw new Error(t)}const Du=10,Ru=2;function Lu(e){return Nu(e,[])}function Nu(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const r=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Nu(t,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>Ru)return"[Array]";const r=Math.min(Du,e.length),n=e.length-r,i=[];for(let n=0;n<r;++n)i.push(Nu(e[n],t));1===n?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`);return"["+i.join(", ")+"]"}(e,r);return function(e,t){const r=Object.entries(e);if(0===r.length)return"{}";if(t.length>Ru)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const n=r.map((([e,r])=>e+": "+Nu(r,t)));return"{ "+n.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}const ju=globalThis.process&&!0?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var r;const n=t.prototype[Symbol.toStringTag];if(n===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(r=e.constructor)||void 0===r?void 0:r.name)){const t=Lu(e);throw new Error(`Cannot use ${n} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1};class Uu{constructor(e,t="GraphQL request",r={line:1,column:1}){"string"==typeof e||Bu(!1,`Body must be a string. Received: ${Lu(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||Bu(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Bu(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class Hu{constructor(e,t={}){const r=function(e){return ju(e,Uu)}(e)?e:new Uu(e);this._lexer=new pu(r),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(au.NAME);return this.node(e,{kind:ou.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ou.DOCUMENT,definitions:this.many(au.SOF,this.parseDefinition,au.EOF)})}parseDefinition(){if(this.peek(au.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===au.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Xc(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(au.BRACE_L))return this.node(e,{kind:ou.OPERATION_DEFINITION,operation:nu.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let r;return this.peek(au.NAME)&&(r=this.parseName()),this.node(e,{kind:ou.OPERATION_DEFINITION,operation:t,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(au.NAME);switch(e.value){case"query":return nu.QUERY;case"mutation":return nu.MUTATION;case"subscription":return nu.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(au.PAREN_L,this.parseVariableDefinition,au.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ou.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(au.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(au.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(au.DOLLAR),this.node(e,{kind:ou.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ou.SELECTION_SET,selections:this.many(au.BRACE_L,this.parseSelection,au.BRACE_R)})}parseSelection(){return this.peek(au.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let r,n;return this.expectOptionalToken(au.COLON)?(r=t,n=this.parseName()):n=t,this.node(e,{kind:ou.FIELD,alias:r,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(au.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(au.PAREN_L,t,au.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,r=this.parseName();return this.expectToken(au.COLON),this.node(t,{kind:ou.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(au.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(au.NAME)?this.node(e,{kind:ou.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ou.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:ou.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ou.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case au.BRACKET_L:return this.parseList(e);case au.BRACE_L:return this.parseObject(e);case au.INT:return this.advanceLexer(),this.node(t,{kind:ou.INT,value:t.value});case au.FLOAT:return this.advanceLexer(),this.node(t,{kind:ou.FLOAT,value:t.value});case au.STRING:case au.BLOCK_STRING:return this.parseStringLiteral();case au.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:ou.BOOLEAN,value:!0});case"false":return this.node(t,{kind:ou.BOOLEAN,value:!1});case"null":return this.node(t,{kind:ou.NULL});default:return this.node(t,{kind:ou.ENUM,value:t.value})}case au.DOLLAR:if(e){if(this.expectToken(au.DOLLAR),this._lexer.token.kind===au.NAME){const e=this._lexer.token.value;throw Xc(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ou.STRING,value:e.value,block:e.kind===au.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:ou.LIST,values:this.any(au.BRACKET_L,(()=>this.parseValueLiteral(e)),au.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:ou.OBJECT,fields:this.any(au.BRACE_L,(()=>this.parseObjectField(e)),au.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,r=this.parseName();return this.expectToken(au.COLON),this.node(t,{kind:ou.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(au.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(au.AT),this.node(t,{kind:ou.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(au.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(au.BRACKET_R),t=this.node(e,{kind:ou.LIST_TYPE,type:r})}else t=this.parseNamedType();return this.expectOptionalToken(au.BANG)?this.node(e,{kind:ou.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:ou.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(au.STRING)||this.peek(au.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.many(au.BRACE_L,this.parseOperationTypeDefinition,au.BRACE_R);return this.node(e,{kind:ou.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(au.COLON);const r=this.parseNamedType();return this.node(e,{kind:ou.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:ou.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:ou.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(au.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(au.BRACE_L,this.parseFieldDefinition,au.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(au.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:ou.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(au.PAREN_L,this.parseInputValueDef,au.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(au.COLON);const n=this.parseTypeReference();let i;this.expectOptionalToken(au.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:ou.INPUT_VALUE_DEFINITION,description:t,name:r,type:n,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:ou.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:ou.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(au.EQUALS)?this.delimitedMany(au.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:ou.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i})}parseEnumValuesDefinition(){return this.optionalMany(au.BRACE_L,this.parseEnumValueDefinition,au.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:ou.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw Xc(this._lexer.source,this._lexer.token.start,`${Fu(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:ou.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(au.BRACE_L,this.parseInputValueDef,au.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===au.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),r=this.optionalMany(au.BRACE_L,this.parseOperationTypeDefinition,au.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ou.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:ou.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:ou.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:ou.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:ou.UNION_TYPE_EXTENSION,name:t,directives:r,types:n})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:ou.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:ou.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(au.AT);const r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:ou.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(au.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(iu,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new Jc(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw Xc(this._lexer.source,t.start,`Expected ${zu(e)}, found ${Fu(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==au.NAME||t.value!==e)throw Xc(this._lexer.source,t.start,`Expected "${e}", found ${Fu(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===au.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return Xc(this._lexer.source,t.start,`Unexpected ${Fu(t)}.`)}any(e,t,r){this.expectToken(e);const n=[];for(;!this.expectOptionalToken(r);)n.push(t.call(this));return n}optionalMany(e,t,r){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(r));return e}return[]}many(e,t,r){this.expectToken(e);const n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}delimitedMany(e,t){this.expectOptionalToken(e);const r=[];do{r.push(t.call(this))}while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==au.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Xc(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Fu(e){const t=e.value;return zu(e.kind)+(null!=t?` "${t}"`:"")}function zu(e){return function(e){return e===au.BANG||e===au.DOLLAR||e===au.AMP||e===au.PAREN_L||e===au.PAREN_R||e===au.SPREAD||e===au.COLON||e===au.EQUALS||e===au.AT||e===au.BRACKET_L||e===au.BRACKET_R||e===au.BRACE_L||e===au.PIPE||e===au.BRACE_R}(e)?`"${e}"`:e}var qu=new Map,Ku=new Map,Vu=!0,$u=!1;function Wu(e){return e.replace(/[\s,]+/g," ").trim()}function Gu(e){var t=new Set,r=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var n=e.name.value,i=Wu((a=e.loc).source.body.substring(a.start,a.end)),o=Ku.get(n);o&&!o.has(i)?Vu&&console.warn("Warning: fragment with name "+n+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||Ku.set(n,o=new Set),o.add(i),t.has(i)||(t.add(i),r.push(e))}else r.push(e);var a})),jc(jc({},e),{definitions:r})}function Qu(e){var t=Wu(e);if(!qu.has(t)){var r=function(e,t){return new Hu(e,t).parseDocument()}(e,{experimentalFragmentVariables:$u,allowLegacyFragmentVariables:$u});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");qu.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(r){var n=e[r];n&&"object"==typeof n&&t.add(n)}))}));var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}(Gu(r)))}return qu.get(t)}function Yu(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach((function(t,r){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[r+1]})),Qu(n)}var Xu,Ju=Yu,Zu=function(){qu.clear(),Ku.clear()},ef=function(){Vu=!1},tf=function(){$u=!0},rf=function(){$u=!1};(Xu=Yu||(Yu={})).gql=Ju,Xu.resetCaches=Zu,Xu.disableFragmentWarnings=ef,Xu.enableExperimentalFragmentVariables=tf,Xu.disableExperimentalFragmentVariables=rf,Yu.default=Yu;var nf="Invariant Violation",of=Object.setPrototypeOf,af=void 0===of?function(e,t){return e.__proto__=t,e}:of,sf=function(e){function t(r){void 0===r&&(r=nf);var n=e.call(this,"number"==typeof r?nf+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=nf,af(n,t.prototype),n}return Nc(t,e),t}(Error);function cf(e,t){if(!e)throw new sf(t)}var uf=["debug","log","warn","error","silent"],ff=uf.indexOf("log");function df(e){return function(){if(uf.indexOf(e)>=ff)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=df("debug"),e.log=df("log"),e.warn=df("warn"),e.error=df("error")}(cf||(cf={}));var lf="3.11.4";function hf(e){try{return e()}catch(e){}}const pf=hf((function(){return globalThis}))||hf((function(){return window}))||hf((function(){return self}))||hf((function(){return global}))||hf((function(){return hf.constructor("return this")()}));var bf=new Map;function yf(e){var t=bf.get(e)||1;return bf.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function gf(e,t){void 0===t&&(t=0);var r=yf("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?r:t}),t).split(JSON.stringify(r)).join("<undefined>")}function mf(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("number"==typeof t){var i=t;(t=xf(i))||(t=Af(i,r),r=[])}e.apply(void 0,[t].concat(r))}}var vf=Object.assign((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e||cf(e,xf(t,r)||Af(t,r))}),{debug:mf(cf.debug),log:mf(cf.log),warn:mf(cf.warn),error:mf(cf.error)});function _f(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new sf(xf(e,t)||Af(e,t))}var wf=Symbol.for("ApolloErrorMessageHandler_"+lf);function Sf(e){if("string"==typeof e)return e;try{return gf(e,2).slice(0,1e3)}catch(e){return"<non-serializable>"}}function xf(e,t){if(void 0===t&&(t=[]),e)return pf[wf]&&pf[wf](e,t.map(Sf))}function Af(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:lf,message:e,args:t.map(Sf)})))}globalThis.__DEV__;function Ef(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return If(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return If(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tf(e,t,r){return t&&kf(e.prototype,t),r&&kf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Cf=function(){return"function"==typeof Symbol},Of=function(e){return Cf()&&Boolean(Symbol[e])},Pf=function(e){return Of(e)?Symbol[e]:"@@"+e};Cf()&&!Of("observable")&&(Symbol.observable=Symbol("observable"));var Mf=Pf("iterator"),Bf=Pf("observable"),Df=Pf("species");function Rf(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function Lf(e){var t=e.constructor;return void 0!==t&&null===(t=t[Df])&&(t=void 0),void 0!==t?t:$f}function Nf(e){return e instanceof $f}function jf(e){jf.log?jf.log(e):setTimeout((function(){throw e}))}function Uf(e){Promise.resolve().then((function(){try{e()}catch(e){jf(e)}}))}function Hf(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var r=Rf(t,"unsubscribe");r&&r.call(t)}}catch(e){jf(e)}}function Ff(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function zf(e,t,r){e._state="running";var n=e._observer;try{var i=Rf(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(Ff(e),!i)throw r;i.call(n,r);break;case"complete":Ff(e),i&&i.call(n)}}catch(e){jf(e)}"closed"===e._state?Hf(e):"running"===e._state&&(e._state="ready")}function qf(e,t,r){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void Uf((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(zf(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)}))):void zf(e,t,r);e._queue.push({type:t,value:r})}}var Kf=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new Vf(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(Ff(this),Hf(this))},Tf(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Vf=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){qf(this._subscription,"next",e)},t.error=function(e){qf(this._subscription,"error",e)},t.complete=function(){qf(this._subscription,"complete")},Tf(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),$f=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Kf(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(r,n){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){n(e),i.unsubscribe()}},error:n,complete:r});else n(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),r()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Lf(this))((function(r){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(Lf(this))((function(r){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=Lf(this),n=arguments.length>1,i=!1,o=arguments[1];return new r((function(r){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||n)try{o=e(o,t)}catch(e){return r.error(e)}else o=t},error:function(e){r.error(e)},complete:function(){if(!i&&!n)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(o),r.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=Lf(this);return new i((function(t){var n,o=0;return function e(a){n=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===r.length?(n=void 0,t.complete()):e(i.from(r[o++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=Lf(this);return new r((function(n){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var o=r.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){n.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&n.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[Bf]=function(){return this},e.from=function(t){var r="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var n=Rf(t,Bf);if(n){var i=n.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Nf(i)&&i.constructor===r?i:new r((function(e){return i.subscribe(e)}))}if(Of("iterator")&&(n=Rf(t,Mf)))return new r((function(e){Uf((function(){if(!e.closed){for(var r,i=Ef(n.call(t));!(r=i()).done;){var o=r.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new r((function(e){Uf((function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new("function"==typeof this?this:e)((function(e){Uf((function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}}))}))},Tf(e,null,[{key:Df,get:function(){return this}}]),e}();function Wf(e){return null!==e&&"object"==typeof e}function Gf(e,t){var r=t,n=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw _f(74,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&n.push(e)})),void 0===r&&(vf(1===n.length,75,n.length),r=n[0].name.value),jc(jc({},e),{definitions:zc([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)})}function Qf(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function Yf(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var r=e.name.value;if("function"==typeof t)return t(r);var n=t&&t[r];return vf(n,76,r),n||null;default:return null}}function Xf(){}Cf()&&Object.defineProperty($f,Symbol("extensions"),{value:{symbol:Bf,hostReportError:jf},configurable:!0});const Jf=Xf,Zf="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},ed="undefined"!=typeof WeakMap?WeakMap:Map,td="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:Xf,unregister:Xf}};class rd{constructor(e=1/0,t=Jf){this.max=e,this.dispose=t,this.map=new ed,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const r=t.key;delete t.key,t.keyRef=new Zf(r),this.registry.register(r,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new td(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}function nd(){}class id{constructor(e=1/0,t=nd){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}var od=new WeakSet;function ad(e){e.size<=(e.max||-1)||od.has(e)||(od.add(e),setTimeout((function(){e.clean(),od.delete(e)}),100))}var sd=function(e,t){var r=new rd(e,t);return r.set=function(e,t){var r=rd.prototype.set.call(this,e,t);return ad(this),r},r},cd=function(e,t){var r=new id(e,t);return r.set=function(e,t){var r=id.prototype.set.call(this,e,t);return ad(this),r},r},ud=Symbol.for("apollo.cacheSize"),fd=jc({},pf[ud]),dd={};function ld(e,t){dd[e]=t}var hd=!1!==globalThis.__DEV__?function(){var e,t,r,n,i;if(!1===globalThis.__DEV__)throw new Error("only supported in development mode");return{limits:Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map((function(e){var t=e[0],r=e[1];return[t,fd[t]||r]}))),sizes:jc({print:null===(e=dd.print)||void 0===e?void 0:e.call(dd),parser:null===(t=dd.parser)||void 0===t?void 0:t.call(dd),canonicalStringify:null===(r=dd.canonicalStringify)||void 0===r?void 0:r.call(dd),links:wd(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:vd(this.queryManager.documentTransform)}},null===(i=(n=this.cache).getMemoryInternals)||void 0===i?void 0:i.call(n))}}:void 0,pd=!1!==globalThis.__DEV__?function(){var e=this.config.fragments;return jc(jc({},yd.apply(this)),{addTypenameDocumentTransform:vd(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:gd(this.storeReader.executeSelectionSet),executeSubSelectedArray:gd(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:gd(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:gd(null==e?void 0:e.findFragmentSpreads),lookup:gd(null==e?void 0:e.lookup),transform:gd(null==e?void 0:e.transform)}})}:void 0,bd=!1!==globalThis.__DEV__?yd:void 0;function yd(){return{cache:{fragmentQueryDocuments:gd(this.getFragmentDoc)}}}function gd(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function md(e){return null!=e}function vd(e){return _d(e).map((function(e){return{cache:e}}))}function _d(e){return e?zc(zc([gd(null==e?void 0:e.performWork)],_d(null==e?void 0:e.left),!0),_d(null==e?void 0:e.right),!0).filter(md):[]}function wd(e){var t;return e?zc(zc([null===(t=null==e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],wd(null==e?void 0:e.left),!0),wd(null==e?void 0:e.right),!0).filter(md):[]}var Sd,xd=Object.assign((function(e){return JSON.stringify(e,Ad)}),{reset:function(){Sd=new cd(fd.canonicalStringify||1e3)}});function Ad(e,t){if(t&&"object"==typeof t){var r=Object.getPrototypeOf(t);if(r===Object.prototype||null===r){var n=Object.keys(t);if(n.every(Ed))return t;var i=JSON.stringify(n),o=Sd.get(i);if(!o){n.sort();var a=JSON.stringify(n);o=Sd.get(a)||n,Sd.set(i,o),Sd.set(a,o)}var s=Object.create(r);return o.forEach((function(e){s[e]=t[e]})),s}}return t}function Ed(e,t,r){return 0===t||r[t-1]<=e}function Id(e){return{__ref:String(e)}}function kd(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function Td(e,t,r,n){if(function(e){return"IntValue"===e.kind}(r)||function(e){return"FloatValue"===e.kind}(r))e[t.value]=Number(r.value);else if(function(e){return"BooleanValue"===e.kind}(r)||function(e){return"StringValue"===e.kind}(r))e[t.value]=r.value;else if(function(e){return"ObjectValue"===e.kind}(r)){var i={};r.fields.map((function(e){return Td(i,e.name,e.value,n)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(r)){var o=(n||{})[r.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(r))e[t.value]=r.values.map((function(e){var r={};return Td(r,t,e,n),r[t.value]}));else if(function(e){return"EnumValue"===e.kind}(r))e[t.value]=r.value;else{if(!function(e){return"NullValue"===e.kind}(r))throw _f(85,t.value,r.kind);e[t.value]=null}}!1!==globalThis.__DEV__&&ld("canonicalStringify",(function(){return Sd.size})),xd.reset();var Cd=["connection","include","skip","client","rest","export","nonreactive"],Od=xd,Pd=Object.assign((function(e,t,r){if(t&&r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach((function(e){i[e]=t[e]})),"".concat(r.connection.key,"(").concat(Od(i),")")}return r.connection.key}var o=e;if(t){var a=Od(t);o+="(".concat(a,")")}return r&&Object.keys(r).forEach((function(e){-1===Cd.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?o+="@".concat(e,"(").concat(Od(r[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=Od;return Od=e,t}});function Md(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach((function(e){var n=e.name,i=e.value;return Td(r,n,i,t)})),r}return null}function Bd(e){return e.alias?e.alias.value:e.name.value}function Dd(e,t,r){for(var n,i=0,o=t.selections;i<o.length;i++){if(Rd(c=o[i])){if("__typename"===c.name.value)return e[Bd(c)]}else n?n.push(c):n=[c]}if("string"==typeof e.__typename)return e.__typename;if(n)for(var a=0,s=n;a<s.length;a++){var c,u=Dd(e,Yf(c=s[a],r).selectionSet,r);if("string"==typeof u)return u}}function Rd(e){return"Field"===e.kind}function Ld(e){vf(e&&"Document"===e.kind,77);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw _f(78,e.kind);return e}));return vf(t.length<=1,79,t.length),e}function Nd(e){return Ld(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function jd(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function Ud(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function Hd(e){var t=Nd(e);return vf(t&&"query"===t.operation,80),t}function Fd(e){var t;Ld(e);for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw _f(84)}function zd(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach((function(e){e.defaultValue&&Td(t,e.variable.name,e.defaultValue)})),t}function qd(e,t){return t?t(e):$f.of()}function Kd(e){return"function"==typeof e?new $d(e):e}function Vd(e){return e.request.length<=1}var $d=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return $f.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(Kd).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,r,n){var i,o=Kd(r),a=Kd(n||new e(qd));return i=Vd(o)&&Vd(a)?new e((function(e){return t(e)?o.request(e)||$f.of():a.request(e)||$f.of()})):new e((function(e,r){return t(e)?o.request(e,r)||$f.of():a.request(e,r)||$f.of()})),Object.assign(i,{left:o,right:a})},e.execute=function(e,t){return e.request(function(e,t){var r=jc({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){r=jc(jc({},r),"function"==typeof e?e(r):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return jc({},r)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?jd(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw _f(44,i)}return e}(t))))||$f.of()},e.concat=function(t,r){var n=Kd(t);if(Vd(n))return!1!==globalThis.__DEV__&&vf.warn(36,n),n;var i,o=Kd(r);return i=Vd(o)?new e((function(e){return n.request(e,(function(e){return o.request(e)||$f.of()}))||$f.of()})):new e((function(e,t){return n.request(e,(function(e){return o.request(e,t)||$f.of()}))||$f.of()})),Object.assign(i,{left:n,right:o})},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(qd)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw _f(37)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),Wd=$d.execute;const Gd=Object.freeze({});function Qd(e,t,r=eu){const n=new Map;for(const e of Object.values(ou))n.set(e,Yd(t,e));let i,o,a,s=Array.isArray(e),c=[e],u=-1,f=[],d=e;const l=[],h=[];do{u++;const e=u===c.length,g=e&&0!==f.length;if(e){if(o=0===h.length?void 0:l[l.length-1],d=a,a=h.pop(),g)if(s){d=d.slice();let e=0;for(const[t,r]of f){const n=t-e;null===r?(d.splice(n,1),e++):d[n]=r}}else{d=Object.defineProperties({},Object.getOwnPropertyDescriptors(d));for(const[e,t]of f)d[e]=t}u=i.index,c=i.keys,f=i.edits,s=i.inArray,i=i.prev}else if(a){if(o=s?u:c[u],d=a[o],null==d)continue;l.push(o)}let m;if(!Array.isArray(d)){var p,b;ru(d)||Bu(!1,`Invalid AST Node: ${Lu(d)}.`);const r=e?null===(p=n.get(d.kind))||void 0===p?void 0:p.leave:null===(b=n.get(d.kind))||void 0===b?void 0:b.enter;if(m=null==r?void 0:r.call(t,d,o,a,l,h),m===Gd)break;if(!1===m){if(!e){l.pop();continue}}else if(void 0!==m&&(f.push([o,m]),!e)){if(!ru(m)){l.pop();continue}d=m}}var y;if(void 0===m&&g&&f.push([o,d]),e)l.pop();else i={inArray:s,index:u,keys:c,edits:f,prev:i},s=Array.isArray(d),c=s?d:null!==(y=r[d.kind])&&void 0!==y?y:[],u=-1,f=[],a&&h.push(a),a=d}while(void 0!==i);return 0!==f.length?f[f.length-1][1]:e}function Yd(e,t){const r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function Xd(e,t){var r=e.directives;return!r||!r.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var r=e.arguments,n=e.name.value;vf(r&&1===r.length,71,n);var i=r[0];vf(i.name&&"if"===i.name.value,72,n);var o=i.value;vf(o&&("Variable"===o.kind||"BooleanValue"===o.kind),73,n),t.push({directive:e,ifArgument:i})}}));return t}(r).every((function(e){var r=e.directive,n=e.ifArgument,i=!1;return"Variable"===n.value.kind?(i=t&&t[n.value.name.value],vf(void 0!==i,70,r.name.value)):i=n.value.value,"skip"===r.name.value?!i:i}))}function Jd(e,t,r){var n=new Set(e),i=n.size;return Qd(t,{Directive:function(e){if(n.delete(e.name.value)&&(!r||!n.size))return Gd}}),r?!n.size:n.size<i}function Zd(e){return e&&Jd(["client","export"],e,!0)}var el=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=_f(40,t,e.message);throw n.parseError=e,n}return r},tl=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")},rl="ReactNative"==hf((function(){return navigator.product})),nl="function"==typeof WeakMap&&!(rl&&!global.HermesInternal),il="function"==typeof WeakSet,ol="function"==typeof Symbol&&"function"==typeof Symbol.for,al=ol&&Symbol.asyncIterator;hf((function(){return window.document.createElement})),hf((function(){return navigator.userAgent.indexOf("jsdom")>=0}));function sl(e){var t=null,r=null,n=!1,i=[],o=[];function a(e){if(!r){if(o.length){var t=o.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function s(e){r=e,o.slice().forEach((function(t){t[1](e)})),!t||t()}function c(){n=!0,o.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",a),e.removeListener("error",s),e.removeListener("end",c),e.removeListener("finish",c),e.removeListener("close",c)},e.on("data",a),e.on("error",s),e.on("end",c),e.on("finish",c),e.on("close",c);var u={next:function(){return new Promise((function(e,t){return r?t(r):i.length?e({value:i.shift(),done:!1}):n?e({value:void 0,done:!0}):void o.push([e,t])}))}};return al&&(u[Symbol.asyncIterator]=function(){return this}),u}function cl(e){var t={next:function(){return e.read()}};return al&&(t[Symbol.asyncIterator]=function(){return this}),t}function ul(e){var t,r,n,i=e;if(e.body&&(i=e.body),function(e){return!(!al||!e[Symbol.asyncIterator])}(i))return function(e){var t,r=e[Symbol.asyncIterator]();return(t={next:function(){return r.next()}})[Symbol.asyncIterator]=function(){return this},t}(i);if(function(e){return!!e.getReader}(i))return cl(i.getReader());if(function(e){return!!e.stream}(i))return cl(i.stream().getReader());if(function(e){return!!e.arrayBuffer}(i))return t=i.arrayBuffer(),r=!1,n={next:function(){return r?Promise.resolve({value:void 0,done:!0}):(r=!0,new Promise((function(e,r){t.then((function(t){e({value:t,done:!1})})).catch(r)})))}},al&&(n[Symbol.asyncIterator]=function(){return this}),n;if(function(e){return!!e.pipe}(i))return sl(i);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var fl=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},dl=Symbol();function ll(e){return e.hasOwnProperty("graphQLErrors")}var hl=function(e){function t(r){var n,i,o=r.graphQLErrors,a=r.protocolErrors,s=r.clientErrors,c=r.networkError,u=r.errorMessage,f=r.extraInfo,d=e.call(this,u)||this;return d.name="ApolloError",d.graphQLErrors=o||[],d.protocolErrors=a||[],d.clientErrors=s||[],d.networkError=c||null,d.message=u||(i=zc(zc(zc([],(n=d).graphQLErrors,!0),n.clientErrors,!0),n.protocolErrors,!0),n.networkError&&i.push(n.networkError),i.map((function(e){return Wf(e)&&e.message||"Error message not found."})).join("\n")),d.extraInfo=f,d.cause=zc(zc(zc([c],o||[],!0),a||[],!0),s||[],!0).find((function(e){return!!e}))||null,d.__proto__=t.prototype,d}return Nc(t,e),t}(Error),pl=Array.isArray;function bl(e){return Array.isArray(e)&&e.length>0}var yl=Object.prototype.hasOwnProperty;function gl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ml(e)}function ml(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new _l,i=1;i<r;++i)t=n.merge(t,e[i]);return t}var vl=function(e,t,r){return this.merge(e[r],t[r])},_l=function(){function e(e){void 0===e&&(e=vl),this.reconciler=e,this.isObject=Wf,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var r=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return Wf(t)&&Wf(e)?(Object.keys(t).forEach((function(i){if(yl.call(e,i)){var o=e[i];if(t[i]!==o){var a=r.reconciler.apply(r,zc([e,t,i],n,!1));a!==o&&((e=r.shallowCopyForMerge(e))[i]=a)}}else(e=r.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return Wf(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):jc({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function wl(e){return"incremental"in e}function Sl(e){return Wf(e)&&"payload"in e}function xl(e,t){var r=e,n=new _l;return wl(t)&&bl(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,i=e.path,o=i.length-1;o>=0;--o){var a=i[o],s=!isNaN(+a)?[]:{};s[a]=t,t=s}r=n.merge(r,t)})),r}var Al=Object.prototype.hasOwnProperty;function El(e){var t={};return e.split("\n").forEach((function(e){var r=e.indexOf(":");if(r>-1){var n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim();t[n]=i}})),t}function Il(e,t){if(e.status>=300){fl(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(n){var r=n;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}function kl(e){return function(t){return t.text().then((function(e){return Il(t,e)})).then((function(r){return Array.isArray(r)||Al.call(r,"data")||Al.call(r,"errors")||fl(t,r,"Server response was missing for query '".concat(Array.isArray(e)?e.map((function(e){return e.operationName})):e.operationName,"'.")),r}))}}var Tl=function(e){if(!e&&"undefined"==typeof fetch)throw _f(38)};const Cl=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Ol(e){return Pl[e.charCodeAt(0)]}const Pl=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];const Ml={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Bl(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Rl("(",Bl(e.variableDefinitions,", "),")"),r=Bl([e.operation,Bl([e.name,t]),Bl(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+Rl(" = ",r)+Rl(" ",Bl(n," "))},SelectionSet:{leave:({selections:e})=>Dl(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){const o=Rl("",e,": ")+t;let a=o+Rl("(",Bl(r,", "),")");return a.length>80&&(a=o+Rl("(\n",Ll(Bl(r,"\n")),"\n)")),Bl([a,Bl(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Rl(" ",Bl(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>Bl(["...",Rl("on ",e),Bl(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${Rl("(",Bl(r,", "),")")} on ${t} ${Rl("",Bl(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=1===n.length,o=n.length>1&&n.slice(1).every((e=>0===e.length||su(e.charCodeAt(0)))),a=r.endsWith('\\"""'),s=e.endsWith('"')&&!a,c=e.endsWith("\\"),u=s||c,f=!(null!=t&&t.minimize)&&(!i||e.length>70||u||o||a);let d="";const l=i&&su(e.charCodeAt(0));return(f&&!l||o)&&(d+="\n"),d+=r,(f||u)&&(d+="\n"),'"""'+d+'"""'}(e):`"${e.replace(Cl,Ol)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Bl(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Bl(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Rl("(",Bl(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>Rl("",e,"\n")+Bl(["schema",Bl(t," "),Dl(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>Rl("",e,"\n")+Bl(["scalar",t,Bl(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>Rl("",e,"\n")+Bl(["type",t,Rl("implements ",Bl(r," & ")),Bl(n," "),Dl(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>Rl("",e,"\n")+t+(Nl(r)?Rl("(\n",Ll(Bl(r,"\n")),"\n)"):Rl("(",Bl(r,", "),")"))+": "+n+Rl(" ",Bl(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>Rl("",e,"\n")+Bl([t+": "+r,Rl("= ",n),Bl(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>Rl("",e,"\n")+Bl(["interface",t,Rl("implements ",Bl(r," & ")),Bl(n," "),Dl(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>Rl("",e,"\n")+Bl(["union",t,Bl(r," "),Rl("= ",Bl(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>Rl("",e,"\n")+Bl(["enum",t,Bl(r," "),Dl(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>Rl("",e,"\n")+Bl([t,Bl(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>Rl("",e,"\n")+Bl(["input",t,Bl(r," "),Dl(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>Rl("",e,"\n")+"directive @"+t+(Nl(r)?Rl("(\n",Ll(Bl(r,"\n")),"\n)"):Rl("(",Bl(r,", "),")"))+(n?" repeatable":"")+" on "+Bl(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Bl(["extend schema",Bl(e," "),Dl(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Bl(["extend scalar",e,Bl(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>Bl(["extend type",e,Rl("implements ",Bl(t," & ")),Bl(r," "),Dl(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>Bl(["extend interface",e,Rl("implements ",Bl(t," & ")),Bl(r," "),Dl(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>Bl(["extend union",e,Bl(t," "),Rl("= ",Bl(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>Bl(["extend enum",e,Bl(t," "),Dl(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>Bl(["extend input",e,Bl(t," "),Dl(r)]," ")}};function Bl(e,t=""){var r;return null!==(r=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==r?r:""}function Dl(e){return Rl("{\n",Ll(Bl(e,"\n")),"\n}")}function Rl(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function Ll(e){return Rl("  ",e.replace(/\n/g,"\n  "))}function Nl(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var jl,Ul=Object.assign((function(e){var t=jl.get(e);return t||(t=function(e){return Qd(e,Ml)}(e),jl.set(e,t)),t}),{reset:function(){jl=new sd(fd.print||2e3)}});Ul.reset(),!1!==globalThis.__DEV__&&ld("print",(function(){return jl?jl.size:0}));var Hl={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Fl=function(e,t){return t(e)};function zl(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach((function(e){i=jc(jc(jc({},i),e.options),{headers:jc(jc({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),o=jc(jc({},o),e.http)})),i.headers&&(i.headers=function(e,t){if(!t){var r=Object.create(null);return Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]=e[t]})),r}var n=Object.create(null);Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]={originalName:t,value:e[t]}}));var i=Object.create(null);return Object.keys(n).forEach((function(e){i[n[e].originalName]=n[e].value})),i}(i.headers,o.preserveHeaderCase));var a=e.operationName,s=e.extensions,c=e.variables,u=e.query,f={operationName:a,variables:c};return o.includeExtensions&&(f.extensions=s),o.includeQuery&&(f.query=t(u,Ul)),{options:i,body:f}}function ql(e){return new $f((function(t){t.error(e)}))}function Kl(e,t){var r=jc({},e),n=new Set(Object.keys(e));return Qd(t,{Variable:function(e,t,r){r&&"VariableDefinition"!==r.kind&&n.delete(e.name.value)}}),n.forEach((function(e){delete r[e]})),r}var Vl={kind:ou.FIELD,name:{kind:ou.NAME,value:"__typename"}};function $l(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===ou.FRAGMENT_SPREAD&&$l(t[e.name.value],t)}))}function Wl(e){return $l(Nd(e)||function(e){vf("Document"===e.kind,81),vf(e.definitions.length<=1,82);var t=e.definitions[0];return vf("FragmentDefinition"===t.kind,83),t}(e),Qf(Ud(e)))?null:e}function Gl(e){var t=new Map,r=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&r.set(e.test,e))})),function(e){var n=t.get(e.name.value);return!n&&r.size&&r.forEach((function(t,r){r(e)&&(n=t)})),n}}function Ql(e){var t=new Map;return function(r){void 0===r&&(r=e);var n=t.get(r);return n||t.set(r,n={variables:new Set,fragmentSpreads:new Set}),n}}function Yl(e,t){Ld(t);for(var r=Ql(""),n=Ql(""),i=function(e){for(var t=0,i=void 0;t<e.length&&(i=e[t]);++t)if(!pl(i)){if(i.kind===ou.OPERATION_DEFINITION)return r(i.name&&i.name.value);if(i.kind===ou.FRAGMENT_DEFINITION)return n(i.name.value)}return!1!==globalThis.__DEV__&&vf.error(86),null},o=0,a=t.definitions.length-1;a>=0;--a)t.definitions[a].kind===ou.OPERATION_DEFINITION&&++o;var s=Gl(e),c=function(e){return bl(e)&&e.map(s).some((function(e){return e&&e.remove}))},u=new Map,f=!1,d={enter:function(e){if(c(e.directives))return f=!0,null}},l=Qd(t,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,r,n,o){var a=i(o);a&&a.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,r,n,o){if(c(e.directives))return f=!0,null;var a=i(o);a&&a.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,r,n){u.set(JSON.stringify(n),e)},leave:function(e,t,r,i){return e===u.get(JSON.stringify(i))?e:o>0&&e.selectionSet.selections.every((function(e){return e.kind===ou.FIELD&&"__typename"===e.name.value}))?(n(e.name.value).removed=!0,f=!0,null):void 0}},Directive:{leave:function(e){if(s(e))return f=!0,null}}});if(!f)return t;var h=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){h(n(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},p=new Set;l.definitions.forEach((function(e){e.kind===ou.OPERATION_DEFINITION?h(r(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){p.add(e)})):e.kind!==ou.FRAGMENT_DEFINITION||0!==o||n(e.name.value).removed||p.add(e.name.value)})),p.forEach((function(e){h(n(e)).fragmentSpreads.forEach((function(e){p.add(e)}))}));var b={enter:function(e){if(t=e.name.value,!p.has(t)||n(t).removed)return null;var t}};return Wl(Qd(l,{FragmentSpread:b,FragmentDefinition:b,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=h(r(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return jc(jc({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var Xl=Object.assign((function(e){return Qd(e,{SelectionSet:{enter:function(e,t,r){if(!r||r.kind!==ou.OPERATION_DEFINITION){var n=e.selections;if(n)if(!n.some((function(e){return Rd(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=r;if(!(Rd(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return jc(jc({},e),{selections:zc(zc([],n,!0),[Vl],!1)})}}}}})}),{added:function(e){return e===Vl}});function Jl(e){return"query"===Fd(e).operation?e:Qd(e,{OperationDefinition:{enter:function(e){return jc(jc({},e),{operation:"query"})}}})}function Zl(e){return Ld(e),Yl([{test:function(e){return"client"===e.name.value},remove:!0}],e)}var eh=hf((function(){return fetch})),th=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,n=e.fetch,i=e.print,o=void 0===i?Fl:i,a=e.includeExtensions,s=e.preserveHeaderCase,c=e.useGETForQueries,u=e.includeUnusedVariables,f=void 0!==u&&u,d=Uc(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&Tl(n||eh);var l={http:{includeExtensions:a,preserveHeaderCase:s},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new $d((function(e){var t=tl(e,r),i=e.getContext(),a={};if(i.clientAwareness){var s=i.clientAwareness,u=s.name,d=s.version;u&&(a["apollographql-client-name"]=u),d&&(a["apollographql-client-version"]=d)}var h=jc(jc({},a),i.headers),p={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:h};if(Jd(["client"],e.query)){var b=Zl(e.query);if(!b)return ql(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=b}var y,g=zl(e,o,Hl,l,p),m=g.options,v=g.body;v.variables&&!f&&(v.variables=Kl(v.variables,e.query)),m.signal||"undefined"==typeof AbortController||(y=new AbortController,m.signal=y.signal);var _,w="OperationDefinition"===(_=Fd(e.query)).kind&&"subscription"===_.operation,S=Jd(["defer"],e.query);if(c&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),S||w){m.headers=m.headers||{};var x="multipart/mixed;";w&&S&&!1!==globalThis.__DEV__&&vf.warn(39),w?x+="boundary=graphql;subscriptionSpec=1.0,application/json":S&&(x+="deferSpec=20220824,application/json"),m.headers.accept=x}if("GET"===m.method){var A=function(e,t){var r=[],n=function(e,t){r.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=el(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var o=void 0;try{o=el(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",o)}var a="",s=e,c=e.indexOf("#");-1!==c&&(a=e.substr(c),s=e.substr(0,c));var u=-1===s.indexOf("?")?"?":"&";return{newURI:s+u+r.join("&")+a}}(t,v),E=A.newURI,I=A.parseError;if(I)return ql(I);t=E}else try{m.body=el(v,"Payload")}catch(I){return ql(I)}return new $f((function(r){var i=n||hf((function(){return fetch}))||eh,o=r.next.bind(r);return i(t,m).then((function(t){var r;e.setContext({response:t});var n=null===(r=t.headers)||void 0===r?void 0:r.get("content-type");return null!==n&&/^multipart\/mixed/i.test(n)?function(e,t){return Hc(this,void 0,void 0,(function(){var r,n,i,o,a,s,c,u,f,d,l,h,p,b,y,g,m,v,_,w,S,x,A,E;return Fc(this,(function(I){switch(I.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),n=null===(E=e.headers)||void 0===E?void 0:E.get("content-type"),i="boundary=",o=(null==n?void 0:n.includes(i))?null==n?void 0:n.substring((null==n?void 0:n.indexOf(i))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a="\r\n--".concat(o),s="",c=ul(e),u=!0,I.label=1;case 1:return u?[4,c.next()]:[3,3];case 2:for(f=I.sent(),d=f.value,l=f.done,h="string"==typeof d?d:r.decode(d),p=s.length-a.length+1,u=!l,b=(s+=h).indexOf(a,p);b>-1;){if(y=void 0,x=[s.slice(0,b),s.slice(b+a.length)],s=x[1],g=(y=x[0]).indexOf("\r\n\r\n"),m=El(y.slice(0,g)),(v=m["content-type"])&&-1===v.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(_=y.slice(g))if(w=Il(e,_),Object.keys(w).length>1||"data"in w||"incremental"in w||"errors"in w||"payload"in w)if(Sl(w)){if(S={},"payload"in w){if(1===Object.keys(w).length&&null===w.payload)return[2];S=jc({},w.payload)}"errors"in w&&(S=jc(jc({},S),{extensions:jc(jc({},"extensions"in S?S.extensions:null),(A={},A[dl]=w.errors,A))})),t(S)}else t(w);else if(1===Object.keys(w).length&&"hasNext"in w&&!w.hasNext)return[2];b=s.indexOf(a)}return[3,1];case 3:return[2]}}))}))}(t,o):kl(e)(t).then(o)})).then((function(){y=void 0,r.complete()})).catch((function(e){y=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,r)})),function(){y&&y.abort()}}))}))},rh=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,th(t).request)||this;return r.options=t,r}return Nc(t,e),t}($d);const{toString:nh,hasOwnProperty:ih}=Object.prototype,oh=Function.prototype.toString,ah=new Map;function sh(e,t){try{return uh(e,t)}finally{ah.clear()}}const ch=sh;function uh(e,t){if(e===t)return!0;const r=nh.call(e);if(r!==nh.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(hh(e,t))return!0;const r=fh(e),n=fh(t),i=r.length;if(i!==n.length)return!1;for(let e=0;e<i;++e)if(!ih.call(t,r[e]))return!1;for(let n=0;n<i;++n){const i=r[n];if(!uh(e[i],t[i]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(hh(e,t))return!0;const n=e.entries(),i="[object Map]"===r;for(;;){const e=n.next();if(e.done)break;const[r,o]=e.value;if(!t.has(r))return!1;if(i&&!uh(o,t.get(r)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=oh.call(e);return r===oh.call(t)&&!function(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}(r,lh)}}return!1}function fh(e){return Object.keys(e).filter(dh,e)}function dh(e){return void 0!==this[e]}const lh="{ [native code] }";function hh(e,t){let r=ah.get(e);if(r){if(r.has(t))return!0}else ah.set(e,r=new Set);return r.add(t),!1}const ph=()=>Object.create(null),{forEach:bh,slice:yh}=Array.prototype,{hasOwnProperty:gh}=Object.prototype;class mh{constructor(e=!0,t=ph){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return bh.call(e,(e=>t=t.getChildTrie(e))),gh.call(t,"data")?t.data:t.data=this.makeData(yh.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){const n=t.mapFor(e[r],!1);t=n&&n.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const r=e[0],n=this.mapFor(r,!1),i=n&&n.get(r);i&&(t=i.removeArray(yh.call(e,1)),i.data||i.weak||i.strong&&i.strong.size||n.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let r=t.get(e);return r||t.set(e,r=new mh(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}const vh=()=>Object.create(null),{forEach:_h,slice:wh}=Array.prototype,{hasOwnProperty:Sh}=Object.prototype;class xh{constructor(e=!0,t=vh){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return _h.call(e,(e=>t=t.getChildTrie(e))),Sh.call(t,"data")?t.data:t.data=this.makeData(wh.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){const n=this.weakness&&Ah(e[r])?t.weak:t.strong;t=n&&n.get(e[r])}return t&&t.data}getChildTrie(e){const t=this.weakness&&Ah(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let r=t.get(e);return r||t.set(e,r=new xh(this.weakness,this.makeData)),r}}function Ah(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}let Eh=null;const Ih={};let kh=1;function Th(e){try{return e()}catch(e){}}const Ch="@wry/context:Slot",Oh=Th((()=>globalThis))||Th((()=>global))||Object.create(null),Ph=Oh[Ch]||Array[Ch]||function(e){try{Object.defineProperty(Oh,Ch,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",kh++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Eh;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===Ih)break;return e!==Eh&&(Eh.slots[this.id]=t),!0}return Eh&&(Eh.slots[this.id]=Ih),!1}getValue(){if(this.hasValue())return Eh.slots[this.id]}withValue(e,t,r,n){const i={__proto__:null,[this.id]:e},o=Eh;Eh={parent:o,slots:i};try{return t.apply(n,r)}finally{Eh=o}}static bind(e){const t=Eh;return function(){const r=Eh;try{return Eh=t,e.apply(this,arguments)}finally{Eh=r}}}static noContext(e,t,r){if(!Eh)return e.apply(r,t);{const n=Eh;try{return Eh=null,e.apply(r,t)}finally{Eh=n}}}}),{bind:Mh,noContext:Bh}=Ph;const Dh=new Ph;const{hasOwnProperty:Rh}=Object.prototype,Lh=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function Nh(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const jh=[],Uh=100;function Hh(e,t){if(!e)throw new Error(t||"assertion failure")}function Fh(e,t){const r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function zh(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function qh(e){return e.slice(0)}class Kh{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Kh.count}peek(){if(1===this.value.length&&!Wh(this))return Vh(this),this.value[0]}recompute(e){return Hh(!this.recomputing,"already recomputing"),Vh(this),Wh(this)?function(e,t){ep(e),Dh.withValue(e,$h,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{Nh(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,Wh(e))return;Qh(e)}(e);return zh(e.value)}(this,e):zh(this.value)}setDirty(){this.dirty||(this.dirty=!0,Gh(this),Nh(this))}dispose(){this.setDirty(),ep(this),Yh(this,((e,t)=>{e.setDirty(),tp(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=jh.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Lh(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),jh.push(this.deps),this.deps=null)}}function Vh(e){const t=Dh.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Wh(e)?Xh(t,e):Jh(t,e),t}function $h(e,t){e.recomputing=!0;const{normalizeResult:r}=e;let n;r&&1===e.value.length&&(n=qh(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),r&&n&&!Fh(n,e.value))try{e.value[0]=r(e.value[0],n[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function Wh(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Gh(e){Yh(e,Xh)}function Qh(e){Yh(e,Jh)}function Yh(e,t){const r=e.parents.size;if(r){const n=Lh(e.parents);for(let i=0;i<r;++i)t(n[i],e)}}function Xh(e,t){Hh(e.childValues.has(t)),Hh(Wh(t));const r=!Wh(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=jh.pop()||new Set;e.dirtyChildren.add(t),r&&Gh(e)}function Jh(e,t){Hh(e.childValues.has(t)),Hh(!Wh(t));const r=e.childValues.get(t);0===r.length?e.childValues.set(t,qh(t.value)):Fh(r,t.value)||e.setDirty(),Zh(e,t),Wh(e)||Qh(e)}function Zh(e,t){const r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(jh.length<Uh&&jh.push(r),e.dirtyChildren=null))}function ep(e){e.childValues.size>0&&e.childValues.forEach(((t,r)=>{tp(e,r)})),e.forgetDeps(),Hh(null===e.dirtyChildren)}function tp(e,t){t.parents.delete(e),e.childValues.delete(t),Zh(e,t)}Kh.count=0;const rp={setDirty:!0,dispose:!0,forget:!0};function np(e){const t=new Map,r=e&&e.subscribe;function n(e){const n=Dh.getValue();if(n){let i=t.get(e);i||t.set(e,i=new Set),n.dependOn(i),"function"==typeof r&&(Nh(i),i.unsubscribe=r(e))}}return n.dirty=function(e,r){const n=t.get(e);if(n){const i=r&&Rh.call(rp,r)?r:"setDirty";Lh(n).forEach((e=>e[i]())),t.delete(e),Nh(n)}},n}let ip;function op(...e){return(ip||(ip=new xh("function"==typeof WeakMap))).lookupArray(e)}const ap=new Set;function sp(e,{max:t=Math.pow(2,16),keyArgs:r,makeCacheKey:n=op,normalizeResult:i,subscribe:o,cache:a=id}=Object.create(null)){const s="function"==typeof a?new a(t,(e=>e.dispose())):a,c=function(){const t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let a=s.get(t);a||(s.set(t,a=new Kh(e)),a.normalizeResult=i,a.subscribe=o,a.forget=()=>s.delete(t));const c=a.recompute(Array.prototype.slice.call(arguments));return s.set(t,a),ap.add(s),Dh.hasValue()||(ap.forEach((e=>e.clean())),ap.clear()),c};function u(e){const t=e&&s.get(e);t&&t.setDirty()}function f(e){const t=e&&s.get(e);if(t)return t.peek()}function d(e){return!!e&&s.delete(e)}return Object.defineProperty(c,"size",{get:()=>s.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:t,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:o,cache:s}),c.dirtyKey=u,c.dirty=function(){u(n.apply(null,arguments))},c.peekKey=f,c.peek=function(){return f(n.apply(null,arguments))},c.forgetKey=d,c.forget=function(){return d(n.apply(null,arguments))},c.makeCacheKey=n,c.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(c)}function cp(e){return e}var up=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=il?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(cp,{cache:!1})},e.split=function(t,r,n){return void 0===n&&(n=e.identity()),Object.assign(new e((function(e){return(t(e)?r:n).transformDocument(e)}),{cache:!1}),{left:r,right:n})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new mh(nl);this.performWork=sp(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var n=t.getCacheKey(e);if(n)return vf(Array.isArray(n),69),r.lookupArray(n)},max:fd["documentTransform.cache"],cache:rd})}},e.prototype.performWork=function(e){return Ld(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var r=this;return Object.assign(new e((function(e){return t.transformDocument(r.transformDocument(e))}),{cache:!1}),{left:this,right:t})},e}();function fp(e,t,r){return new $f((function(n){var i={then:function(e){return new Promise((function(t){return t(e())}))}};function o(e,t){return function(r){if(e){var o=function(){return n.closed?0:e(r)};i=i.then(o,o).then((function(e){return n.next(e)}),(function(e){return n.error(e)}))}else n[t](r)}}var a={next:o(t,"next"),error:o(r,"error"),complete:function(){i.then((function(){return n.complete()}))}},s=e.subscribe(a);return function(){return s.unsubscribe()}}))}function dp(e){return bl(lp(e))}function lp(e){var t=bl(e.errors)?e.errors.slice(0):[];return wl(e)&&bl(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}function hp(e,t,r){var n=[];e.forEach((function(e){return e[t]&&n.push(e)})),n.forEach((function(e){return e[t](r)}))}function pp(e){function t(t){Object.defineProperty(e,t,{value:$f})}return ol&&Symbol.species&&t(Symbol.species),t("@@species"),e}function bp(e){return e&&"function"==typeof e.then}var yp,gp=function(e){function t(t){var r=e.call(this,(function(e){return r.addObserver(e),function(){return r.removeObserver(e)}}))||this;return r.observers=new Set,r.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),r.handlers={next:function(e){null!==r.sub&&(r.latest=["next",e],r.notify("next",e),hp(r.observers,"next",e))},error:function(e){var t=r.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),r.sub=null,r.latest=["error",e],r.reject(e),r.notify("error",e),hp(r.observers,"error",e))},complete:function(){var e=r,t=e.sub,n=e.sources;if(null!==t){var i=(void 0===n?[]:n).shift();i?bp(i)?i.then((function(e){return r.sub=e.subscribe(r.handlers)}),r.handlers.error):r.sub=i.subscribe(r.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),hp(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(e){r.reject(e),r.sources=[],r.handlers.error(e)},r.promise.catch((function(e){})),"function"==typeof t&&(t=[new $f(t)]),bp(t)?t.then((function(e){return r.start(e)}),r.handlers.error):r.start(t),r}return Nc(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],r=e[t];r&&r.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach((function(r){return r(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(r,n){t||(t=!0,e(r,n))}))},t}($f);function mp(e){return!!e&&e<7}function vp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(r[t]=n)}))})),r}pp(gp),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(yp||(yp={}));var _p=Object.prototype.toString;function wp(e){return Sp(e)}function Sp(e,t){switch(_p.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach((function(e,n){r[n]=Sp(e,t)})),r;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach((function(r){n[r]=Sp(e[r],t)})),n;default:return e}}function xp(e,t,r,n){var i=t.data,o=Uc(t,["data"]),a=r.data,s=Uc(r,["data"]);return ch(o,s)&&Ap(Fd(e).selectionSet,i,a,{fragmentMap:Qf(Ud(e)),variables:n})}function Ap(e,t,r,n){if(t===r)return!0;var i=new Set;return e.selections.every((function(e){if(i.has(e))return!0;if(i.add(e),!Xd(e,n.variables))return!0;if(Ep(e))return!0;if(Rd(e)){var o=Bd(e),a=t&&t[o],s=r&&r[o],c=e.selectionSet;if(!c)return ch(a,s);var u=Array.isArray(a),f=Array.isArray(s);if(u!==f)return!1;if(u&&f){var d=a.length;if(s.length!==d)return!1;for(var l=0;l<d;++l)if(!Ap(c,a[l],s[l],n))return!1;return!0}return Ap(c,a,s,n)}var h=Yf(e,n.fragmentMap);return h?!!Ep(h)||Ap(h.selectionSet,t,r,n):void 0}))}function Ep(e){return!!e.directives&&e.directives.some(Ip)}function Ip(e){return"nonreactive"===e.name.value}var kp=Object.assign,Tp=Object.hasOwnProperty,Cp=function(e){function t(t){var r=t.queryManager,n=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=Pp)}catch(e){}var r=!o.observers.size;o.observers.add(e);var n=o.last;return n&&n.error?e.error&&e.error(n.error):n&&n.result&&e.next&&e.next(n.result),r&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=n,o.queryManager=r,o.waitForOwnResult=Bp(i.fetchPolicy),o.isTornDown=!1,o.subscribeToMore=o.subscribeToMore.bind(o);var a=r.defaultOptions.watchQuery,s=(void 0===a?{}:a).fetchPolicy,c=void 0===s?"cache-first":s,u=i.fetchPolicy,f=void 0===u?c:u,d=i.initialFetchPolicy,l=void 0===d?"standby"===f?c:f:d;o.options=jc(jc({},i),{initialFetchPolicy:l,fetchPolicy:f}),o.queryId=n.queryId||r.generateQueryId();var h=Nd(o.query);return o.queryName=h&&h.name&&h.name.value,o}return Nc(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:r},i=e.subscribe(n)}))},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),r=this.queryInfo.networkStatus||t&&t.networkStatus||yp.ready,n=jc(jc({},t),{loading:mp(r),networkStatus:r}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if(Bp(o)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var a=this.queryInfo.getDiff();(a.complete||this.options.returnPartialData)&&(n.data=a.result),sh(n.data,{})&&(n.data=void 0),a.complete?(delete n.partial,!a.complete||n.networkStatus!==yp.loading||"cache-first"!==o&&"cache-only"!==o||(n.networkStatus=yp.ready,n.loading=!1)):n.partial=!0,!1===globalThis.__DEV__||a.complete||this.options.partialRefetch||n.loading||n.data||n.error||Mp(a.missing)}return e&&this.updateLastResult(n),n},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||((this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!xp(this.query,this.last.result,e,this.variables):!sh(this.last.result,e))||t&&!sh(this.last.variables,t))},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||sh(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0},n=this.options.fetchPolicy;if(r.fetchPolicy="cache-and-network"===n?n:"no-cache"===n?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&Tp.call(e,"variables")){var i=Hd(this.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&vf.warn(20,e,(null===(t=i.name)||void 0===t?void 0:t.value)||i)}return e&&!sh(this.options.variables,e)&&(r.variables=this.options.variables=jc(jc({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,yp.refetch)},t.prototype.fetchMore=function(e){var t=this,r=jc(jc({},e.query?e:jc(jc(jc(jc({},this.options),{query:this.options.query}),e),{variables:jc(jc({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var n=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var i=this.queryInfo,o=i.networkStatus;i.networkStatus=yp.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var a=new Set,s=null==e?void 0:e.updateQuery,c="no-cache"!==this.options.fetchPolicy;return c||vf(s,21),this.queryManager.fetchQuery(n,r,yp.fetchMore).then((function(u){if(t.queryManager.removeQuery(n),i.networkStatus===yp.fetchMore&&(i.networkStatus=o),c)t.queryManager.cache.batch({update:function(n){var i=e.updateQuery;i?n.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return i(e,{fetchMoreResult:u.data,variables:r.variables})})):n.writeQuery({query:r.query,variables:r.variables,data:u.data})},onWatchUpdated:function(e){a.add(e.query)}});else{var f=t.getLast("result"),d=s(f.data,{fetchMoreResult:u.data,variables:r.variables});t.reportResult(jc(jc({},f),{data:d}),t.variables)}return u})).finally((function(){c&&!a.has(t.query)&&Op(t)}))},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var n=e.updateQuery;n&&t.updateQuery((function(e,t){var i=t.variables;return n(e,{subscriptionData:r,variables:i})}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&vf.error(22,t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=vp(this.options,e||{});kp(this.options,t)},t.prototype.setVariables=function(e){return sh(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},yp.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,r=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(t.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,n=void 0===r?"cache-first":r,i=t.initialFetchPolicy,o=void 0===i?n:i;"standby"===n||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(n,{reason:e,options:t,observable:this,initialFetchPolicy:o}):t.fetchPolicy="variables-changed"===e?o:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t,r)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(r&&this.hasObservers()){if(!t||t.interval!==r){vf(r,23),(t||(this.pollingInfo={})).interval=r;var n=function(){var t,r;e.pollingInfo&&(mp(e.queryInfo.networkStatus)||(null===(r=(t=e.options).skipPollAttempt)||void 0===r?void 0:r.call(t))?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},yp.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var r=this.getLastError();return r&&this.last&&!sh(t,this.last.variables)&&(r=void 0),this.last=jc({result:this.queryManager.assumeImmutableResults?e:wp(e),variables:t},r?{error:r}:null)},t.prototype.reobserveAsConcast=function(e,t){var r=this;this.isTornDown=!1;var n=t===yp.refetch||t===yp.fetchMore||t===yp.poll,i=this.options.variables,o=this.options.fetchPolicy,a=vp(this.options,e||{}),s=n?a:kp(this.options,a),c=this.transformDocument(s.query);this.lastQuery=c,n||(this.updatePolling(),!e||!e.variables||sh(e.variables,i)||"standby"===s.fetchPolicy||s.fetchPolicy!==o&&"function"!=typeof s.nextFetchPolicy||(this.applyNextFetchPolicy("variables-changed",s),void 0===t&&(t=yp.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Bp(s.fetchPolicy));var u=function(){r.concast===l&&(r.waitForOwnResult=!1)},f=s.variables&&jc({},s.variables),d=this.fetch(s,t,c),l=d.concast,h=d.fromLink,p={next:function(e){sh(r.variables,f)&&(u(),r.reportResult(e,f))},error:function(e){sh(r.variables,f)&&(ll(e)||(e=new hl({networkError:e})),u(),r.reportError(e,f))}};return n||!h&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=l,this.observer=p),l.addObserver(p),l},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.last;this.resetLastResults();var n=this.subscribe.apply(this,e);return this.last=r,n},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this.getLastError(),n=this.isDifferentFromLastResult(e,t);(r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(r||n)&&hp(this.observers,"next",e)},t.prototype.reportError=function(e,t){var r=jc(jc({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:yp.error,loading:!1});this.updateLastResult(r,t),hp(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}($f);function Op(e){var t=e.options,r=t.fetchPolicy,n=t.nextFetchPolicy;return"cache-and-network"===r||"network-only"===r?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,t){return this.nextFetchPolicy=n,"function"==typeof this.nextFetchPolicy?this.nextFetchPolicy(e,t):r}}):e.reobserve()}function Pp(e){!1!==globalThis.__DEV__&&vf.error(24,e.message,e.stack)}function Mp(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&vf.debug(25,e)}function Bp(e){return"network-only"===e||"no-cache"===e||"standby"===e}pp(Cp);var Dp=new(nl?WeakMap:Map);function Rp(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return Dp.set(e,(Dp.get(e)+1)%1e15),r.apply(this,arguments)})}function Lp(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Np=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Dp.has(r)||(Dp.set(r,0),Rp(r,"evict"),Rp(r,"modify"),Rp(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||yp.loading;return this.variables&&this.networkStatus!==yp.loading&&!sh(this.variables,e.variables)&&(t=yp.setVariables),sh(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Lp(this),this.dirty=!1},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&sh(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,r=this,n=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(null===(t=this.observableQuery)||void 0===t?void 0:t.getLastError())||(this.updateLastDiff(e),this.dirty||sh(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return r.notify()}),0))))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():Op(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Lp(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(mp(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var n=jc(jc({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&sh(n,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=n))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===Dp.get(this.cache)&&sh(t,r.variables)&&sh(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,n){var i=this,o=new _l,a=bl(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&bl(e.incremental)){var s=xl(this.getDiff().result,e);e.data=s}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=o.merge(c.result,e.data)}this.graphQLErrors=a,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==n&&(jp(e,r.errorPolicy)?this.cache.performTransaction((function(o){if(i.shouldWrite(e,r.variables))o.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===n}),i.lastWrite={result:e,variables:r.variables,dmCount:Dp.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var a=i.getDiffOptions(r.variables),s=o.diff(a);!i.stopped&&sh(i.variables,r.variables)&&i.updateWatch(r.variables),i.updateLastDiff(s,a),s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=yp.ready},e.prototype.markError=function(e){return this.networkStatus=yp.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function jp(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,n=!dp(e);return!n&&r&&e.data&&(n=!0),n}var Up=Object.prototype.hasOwnProperty,Hp=Object.create(null),Fp=function(){function e(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new sd(fd["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new mh(!1);var r=new up((function(e){return t.cache.transformDocument(e)}),{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults;var n=e.documentTransform;this.documentTransform=n?r.concat(n).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,r){e.stopQueryNoBroadcast(r)})),this.cancelPendingFetches(_f(26))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return Hc(this,arguments,void 0,(function(e){var t,r,n,i,o,a,s,c=e.mutation,u=e.variables,f=e.optimisticResponse,d=e.updateQueries,l=e.refetchQueries,h=void 0===l?[]:l,p=e.awaitRefetchQueries,b=void 0!==p&&p,y=e.update,g=e.onQueryUpdated,m=e.fetchPolicy,v=void 0===m?(null===(a=this.defaultOptions.mutate)||void 0===a?void 0:a.fetchPolicy)||"network-only":m,_=e.errorPolicy,w=void 0===_?(null===(s=this.defaultOptions.mutate)||void 0===s?void 0:s.errorPolicy)||"none":_,S=e.keepRootFields,x=e.context;return Fc(this,(function(e){switch(e.label){case 0:return vf(c,27),vf("network-only"===v||"no-cache"===v,28),t=this.generateMutationId(),c=this.cache.transformForLink(this.transform(c)),r=this.getDocumentInfo(c).hasClientExports,u=this.getVariables(c,u),r?[4,this.localState.addExportedVariables(c,u,x)]:[3,2];case 1:u=e.sent(),e.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[t]={mutation:c,variables:u,loading:!0,error:null}),i=f&&this.markMutationOptimistic(f,{mutationId:t,document:c,variables:u,fetchPolicy:v,errorPolicy:w,context:x,updateQueries:d,update:y,keepRootFields:S}),this.broadcastQueries(),o=this,[2,new Promise((function(e,r){return fp(o.getObservableFromLink(c,jc(jc({},x),{optimisticResponse:i?f:void 0}),u,{},!1),(function(e){if(dp(e)&&"none"===w)throw new hl({graphQLErrors:lp(e)});n&&(n.loading=!1,n.error=null);var r=jc({},e);return"function"==typeof h&&(h=h(r)),"ignore"===w&&dp(r)&&delete r.errors,o.markMutationResult({mutationId:t,result:r,document:c,variables:u,fetchPolicy:v,errorPolicy:w,context:x,update:y,updateQueries:d,awaitRefetchQueries:b,refetchQueries:h,removeOptimistic:i?t:void 0,onQueryUpdated:g,keepRootFields:S})})).subscribe({next:function(t){o.broadcastQueries(),"hasNext"in t&&!1!==t.hasNext||e(t)},error:function(e){n&&(n.loading=!1,n.error=e),i&&o.cache.removeOptimistic(t),o.broadcastQueries(),r(e instanceof hl?e:new hl({networkError:e}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var n=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&jp(n,e.errorPolicy)){if(wl(n)||i.push({result:n.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),wl(n)&&bl(n.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),s=void 0;a.result&&(s=xl(a.result,n)),void 0!==s&&(n.data=s,i.push({result:s,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach((function(e,o){var a=e.observableQuery,s=a&&a.queryName;if(s&&Up.call(c,s)){var u=c[s],f=r.queries.get(o),d=f.document,l=f.variables,h=t.diff({query:d,variables:l,returnPartialData:!0,optimistic:!1}),p=h.result;if(h.complete&&p){var b=u(p,{mutationResult:n,queryName:d&&jd(d)||void 0,queryVariables:l});b&&i.push({result:b,dataId:"ROOT_QUERY",query:d,variables:l})}}}))}if(i.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var a,s=e.update,c=!(wl(a=n)||function(e){return"hasNext"in e&&"data"in e}(a))||wl(n)&&!n.hasNext;if(s){if(!o){var u=t.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});u.complete&&("incremental"in(n=jc(jc({},n),{data:u.result}))&&delete n.incremental,"hasNext"in n&&delete n.hasNext)}c&&s(t,n,{context:e.context,variables:e.variables})}o||e.keepRootFields||!c||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,n=t.DELETE;return"__typename"===r?e:n}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return u.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(u).then((function(){return n}))}return Promise.resolve(n)},e.prototype.markMutationOptimistic=function(e,t){var r=this,n="function"==typeof e?e(t.variables,{IGNORE:Hp}):e;return n!==Hp&&(this.cache.recordOptimisticTransaction((function(e){try{r.markMutationResult(jc(jc({},t),{result:{data:n}}),e)}catch(e){!1!==globalThis.__DEV__&&vf.error(e)}}),t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(e,t,r).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:Zd(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Jd(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:Yl([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:zd(Nd(e)),asQuery:jc(jc({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?jc(jc({},e),{operation:"query"}):e}))})};t.set(e,r)}return t.get(e)},e.prototype.getVariables=function(e,t){return jc(jc({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=jc(jc({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=new Np(this),n=new Cp({queryManager:this,queryInfo:r,options:e});return n.lastQuery=t,this.queries.set(n.queryId,r),r.init({document:t,observableQuery:n,variables:n.variables}),n},e.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),vf(e.query,29),vf("Document"===e.query.kind,30),vf(!e.returnPartialData,31),vf(!e.pollInterval,32),this.fetchQuery(t,jc(jc({},e),{query:this.transform(e.query)})).finally((function(){return r.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(_f(33)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=yp.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,n=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var r;"string"==typeof e?n.set(e,!1):Wf(r=e)&&"Document"===r.kind&&Array.isArray(r.definitions)?n.set(t.transform(e),!1):Wf(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,a=t.document;if(o){if("all"===e)return void r.set(i,o);var s=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||s&&n.has(s)||a&&n.has(a))&&(r.set(i,o),s&&n.set(s,!0),a&&n.set(a,!0))}})),i.size&&i.forEach((function(e){var n=yf("legacyOneTimeQuery"),i=t.getQuery(n).init({document:e.query,variables:e.variables}),o=new Cp({queryManager:t,queryInfo:i,options:jc(jc({},e),{fetchPolicy:"network-only"})});vf(o.queryId===n),i.setObservableQuery(o),r.set(n,o)})),!1!==globalThis.__DEV__&&n.size&&n.forEach((function(e,t){e||!1!==globalThis.__DEV__&&vf.warn("string"==typeof t?34:35,t)})),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach((function(n,i){var o=n.options.fetchPolicy;n.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&r.push(n.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.fetchPolicy,i=e.errorPolicy,o=void 0===i?"none":i,a=e.variables,s=e.context,c=void 0===s?{}:s,u=e.extensions,f=void 0===u?{}:u;r=this.transform(r),a=this.getVariables(r,a);var d=function(e){return t.getObservableFromLink(r,c,e,f).map((function(i){"no-cache"!==n&&(jp(i,o)&&t.cache.write({query:r,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var a=dp(i),s=function(e){return!!e.extensions&&Array.isArray(e.extensions[dl])}(i);if(a||s){var c={};if(a&&(c.graphQLErrors=i.errors),s&&(c.protocolErrors=i.extensions[dl]),"none"===o||s)throw new hl(c)}return"ignore"===o&&delete i.errors,i}))};if(this.getDocumentInfo(r).hasClientExports){var l=this.localState.addExportedVariables(r,a,c).then(d);return new $f((function(e){var t=null;return l.then((function(r){return t=r.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return d(a)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,n,i){var o,a,s=this;void 0===i&&(i=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var c=this.getDocumentInfo(e),u=c.serverQuery,f=c.clientQuery;if(u){var d=this.inFlightLinkObservables,l=this.link,h={query:u,variables:r,operationName:jd(u)||void 0,context:this.prepareContext(jc(jc({},t),{forceFetch:!i})),extensions:n};if(t=h.context,i){var p=Ul(u),b=xd(r),y=d.lookup(p,b);if(!(a=y.observable)){var g=new gp([Wd(l,h)]);a=y.observable=g,g.beforeNext((function(){d.remove(p,b)}))}}else a=new gp([Wd(l,h)])}else a=new gp([$f.of({data:{}})]),t=this.prepareContext(t);return f&&(a=fp(a,(function(e){return s.localState.runResolvers({document:f,remoteResult:e,context:t,variables:r})}))),a},e.prototype.getResultsFromLink=function(e,t,r){var n=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(r.query);return fp(this.getObservableFromLink(i,r.context,r.variables),(function(o){var a=lp(o),s=a.length>0,c=r.errorPolicy;if(n>=e.lastRequestId){if(s&&"none"===c)throw e.markError(new hl({graphQLErrors:a}));e.markResult(o,i,r,t),e.markReady()}var u={data:o.data,loading:!1,networkStatus:yp.ready};return s&&"none"===c&&(u.data=void 0),s&&"ignore"!==c&&(u.errors=a,u.networkStatus=yp.error),u}),(function(t){var r=ll(t)?t:new hl({networkError:t});throw n>=e.lastRequestId&&e.markError(r),r}))},e.prototype.fetchConcastWithInfo=function(e,t,r,n){var i=this;void 0===r&&(r=yp.loading),void 0===n&&(n=t.query);var o,a,s=this.getVariables(n,t.variables),c=this.getQuery(e),u=this.defaultOptions.watchQuery,f=t.fetchPolicy,d=void 0===f?u&&u.fetchPolicy||"cache-first":f,l=t.errorPolicy,h=void 0===l?u&&u.errorPolicy||"none":l,p=t.returnPartialData,b=void 0!==p&&p,y=t.notifyOnNetworkStatusChange,g=void 0!==y&&y,m=t.context,v=void 0===m?{}:m,_=Object.assign({},t,{query:n,variables:s,fetchPolicy:d,errorPolicy:h,returnPartialData:b,notifyOnNetworkStatusChange:g,context:v}),w=function(e){_.variables=e;var n=i.fetchQueryByPolicy(c,_,r);return"standby"!==_.fetchPolicy&&n.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),n},S=function(){return i.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){S(),setTimeout((function(){return o.cancel(e)}))})),this.getDocumentInfo(_.query).hasClientExports)o=new gp(this.localState.addExportedVariables(_.query,_.variables,_.context).then(w).then((function(e){return e.sources}))),a=!0;else{var x=w(_.variables);a=x.fromLink,o=new gp(x.sources)}return o.promise.then(S,S),{concast:o,fromLink:a}},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,n=e.include,i=e.optimistic,o=void 0!==i&&i,a=e.removeOptimistic,s=void 0===a?o?yf("refetchQueries"):void 0:a,c=e.onQueryUpdated,u=new Map;n&&this.getObservableQueries(n).forEach((function(e,r){u.set(r,{oq:e,lastDiff:t.getQuery(r).getDiff()})}));var f=new Map;return r&&this.cache.batch({update:r,optimistic:o&&s||!1,removeOptimistic:s,onWatchUpdated:function(e,t,r){var n=e.watcher instanceof Np&&e.watcher.observableQuery;if(n){if(c){u.delete(n.queryId);var i=c(n,t,r);return!0===i&&(i=n.refetch()),!1!==i&&f.set(n,i),i}null!==c&&u.set(n.queryId,{oq:n,lastDiff:r,diff:t})}}}),u.size&&u.forEach((function(e,r){var n,i=e.oq,o=e.lastDiff,a=e.diff;if(c){if(!a){var s=i.queryInfo;s.reset(),a=s.getDiff()}n=c(i,a,o)}c&&!0!==n||(n=i.refetch()),!1!==n&&f.set(i,n),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)})),s&&this.cache.removeOptimistic(s),f},e.prototype.fetchQueryByPolicy=function(e,t,r){var n=this,i=t.query,o=t.variables,a=t.fetchPolicy,s=t.refetchWritePolicy,c=t.errorPolicy,u=t.returnPartialData,f=t.context,d=t.notifyOnNetworkStatusChange,l=e.networkStatus;e.init({document:i,variables:o,networkStatus:r});var h=function(){return e.getDiff()},p=function(t,r){void 0===r&&(r=e.networkStatus||yp.loading);var a=t.result;!1===globalThis.__DEV__||u||sh(a,{})||Mp(t.missing);var s=function(e){return $f.of(jc({data:e,loading:mp(r),networkStatus:r},t.complete?null:{partial:!0}))};return a&&n.getDocumentInfo(i).hasForcedResolvers?n.localState.runResolvers({document:i,remoteResult:{data:a},context:f,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return s(e.data||void 0)})):"none"===c&&r===yp.refetch&&Array.isArray(t.missing)?s(void 0):s(a)},b="no-cache"===a?0:r===yp.refetch&&"merge"!==s?1:2,y=function(){return n.getResultsFromLink(e,b,{query:i,variables:o,context:f,fetchPolicy:a,errorPolicy:c})},g=d&&"number"==typeof l&&l!==r&&mp(r);switch(a){default:case"cache-first":return(m=h()).complete?{fromLink:!1,sources:[p(m,e.markReady())]}:u||g?{fromLink:!0,sources:[p(m),y()]}:{fromLink:!0,sources:[y()]};case"cache-and-network":var m;return(m=h()).complete||u||g?{fromLink:!0,sources:[p(m),y()]}:{fromLink:!0,sources:[y()]};case"cache-only":return{fromLink:!1,sources:[p(h(),e.markReady())]};case"network-only":return g?{fromLink:!0,sources:[p(h()),y()]}:{fromLink:!0,sources:[y()]};case"no-cache":return g?{fromLink:!0,sources:[p(e.getDiff()),y()]}:{fromLink:!0,sources:[y()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Np(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return jc(jc(jc({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}();function zp(e){return e.kind===ou.FIELD||e.kind===ou.FRAGMENT_SPREAD||e.kind===ou.INLINE_FRAGMENT}var qp=new Ph,Kp=new WeakMap;function Vp(e){var t=Kp.get(e);return t||Kp.set(e,t={vars:new Set,dep:np()}),t}function $p(e){Vp(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Wp(e){var t=new Set,r=new Set,n=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Vp(e).dep.dirty(n),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)}));var a=Array.from(r);r.clear(),a.forEach((function(t){return t(e)}))}}else{var s=qp.getValue();s&&(i(s),Vp(s).dep(n))}return e};n.onNextChange=function(e){return r.add(e),function(){r.delete(e)}};var i=n.attachCache=function(e){return t.add(e),Vp(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}var Gp=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=gl(t.resolvers,e)})):this.resolvers=gl(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return Hc(this,arguments,void 0,(function(e){var t=e.document,r=e.remoteResult,n=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return Fc(this,(function(e){return t?[2,this.resolveDocument(t,r.data,n,i,this.fragmentMatcher,a).then((function(e){return jc(jc({},r),{data:e.result})}))]:[2,r]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Jd(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return Zl(e)},e.prototype.prepareContext=function(e){var t=this.cache;return jc(jc({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return Hc(this,arguments,void 0,(function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),Fc(this,(function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then((function(e){return jc(jc({},t),e.exportedVariables)}))]:[2,jc({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return Qd(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Gd}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Jl(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return Hc(this,arguments,void 0,(function(e,t,r,n,i,o){var a,s,c,u,f,d,l,h,p,b;return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),Fc(this,(function(y){return a=Fd(e),s=Ud(e),c=Qf(s),u=this.collectSelectionsToResolve(a,c),f=a.operation,d=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",h=(l=this).cache,p=l.client,b={fragmentMap:c,context:jc(jc({},r),{cache:h,client:p}),variables:n,fragmentMatcher:i,defaultOperationType:d,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,false,t,b).then((function(e){return{result:e,exportedVariables:b.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,r,n){return Hc(this,void 0,void 0,(function(){var i,o,a,s,c,u=this;return Fc(this,(function(f){return i=n.fragmentMap,o=n.context,a=n.variables,s=[r],c=function(e){return Hc(u,void 0,void 0,(function(){var c,u;return Fc(this,(function(f){return(t||n.selectionsToResolve.has(e))&&Xd(e,a)?Rd(e)?[2,this.resolveField(e,t,r,n).then((function(t){var r;void 0!==t&&s.push(((r={})[Bd(e)]=t,r))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(c=i[e.name.value],vf(c,18,e.name.value)):c=e,c&&c.typeCondition&&(u=c.typeCondition.name.value,n.fragmentMatcher(r,u,o))?[2,this.resolveSelectionSet(c.selectionSet,t,r,n).then((function(e){s.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(c)).then((function(){return ml(s)}))]}))}))},e.prototype.resolveField=function(e,t,r,n){return Hc(this,void 0,void 0,(function(){var i,o,a,s,c,u,f,d,l,h=this;return Fc(this,(function(p){return r?(i=n.variables,o=e.name.value,a=Bd(e),s=o!==a,c=r[a]||r[o],u=Promise.resolve(c),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(f=r.__typename||n.defaultOperationType,(d=this.resolvers&&this.resolvers[f])&&(l=d[s?o:a])&&(u=Promise.resolve(qp.withValue(this.cache,l,[r,Md(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(r){var i,o;if(void 0===r&&(r=c),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=r)}))})),!e.selectionSet)return r;if(null==r)return r;var a=null!==(o=null===(i=e.directives)||void 0===i?void 0:i.some((function(e){return"client"===e.name.value})))&&void 0!==o&&o;return Array.isArray(r)?h.resolveSubSelectedArray(e,t||a,r,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t||a,r,n):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,r,n){var i=this;return Promise.all(r.map((function(r){return null===r?null:Array.isArray(r)?i.resolveSubSelectedArray(e,t,r,n):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,r,n):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var r=function(e){return!Array.isArray(e)},n=this.selectionsToResolveCache;return function e(i){if(!n.has(i)){var o=new Set;n.set(i,o),Qd(i,{Directive:function(e,t,n,i,a){"client"===e.name.value&&a.forEach((function(e){r(e)&&zp(e)&&o.add(e)}))},FragmentSpread:function(n,i,a,s,c){var u=t[n.name.value];vf(u,19,n.name.value);var f=e(u);f.size>0&&(c.forEach((function(e){r(e)&&zp(e)&&o.add(e)})),o.add(n),f.forEach((function(e){o.add(e)})))}})}return n.get(i)}(e)},e}();function Qp(e,t){return vp(e,t,t.variables&&{variables:vp(jc(jc({},e&&e.variables),t.variables))})}var Yp=!1,Xp=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw _f(15);var r=e.uri,n=e.credentials,i=e.headers,o=e.cache,a=e.documentTransform,s=e.ssrMode,c=void 0!==s&&s,u=e.ssrForceFetchDelay,f=void 0===u?0:u,d=e.connectToDevTools,l=e.queryDeduplication,h=void 0===l||l,p=e.defaultOptions,b=e.defaultContext,y=e.assumeImmutableResults,g=void 0===y?o.assumeImmutableResults:y,m=e.resolvers,v=e.typeDefs,_=e.fragmentMatcher,w=e.name,S=e.version,x=e.devtools,A=e.link;A||(A=r?new rh({uri:r,credentials:n,headers:i}):$d.empty()),this.link=A,this.cache=o,this.disableNetworkFetches=c||f>0,this.queryDeduplication=h,this.defaultOptions=p||Object.create(null),this.typeDefs=v,this.devtoolsConfig=jc(jc({},x),{enabled:(null==x?void 0:x.enabled)||d}),void 0===this.devtoolsConfig.enabled&&(this.devtoolsConfig.enabled=!1!==globalThis.__DEV__),f&&setTimeout((function(){return t.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=lf,this.localState=new Gp({cache:o,client:this,resolvers:m,fragmentMatcher:_}),this.queryManager=new Fp({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:b,documentTransform:a,queryDeduplication:h,ssrMode:c,clientAwareness:{name:w,version:S},localState:this.localState,assumeImmutableResults:g,onBroadcast:this.devtoolsConfig.enabled?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("undefined"!=typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this,Yp||!1===globalThis.__DEV__||(Yp=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout((function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,r=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?r="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(r="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),r&&!1!==globalThis.__DEV__&&vf.log("Download the Apollo DevTools for a better development experience: %s",r)}}),1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Qp(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=jc(jc({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Qp(this.defaultOptions.query,e)),vf("cache-and-network"!==e.fetchPolicy,16),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=jc(jc({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Qp(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){return this.cache.watchFragment(e)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return Wd(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],n=[];t.forEach((function(e,t){r.push(t),n.push(e)}));var i=Promise.all(n);return i.queries=r,i.results=n,i.catch((function(e){!1!==globalThis.__DEV__&&vf.debug(17,e)})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(Xp.prototype.getMemoryInternals=hd);var Jp=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=sp(Gf,{max:fd["cache.fragmentQueryDocuments"]||1e3,cache:rd})}return e.prototype.batch=function(e){var t,r=this,n="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(r)}),n),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(jc(jc({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.watchFragment=function(e){var t,r=this,n=e.fragment,i=e.fragmentName,o=e.from,a=e.optimistic,s=void 0===a||a,c=Uc(e,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(n,i),f=jc(jc({},c),{returnPartialData:!0,id:"string"==typeof o?o:this.identify(o),query:u,optimistic:s});return new $f((function(e){return r.watch(jc(jc({},f),{immediate:!0,callback:function(r){if(!t||!xp(u,{data:null==t?void 0:t.result},{data:r.result})){var n={data:r.result,complete:!!r.complete};r.missing&&(n.missing=ml(r.missing.map((function(e){return e.missing})))),t=r,e.next(n)}}}))}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(jc(jc({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,r=e.data,n=Uc(e,["id","data"]);return this.write(Object.assign(n,{dataId:t||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(e){var t=e.id,r=e.data,n=e.fragment,i=e.fragmentName,o=Uc(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(n,i),dataId:t,result:r}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var n=r.readQuery(e),i=t(n);return null==i?n:(r.writeQuery(jc(jc({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var n=r.readFragment(e),i=t(n);return null==i?n:(r.writeFragment(jc(jc({},e),{data:i})),i)}})},e}();!1!==globalThis.__DEV__&&(Jp.prototype.getMemoryInternals=bd);var Zp=function(e){function t(r,n,i,o){var a,s=e.call(this,r)||this;if(s.message=r,s.path=n,s.query=i,s.variables=o,Array.isArray(s.path)){s.missing=s.message;for(var c=s.path.length-1;c>=0;--c)s.missing=((a={})[s.path[c]]=s.missing,a)}else s.missing=s.path;return s.__proto__=t.prototype,s}return Nc(t,e),t}(Error);function eb(e){var t=new Set([e]);return t.forEach((function(e){Wf(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(r){Wf(e[r])&&t.add(e[r])}))})),e}function tb(e){return!1!==globalThis.__DEV__&&eb(e),e}var rb=Object.prototype.hasOwnProperty;function nb(e){return null==e}function ib(e,t){var r=e.__typename,n=e.id,i=e._id;if("string"==typeof r&&(t&&(t.keyObject=nb(n)?nb(i)?void 0:{_id:i}:{id:n}),nb(n)&&!nb(i)&&(n=i),!nb(n)))return"".concat(r,":").concat("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))}var ob={dataIdFromObject:ib,addTypename:!0,resultCaching:!0,canonizeResults:!1};function ab(e){var t=e.canonizeResults;return void 0===t?ob.canonizeResults:t}var sb=/^[_a-z][_0-9a-z]*/i;function cb(e){var t=e.match(sb);return t?t[0]:e}function ub(e,t,r){return!!Wf(t)&&(pl(t)?t.every((function(t){return ub(e,t,r)})):e.selections.every((function(e){if(Rd(e)&&Xd(e,r)){var n=Bd(e);return rb.call(t,n)&&(!e.selectionSet||ub(e.selectionSet,t[n],r))}return!0})))}function fb(e){return Wf(e)&&!kd(e)&&!pl(e)}function db(e,t){var r=Qf(Ud(e));return{fragmentMap:r,lookupFragment:function(e){var n=r[e];return!n&&t&&(n=t.lookup(e)),n||null}}}var lb=Object.create(null),hb=function(){return lb},pb=Object.create(null),bb=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return tb(kd(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return kd(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Id(e);if(kd(e))return e;var n=r.policies.identify(e)[0];if(n){var i=Id(n);return t&&r.merge(n,e),i}}}return e.prototype.toObject=function(){return jc({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),rb.call(this.data,e)){var r=this.data[e];if(r&&rb.call(r,t))return r[t]}return"__typename"===t&&rb.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof vb?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),rb.call(this.data,e)?this.data[e]:this instanceof vb?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var r,n=this;kd(e)&&(e=e.__ref),kd(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(r=e):e,o="string"==typeof t?this.lookup(r=t):t;if(o){vf("string"==typeof r,1);var a=new _l(wb).merge(i,o);if(this.data[r]=a,a!==i&&(delete this.refs[r],this.group.caching)){var s=Object.create(null);i||(s.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==a[e]){s[e]=1;var t=cb(e);t===e||n.policies.hasKeyArgs(a.__typename,t)||(s[t]=1),void 0!==a[e]||n instanceof vb||delete a[e]}})),!s.__typename||i&&i.__typename||this.policies.rootTypenamesById[r]!==a.__typename||delete s.__typename,Object.keys(s).forEach((function(e){return n.group.dirty(r,e)}))}}},e.prototype.modify=function(e,t){var r=this,n=this.lookup(e);if(n){var i=Object.create(null),o=!1,a=!0,s={DELETE:lb,INVALIDATE:pb,isReference:kd,toReference:this.toReference,canRead:this.canRead,readField:function(t,n){return r.policies.readField("string"==typeof t?{fieldName:t,from:n||Id(e)}:t,{store:r})}};if(Object.keys(n).forEach((function(c){var u=cb(c),f=n[c];if(void 0!==f){var d="function"==typeof t?t:t[c]||t[u];if(d){var l=d===hb?lb:d(tb(f),jc(jc({},s),{fieldName:u,storeFieldName:c,storage:r.getStorage(e,c)}));if(l===pb)r.group.dirty(e,c);else if(l===lb&&(l=void 0),l!==f&&(i[c]=l,o=!0,f=l,!1!==globalThis.__DEV__)){var h=function(e){if(void 0===r.lookup(e.__ref))return!1!==globalThis.__DEV__&&vf.warn(2,e),!0};if(kd(l))h(l);else if(Array.isArray(l))for(var p=!1,b=void 0,y=0,g=l;y<g.length;y++){var m=g[y];if(kd(m)){if(p=!0,h(m))break}else if("object"==typeof m&&m)r.policies.identify(m)[0]&&(b=m);if(p&&void 0!==b){!1!==globalThis.__DEV__&&vf.warn(3,b);break}}}}void 0!==f&&(a=!1)}})),o)return this.merge(e,i),a&&(this instanceof vb?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,r){var n,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),a=t&&r?this.policies.getStoreFieldName({typename:o,fieldName:t,args:r}):t;return this.modify(e,a?((n={})[a]=hb,n):hb)}return!1},e.prototype.evict=function(e,t){var r=!1;return e.id&&(rb.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof vb&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach((function(t){rb.call(e.policies.rootTypenamesById,t)||r.push(t)})),r.length&&(t.__META={extraRootIds:r.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(r){e&&rb.call(e,r)||t.delete(r)})),e){var r=e.__META,n=Uc(e,["__META"]);Object.keys(n).forEach((function(e){t.merge(e,n[e])})),r&&r.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof vb?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach((function(n){rb.call(r,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete r[n])}));var n=Object.keys(r);if(n.length){for(var i=this;i instanceof vb;)i=i.parent;n.forEach((function(e){return i.delete(e)}))}return n},e.prototype.findChildRefIds=function(e){if(!rb.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var n=new Set([r]);n.forEach((function(e){kd(e)&&(t[e.__ref]=!0),Wf(e)&&Object.keys(e).forEach((function(t){var r=e[t];Wf(r)&&n.add(r)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),yb=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?np():null,this.keyMaker=new mh(nl)},e.prototype.depend=function(e,t){if(this.d){this.d(gb(e,t));var r=cb(t);r!==t&&this.d(gb(e,r)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(gb(e,t),"__exists"===t?"forget":"setDirty")},e}();function gb(e,t){return t+"#"+e}function mb(e,t){Sb(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var r=t.policies,n=t.resultCaching,i=void 0===n||n,o=t.seed,a=e.call(this,r,new yb(i))||this;return a.stump=new _b(a),a.storageTrie=new mh(nl),o&&a.replace(o),a}return Nc(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(bb||(bb={}));var vb=function(e){function t(t,r,n,i){var o=e.call(this,r.policies,i)||this;return o.id=t,o.parent=r,o.replay=n,o.group=i,n(o),o}return Nc(t,e),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var t=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var n=t.data[e],i=r.lookup(e);i?n?n!==i&&Object.keys(n).forEach((function(r){sh(n[r],i[r])||t.group.dirty(e,r)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(r){t.group.dirty(e,r)}))):t.delete(e)})),r):r===this.parent?this:r.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return jc(jc({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return rb.call(this.data,t)?jc(jc({},r),e.prototype.findChildRefIds.call(this,t)):r},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(bb),_b=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new yb(t.group.caching,t.group))||this}return Nc(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}(vb);function wb(e,t,r){var n=e[r],i=t[r];return sh(n,i)?n:i}function Sb(e){return!!(e instanceof bb&&e.group.caching)}var xb=function(){function e(){this.known=new(il?WeakSet:Set),this.pool=new mh(nl),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Wf(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Wf(e)){var t=function(e){return Wf(e)?pl(e)?e.slice(0):jc({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Wf(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var n=e.map(this.admit,this);return(s=this.pool.lookupArray(n)).array||(this.known.add(s.array=n),!1!==globalThis.__DEV__&&Object.freeze(n)),s.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],a=this.sortedKeys(e);o.push(a.json);var s,c=o.length;if(a.sorted.forEach((function(r){o.push(t.admit(e[r]))})),!(s=this.pool.lookupArray(o)).object){var u=s.object=Object.create(i);this.known.add(u),a.sorted.forEach((function(e,t){u[e]=o[c+t]})),!1!==globalThis.__DEV__&&Object.freeze(u)}return s.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var n=JSON.stringify(t);(r.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,r.keys={sorted:t,json:n})}return r.keys},e}();function Ab(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var Eb=function(){function e(e){var t=this;this.knownResults=new(nl?WeakMap:Map),this.config=vp(e,{addTypename:!1!==e.addTypename,canonizeResults:ab(e)}),this.canon=e.canon||new xb,this.executeSelectionSet=sp((function(e){var r,n=e.context.canonizeResults,i=Ab(e);i[3]=!n;var o=(r=t.executeSelectionSet).peek.apply(r,i);return o?n?jc(jc({},o),{result:t.canon.admit(o.result)}):o:(mb(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize||fd["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:Ab,makeCacheKey:function(e,t,r,n){if(Sb(r.store))return r.store.makeCacheKey(e,kd(t)?t.__ref:t,r.varString,n)}}),this.executeSubSelectedArray=sp((function(e){return mb(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize||fd["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(e){var t=e.field,r=e.array,n=e.context;if(Sb(n.store))return n.store.makeCacheKey(t,r,n.varString)}})}return e.prototype.resetCanon=function(){this.canon=new xb},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.rootId,i=void 0===n?"ROOT_QUERY":n,o=e.variables,a=e.returnPartialData,s=void 0===a||a,c=e.canonizeResults,u=void 0===c?this.config.canonizeResults:c,f=this.config.cache.policies;o=jc(jc({},zd(Hd(r))),o);var d,l=Id(i),h=this.executeSelectionSet({selectionSet:Fd(r).selectionSet,objectOrReference:l,enclosingRef:l,context:jc({store:t,query:r,policies:f,variables:o,varString:xd(o),canonizeResults:u},db(r,this.config.fragments))});if(h.missing&&(d=[new Zp(Ib(h.missing),h.missing,r,o)],!s))throw d[0];return{result:h.result,complete:!d,missing:d}},e.prototype.isFresh=function(e,t,r,n){if(Sb(n.store)&&this.knownResults.get(e)===r){var i=this.executeSelectionSet.peek(r,t,n,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,n=e.objectOrReference,i=e.enclosingRef,o=e.context;if(kd(n)&&!o.policies.rootTypenamesById[n.__ref]&&!o.store.has(n.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(n.__ref," object")};var a,s=o.variables,c=o.policies,u=o.store.getFieldValue(n,"__typename"),f=[],d=new _l;function l(e,t){var r;return e.missing&&(a=d.merge(a,((r={})[t]=e.missing,r))),e.result}this.config.addTypename&&"string"==typeof u&&!c.rootIdsByTypename[u]&&f.push({__typename:u});var h=new Set(r.selections);h.forEach((function(e){var r,p;if(Xd(e,s))if(Rd(e)){var b=c.readField({fieldName:e.name.value,field:e,variables:o.variables,from:n},o),y=Bd(e);void 0===b?Xl.added(e)||(a=d.merge(a,((r={})[y]="Can't find field '".concat(e.name.value,"' on ").concat(kd(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)),r))):pl(b)?b.length>0&&(b=l(t.executeSubSelectedArray({field:e,array:b,enclosingRef:i,context:o}),y)):e.selectionSet?null!=b&&(b=l(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:b,enclosingRef:kd(b)?b:i,context:o}),y)):o.canonizeResults&&(b=t.canon.pass(b)),void 0!==b&&f.push(((p={})[y]=b,p))}else{var g=Yf(e,o.lookupFragment);if(!g&&e.kind===ou.FRAGMENT_SPREAD)throw _f(9,e.name.value);g&&c.fragmentMatches(g,u)&&g.selectionSet.selections.forEach(h.add,h)}}));var p={result:ml(f),missing:a},b=o.canonizeResults?this.canon.admit(p):tb(p);return b.result&&this.knownResults.set(b.result,r),b},e.prototype.execSubSelectedArrayImpl=function(e){var t,r=this,n=e.field,i=e.array,o=e.enclosingRef,a=e.context,s=new _l;function c(e,r){var n;return e.missing&&(t=s.merge(t,((n={})[r]=e.missing,n))),e.result}return n.selectionSet&&(i=i.filter(a.store.canRead)),i=i.map((function(e,t){return null===e?null:pl(e)?c(r.executeSubSelectedArray({field:n,array:e,enclosingRef:o,context:a}),t):n.selectionSet?c(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,enclosingRef:kd(e)?e:o,context:a}),t):(!1!==globalThis.__DEV__&&function(e,t,r){if(!t.selectionSet){var n=new Set([r]);n.forEach((function(r){Wf(r)&&(vf(!kd(r),10,function(e,t){return kd(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,r),t.name.value),Object.values(r).forEach(n.add,n))}))}}(a.store,n,e),e)})),{result:a.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function Ib(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var kb=Object.create(null);function Tb(e){var t=JSON.stringify(e);return kb[t]||(kb[t]=Object.create(null))}function Cb(e){var t=Tb(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,r){var n=function(e,t){return r.readField(t,e)},i=r.keyObject=Pb(e,(function(e){var i=Db(r.storeObject,e,n);return void 0===i&&t!==r.storeObject&&rb.call(t,e[0])&&(i=Db(t,e,Bb)),vf(void 0!==i,4,e.join("."),t),i}));return"".concat(r.typename,":").concat(JSON.stringify(i))})}function Ob(e){var t=Tb(e);return t.keyArgsFn||(t.keyArgsFn=function(t,r){var n=r.field,i=r.variables,o=r.fieldName,a=Pb(e,(function(e){var r=e[0],o=r.charAt(0);if("@"!==o)if("$"!==o){if(t)return Db(t,e)}else{var a=r.slice(1);if(i&&rb.call(i,a)){var s=e.slice(0);return s[0]=a,Db(i,s)}}else if(n&&bl(n.directives)){var c=r.slice(1),u=n.directives.find((function(e){return e.name.value===c})),f=u&&Md(u,i);return f&&Db(f,e.slice(1))}})),s=JSON.stringify(a);return(t||"{}"!==s)&&(o+=":"+s),o})}function Pb(e,t){var r=new _l;return Mb(e).reduce((function(e,n){var i,o=t(n);if(void 0!==o){for(var a=n.length-1;a>=0;--a)(i={})[n[a]]=o,o=i;e=r.merge(e,o)}return e}),Object.create(null))}function Mb(e){var t=Tb(e);if(!t.paths){var r=t.paths=[],n=[];e.forEach((function(t,i){pl(t)?(Mb(t).forEach((function(e){return r.push(n.concat(e))})),n.length=0):(n.push(t),pl(e[i+1])||(r.push(n.slice(0)),n.length=0))}))}return t.paths}function Bb(e,t){return e[t]}function Db(e,t,r){return r=r||Bb,Rb(t.reduce((function e(t,n){return pl(t)?t.map((function(t){return e(t,n)})):t&&r(t,n)}),e))}function Rb(e){return Wf(e)?pl(e)?e.map(Rb):Pb(Object.keys(e).sort(),(function(t){return Db(e,t)})):e}function Lb(e){return void 0!==e.args?e.args:e.field?Md(e.field,e.variables):null}var Nb=function(){},jb=function(e,t){return t.fieldName},Ub=function(e,t,r){return(0,r.mergeObjects)(e,t)},Hb=function(e,t){return t},Fb=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=jc({dataIdFromObject:ib},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var r,n=this,i=t&&(t.typename||(null===(r=t.storeObject)||void 0===r?void 0:r.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,a=t&&t.storeObject||e,s=jc(jc({},t),{typename:i,storeObject:a,readField:t&&t.readField||function(){var e=qb(arguments,a);return n.readField(e,{store:n.cache.data,variables:e.variables})}}),c=i&&this.getTypePolicy(i),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var f=u(jc(jc({},e),a),s);if(!pl(f)){o=f;break}u=Cb(f)}return o=o?String(o):void 0,s.keyObject?[o,s.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(r){var n=e[r],i=n.queryType,o=n.mutationType,a=n.subscriptionType,s=Uc(n,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",r),o&&t.setRootTypename("Mutation",r),a&&t.setRootTypename("Subscription",r),rb.call(t.toBeAdded,r)?t.toBeAdded[r].push(s):t.toBeAdded[r]=[s]}))},e.prototype.updateTypePolicy=function(e,t){var r=this,n=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function a(e,t){e.merge="function"==typeof t?t:!0===t?Ub:!1===t?Hb:e.merge}a(n,t.merge),n.keyFn=!1===i?Nb:pl(i)?Cb(i):"function"==typeof i?i:n.keyFn,o&&Object.keys(o).forEach((function(t){var n=r.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)n.read=i;else{var s=i.keyArgs,c=i.read,u=i.merge;n.keyFn=!1===s?jb:pl(s)?Ob(s):"function"==typeof s?s:n.keyFn,"function"==typeof c&&(n.read=c),a(n,u)}n.read&&n.merge&&(n.keyFn=n.keyFn||jb)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[r];t!==n&&(vf(!n||n===e,5,e),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(r){t.getSupertypeSet(r,!0),e[r].forEach((function(e){t.getSupertypeSet(e,!0).add(r);var n=e.match(sb);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!rb.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var n=this.supertypeMap.get(e);!n&&this.fuzzySubtypes.size&&(n=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(r,i){if(r.test(e)){var o=t.supertypeMap.get(i);o&&o.forEach((function(e){return n.add(e)}))}}))),n&&n.size&&n.forEach((function(e){var n=t.getTypePolicy(e),i=n.fields,o=Uc(n,["fields"]);Object.assign(r,o),Object.assign(r.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(r){t.updateTypePolicy(e,r)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,r){if(e){var n=this.getTypePolicy(e).fields;return n[t]||r&&(n[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},e.prototype.fragmentMatches=function(e,t,r,n){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var a=this.getSupertypeSet(t,!0),s=[a],c=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&s.indexOf(t)<0&&s.push(t)},u=!(!r||!this.fuzzySubtypes.size),f=!1,d=0;d<s.length;++d){var l=s[d];if(l.has(o))return a.has(o)||(f&&!1!==globalThis.__DEV__&&vf.warn(6,t,o),a.add(o)),!0;l.forEach(c),u&&d===s.length-1&&ub(e.selectionSet,r,n)&&(u=!1,f=!0,this.fuzzySubtypes.forEach((function(e,r){var n=t.match(e);n&&n[0]===t&&c(r)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!(!r||!r.keyFn)},e.prototype.getStoreFieldName=function(e){var t,r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),o=i&&i.keyFn;if(o&&r)for(var a={typename:r,fieldName:n,field:e.field||null,variables:e.variables},s=Lb(e);o;){var c=o(s,a);if(!pl(c)){t=c||n;break}o=Ob(c)}return void 0===t&&(t=e.field?function(e,t){var r=null;e.directives&&(r={},e.directives.forEach((function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach((function(n){var i=n.name,o=n.value;return Td(r[e.name.value],i,o,t)}))})));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach((function(e){var r=e.name,i=e.value;return Td(n,r,i,t)}))),Pd(e.name.value,n,r)}(e.field,e.variables):Pd(n,Lb(e))),!1===t?n:n===cb(t)?t:n+":"+t},e.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(r,"__typename");n&&(e.typename=n)}var i=this.getStoreFieldName(e),o=cb(i),a=t.store.getFieldValue(r,i),s=this.getFieldPolicy(e.typename,o,!1),c=s&&s.read;if(c){var u=zb(this,r,e,t,t.store.getStorage(kd(r)?r.__ref:r,i));return qp.withValue(this.cache,c,[a,u])}return a}},e.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},e.prototype.getMergeFunction=function(e,t,r){var n=this.getFieldPolicy(e,t,!1),i=n&&n.merge;return!i&&r&&(i=(n=this.getTypePolicy(r))&&n.merge),i},e.prototype.runMergeFunction=function(e,t,r,n,i){var o=r.field,a=r.typename,s=r.merge;return s===Ub?Kb(n.store)(e,t):s===Hb?t:(n.overwrite&&(e=void 0),s(e,t,zb(this,void 0,{typename:a,fieldName:o.name.value,field:o,variables:n.variables},n,i||Object.create(null))))},e}();function zb(e,t,r,n,i){var o=e.getStoreFieldName(r),a=cb(o),s=r.variables||n.variables,c=n.store,u=c.toReference,f=c.canRead;return{args:Lb(r),field:r.field||null,fieldName:a,storeFieldName:o,variables:s,isReference:kd,toReference:u,storage:i,cache:e.cache,canRead:f,readField:function(){return e.readField(qb(arguments,t,s),n)},mergeObjects:Kb(n.store)}}function qb(e,t,r){var n,i=e[0],o=e[1],a=e.length;return"string"==typeof i?n={fieldName:i,from:a>1?o:t}:(n=jc({},i),rb.call(n,"from")||(n.from=t)),!1!==globalThis.__DEV__&&void 0===n.from&&!1!==globalThis.__DEV__&&vf.warn(7,gf(Array.from(e))),void 0===n.variables&&(n.variables=r),n}function Kb(e){return function(t,r){if(pl(t)||pl(r))throw _f(8);if(Wf(t)&&Wf(r)){var n=e.getFieldValue(t,"__typename"),i=e.getFieldValue(r,"__typename");if(n&&i&&n!==i)return r;if(kd(t)&&fb(r))return e.merge(t.__ref,r),t;if(fb(t)&&kd(r))return e.merge(t,r.__ref),r;if(fb(t)&&fb(r))return jc(jc({},t),r)}return r}}function Vb(e,t,r){var n="".concat(t).concat(r),i=e.flavors.get(n);return i||e.flavors.set(n,i=e.clientOnly===t&&e.deferred===r?e:jc(jc({},e),{clientOnly:t,deferred:r})),i}var $b=function(){function e(e,t,r){this.cache=e,this.reader=t,this.fragments=r}return e.prototype.writeToStore=function(e,t){var r=this,n=t.query,i=t.result,o=t.dataId,a=t.variables,s=t.overwrite,c=Nd(n),u=new _l;a=jc(jc({},zd(c)),a);var f=jc(jc({store:e,written:Object.create(null),merge:function(e,t){return u.merge(e,t)},variables:a,varString:xd(a)},db(n,this.fragments)),{overwrite:!!s,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),d=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:f});if(!kd(d))throw _f(11,i);return f.incomingById.forEach((function(t,n){var i=t.storeObject,o=t.mergeTree,a=t.fieldNodeSet,s=Id(n);if(o&&o.map.size){var c=r.applyMerges(o,s,i,f);if(kd(c))return;i=c}if(!1!==globalThis.__DEV__&&!f.overwrite){var u=Object.create(null);a.forEach((function(e){e.selectionSet&&(u[e.name.value]=!0)}));Object.keys(i).forEach((function(e){(function(e){return!0===u[cb(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,r,n){var i=function(e){var t=n.getFieldValue(e,r);return"object"==typeof t&&t},o=i(e);if(!o)return;var a=i(t);if(!a)return;if(kd(o))return;if(sh(o,a))return;if(Object.keys(o).every((function(e){return void 0!==n.getFieldValue(a,e)})))return;var s=n.getFieldValue(e,"__typename")||n.getFieldValue(t,"__typename"),c=cb(r),u="".concat(s,".").concat(c);if(Jb.has(u))return;Jb.add(u);var f=[];pl(o)||pl(a)||[o,a].forEach((function(e){var t=n.getFieldValue(e,"__typename");"string"!=typeof t||f.includes(t)||f.push(t)}));!1!==globalThis.__DEV__&&vf.warn(14,c,s,f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"",u,jc({},o),jc({},a))}(s,i,e,f.store)}))}e.merge(n,i)})),e.retain(d.__ref),d},e.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,n=e.result,i=e.selectionSet,o=e.context,a=e.mergeTree,s=this.cache.policies,c=Object.create(null),u=r&&s.rootTypenamesById[r]||Dd(n,i,o.fragmentMap)||r&&o.store.get(r,"__typename");"string"==typeof u&&(c.__typename=u);var f=function(){var e=qb(arguments,c,o.variables);if(kd(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var r=s.readField(jc(jc({},e),{from:t.storeObject}),o);if(void 0!==r)return r}}return s.readField(e,o)},d=new Set;this.flattenFields(i,n,o,u).forEach((function(e,r){var i,o=Bd(r),l=n[o];if(d.add(r),void 0!==l){var h=s.getStoreFieldName({typename:u,fieldName:r.name.value,field:r,variables:e.variables}),p=Gb(a,h),b=t.processFieldValue(l,r,r.selectionSet?Vb(e,!1,!1):e,p),y=void 0;r.selectionSet&&(kd(b)||fb(b))&&(y=f("__typename",b));var g=s.getMergeFunction(u,r.name.value,y);g?p.info={field:r,typename:u,merge:g}:Xb(a,h),c=e.merge(c,((i={})[h]=b,i))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||Xl.added(r)||s.getReadFunction(u,r.name.value)||!1!==globalThis.__DEV__&&vf.error(12,Bd(r),n)}));try{var l=s.identify(n,{typename:u,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:c,readField:f}),h=l[0],p=l[1];r=r||h,p&&(c=o.merge(c,p))}catch(e){if(!r)throw e}if("string"==typeof r){var b=Id(r),y=o.written[r]||(o.written[r]=[]);if(y.indexOf(i)>=0)return b;if(y.push(i),this.reader&&this.reader.isFresh(n,b,i,o))return b;var g=o.incomingById.get(r);return g?(g.storeObject=o.merge(g.storeObject,c),g.mergeTree=Qb(g.mergeTree,a),d.forEach((function(e){return g.fieldNodeSet.add(e)}))):o.incomingById.set(r,{storeObject:c,mergeTree:Yb(a)?void 0:a,fieldNodeSet:d}),b}return c},e.prototype.processFieldValue=function(e,t,r,n){var i=this;return t.selectionSet&&null!==e?pl(e)?e.map((function(e,o){var a=i.processFieldValue(e,t,r,Gb(n,o));return Xb(n,o),a})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:n}):!1!==globalThis.__DEV__?wp(e):e},e.prototype.flattenFields=function(e,t,r,n){void 0===n&&(n=Dd(t,e,r.fragmentMap));var i=new Map,o=this.cache.policies,a=new mh(!1);return function e(s,c){var u=a.lookup(s,c.clientOnly,c.deferred);u.visited||(u.visited=!0,s.selections.forEach((function(a){if(Xd(a,r.variables)){var s=c.clientOnly,u=c.deferred;if(s&&u||!bl(a.directives)||a.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(s=!0),"defer"===t){var n=Md(e,r.variables);n&&!1===n.if||(u=!0)}})),Rd(a)){var f=i.get(a);f&&(s=s&&f.clientOnly,u=u&&f.deferred),i.set(a,Vb(r,s,u))}else{var d=Yf(a,r.lookupFragment);if(!d&&a.kind===ou.FRAGMENT_SPREAD)throw _f(13,a.name.value);d&&o.fragmentMatches(d,n,t,r.variables)&&e(d.selectionSet,Vb(r,s,u))}}})))}(e,r),i},e.prototype.applyMerges=function(e,t,r,n,i){var o,a=this;if(e.map.size&&!kd(r)){var s,c=pl(r)||!kd(t)&&!fb(t)?void 0:t,u=r;c&&!i&&(i=[kd(c)?c.__ref:c]);var f=function(e,t){return pl(e)?"number"==typeof t?e[t]:void 0:n.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var r=f(c,t),o=f(u,t);if(void 0!==o){i&&i.push(t);var d=a.applyMerges(e,r,o,n,i);d!==o&&(s=s||new Map).set(t,d),i&&vf(i.pop()===t)}})),s&&(r=pl(u)?u.slice(0):jc({},u),s.forEach((function(e,t){r[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,n,i&&(o=n.store).getStorage.apply(o,i)):r},e}(),Wb=[];function Gb(e,t){var r=e.map;return r.has(t)||r.set(t,Wb.pop()||{map:new Map}),r.get(t)}function Qb(e,t){if(e===t||!t||Yb(t))return e;if(!e||Yb(e))return t;var r=e.info&&t.info?jc(jc({},e.info),t.info):e.info||t.info,n=e.map.size&&t.map.size,i={info:r,map:n?new Map:e.map.size?e.map:t.map};if(n){var o=new Set(t.map.keys());e.map.forEach((function(e,r){i.map.set(r,Qb(e,t.map.get(r))),o.delete(r)})),o.forEach((function(r){i.map.set(r,Qb(t.map.get(r),e.map.get(r)))}))}return i}function Yb(e){return!e||!(e.info||e.map.size)}function Xb(e,t){var r=e.map,n=r.get(t);n&&Yb(n)&&(Wb.push(n),r.delete(t))}var Jb=new Set;var Zb=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new up(Xl),r.assumeImmutableResults=!0,r.makeVar=Wp,r.txCount=0,r.config=function(e){return vp(ob,e)}(t),r.addTypename=!!r.config.addTypename,r.policies=new Fb({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return Nc(t,e),t.prototype.init=function(){var e=this.data=new bb.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,r=this.storeReader,n=this.config.fragments;this.storeWriter=new $b(this,this.storeReader=new Eb({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:ab(this.config),canon:e?void 0:r&&r.canon,fragments:n}),n),this.maybeBroadcastWatch=sp((function(e,r){return t.broadcastWatch(e,r)}),{max:this.config.resultCacheMaxSize||fd["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(e){var r=e.optimistic?t.optimisticData:t.data;if(Sb(r)){var n=e.optimistic,i=e.id,o=e.variables;return r.makeCacheKey(e.query,e.callback,xd({optimistic:n,id:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,r=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(jc(jc({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r})).result||null}catch(e){if(e instanceof Zp)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(rb.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(jc(jc({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,r=this;return this.watches.size||Vp(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){r.watches.delete(e)&&!r.watches.size&&$p(r),r.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){var t;xd.reset(),Ul.reset(),this.addTypenameTransform.resetCache(),null===(t=this.config.fragments)||void 0===t||t.resetCaches();var r=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),r},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(kd(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){!1!==globalThis.__DEV__&&vf.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(rb.call(e,"id"))return!1;e=jc(jc({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),xd.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),$p(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,r=this,n=e.update,i=e.optimistic,o=void 0===i||i,a=e.removeOptimistic,s=e.onWatchUpdated,c=function(e){var i=r,o=i.data,a=i.optimisticData;++r.txCount,e&&(r.data=r.optimisticData=e);try{return t=n(r)}finally{--r.txCount,r.data=o,r.optimisticData=a}},u=new Set;return s&&!this.txCount&&this.broadcastWatches(jc(jc({},e),{onWatchUpdated:function(e){return u.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,c):!1===o?c(this.data):c(),"string"==typeof a&&(this.optimisticData=this.optimisticData.removeLayer(a)),s&&u.size?(this.broadcastWatches(jc(jc({},e),{onWatchUpdated:function(e,t){var r=s.call(this,e,t);return!1!==r&&u.delete(e),r}})),u.size&&u.forEach((function(e){return r.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(r){return t.maybeBroadcastWatch(r,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var r=e.lastDiff,n=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(n.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,n,r))||r&&sh(r.result,n.result)||e.callback(e.lastDiff=n,r)},t}(Jp);!1!==globalThis.__DEV__&&(Zb.prototype.getMemoryInternals=pd);var ey,ty=function(){function e(e){var t=e.batchDebounce,r=e.batchInterval,n=e.batchMax,i=e.batchHandler,o=e.batchKey;this.batchesByKey=new Map,this.scheduledBatchTimerByKey=new Map,this.batchDebounce=t,this.batchInterval=r,this.batchMax=n||0,this.batchHandler=i,this.batchKey=o||function(){return""}}return e.prototype.enqueueRequest=function(e){var t=this,r=jc(jc({},e),{next:[],error:[],complete:[],subscribers:new Set}),n=this.batchKey(e.operation);return r.observable||(r.observable=new $f((function(e){var i=t.batchesByKey.get(n);i||t.batchesByKey.set(n,i=new Set);var o=0===i.size,a=0===r.subscribers.size;return r.subscribers.add(e),a&&i.add(r),e.next&&r.next.push(e.next.bind(e)),e.error&&r.error.push(e.error.bind(e)),e.complete&&r.complete.push(e.complete.bind(e)),(o||t.batchDebounce)&&t.scheduleQueueConsumption(n),i.size===t.batchMax&&t.consumeQueue(n),function(){var o;r.subscribers.delete(e)&&r.subscribers.size<1&&i.delete(r)&&i.size<1&&(t.consumeQueue(n),null===(o=i.subscription)||void 0===o||o.unsubscribe())}}))),r.observable},e.prototype.consumeQueue=function(e){void 0===e&&(e="");var t=this.batchesByKey.get(e);if(this.batchesByKey.delete(e),t&&t.size){var r=[],n=[],i=[],o=[],a=[],s=[];t.forEach((function(e){r.push(e.operation),n.push(e.forward),i.push(e.observable),o.push(e.next),a.push(e.error),s.push(e.complete)}));var c=this.batchHandler(r,n)||$f.of(),u=function(e){a.forEach((function(t){t&&t.forEach((function(t){return t(e)}))}))};return t.subscription=c.subscribe({next:function(e){if(Array.isArray(e)||(e=[e]),o.length!==e.length){var t=new Error("server returned results with length ".concat(e.length,", expected length of ").concat(o.length));return t.result=e,u(t)}e.forEach((function(e,t){o[t]&&o[t].forEach((function(t){return t(e)}))}))},error:u,complete:function(){s.forEach((function(e){e&&e.forEach((function(e){return e()}))}))}}),i}},e.prototype.scheduleQueueConsumption=function(e){var t=this;clearTimeout(this.scheduledBatchTimerByKey.get(e)),this.scheduledBatchTimerByKey.set(e,setTimeout((function(){t.consumeQueue(e),t.scheduledBatchTimerByKey.delete(e)}),this.batchInterval))},e}(),ry=function(e){function t(t){var r=e.call(this)||this,n=t||{},i=n.batchDebounce,o=n.batchInterval,a=void 0===o?10:o,s=n.batchMax,c=void 0===s?0:s,u=n.batchHandler,f=void 0===u?function(){return null}:u,d=n.batchKey,l=void 0===d?function(){return""}:d;return r.batcher=new ty({batchDebounce:i,batchInterval:a,batchMax:c,batchHandler:f,batchKey:l}),t.batchHandler.length<=1&&(r.request=function(e){return r.batcher.enqueueRequest({operation:e})}),r}return Nc(t,e),t.prototype.request=function(e,t){return this.batcher.enqueueRequest({operation:e,forward:t})},t}($d),ny=hf((function(){return fetch})),iy=function(e){function t(t){var r=e.call(this)||this,n=t||{},i=n.uri,o=void 0===i?"/graphql":i,a=n.fetch,s=n.print,c=void 0===s?Fl:s,u=n.includeExtensions,f=n.preserveHeaderCase,d=n.batchInterval,l=n.batchDebounce,h=n.batchMax,p=n.batchKey,b=n.includeUnusedVariables,y=void 0!==b&&b,g=Uc(n,["uri","fetch","print","includeExtensions","preserveHeaderCase","batchInterval","batchDebounce","batchMax","batchKey","includeUnusedVariables"]);!1!==globalThis.__DEV__&&Tl(a||ny);var m={http:{includeExtensions:u,preserveHeaderCase:f},options:g.fetchOptions,credentials:g.credentials,headers:g.headers};r.batchDebounce=l,r.batchInterval=d||10,r.batchMax=h||10;return p=p||function(e){var t=e.getContext(),r={http:t.http,options:t.fetchOptions,credentials:t.credentials,headers:t.headers};return tl(e,o)+JSON.stringify(r)},r.batcher=new ry({batchDebounce:r.batchDebounce,batchInterval:r.batchInterval,batchMax:r.batchMax,batchKey:p,batchHandler:function(e){var t=tl(e[0],o),r=e[0].getContext(),n={};if(r.clientAwareness){var i=r.clientAwareness,s=i.name,u=i.version;s&&(n["apollographql-client-name"]=s),u&&(n["apollographql-client-version"]=u)}var f={http:r.http,options:r.fetchOptions,credentials:r.credentials,headers:jc(jc({},n),r.headers)},d=e.map((function(e){var t=e.query;return Jd(["client"],t)?Zl(t):t}));if(d.some((function(e){return!e})))return ql(new Error("BatchHttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or enable the `transformOptions.removeClientFields` option."));var l,h=e.map((function(e,t){var r=zl(jc(jc({},e),{query:d[t]}),c,Hl,m,f);return r.body.variables&&!y&&(r.body.variables=Kl(r.body.variables,e.query)),r})),p=h.map((function(e){return e.body})),b=h[0].options;if("GET"===b.method)return ql(new Error("apollo-link-batch-http does not support GET requests"));try{b.body=el(p,"Payload")}catch(e){return ql(e)}return b.signal||"undefined"==typeof AbortController||(l=new AbortController,b.signal=l.signal),new $f((function(r){return(a||hf((function(){return fetch}))||ny)(t,b).then((function(t){return e.forEach((function(e){return e.setContext({response:t})})),t})).then(kl(e)).then((function(e){return l=void 0,r.next(e),r.complete(),e})).catch((function(e){l=void 0,e.result&&e.result.errors&&e.result.data&&r.next(e.result),r.error(e)})),function(){l&&l.abort()}}))}}),r}return Nc(t,e),t.prototype.request=function(e){return this.batcher.request(e)},t}($d);!function(e){e[e.MINTABLE=0]="MINTABLE",e[e.MINT_CLOSED=1]="MINT_CLOSED",e[e.REBASE_STARTED=2]="REBASE_STARTED"}(ey||(ey={}));const oy={[ey.MINTABLE]:ey.MINTABLE,[ey.MINT_CLOSED]:ey.MINT_CLOSED,[ey.REBASE_STARTED]:ey.REBASE_STARTED},ay=Yu`
  query AssetDetails($txHash: bytea!, $txIndex: Int!) {
    xudtCell: xudt_cell_by_pk(
      transaction_hash: $txHash
      transaction_index: $txIndex
    ) {
      amount
      is_consumed
      type_id
      addressByTypeId {
        script_args
        token_info {
          decimal
          name
          symbol
        }
        token_infos {
          decimal
          name
          symbol
          expected_supply
          mint_limit
          mint_status
          udt_hash
        }
      }
    }
    sporeActions: spore_actions_by_pk(tx: $txHash) {
      cluster {
        cluster_description
        cluster_name
        created_at
        id
        is_burned
        mutant_id
        owner_address
        updated_at
        addressByTypeId {
          script_args
          script_code_hash
          script_hash_type
      }
      }
      spore {
        cluster_id
        content
        content_type
        created_at
        id
        is_burned
        owner_address
        updated_at
        addressByTypeId {
          script_args
          script_code_hash
          script_hash_type
      }
      }
    }
  }
`,sy=Yu`
  query RawInscriptionInfo($udtHash: String!) {
    token_info(where: {udt_hash: {_eq: $udtHash}}) {
      decimal
      name
      symbol
      expected_supply
      mint_limit
      mint_status
      udt_hash
    }
  }
`;class cy{service;client;isMainnet;constructor(e,t){this.isMainnet=e,this.service=kc(t);const r=e?"https://ckb-graph.unistate.io/v1/graphql":"https://unistate-ckb-test.unistate.io/v1/graphql";this.client=new Xp({cache:new Zb,link:new iy({uri:r,batchMax:5,batchInterval:20}),defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network"}}})}async fetchTxsDetails(e,t){try{return await this.service.getBtcTransactions(e,{after_txid:t})}catch(e){throw console.error("Error fetching transactions:",e),e}}async fetchAssetsAndQueryDetails(e){try{const[t,r]=await Promise.all([this.service.getBtcBalance(e),this.service.getRgbppAssetsByBtcAddress(e)]),n=r.filter((e=>!!e.outPoint));if(0===n.length)return{balance:t,assets:{xudtCells:[],sporeActions:[]}};const i=await Promise.all(n.map((e=>this.queryAssetDetails(e.outPoint)))),o=await Promise.all(i.filter((e=>!!e.xudtCell)).map((e=>this.processXudtCell(e.xudtCell))));return{balance:t,assets:{xudtCells:o,sporeActions:i.flatMap((e=>e.sporeActions?[e.sporeActions]:[]))}}}catch(e){throw console.error("Error fetching assets and details:",e),e}}xudtHash(e){return this.removeHexPrefix(ic({...(0,oc.getXudtTypeScript)(this.isMainnet),args:this.formatHexPrefix(e)}))}formatHexPrefix(e){return`\\x${e.replace(/^0x/,"")}`}removeHexPrefix(e){return`0x${e.replace(/^\\x/,"")}`}async queryRawInscriptionInfo(e){const{data:t}=await this.client.query({query:sy,variables:{udtHash:e}});return t.token_info}async queryAssetDetails(e){const{data:t}=await this.client.query({query:ay,variables:{txHash:this.formatHexPrefix(e.txHash),txIndex:Number(e.index)}});return t}async processXudtCell(e){if(!e.addressByTypeId.token_info&&0===e.addressByTypeId.token_infos.length){const t=await this.queryRawInscriptionInfo(this.xudtHash(e.addressByTypeId.script_args));e.addressByTypeId.token_infos=t}return{amount:e.amount,is_consumed:e.is_consumed,type_id:e.type_id,addressByTypeId:{token_info:e.addressByTypeId.token_info,inscription_infos:e.addressByTypeId.token_infos.map((e=>({...e,mint_status:this.validateMintStatus(e.mint_status)}))),script_args:e.addressByTypeId.script_args}}}validateMintStatus(e){const t=oy[e];if(void 0===t)throw new Error(`Invalid MintStatus: ${e}`);return t}}async function uy({xudtArgs:e,burnAmount:t,ckbAddress:r,collector:n,isMainnet:i},o,a=oc.MAX_FEE,s){const c={...(0,oc.getXudtTypeScript)(i),args:e},u=xs(r),f=await n.getCells({lock:u,type:c});if(console.debug("Fetched xudt cells:",f),!f||0===f.length)throw new oc.NoXudtLiveCellError("The address has no xudt cells");const{inputs:d,sumInputsCapacity:l,sumAmount:h}=n.collectUdtInputs({liveCells:f,needAmount:t});let p=l,b=d;if(console.debug("Collected inputs:",b),console.debug("Sum of inputs capacity:",l),console.debug("Sum of amount:",h),h<t)throw new Error("Not enough xUDT tokens to burn");const y=[],g=[];let m=BigInt(0);if(h>t){const e=(0,oc.calculateUdtCellCapacity)(u);y.push({lock:u,type:c,capacity:(0,oc.append0x)(e.toString(16))}),g.push((0,oc.append0x)((0,oc.u128ToLe)(h-t))),m+=e,console.debug("XUDT change capacity:",e),console.debug("Updated outputs:",y),console.debug("Updated outputs data:",g)}const v=a;if(l<=m){let e=await n.getCells({lock:u});if(console.debug("Fetched Empty Cells:",e),e=e.filter((e=>!e.output.type)),!e||0===e.length)throw new oc.NoLiveCellError("The address has no empty cells");const t=m-l,{inputs:r,sumInputsCapacity:i}=n.collectInputs(e,t,v,{minCapacity:oc.MIN_CAPACITY});b=[...b,...r],p+=i,console.debug("Need Capacity:",t),console.debug("Empty Inputs:",r),console.debug("Sum Empty Capacity:",i)}let _=p-m;y.push({lock:u,capacity:(0,oc.append0x)(_.toString(16))}),g.push("0x"),console.debug("Change Capacity:",_),console.debug("Updated Outputs:",y),console.debug("Updated Outputs Data:",g);const w={lock:"",inputType:"",outputType:""},S=b.map(((e,t)=>0===t?w:"0x")),x={version:"0x0",cellDeps:[...await Oc(i,[r]),...await(0,oc.fetchTypeIdCellDeps)(i,{xudt:!0})],headerDeps:[],inputs:b,outputs:y,outputsData:g,witnesses:S};if(console.debug("Unsigned transaction:",x),v===a){const e=Zs(x)+(s??Rc(r,i)),t=(0,oc.calculateTransactionFee)(e,o);_-=t,x.outputs[x.outputs.length-1].capacity=(0,oc.append0x)(_.toString(16)),console.debug("Transaction size:",e),console.debug("Estimated transaction fee:",t),console.debug("Updated change capacity:",_),console.debug("Updated unsigned transaction:",x)}return x}async function fy({xudtTotalAmount:e,tokenInfo:t,ckbAddress:r,collector:n,isMainnet:i},o,a=oc.MAX_FEE,s){const c=xs(r);let u=await n.getCells({lock:c});if(console.debug("Fetched empty cells:",u),!u||0===u.length)throw new oc.NoLiveCellError("The address has no empty cells");u=u.filter((e=>!e.output.type)),console.debug("Filtered empty cells without a type:",u);const f=(0,oc.calculateUdtCellCapacity)(c);console.debug("Calculated xUDT cell capacity:",f);const d=(0,oc.calculateXudtTokenInfoCellCapacity)(t,c);console.debug("Calculated xUDT token info cell capacity:",d);const l=a;console.debug("Set transaction fee to maximum fee:",l);const{inputs:h,sumInputsCapacity:p}=n.collectInputs(u,f+d,l,{minCapacity:oc.MIN_CAPACITY});console.debug("Collected inputs:",h),console.debug("Sum of inputs capacity:",p);const b={...(0,oc.getXudtTypeScript)(i),args:(0,oc.append0x)(ic(c))};console.debug("Defined xUDT type script:",b),console.log("xUDT type script",b);let y=p-f-d;console.debug("Calculated change capacity:",y);const g=[{lock:c,type:b,capacity:(0,oc.append0x)(f.toString(16))},{lock:c,type:{...(0,oc.getUniqueTypeScript)(i),args:(0,oc.generateUniqueTypeArgs)(h[0],1)},capacity:(0,oc.append0x)(d.toString(16))},{lock:c,capacity:(0,oc.append0x)(y.toString(16))}];console.debug("Defined outputs:",g);const m=e*BigInt(10**t.decimal);console.debug("Calculated total amount:",m);const v=[(0,oc.append0x)((0,oc.u128ToLe)(m)),(0,oc.encodeRgbppTokenInfo)(t),"0x"];console.debug("Defined outputs data:",v);const _={lock:"",inputType:"",outputType:""};console.debug("Defined empty witness:",_);const w=h.map(((e,t)=>0===t?_:"0x"));console.debug("Defined witnesses:",w);const S=[...await Oc(i,[r]),...await(0,oc.fetchTypeIdCellDeps)(i,{xudt:!0,unique:!0})];console.debug("Defined cell dependencies:",S);const x={version:"0x0",cellDeps:S,headerDeps:[],inputs:h,outputs:g,outputsData:v,witnesses:w};if(console.debug("Defined unsigned transaction:",x),l===a){const e=Zs(x)+(s??Rc(r,i)),t=(0,oc.calculateTransactionFee)(e,o);y-=t,x.outputs[x.outputs.length-1].capacity=(0,oc.append0x)(y.toString(16)),console.debug("Adjusted transaction fee:",t),console.debug("Updated change capacity:",y)}return console.info("Unsigned transaction created:",x),x}async function dy({xudtArgs:e,ckbAddresses:t,collector:r,isMainnet:n},i=t[0],o,a=oc.MAX_FEE,s){const c=xs(i),u={...(0,oc.getXudtTypeScript)(n),args:e},f=await Cc({ckbAddresses:t,type:u,collector:r});if(console.debug("Fetched xudt cells:",f),!f||0===f.length)throw new oc.NoXudtLiveCellError("The addresses have no xudt cells");if(1===f.length)throw new Error("Only one xudt cell found, no need to merge");const{inputs:d,sumInputsCapacity:l,sumAmount:h}=function(e){const t=[];let r=BigInt(0),n=BigInt(0);for(const i of e)"0x"!==i.outputData&&(t.push({previousOutput:{txHash:i.outPoint.txHash,index:i.outPoint.index},since:"0x0"}),r+=BigInt(i.output.capacity),n+=(0,oc.leToU128)((0,oc.remove0x)(i.outputData).slice(0,32)));return{inputs:t,sumInputsCapacity:r,sumAmount:n}}(f),p=l,b=d;console.debug("Collected inputs:",b),console.debug("Sum of inputs capacity:",l),console.debug("Sum of amount:",h);const y=(0,oc.calculateUdtCellCapacity)(c),g=[{lock:c,type:u,capacity:(0,oc.append0x)(y.toString(16))}],m=[(0,oc.append0x)((0,oc.u128ToLe)(h))],v=y;console.debug("Merged XUDT capacity:",y),console.debug("Updated outputs:",g),console.debug("Updated outputs data:",m);const _=a;if(l<=v)throw new Error("Thetotal input capacity is less than or equal to the total output capacity, which is not possible in a merge function.");let w=p-v;g.push({lock:c,capacity:(0,oc.append0x)(w.toString(16))}),m.push("0x"),console.debug("Change Capacity:",w),console.debug("Updated Outputs:",g),console.debug("Updated Outputs Data:",m);const S={lock:"",inputType:"",outputType:""},x=b.map(((e,t)=>0===t?S:"0x")),A={version:"0x0",cellDeps:[...await Oc(n,t),...await(0,oc.fetchTypeIdCellDeps)(n,{xudt:!0})],headerDeps:[],inputs:b,outputs:g,outputsData:m,witnesses:x};if(console.debug("Unsigned transaction:",A),_===a){const e=Zs(A)+(s??Rc(i,n)),t=(0,oc.calculateTransactionFee)(e,o);w-=t,A.outputs[A.outputs.length-1].capacity=(0,oc.append0x)(w.toString(16)),console.debug("Transaction size:",e),console.debug("Estimated transaction fee:",t),console.debug("Updated change capacity:",w),console.debug("Updated unsigned transaction:",A)}return A}async function ly({xudtArgs:e,receivers:t,ckbAddresses:r,collector:n,isMainnet:i},o=r[0],a,s=oc.MAX_FEE,c){const u={...(0,oc.getXudtTypeScript)(i),args:e},f=await Cc({ckbAddresses:r,type:u,collector:n});if(console.debug("Fetched xudt cells:",f),!f||0===f.length)throw new oc.NoXudtLiveCellError("The addresses have no xudt cells");const d=t.map((e=>e.transferAmount)).reduce(((e,t)=>e+t),BigInt(0));console.debug("Sum Transfer Amount:",d);let l=t.map((({toAddress:e})=>(0,oc.calculateUdtCellCapacity)(xs(e)))).reduce(((e,t)=>e+t),BigInt(0));console.debug("Sum XUDT Output Capacity:",l);const{inputs:h,sumInputsCapacity:p,sumAmount:b}=n.collectUdtInputs({liveCells:f,needAmount:d});console.debug("Sum XUDT Inputs Capacity:",p),console.debug("Sum Amount:",b);let y=p,g=h;const m=t.map((({toAddress:e})=>({lock:xs(e),type:u,capacity:(0,oc.append0x)((0,oc.calculateUdtCellCapacity)(xs(e)).toString(16))}))),v=t.map((({transferAmount:e})=>(0,oc.append0x)((0,oc.u128ToLe)(e))));if(console.debug("Outputs:",m),console.debug("Outputs Data:",v),b>d){const e=(0,oc.calculateUdtCellCapacity)(xs(o));m.push({lock:xs(o),type:u,capacity:(0,oc.append0x)(e.toString(16))}),v.push((0,oc.append0x)((0,oc.u128ToLe)(b-d))),l+=e,console.debug("XUDT Change Capacity:",e),console.debug("Updated Outputs:",m),console.debug("Updated Outputs Data:",v)}const _=s;if(p<=l){let e=await Cc({ckbAddresses:r,collector:n});if(console.debug("Fetched Empty Cells:",e),e=e.filter((e=>!e.output.type)),!e||0===e.length)throw new oc.NoLiveCellError("The addresses have no empty cells");const t=l-p,{inputs:i,sumInputsCapacity:o}=n.collectInputs(e,t,_,{minCapacity:oc.MIN_CAPACITY});g=[...g,...i],y+=o,console.debug("Need Capacity:",t),console.debug("Empty Inputs:",i),console.debug("Sum Empty Capacity:",o)}let w=y-l;m.push({lock:xs(o),capacity:(0,oc.append0x)(w.toString(16))}),v.push("0x"),console.debug("Change Capacity:",w),console.debug("Updated Outputs:",m),console.debug("Updated Outputs Data:",v);const S={lock:"",inputType:"",outputType:""},x=g.map(((e,t)=>0===t?S:"0x")),A=[...await Oc(i,r),...await(0,oc.fetchTypeIdCellDeps)(i,{xudt:!0})];console.debug("Cell Deps:",A);const E={version:"0x0",cellDeps:A,headerDeps:[],inputs:g,outputs:m,outputsData:v,witnesses:x};if(console.debug("Unsigned Transaction:",E),_===s){const e=Zs(E)+(c??Rc(o,i)),t=(0,oc.calculateTransactionFee)(e,a);w-=t,E.outputs[E.outputs.length-1].capacity=(0,oc.append0x)(w.toString(16)),console.debug("Transaction Size:",e),console.debug("Estimated Transaction Fee:",t),console.debug("Updated Change Capacity:",w),console.debug("Updated Unsigned Transaction:",E)}return E}const hy=async({outIndex:e,btcTxId:t,xudtTypeArgs:r,transferAmount:n,isMainnet:i,collector:o,ckbAddress:a,btcTestnetType:s},c,u)=>{const f=(0,oc.buildRgbppLockArgs)(e,t),d={...(0,oc.getXudtTypeScript)(i),args:r},l=await(0,oc.genCkbJumpBtcVirtualTx)({collector:o,fromCkbAddress:a,toRgbppLockArgs:f,xudtTypeBytes:(0,oc.serializeScript)(d),transferAmount:n,btcTestnetType:s,ckbFeeRate:c,witnessLockPlaceholderSize:u});return{...l,cellDeps:[...l.cellDeps,...await Oc(i,[a])],witnesses:[{lock:"",inputType:"",outputType:""},...l.witnesses.slice(1)]}},py=async({outIndex:e,btcTxId:t,sporeTypeArgs:r,isMainnet:n,collector:i,ckbAddress:o,btcTestnetType:a},s,c)=>{const u=(0,oc.buildRgbppLockArgs)(e,t),f={...(0,oc.getSporeTypeScript)(n),args:r},d=await(0,oc.genLeapSporeFromCkbToBtcRawTx)({collector:i,fromCkbAddress:o,toRgbppLockArgs:u,sporeTypeBytes:(0,oc.serializeScript)(f),isMainnet:n,btcTestnetType:a,ckbFeeRate:s,witnessLockPlaceholderSize:c});return{...d,cellDeps:[...d.cellDeps,...await Oc(n,[o])],witnesses:[{lock:"",inputType:"",outputType:""},...d.witnesses.slice(1)]}};var by=__webpack_require__(61611);async function yy(e,t,r){console.debug("Starting PSBT signing process..."),console.debug("PSBT before signing:",e.toHex());try{console.debug("test");const n=by.bitcoin.Psbt.fromHex(await t.signPsbt(e.toHex()));console.debug("PSBT after signing:",n.toBase64());const i=n.extractTransaction(),o=i.toHex();console.debug("Extracted transaction hex:",o),console.debug("Sending transaction to service...");const{txid:a}=await r.sendBtcTransaction(o);console.debug("Transaction sent successfully. TXID:",a);const s=(0,by.transactionToHex)(i,!1);return console.debug("Raw transaction hex (excluding witness):",s),{txHex:o,txId:a,rawTxHex:s}}catch(e){throw console.error("Error during PSBT signing or transaction sending:",e),e}}const gy=async({outIndex:e,btcTxId:t,ckbAddress:r,clusterData:n,collector:i,isMainnet:o,btcTestnetType:a},s=oc.MAX_FEE,c,u)=>{const f=xs(r);console.log("ckb address: ",r);const d=(0,oc.calculateRgbppClusterCellCapacity)(n);let l=await i.getCells({lock:f});if(!l||0===l.length)throw new oc.NoLiveCellError("The address has no empty cells");l=l.filter((e=>!e.output.type));const h=s,{inputs:p,sumInputsCapacity:b}=i.collectInputs(l,d,h),y=[{lock:(0,oc.genRgbppLockScript)((0,oc.buildRgbppLockArgs)(e,t),o,a),capacity:(0,oc.append0x)(d.toString(16))}];let g=b-d;y.push({lock:f,capacity:(0,oc.append0x)(g.toString(16))});const m={lock:"",inputType:"",outputType:""},v=p.map(((e,t)=>0===t?m:"0x")),_={version:"0x0",cellDeps:[...await Oc(o,[r])],headerDeps:[],inputs:p,outputs:y,outputsData:["0x","0x"],witnesses:v},w=Zs(_)+(u??Rc(r,o));return g-=(0,oc.calculateTransactionFee)(w,c),_.outputs[_.outputs.length-1].capacity=(0,oc.append0x)(g.toString(16)),_},my=async({ckbAddress:e,clusterData:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAccount:o,fromBtcAccountPubkey:a,btcDataSource:s,wallet:c,btcService:u,filterUtxo:f,cccSigner:d},l,h=oc.MAX_FEE,p=30,b)=>{const y=await u.getBtcUtxos(o,{only_non_rgbpp_utxos:!0,only_confirmed:!0,min_satoshi:1e4}),{outIndex:g,btcTxId:m}=await f(y),v=await gy({outIndex:g,btcTxId:m,clusterData:t,ckbAddress:e,collector:r,isMainnet:n,btcTestnetType:i},h,l,b),{txHash:_}=await Ec(v,r,d);console.info(`Create Cluster cell has been created and the CKB tx hash ${_}`);const w=(0,oc.buildRgbppLockArgs)(g,m),{btcTxId:S}=await(async({ownerRgbppLockArgs:e,collector:t,clusterData:r,isMainnet:n,btcTestnetType:i,fromBtcAccount:o,fromBtcAccountPubkey:a,btcDataSource:s,btcService:c,wallet:u},f=30)=>{const d=await(0,oc.genCreateClusterCkbVirtualTx)({collector:t,rgbppLockArgs:e,clusterData:r,isMainnet:n,ckbFeeRate:BigInt(2e3),btcTestnetType:i}),{commitment:l,ckbRawTx:h,clusterId:p,needPaymasterCell:b}=d;console.log("clusterId: ",p);const y=await(0,ac.PE)({ckbVirtualTx:h,commitment:l,tos:[o],needPaymaster:b,ckbCollector:t,from:o,fromPubkey:a,source:s,feeRate:f}),{txId:g,rawTxHex:m}=await yy(y,u,c);console.log("BTC TxId: ",g);const v=setInterval((async()=>{try{console.log("Waiting for BTC tx and proof to be ready");const e=await c.getRgbppSpvProof(g,0);clearInterval(v);const r=(0,oc.updateCkbTxWithRealBtcTxId)({ckbRawTx:h,btcTxId:g,isMainnet:n});console.log("The cluster rgbpp lock args: ",r.outputs[0].lock.args);const i=await(0,oc.appendCkbTxWitnesses)({ckbRawTx:r,btcTxBytes:m,rgbppApiSpvProof:e});i.witnesses[i.witnesses.length-1]=(0,oc.generateClusterCreateCoBuild)(i.outputs[0],i.outputsData[0]),console.log(JSON.stringify(i));const o=await(0,oc.sendCkbTx)({collector:t,signedTx:i});console.info(`RGB++ Cluster has been created and tx hash is ${o}`)}catch(e){throw console.error(e),e}}),3e4);return{btcTxId:g}})({ownerRgbppLockArgs:w,clusterData:t,collector:r,isMainnet:n,fromBtcAccount:o,btcDataSource:s,fromBtcAccountPubkey:a,btcTestnetType:i,btcService:u,wallet:c},p);return{btcTxId:S,ckbTxHash:_}},vy=async({ckbAddress:e,clusterData:t,collector:r,isMainnet:n,btcService:i,btcTestnetType:o,fromBtcAccount:a,filterUtxo:s},c=oc.MAX_FEE,u,f)=>{const d=await i.getBtcUtxos(a,{only_non_rgbpp_utxos:!0,only_confirmed:!0,min_satoshi:1e4}),{outIndex:l,btcTxId:h}=await s(d);return await gy({outIndex:l,btcTxId:h,clusterData:t,ckbAddress:e,collector:r,isMainnet:n,btcTestnetType:o},c,u,f)},_y=async({clusterTypeScriptArgs:e,receivers:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAccount:o,fromBtcAccountPubkey:a,btcDataSource:s,wallet:c,btcService:u,ckbAddress:f,cccSigner:d},l=120,h,p)=>{const b=await u.getRgbppAssetsByBtcAddress(o,{type_script:encodeURIComponent(JSON.stringify({...(0,oc.getClusterTypeScript)(n),args:e}))});if(0===b.length)throw new Error("No assets found for the given BTC address and type script args.");const y=b[0].cellOutput.lock.args,g=await(async({clusterRgbppLockArgs:e,receivers:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAccount:o,fromBtcAccountPubkey:a,btcDataSource:s,wallet:c,btcService:u,ckbAddress:f,cccSigner:d},l=120,h,p)=>{const b=await(0,oc.genCreateSporeCkbVirtualTx)({collector:r,sporeDataList:t.map((e=>e.sporeData)),clusterRgbppLockArgs:e,isMainnet:n,ckbFeeRate:BigInt(2e3),btcTestnetType:i}),{commitment:y,ckbRawTx:g,sumInputsCapacity:m,clusterCell:v,needPaymasterCell:_}=b,w=[o,...t.map((e=>e.toBtcAddress))],S=await(0,ac.PE)({ckbVirtualTx:g,commitment:y,tos:w,needPaymaster:_,ckbCollector:r,from:o,fromPubkey:a,source:s,feeRate:l}),{txId:x,rawTxHex:A}=await yy(S,c,u);console.log("BTC TxId: ",x),await u.sendRgbppCkbTransaction({btc_txid:x,ckb_virtual_result:b});const E=setInterval((async()=>{try{console.log("Waiting for BTC tx and proof to be ready");const e=await u.getRgbppSpvProof(x,0);clearInterval(E);const t=(0,oc.updateCkbTxWithRealBtcTxId)({ckbRawTx:g,btcTxId:x,isMainnet:n});console.log("The new cluster rgbpp lock args: ",t.outputs[0].lock.args);const i=await(0,oc.appendCkbTxWitnesses)({ckbRawTx:t,btcTxBytes:A,rgbppApiSpvProof:e});console.log("Spore type scripts: ",JSON.stringify(i.outputs.slice(1).map((e=>e.type)))),i.witnesses[i.witnesses.length-1]=(0,oc.generateSporeCreateCoBuild)({sporeOutputs:i.outputs.slice(1),sporeOutputsData:i.outputsData.slice(1),clusterCell:v,clusterOutputCell:i.outputs[0]});const o=await(0,oc.buildAppendingIssuerCellToSporesCreateTx)({issuerAddress:f,ckbRawTx:i,collector:r,sumInputsCapacity:m,ckbFeeRate:h,witnessLockPlaceholderSize:p}),a=await Ec(o,r,d);console.info(`RGB++ Spore has been created and tx hash is ${a}`)}catch(e){throw console.error(e),e}}),3e4);return{btcTxId:x}})({clusterRgbppLockArgs:y,receivers:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAccount:o,fromBtcAccountPubkey:a,btcDataSource:s,wallet:c,btcService:u,ckbAddress:f,cccSigner:d},l,h,p);return g},wy=async({clusterRgbppLockArgs:e,receivers:t,collector:r,isMainnet:n,btcTestnetType:i,ckbAddress:o,ckbFeeRate:a,witnessLockPlaceholderSize:s})=>{const c=await(0,oc.genCreateSporeCkbVirtualTx)({collector:r,sporeDataList:t.map((e=>e.sporeData)),clusterRgbppLockArgs:e,isMainnet:n,ckbFeeRate:BigInt(2e3),btcTestnetType:i}),{ckbRawTx:u,sumInputsCapacity:f}=c;return await(0,oc.buildAppendingIssuerCellToSporesCreateTx)({issuerAddress:o,ckbRawTx:u,collector:r,sumInputsCapacity:f,ckbFeeRate:a,witnessLockPlaceholderSize:s})},Sy=async({clusterRgbppLockArgs:e,receivers:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAccount:o,fromBtcAccountPubkey:a,btcDataSource:s,btcFeeRate:c})=>{const u=await(0,oc.genCreateSporeCkbVirtualTx)({collector:r,sporeDataList:t.map((e=>e.sporeData)),clusterRgbppLockArgs:e,isMainnet:n,ckbFeeRate:BigInt(2e3),btcTestnetType:i}),{commitment:f,ckbRawTx:d,needPaymasterCell:l}=u,h=[o,...t.map((e=>e.toBtcAddress))];return await(0,ac.PE)({ckbVirtualTx:d,commitment:f,tos:h,needPaymaster:l,ckbCollector:r,from:o,fromPubkey:a,source:s,feeRate:c})},xy=async({xudtTypeArgs:e,fromBtcAccount:t,isMainnet:r,btcService:n})=>{const i=encodeURIComponent(JSON.stringify({codeHash:(0,oc.getXudtTypeScript)(r).codeHash,args:e,hashType:"type"}));console.log(i);const o=await n.getRgbppAssetsByBtcAddress(t,{type_script:i,no_cache:!1});console.log(o);return{rgbppLockArgsList:o.map((e=>e.cellOutput.lock.args))}},Ay=async({xudtTypeArgs:e,receivers:t,collector:r,btcDataSource:n,btcTestnetType:i,isMainnet:o,fromBtcAccount:a,fromBtcAccountPubkey:s,wallet:c,filterRgbppArgslist:u,btcService:f},d)=>{const l=await xy({xudtTypeArgs:e,fromBtcAccount:a,isMainnet:o,btcService:f}),h=await u(l.rgbppLockArgsList),p=await(async({rgbppLockArgsList:e,receivers:t,xudtTypeArgs:r,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:a,fromBtcAccount:s,fromBtcAccountPubkey:c,wallet:u,btcService:f},d)=>{const l={...(0,oc.getXudtTypeScript)(a),args:r},h=await(0,oc.genBtcBatchTransferCkbVirtualTx)({collector:n,rgbppLockArgsList:e,xudtTypeBytes:(0,oc.serializeScript)(l),rgbppReceivers:t,isMainnet:a,btcTestnetType:o}),{commitment:p,ckbRawTx:b,needPaymasterCell:y}=h,g=await(0,by.sendRgbppUtxos)({ckbVirtualTx:b,commitment:p,tos:t.map((e=>e.toBtcAddress)),needPaymaster:y,ckbCollector:n,from:s,fromPubkey:c,source:i,feeRate:d}),{txId:m,rawTxHex:v}=await yy(g,u,f);console.log(`BTC ${o} TxId: ${m}`),await f.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:h});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await f.getRgbppTransactionState(m);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await f.getRgbppTransactionHash(m);console.info(`Rgbpp asset has been transferred on BTC and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:m}})({rgbppLockArgsList:h,receivers:t,xudtTypeArgs:e,collector:r,btcDataSource:n,btcTestnetType:i,isMainnet:o,fromBtcAccount:a,fromBtcAccountPubkey:s,wallet:c,btcService:f},d);return p},Ey=async({rgbppLockArgsList:e,receivers:t,xudtTypeArgs:r,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:a,fromBtcAccount:s,fromBtcAccountPubkey:c,btcFeeRate:u=30})=>{const f={...(0,oc.getXudtTypeScript)(a),args:r},d=await(0,oc.genBtcBatchTransferCkbVirtualTx)({collector:n,rgbppLockArgsList:e,xudtTypeBytes:(0,oc.serializeScript)(f),rgbppReceivers:t,isMainnet:a,btcTestnetType:o}),{commitment:l,ckbRawTx:h,needPaymasterCell:p}=d;return await(0,by.sendRgbppUtxos)({ckbVirtualTx:h,commitment:l,tos:t.map((e=>e.toBtcAddress)),needPaymaster:p,ckbCollector:n,from:s,fromPubkey:c,source:i,feeRate:u})},Iy=async({outIndex:e,btcTxId:t,rgbppTokenInfo:r,ckbAddress:n,collector:i,isMainnet:o,btcTestnetType:a},s,c=oc.MAX_FEE,u)=>{const f=xs(n);console.log("ckb address: ",n);const d=(0,oc.calculateRgbppCellCapacity)()+(0,oc.calculateRgbppTokenInfoCellCapacity)(r,o);let l=await i.getCells({lock:f});if(!l||0===l.length)throw new oc.NoLiveCellError("The address has no empty cells");l=l.filter((e=>!e.output.type));const h=c,{inputs:p,sumInputsCapacity:b}=i.collectInputs(l,d,h),y=[{lock:(0,oc.genRgbppLockScript)((0,oc.buildRgbppLockArgs)(e,t),o,a),capacity:(0,oc.append0x)(d.toString(16))}];let g=b-d;y.push({lock:f,capacity:(0,oc.append0x)(g.toString(16))});const m={lock:"",inputType:"",outputType:""},v=p.map(((e,t)=>0===t?m:"0x")),_={version:"0x0",cellDeps:[...await Oc(o,[n])],headerDeps:[],inputs:p,outputs:y,outputsData:["0x","0x"],witnesses:v},w=Zs(_)+(u??Rc(n,o));return g-=(0,oc.calculateTransactionFee)(w,s),_.outputs[_.outputs.length-1].capacity=(0,oc.append0x)(g.toString(16)),_},ky=async({rgbppTokenInfo:e,collector:t,isMainnet:r,btcTestnetType:n,btcAccount:i,btcDataSource:o,btcAccountPubkey:a,launchAmount:s,ckbAddress:c,filterUtxo:u,btcService:f,wallet:d,cccSigner:l},h,p=oc.MAX_FEE,b,y)=>{const g=await f.getBtcUtxos(i,{only_non_rgbpp_utxos:!0,only_confirmed:!0,min_satoshi:1e4}),{outIndex:m,btcTxId:v}=await u(g),_=await Iy({outIndex:m,btcTxId:v,rgbppTokenInfo:e,ckbAddress:c,collector:t,isMainnet:r,btcTestnetType:n},h,p,y),{txHash:w}=await Ec(_,t,l);console.info(`Launch cell has been created and the CKB tx hash ${w}`);const S=(0,oc.buildRgbppLockArgs)(m,v),{btcTxId:x}=await(async({ownerRgbppLockArgs:e,rgbppTokenInfo:t,collector:r,isMainnet:n,btcTestnetType:i,btcAccount:o,btcDataSource:a,btcAccountPubkey:s,launchAmount:c,btcService:u,wallet:f},d)=>{const l=await(0,oc.genRgbppLaunchCkbVirtualTx)({collector:r,ownerRgbppLockArgs:e,rgbppTokenInfo:t,launchAmount:c,isMainnet:n,btcTestnetType:i}),{commitment:h,ckbRawTx:p,needPaymasterCell:b}=l;console.log("RGB++ Asset type script args: ",p.outputs[0].type?.args);const y=await(0,by.sendRgbppUtxos)({ckbVirtualTx:p,commitment:h,tos:[o],needPaymaster:b,ckbCollector:r,from:o,fromPubkey:s,source:a,feeRate:d}),{txId:g,rawTxHex:m}=await yy(y,f,u);console.log(`BTC ${i} TxId: ${g}`);const v=setInterval((async()=>{try{console.log("Waiting for BTC tx and proof to be ready");const e=await u.getRgbppSpvProof(g,0);clearInterval(v);const t=(0,oc.updateCkbTxWithRealBtcTxId)({ckbRawTx:p,btcTxId:g,isMainnet:n}),i=await(0,oc.appendCkbTxWitnesses)({ckbRawTx:t,btcTxBytes:m,rgbppApiSpvProof:e}),o=await(0,oc.sendCkbTx)({collector:r,signedTx:i});console.info(`RGB++ Asset has been launched and CKB tx hash is ${o}`)}catch(e){throw console.error(e),e}}),3e4);return{btcTxId:g}})({ownerRgbppLockArgs:S,rgbppTokenInfo:e,collector:t,isMainnet:r,btcAccount:i,btcDataSource:o,btcAccountPubkey:a,btcTestnetType:n,launchAmount:s,btcService:f,wallet:d},b);return{btcTxId:x,ckbTxHash:w}},Ty=async({ckbAddress:e,rgbppTokenInfo:t,collector:r,isMainnet:n,btcService:i,btcAccount:o,btcTestnetType:a,filterUtxo:s},c=oc.MAX_FEE,u,f)=>{const d=await i.getBtcUtxos(o,{only_non_rgbpp_utxos:!0,only_confirmed:!0,min_satoshi:1e4}),{outIndex:l,btcTxId:h}=await s(d);return await Iy({outIndex:l,btcTxId:h,rgbppTokenInfo:t,ckbAddress:e,collector:r,isMainnet:n,btcTestnetType:a},u,c,f)},Cy=async({ownerRgbppLockArgs:e,rgbppTokenInfo:t,collector:r,isMainnet:n,btcTestnetType:i,btcAccount:o,btcDataSource:a,btcAccountPubkey:s,launchAmount:c},u)=>{const f=await(0,oc.genRgbppLaunchCkbVirtualTx)({collector:r,ownerRgbppLockArgs:e,rgbppTokenInfo:t,launchAmount:c,isMainnet:n,btcTestnetType:i}),{commitment:d,ckbRawTx:l,needPaymasterCell:h}=f;console.log("RGB++ Asset type script args: ",l.outputs[0].type?.args);return await(0,by.sendRgbppUtxos)({ckbVirtualTx:l,commitment:d,tos:[o],needPaymaster:h,ckbCollector:r,from:o,fromPubkey:s,source:a,feeRate:u})},Oy=async({toCkbAddress:e,xudtTypeArgs:t,transferAmount:r,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:a,fromBtcAccount:s,fromBtcAccountPubkey:c,wallet:u,btcService:f},d)=>{const l=await xy({xudtTypeArgs:t,fromBtcAccount:s,isMainnet:a,btcService:f}),h=await(async({rgbppLockArgsList:e,toCkbAddress:t,xudtTypeArgs:r,transferAmount:n,isMainnet:i,collector:o,btcTestnetType:a,fromBtcAccountPubkey:s,fromBtcAccount:c,btcDataSource:u,btcService:f,wallet:d},l)=>{const h={...(0,oc.getXudtTypeScript)(i),args:r},p=await(0,oc.genBtcJumpCkbVirtualTx)({collector:o,rgbppLockArgsList:e,xudtTypeBytes:(0,oc.serializeScript)(h),transferAmount:n,toCkbAddress:t,isMainnet:i,btcTestnetType:a}),{commitment:b,ckbRawTx:y}=p,g=await(0,ac.PE)({ckbVirtualTx:y,commitment:b,tos:[c],ckbCollector:o,from:c,fromPubkey:s,source:u,feeRate:l}),{txId:m}=await yy(g,d,f);console.log(`BTC ${a} TxId: ${m}`),await f.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:p});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await f.getRgbppTransactionState(m);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await f.getRgbppTransactionHash(m);console.info(`Rgbpp asset has been jumped from BTC to CKB and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:m}})({rgbppLockArgsList:l.rgbppLockArgsList,toCkbAddress:e,xudtTypeArgs:t,transferAmount:r,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:a,fromBtcAccount:s,fromBtcAccountPubkey:c,wallet:u,btcService:f},d);return h},Py=async({rgbppLockArgsList:e,toCkbAddress:t,xudtTypeArgs:r,transferAmount:n,isMainnet:i,collector:o,btcTestnetType:a,fromBtcAccount:s,fromBtcAccountPubkey:c,btcDataSource:u,btcFeeRate:f=30})=>{const d={...(0,oc.getXudtTypeScript)(i),args:r},l=await(0,oc.genBtcJumpCkbVirtualTx)({collector:o,rgbppLockArgsList:e,xudtTypeBytes:(0,oc.serializeScript)(d),transferAmount:n,toCkbAddress:t,isMainnet:i,btcTestnetType:a}),{commitment:h,ckbRawTx:p}=l;return await(0,ac.PE)({ckbVirtualTx:p,commitment:h,tos:[s],ckbCollector:o,from:s,fromPubkey:c,source:u,feeRate:f})},My=async({toBtcAddress:e,sporeTypeArgs:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAddress:o,fromBtcAddressPubkey:a,btcDataSource:s,wallet:c,btcService:u},f=30)=>{const d=await By({fromBtcAddress:o,sporeTypeArgs:t,isMainnet:n,btcService:u}),l=await(async({sporeRgbppLockArgs:e,toBtcAddress:t,sporeTypeArgs:r,collector:n,isMainnet:i,btcTestnetType:o,fromBtcAddress:a,fromBtcAddressPubkey:s,btcDataSource:c,btcService:u,wallet:f},d=30)=>{const l=(0,oc.serializeScript)({...(0,oc.getSporeTypeScript)(i),args:r}),h=await(0,oc.genTransferSporeCkbVirtualTx)({collector:n,sporeRgbppLockArgs:e,sporeTypeBytes:l,isMainnet:i,btcTestnetType:o}),{commitment:p,ckbRawTx:b,needPaymasterCell:y}=h,g=await(0,ac.PE)({ckbVirtualTx:b,commitment:p,tos:[t],needPaymaster:y,ckbCollector:n,from:a,fromPubkey:s,source:c,feeRate:d}),{txId:m}=await yy(g,f,u);console.log("BTC TxId: ",m),await u.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:h});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await u.getRgbppTransactionState(m);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await u.getRgbppTransactionHash(m);console.info(`Rgbpp spore has been transferred on BTC and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){let t;return t=e instanceof Error?e:new Error(String(e)),console.error(t),{error:t,btcTxId:m}}return{btcTxId:m}})({sporeRgbppLockArgs:d,toBtcAddress:e,sporeTypeArgs:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAddress:o,fromBtcAddressPubkey:a,btcDataSource:s,wallet:c,btcService:u},f);return l},By=async({fromBtcAddress:e,sporeTypeArgs:t,isMainnet:r,btcService:n})=>{const i=JSON.stringify({...(0,oc.getSporeTypeScript)(r),args:t});console.log(i);try{const t=await n.getRgbppAssetsByBtcAddress(e,{type_script:encodeURIComponent(i),no_cache:!1});if(console.log(t),0===t.length)throw new Error("No assets found for the given BTC address and type script.");return t.map((e=>e.cellOutput.lock.args))[0]}catch(e){throw console.error("Error fetching sporeRgbppLockArgs:",e),e}},Dy=async({sporeRgbppLockArgs:e,toBtcAddress:t,sporeTypeArgs:r,collector:n,isMainnet:i,btcTestnetType:o,fromBtcAddress:a,fromBtcAddressPubkey:s,btcDataSource:c,btcFeeRate:u=30})=>{const f=(0,oc.serializeScript)({...(0,oc.getSporeTypeScript)(i),args:r}),d=await(0,oc.genTransferSporeCkbVirtualTx)({collector:n,sporeRgbppLockArgs:e,sporeTypeBytes:f,isMainnet:i,btcTestnetType:o}),{commitment:l,ckbRawTx:h,needPaymasterCell:p}=d;return await(0,ac.PE)({ckbVirtualTx:h,commitment:l,tos:[t],needPaymaster:p,ckbCollector:n,from:a,fromPubkey:s,source:c,feeRate:u})},Ry=async({toCkbAddress:e,sporeTypeArgs:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAddress:o,fromBtcAddressPubkey:a,btcDataSource:s,wallet:c,btcService:u},f=30)=>{const d=await By({fromBtcAddress:o,sporeTypeArgs:t,isMainnet:n,btcService:u}),l=await(async({sporeRgbppLockArgs:e,toCkbAddress:t,sporeTypeArgs:r,collector:n,isMainnet:i,btcTestnetType:o,fromBtcAddress:a,fromBtcAddressPubkey:s,btcDataSource:c,wallet:u,btcService:f},d=30)=>{const l=(0,oc.serializeScript)({...(0,oc.getSporeTypeScript)(i),args:r}),h=await(0,oc.genLeapSporeFromBtcToCkbVirtualTx)({collector:n,sporeRgbppLockArgs:e,sporeTypeBytes:l,toCkbAddress:t,isMainnet:i,btcTestnetType:o}),{commitment:p,ckbRawTx:b,needPaymasterCell:y}=h,g=await(0,ac.PE)({ckbVirtualTx:b,commitment:p,tos:[a],needPaymaster:y,ckbCollector:n,from:a,fromPubkey:s,source:c,feeRate:d}),{txId:m}=await yy(g,u,f);console.log("BTC TxId: ",m),await f.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:h});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await f.getRgbppTransactionState(m);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await f.getRgbppTransactionHash(m);console.info(`Rgbpp spore has been leaped from BTC to CKB and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:m}})({sporeRgbppLockArgs:d,toCkbAddress:e,sporeTypeArgs:t,collector:r,isMainnet:n,btcTestnetType:i,fromBtcAddress:o,fromBtcAddressPubkey:a,btcDataSource:s,wallet:c,btcService:u},f);return l},Ly=async({sporeRgbppLockArgs:e,toCkbAddress:t,sporeTypeArgs:r,collector:n,isMainnet:i,btcTestnetType:o,fromBtcAddress:a,fromBtcAddressPubkey:s,btcDataSource:c,btcFeeRate:u=30})=>{const f=(0,oc.serializeScript)({...(0,oc.getSporeTypeScript)(i),args:r}),d=await(0,oc.genLeapSporeFromBtcToCkbVirtualTx)({collector:n,sporeRgbppLockArgs:e,sporeTypeBytes:f,toCkbAddress:t,isMainnet:i,btcTestnetType:o}),{commitment:l,ckbRawTx:h,needPaymasterCell:p}=d;return await(0,ac.PE)({ckbVirtualTx:h,commitment:l,tos:[a],needPaymaster:p,ckbCollector:n,from:a,fromPubkey:s,source:c,feeRate:u})},Ny=async({toBtcAddress:e,xudtTypeArgs:t,transferAmount:r,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:a,fromBtcAccount:s,fromBtcAccountPubkey:c,wallet:u,btcService:f},d)=>{const l=await xy({xudtTypeArgs:t,fromBtcAccount:s,isMainnet:a,btcService:f}),h=await(async({rgbppLockArgsList:e,toBtcAddress:t,xudtTypeArgs:r,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:a,isMainnet:s,fromBtcAccount:c,fromBtcAccountPubkey:u,wallet:f,btcService:d},l)=>{const{ckbVirtualTxResult:h,btcPsbtHex:p}=await(0,ac.X9)({ckb:{collector:i,xudtTypeArgs:r,rgbppLockArgsList:e,transferAmount:n},btc:{fromAddress:c,toAddress:t,fromPubkey:u,dataSource:o,testnetType:a,feeRate:l},isMainnet:s});console.log(p);const b=by.bitcoin.Psbt.fromHex(p),{txId:y}=await yy(b,f,d);console.log(`BTC ${a} TxId: ${y}`),await d.sendRgbppCkbTransaction({btc_txid:y,ckb_virtual_result:h});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await d.getRgbppTransactionState(y);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await d.getRgbppTransactionHash(y);console.info(`Rgbpp asset has been transferred on BTC and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:y}})({rgbppLockArgsList:l.rgbppLockArgsList,toBtcAddress:e,xudtTypeArgs:t,transferAmount:r,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:a,fromBtcAccount:s,fromBtcAccountPubkey:c,wallet:u,btcService:f},d);return h},jy=async({rgbppLockArgsList:e,toBtcAddress:t,xudtTypeArgs:r,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:a,isMainnet:s,fromBtcAccount:c,fromBtcAccountPubkey:u,btcFeeRate:f=30})=>{const{btcPsbtHex:d}=await(0,ac.X9)({ckb:{collector:i,xudtTypeArgs:r,rgbppLockArgsList:e,transferAmount:n},btc:{fromAddress:c,toAddress:t,fromPubkey:u,dataSource:o,testnetType:a,feeRate:f},isMainnet:s});return by.bitcoin.Psbt.fromHex(d)}})(),__webpack_exports__})()));
//# sourceMappingURL=sdk.js.map