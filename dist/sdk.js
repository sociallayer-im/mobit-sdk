!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("bitcore-lib")):"function"==typeof define&&define.amd?define(["bitcore-lib"],t):"object"==typeof exports?exports.MobitSdk=t(require("bitcore-lib")):e.MobitSdk=t(e["bitcore-lib"])}(this,(__WEBPACK_EXTERNAL_MODULE__33470__=>(()=>{var __webpack_modules__={73513:(e,t,r)=>{"use strict";var n=r(48287).Buffer,i=r(9598),o=r(39615),s=r(22623);function a(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var u=a(i);const c="Expected Private",f="Expected Point",l="Expected Tweak",d="Expected Signature",h="Expected Extra Data (32 bytes)",p="Expected Scalar";u.utils.hmacSha256Sync=(e,...t)=>o.hmac(s.sha256,e,u.utils.concatBytes(...t)),u.utils.sha256Sync=(...e)=>s.sha256(u.utils.concatBytes(...e));const y=u.utils._normalizePrivateKey,g=32,b=32,m=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),v=32,_=new Uint8Array(32),w=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function S(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function E(e){return 0===S(e,_)}function A(e){return e instanceof Uint8Array&&e.length===b&&!(S(e,m)>=0)}function x(e){return e instanceof Uint8Array&&64===e.length&&S(e.subarray(0,32),m)<0&&S(e.subarray(32,64),m)<0}function k(e){return e instanceof Uint8Array&&64===e.length&&S(e.subarray(0,32),w)<0}function I(e){return e instanceof Uint8Array&&e.length===g}function T(e){return void 0===e||e instanceof Uint8Array&&e.length===v}function C(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function O(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private scalar");t=C(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==e.length)throw new Error("Expected 32 bytes of private scalar");r=e,t=C(u.utils.bytesToHex(r))}var r;if(t<0)throw new Error("Expected private scalar >= 0");return t}const P=(e,t,r)=>{const n=u.Point.fromHex(e),i=O(t),o=u.Point.BASE.multiplyAndAddUnsafe(n,i,BigInt(1));if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)};function M(e,t){return void 0===e?void 0===t||j(t):!!e}function B(e){try{return e()}catch(e){return null}}function D(e,t){if(32===e.length!==t)return!1;try{return!!u.Point.fromHex(e)}catch(e){return!1}}function R(e){return D(e,!1)}function j(e){return D(e,!1)&&33===e.length}function L(e){return u.utils.isValidPrivateKey(e)}function N(e){return D(e,!0)}function U(e){if(!R(e))throw new Error(f);return e.slice(1,33)}function H(e,t){if(!L(e))throw new Error(c);return B((()=>u.getPublicKey(e,M(t))))}t.isPoint=R,t.isPointCompressed=j,t.isPrivate=L,t.isXOnlyPoint=N,t.pointAdd=function(e,t,r){if(!R(e)||!R(t))throw new Error(f);return B((()=>{const n=u.Point.fromHex(e),i=u.Point.fromHex(t);return n.equals(i.negate())?null:n.add(i).toRawBytes(M(r,e))}))},t.pointAddScalar=function(e,t,r){if(!R(e))throw new Error(f);if(!A(t))throw new Error(l);return B((()=>P(e,t,M(r,e))))},t.pointCompress=function(e,t){if(!R(e))throw new Error(f);return u.Point.fromHex(e).toRawBytes(M(t,e))},t.pointFromScalar=H,t.pointMultiply=function(e,t,r){if(!R(e))throw new Error(f);if(!A(t))throw new Error(l);return B((()=>((e,t,r)=>{const n=u.Point.fromHex(e),i="string"==typeof t?t:u.utils.bytesToHex(t),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)})(e,t,M(r,e))))},t.privateAdd=function(e,t){if(!1===L(e))throw new Error(c);if(!1===A(t))throw new Error(l);return B((()=>((e,t)=>{const r=y(e),n=O(t),i=u.utils._bigintTo32Bytes(u.utils.mod(r+n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.privateNegate=function(e){if(!1===L(e))throw new Error(c);return(e=>{const t=y(e),r=u.utils._bigintTo32Bytes(u.CURVE.n-t);return u.utils.isValidPrivateKey(r)?r:null})(e)},t.privateSub=function(e,t){if(!1===L(e))throw new Error(c);if(!1===A(t))throw new Error(l);return B((()=>((e,t)=>{const r=y(e),n=O(t),i=u.utils._bigintTo32Bytes(u.utils.mod(r-n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.recover=function(e,t,r,n){if(!I(e))throw new Error("Expected Hash");if(!x(t)||!function(e){return!(E(e.subarray(0,32))||E(e.subarray(32,64)))}(t))throw new Error(d);if(2&r&&!k(t))throw new Error("Bad Recovery Id");if(!N(t.subarray(0,32)))throw new Error(d);return u.recoverPublicKey(e,t,r,M(n))},t.sign=function(e,t,r){if(!L(t))throw new Error(c);if(!I(e))throw new Error(p);if(!T(r))throw new Error(h);return u.signSync(e,t,{der:!1,extraEntropy:r})},t.signRecoverable=function(e,t,r){if(!L(t))throw new Error(c);if(!I(e))throw new Error(p);if(!T(r))throw new Error(h);const[n,i]=u.signSync(e,t,{der:!1,extraEntropy:r,recovered:!0});return{signature:n,recoveryId:i}},t.signSchnorr=function(e,t,r=n.alloc(32,0)){if(!L(t))throw new Error(c);if(!I(e))throw new Error(p);if(!T(r))throw new Error(h);return u.schnorr.signSync(e,t,r)},t.verify=function(e,t,r,n){if(!R(t))throw new Error(f);if(!x(r))throw new Error(d);if(!I(e))throw new Error(p);return u.verify(r,e,t,{strict:n})},t.verifySchnorr=function(e,t,r){if(!N(t))throw new Error(f);if(!x(r))throw new Error(d);if(!I(e))throw new Error(p);return u.schnorr.verifySync(r,e,t)},t.xOnlyPointAddTweak=function(e,t){if(!N(e))throw new Error(f);if(!A(t))throw new Error(l);return B((()=>{const r=P(e,t,!0);return{parity:r[0]%2==1?1:0,xOnlyPubkey:r.slice(1)}}))},t.xOnlyPointFromPoint=U,t.xOnlyPointFromScalar=function(e){if(!L(e))throw new Error(c);return U(H(e))}},59819:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,a="ArrayBuffer"in r;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=y(t);return t.readAsArrayBuffer(e),r}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=y(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];S.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(i,s){var u=new _(e,n);if(u.signal&&u.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout((function(){i(new S(n,r))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},c.open(u.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?c.withCredentials=!0:"omit"===u.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":a&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?u.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){c.setRequestHeader(e,l(n.headers[e]))})),u.signal&&(u.signal.addEventListener("abort",f),c.onreadystatechange=function(){4===c.readyState&&u.signal.removeEventListener("abort",f)}),c.send(void 0===u._bodyInit?null:u._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=h,r.Request=_,r.Response=S),t.Headers=h,t.Request=_,t.Response=S,t.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},67164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},13892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessArgs=t.UncleBlockVec=t.UncleBlock=t.TransactionVec=t.Transaction=t.ScriptOpt=t.Script=t.RawTransaction=t.RawHeader=t.ProposalShortIdVec=t.ProposalShortId=t.OutPoint=t.Header=t.HashType=t.DepType=t.CellbaseWitness=t.CellOutputVec=t.CellOutput=t.CellInputVec=t.CellInput=t.CellDepVec=t.CellDep=t.BytesVec=t.BytesOptVec=t.BytesOpt=t.Bytes=t.Byte32Vec=t.Byte32=t.BlockV1=t.Block=t.BaseHeader=void 0,t.WitnessArgsOf=E,t.createFixedHexBytesCodec=b,t.deTransformHeaderCodecType=X,t.deTransformTransactionCodecType=Q,t.transformHeaderCodecType=G,t.transformTransactionCodecType=$;var n=r(71313),i=r(92900);function o(e){return{...e,unpack:t=>i.BI.from(e.unpack(t)).toHexString()}}const s=o(n.number.Uint8),a=o(n.number.Uint32LE),u=o(n.number.Uint64LE),c=o(n.number.Uint128LE),{byteVecOf:f,option:l,table:d,vector:h,struct:p}=n.molecule,{bytify:y,hexify:g}=n.bytes;function b(e){return(0,n.createFixedBytesCodec)({byteLength:e,pack:e=>y(e),unpack:e=>g(e)})}const m=t.Bytes=f({pack:y,unpack:g}),v=t.BytesOpt=l(m),_=t.BytesVec=h(m),w=(t.BytesOptVec=h(v),t.Byte32=b(32)),S=t.Byte32Vec=h(w);function E(e){return d({lock:l(f(e.lock)),inputType:l(f(e.inputType)),outputType:l(f(e.outputType))},["lock","inputType","outputType"])}const A=(0,n.createBytesCodec)({pack:y,unpack:g}),x=(t.WitnessArgs=E({lock:A,inputType:A,outputType:A}),t.HashType=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("type"===e)return n.number.Uint8.pack(1);if("data"===e)return n.number.Uint8.pack(0);if("data1"===e)return n.number.Uint8.pack(2);if("data2"===e)return n.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(1===t)return"type";if(0===t)return"data";if(2===t)return"data1";if(4===t)return"data2";throw new Error(`Invalid hash type: ${t}`)}})),k=t.DepType=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("code"===e)return s.pack(0);if("depGroup"===e)return s.pack(1);throw new Error(`Invalid dep type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(0===t)return"code";if(1===t)return"depGroup";throw new Error(`Invalid dep type: ${t}`)}}),I=t.Script=d({codeHash:w,hashType:x,args:m},["codeHash","hashType","args"]),T=t.ScriptOpt=l(I),C=t.OutPoint=p({txHash:w,index:a},["txHash","index"]),O=t.CellInput=p({since:u,previousOutput:C},["since","previousOutput"]),P=t.CellInputVec=h(O),M=t.CellOutput=d({capacity:u,lock:I,type:T},["capacity","lock","type"]),B=t.CellOutputVec=h(M),D=t.CellDep=p({outPoint:C,depType:k},["outPoint","depType"]),R=t.CellDepVec=h(D),j=t.RawTransaction=d({version:a,cellDeps:R,headerDeps:S,inputs:P,outputs:B,outputsData:_},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),L=d({raw:j,witnesses:_},["raw","witnesses"]),N=t.Transaction=(0,n.createBytesCodec)({pack:e=>L.pack($(e)),unpack:e=>Q(L.unpack(e))}),U=t.TransactionVec=h(N),H=t.RawHeader=p({version:a,compactTarget:a,timestamp:u,number:u,epoch:u,parentHash:w,transactionsRoot:w,proposalsHash:w,extraHash:w,dao:w},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),F=t.BaseHeader=p({raw:H,nonce:c},["raw","nonce"]),z=t.Header=(0,n.createBytesCodec)({pack:e=>F.pack(G(e)),unpack:e=>X(F.unpack(e))}),q=t.ProposalShortId=b(10),K=t.ProposalShortIdVec=h(q),V=t.UncleBlock=d({header:z,proposals:K},["header","proposals"]),W=t.UncleBlockVec=h(V);t.Block=d({header:z,uncles:W,transactions:U,proposals:K},["header","uncles","transactions","proposals"]),t.BlockV1=d({header:z,uncles:W,transactions:U,proposals:K,extension:m},["header","uncles","transactions","proposals","extension"]),t.CellbaseWitness=d({lock:I,message:m},["lock","message"]);function $(e){return{raw:{version:e.version,cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData},witnesses:e.witnesses}}function Q(e){return{cellDeps:e.raw.cellDeps.map((e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType}))),headerDeps:e.raw.headerDeps,inputs:e.raw.inputs.map((e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since}))),outputs:e.raw.outputs.map((e=>({capacity:e.capacity,lock:e.lock,type:e.type}))),outputsData:e.raw.outputsData,version:e.raw.version,witnesses:e.witnesses}}function G(e){return{raw:{timestamp:e.timestamp,number:e.number,epoch:e.epoch,compactTarget:Number(e.compactTarget),dao:e.dao,parentHash:e.parentHash,proposalsHash:e.proposalsHash,transactionsRoot:e.transactionsRoot,extraHash:e.extraHash,version:e.version},nonce:e.nonce}}function X(e){return{timestamp:e.raw.timestamp,number:e.raw.number,epoch:e.raw.epoch,compactTarget:e.raw.compactTarget,dao:e.raw.dao,parentHash:e.raw.parentHash,proposalsHash:e.raw.proposalsHash,transactionsRoot:e.raw.transactionsRoot,extraHash:e.raw.extraHash,version:e.raw.version,nonce:e.nonce,hash:""}}},88701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCellMatchQueryOptions=function(e,{lock:t,type:r,argsLen:s=-1,data:a="any",fromBlock:u,toBlock:c}){let f=null,l=null;t&&!o(t)?f={script:t,argsLen:s}:t&&(f=t,t.argsLen||(f.argsLen=s));r&&"empty"===r?l=r:r&&"object"==typeof r&&!o(r)?l={script:r,argsLen:s}:r&&"object"==typeof r&&o(r)&&(l=r,r.argsLen||(l.argsLen=s));if(f&&f.script&&-1===f.argsLen&&!new n.ScriptValue(e.cellOutput.lock,{validate:!1}).equals(new n.ScriptValue(f.script,{validate:!1})))return!1;if(f&&f.script&&"any"===f.argsLen){const t=e.cellOutput.lock;if(t.codeHash!==f.script.codeHash||t.hashType!==f.script.hashType||!t.args.startsWith(f.script.args))return!1}if(f&&f.script&&"number"==typeof f.argsLen&&f.argsLen>=0){const t=2*f.argsLen+2,r=f.script.args.length,n=Math.min(t,r),i=e.cellOutput.lock;if(i.args.length!==t)return!1;if(i.codeHash!==f.script.codeHash||i.hashType!==f.script.hashType||i.args.slice(0,n)!==f.script.args.slice(0,n))return!1}if(l&&"empty"===l&&e.cellOutput.type)return!1;if(l&&"object"==typeof l&&(!e.cellOutput.type||!new n.ScriptValue(e.cellOutput.type,{validate:!1}).equals(new n.ScriptValue(l.script,{validate:!1}))))return!1;if(a&&"any"!==a&&e.data!==a)return!1;if(u&&e.blockNumber&&i.BI.from(e.blockNumber).lt(i.BI.from(u)))return!1;if(c&&e.blockNumber&&i.BI.from(e.blockNumber).gt(i.BI.from(c)))return!1;return!0},t.isScriptWrapper=o;var n=r(16112),i=r(92900);function o(e){return null!==e&&void 0!==e.script}},41600:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var i=p(r(16112));t.values=i;var o=p(r(54617));t.utils=o;var s=p(r(37462));t.since=s;var a=p(r(88701));t.helpers=a;var u=p(r(28735));t.indexer=u,Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=p(r(13022));t.logger=c;var f=p(r(13892));t.blockchain=f;var l=r(20073);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var d=r(67164);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}))},28735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionCollector=t.Indexer=void 0;var n=r(49805),i=r(54617),o=r(88701);t.Indexer=class{};class s{constructor(e,{lock:t,type:r,argsLen:s=-1,fromBlock:a,toBlock:u,order:c="asc",skip:f}={},{skipMissing:l=!1,includeStatus:d=!0}={}){if(!(t||r&&"empty"!==r))throw new Error("Either lock or type script must be provided!");if(t&&!(0,o.isScriptWrapper)(t)?(n.validators.ValidateScript(t),this.lock={script:t,ioType:"both",argsLen:s}):t&&t.script&&(n.validators.ValidateScript(t.script),this.lock=t,t.argsLen||(this.lock.argsLen=s),t.ioType||(this.lock.ioType="both")),"empty"===r?this.type=r:r&&!(0,o.isScriptWrapper)(r)?(n.validators.ValidateScript(r),this.type={script:r,ioType:"both",argsLen:s}):r&&r.script&&(n.validators.ValidateScript(r.script),this.type=r,r.argsLen||(this.type.argsLen=s),r.ioType||(this.type.ioType="both")),a&&(0,i.assertHexadecimal)("fromBlock",a),u&&(0,i.assertHexadecimal)("toBlock",u),"asc"!==c&&"desc"!==c)throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=l,this.includeStatus=d,this.fromBlock=a,this.toBlock=u,this.order=c,this.skip=f,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const t of e){const e=await this.rpc.get_transaction(t);if(!this.skipMissing&&!e)throw new Error(`Transaction ${t} is missing!`);this.includeStatus?yield e:yield e.transaction}}}t.TransactionCollector=s;const a={TransactionCollector:s};t.default=a},13022:(e,t)=>{"use strict";function r(e,t){const r=`[${e}] ${t}`;return"error"===e||"warn"===e?console.warn(r):void console.log(`[${e}] ${t}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLogger=r,t.deprecated=function(e){r("deprecated",e)}},20073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},37462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAbsoluteEpochSince=a,t.generateHeaderEpoch=u,t.generateSince=o,t.maximumAbsoluteEpochSince=function(...e){const t=e.map((e=>c(e))),r=Math.max(...t.map((e=>e.number))),i=t.filter((e=>e.number===r));let o=i[0];for(let e=1;e<i.length;++e){const t=i[e];n.BI.from(t.index).mul(o.length).gte(n.BI.from(o.index).mul(t.length))&&(o=t)}return a(o)},t.parseAbsoluteEpochSince=c,t.parseEpoch=s,t.parseSince=function(e){const t=i(e);return"epochNumber"===t.type?t:{...t,value:t.value.toBigInt()}},t.parseSinceCompatible=i,t.validateAbsoluteEpochSince=f,t.validateSince=function(e,t,r){const{relative:o,type:a,value:u}=i(e);if(o){if("epochNumber"===a){const e=s(t.epoch),i=s(r.epoch),o={number:n.BI.from(u.number).add(i.number),index:n.BI.from(u.index).mul(i.length).add(n.BI.from(i.index).mul(u.length)),length:n.BI.from(u.length).mul(i.length)};return 0===u.length&&0!==i.length?(o.index=n.BI.from(i.index),o.length=n.BI.from(i.length)):0===i.length&&0!==u.length&&(o.index=n.BI.from(u.index),o.length=n.BI.from(u.length)),!n.BI.from(o.length).eq(0)&&n.BI.from(o.index).gte(o.length)&&(o.number=o.index.div(o.length).add(o.number),o.index=o.index.mod(o.length)),n.BI.from(o.number).lt(e.number)||n.BI.from(o.number).eq(e.number)&&n.BI.from(o.index).mul(e.length).lte(n.BI.from(e.index).mul(o.length))}if("blockNumber"===a)return n.BI.from(u).add(r.blockNumber).lte(t.blockNumber);if("blockTimestamp"===a){if(!t.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return n.BI.from(u).mul(1e3).add(r.median_timestamp).lte(t.median_timestamp)}}else{if("epochNumber"===a)return f(e,t.epoch);if("blockNumber"===a)return n.BI.from(u).lte(t.blockNumber);if("blockTimestamp"===a){if(!t.median_timestamp)throw new Error("Must provide tip median_timestamp!");return n.BI.from(u).mul(1e3).lte(t.median_timestamp)}}return!1};var n=r(92900);function i(e){const t=n.BI.from(e),r=t.shr(56),i=r.shr(5).and("0b11");let o,s;if(i.eq(0))o="blockNumber",s=t.and("0xFFFFFFFFFFFFFF");else if(i.eq(1))o="epochNumber",s={length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()};else{if(!i.eq(2))throw new Error("Invalid metric flag!");o="blockTimestamp",s=t.and("0xFFFFFFFFFFFFFF")}return{relative:!r.and("0x80").eq(0),type:o,value:s}}function o({relative:e,type:t,value:r}){let i,o=n.BI.from(0);return e&&(o=o.add(128)),"epochNumber"===t?o=o.add(32):"blockTimestamp"===t&&(o=o.add(64)),i=(0,n.isBIish)(r)?n.BI.from(r):"object"==typeof r?u(r):n.BI.from(r),l(o.shl(56).add(i))}function s(e){const t=n.BI.from(e);return{length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()}}function a({length:e,index:t,number:r}){return o({relative:!1,type:"epochNumber",value:{length:e,index:t,number:r}})}function u({length:e,index:t,number:r}){return l(n.BI.from(e).shl(40).add(n.BI.from(t).shl(24)).add(r))}function c(e){const{relative:t,type:r,value:n}=i(e);if(!1!==t||"epochNumber"!==r)throw new Error("Since format error!");return n}function f(e,t){const r=i(e).value,o=s(t);return n.BI.from(r.number).lt(o.number)||n.BI.from(r.number).eq(o.number)&&n.BI.from(r.index).mul(o.length).lte(n.BI.from(o.index).mul(r.length))}function l(e){return"0x"+e.toString(16)}},54617:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CKBHasher=void 0,t.assertHexString=function(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)},t.assertHexadecimal=v,t.ckbHash=p,t.ckbHash160=function(e){return p(e).slice(0,42)},t.computeScriptHash=function(e){return p(a.Script.pack(e))},t.deepCamel=S,t.deepCamelizeTransaction=function(e){return E(S(e))},t.generateTypeIdScript=function(e,t="0x0"){a.CellInput.pack(e),v("outputIndex",t);const r=function(e,t){const r=a.CellInput.pack(e),n=s.bytes.hexify(s.number.Uint64LE.pack(t)),i=new h;return i.update(r),i.update(n),i.digestHex()}(e,t);return{codeHash:_,hashType:"type",args:r}},t.hashCode=function(e){return(0,o.xxHash32)(e,0)},t.readBigUInt128LE=function(e){return m(e).toBigInt()},t.readBigUInt128LECompatible=m,t.readBigUInt64LE=function(e){return g(e).toBigInt()},t.readBigUInt64LECompatible=g,t.toBigUInt128LE=function(e){return b(e)},t.toBigUInt128LECompatible=b,t.toBigUInt64LE=function(e){return y(e)},t.toBigUInt64LECompatible=y;var n,i=(n=r(72206))&&n.__esModule?n:{default:n},o=r(52290),s=r(71313),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13892)),u=r(6435);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}const{bytify:f,hexify:l,bytifyRawString:d}=s.bytes;class h{constructor(e={}){const{outLength:t=32}=e;this.outLength=t,this.hasher=(0,i.default)(t,void 0,void 0,d("ckb-default-hash"))}update(e){return this.hasher.update(f(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),l(e.buffer)}}function p(e){const t=new h;return t.update(s.bytes.bytify(e)),t.digestHex()}function y(e){return s.bytes.hexify(u.Uint64LE.pack(e))}function g(e){return u.Uint64LE.unpack(e)}function b(e){return s.bytes.hexify(u.Uint128LE.pack(e))}function m(e){return u.Uint128LE.unpack(e)}function v(e,t){if(!/^0x(0|[0-9a-fA-F]+)$/.test(t))throw new Error(`${e} must be a hexadecimal!`)}t.CKBHasher=h;const _="0x00000000000000000000000000000000000000000000000000545950455f4944";function w(e){return e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_","")))}function S(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>S(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[w(r)]=S(n):t[w(r)]=n}return t}return e}function E(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>E(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[r]=E(n):t[r]="dep_group"===n?"depGroup":n}return t}return e}},16112:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionValue=t.ScriptValue=t.RawTransactionValue=t.OutPointValue=void 0;var i=r(52290),o=r(54617),s=r(71313),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13892));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}const{hexify:c}=s.bytes;class f{constructor(e){this.buffer=e}equals(e){return c(this.buffer)===c(e.buffer)}hashCode(){return(0,i.xxHash32)(n.from(this.buffer),0)}hash(){return(0,o.ckbHash)(this.buffer)}}t.ScriptValue=class extends f{constructor(e,t={}){super(a.Script.pack(e))}};t.OutPointValue=class extends f{constructor(e,t={}){super(a.OutPoint.pack(e))}};t.RawTransactionValue=class extends f{constructor(e,t={}){super(a.RawTransaction.pack(e))}};t.TransactionValue=class extends f{constructor(e,t={}){super(a.Transaction.pack(e))}}},92900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ckbDecimals=t.BI=void 0,t.formatUnit=function(e,t){const r=d(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=s.from(e);const n=e.isNegative();n&&(e=e.mul(l));const i=e.div(r).toString();let o=i;if(r.length>1){let t=e.mod(r).toString();for(;t.length<r.length-1;)t="0"+t;t=t.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+t}n&&(o="-"+o);return o}(e,r)},t.isBIish=o,t.parseUnit=function(e,t){const r=d(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n="-"===e.substring(0,1);n&&(e=e.substring(1));let i,o;const a=e.split(".");if(1===a.length)i=a[0],o="0";else{if(2!==a.length)throw new Error("too many decimal points (should not happen)");i=a[0],o=a[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const u=s.from(i),c=s.from(o);let f=u.mul(r).add(c);n&&(f=f.mul(l));return f}(e,r)},t.toJSBI=u;var n,i=(n=r(75951))&&n.__esModule?n:{default:n};function o(e){return null!==e&&("number"==typeof e&&e%1==0||"string"==typeof e&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||"bigint"==typeof e||s.isBI(e))}class s{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return a(i.default.add(this.jsbi,u(e)))}sub(e){return a(i.default.subtract(this.jsbi,u(e)))}div(e){return a(i.default.divide(this.jsbi,u(e)))}mul(e){return a(i.default.multiply(this.jsbi,u(e)))}mod(e){return a(i.default.remainder(this.jsbi,u(e)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,u(0))?a(this.jsbi):a(i.default.unaryMinus(this.jsbi))}pow(e){return a(i.default.exponentiate(this.jsbi,u(e)))}and(e){return a(i.default.bitwiseAnd(this.jsbi,u(e)))}or(e){return a(i.default.bitwiseOr(this.jsbi,u(e)))}xor(e){return a(i.default.bitwiseXor(this.jsbi,u(e)))}not(){return a(i.default.bitwiseNot(this.jsbi))}mask(e){const t=u(e);if(i.default.lessThan(t,u(0))||i.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const r=u(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,t))return a(this.jsbi);{const e=i.default.leftShift(i.default.signedRightShift(this.jsbi,t),t);return a(i.default.bitwiseXor(this.jsbi,e))}}shl(e){return a(i.default.leftShift(this.jsbi,u(e)))}shr(e){return a(i.default.signedRightShift(this.jsbi,u(e)))}eq(e){return i.default.equal(this.jsbi,u(e))}lt(e){return i.default.lessThan(this.jsbi,u(e))}lte(e){return i.default.lessThanOrEqual(this.jsbi,u(e))}gt(e){return i.default.greaterThan(this.jsbi,u(e))}gte(e){return i.default.greaterThanOrEqual(this.jsbi,u(e))}isNegative(){return i.default.lessThan(this.jsbi,u(0))}isZero(){return i.default.equal(this.jsbi,u(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(e){throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return i.default.lessThan(this.jsbi,u(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof s)return e;if(o(e))return a(u(e));if(e instanceof i.default)return a(u(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return function(e){return null!=e&&"object"==typeof e}(e)&&!!e._isBI}}function a(e){return new s(e)}function u(e){return"number"==typeof e||"string"==typeof e?i.default.BigInt(e):i.default.BigInt(e.toString())}t.BI=s;const c=["shannon","ckb"],f=t.ckbDecimals=8,l=s.from(-1);function d(e){let t=0;if("string"==typeof e){if(-1===c.indexOf(e))throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);"ckb"===e&&(t=f)}else{if(!h(e))throw new Error("unit of integer must be a non-negative integer");t=e}return t}function h(e){return Number.isInteger(e)&&e>=0}},8648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertQueryOptionToLumosSearchKey=s,t.filterByLumosQueryOptions=function(e,t){const r=s(t);let n=e.filter((e=>a(e,r)));t.argsLen&&"any"!==t.argsLen&&-1!==t.argsLen&&(n=n.filter((e=>i.bytes.bytify(e.cellOutput.lock.args).length===t.argsLen)));if(t.data&&"any"!==t.data)if(l(t.data)&&"exact"===t.data.searchMode){const e=t.data;n=n.filter((t=>i.bytes.equal(i.bytes.bytify(t.data),i.bytes.bytify(e.data))))}else if(l(t.data)&&"prefix"===t.data.searchMode){const e=t.data;n=n.filter((t=>{const r=i.bytes.bytify(e.data),n=i.bytes.bytify(t.data).slice(0,r.length);return i.bytes.equal(r,n)}))}else n=n.filter((e=>{const r=i.bytes.bytify(t.data),n=i.bytes.bytify(e.data).slice(0,r.length);return i.bytes.equal(r,n)}));return n},t.filterByLumosSearchKey=a,t.instanceOfDataWithSearchMode=l,t.instanceOfScriptWrapper=f,t.unwrapScriptWrapper=t.unwrapDataWrapper=void 0;var n=r(41600),i=r(71313),o=r(92900);function s(e){let t,r,n;const i=e.lock,o=e.type;if(i&&(t=f(i)?i.script:i),o&&"empty"!==o&&(r=f(o)?o.script:o),t)n={script:t,scriptType:"lock",scriptSearchMode:f(i)&&i.searchMode||"prefix",filter:{}},r&&(n.filter.script=r);else{if(!r)throw new Error("query.lock and query.type can't be both empty");n={script:r,scriptType:"type",scriptSearchMode:f(o)&&o.searchMode||"prefix",filter:{}}}const{outputDataLenRange:s,outputCapacityRange:a,scriptLenRange:u}=e;return n.filter.outputDataLenRange=s,n.filter.outputCapacityRange=a,n.filter.scriptLenRange=u,"empty"===o&&(n.filter.scriptLenRange=["0x0","0x1"]),n}function a(e,t){const r="exact"===t.scriptSearchMode,{cellOutput:s}=e,{scriptType:a,script:f,filter:l}=t;if(r){if("lock"===a){if(!i.bytes.equal(n.blockchain.Script.pack(s.lock),n.blockchain.Script.pack(f)))return!1}else if(!s.type||!i.bytes.equal(n.blockchain.Script.pack(s.type),n.blockchain.Script.pack(f)))return!1}else if("lock"===a){if(!u(s.lock,f))return!1}else if(!u(s.type,f))return!1;if(!l)return!0;if("lock"===a){if(l.script&&!u(s.type,l.script))return!1;if(l.scriptLenRange&&!c(s.type,l.scriptLenRange))return!1}else{if(l.script&&!u(s.lock,l.script))return!1;if(l.scriptLenRange&&!c(s.lock,l.scriptLenRange))return!1}const{outputCapacityRange:d,outputDataLenRange:h}=l;if(d){const e=o.BI.from(s.capacity),t=o.BI.from(d[0]),r=o.BI.from(d[1]);if(e.lt(t)||e.gte(r))return!1}if(h){const t=o.BI.from(i.bytes.bytify(e.data).length),r=o.BI.from(h[0]),n=o.BI.from(h[1]);if(t.lt(r)||t.gte(n))return!1}return!0}function u(e,t){if(!e)return!1;if(!i.bytes.equal(t.codeHash,e.codeHash))return!1;const r=i.bytes.bytify(t.args),n=i.bytes.bytify(e.args).slice(0,r.length);return!!i.bytes.equal(r,n)&&e.hashType===t.hashType}function c(e,t){const r=e?o.BI.from(i.bytes.concat(e.codeHash,e.args).length+1):o.BI.from(0),n=o.BI.from(t[0]),s=o.BI.from(t[1]);return!r.lt(n)&&!r.gte(s)}function f(e){return"object"==typeof e&&null!=e&&"script"in e}function l(e){return"object"==typeof e&&null!=e&&"data"in e}t.unwrapScriptWrapper=e=>f(e)?e.script:e;t.unwrapDataWrapper=e=>l(e)?e.data:e},94182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CKBCellCollector=void 0;var n,i=r(41600),o=r(49805),s=r(26861),a=(n=r(74945))&&n.__esModule?n:{default:n},u=r(8648);t.CKBCellCollector=class{constructor(e,t,r){this.terminableCellFetcher=e,this.otherQueryOptions=r;const n={lock:void 0,type:void 0,argsLen:-1,data:"any",fromBlock:void 0,toBlock:void 0,order:"asc",skip:void 0,outputDataLenRange:void 0,outputCapacityRange:void 0,bufferSize:void 0};this.queries=(Array.isArray(t)?t:[t]).map((e=>({...n,...e}))),this.queries.forEach((e=>{this.validateQueryOption(e)})),this.convertQueryOptionToSearchKey()}validateQueryOption(e){if(!(e.lock||e.type&&"empty"!==e.type))throw new Error("Either lock or type script must be provided!");if(e.lock&&((0,u.instanceOfScriptWrapper)(e.lock)?(0,u.instanceOfScriptWrapper)(e.lock)&&o.validators.ValidateScript(e.lock.script):o.validators.ValidateScript(e.lock)),e.type&&"empty"!==e.type&&("object"!=typeof e.type||(0,u.instanceOfScriptWrapper)(e.type)?"object"==typeof e.type&&(0,u.instanceOfScriptWrapper)(e.type)&&o.validators.ValidateScript(e.type.script):o.validators.ValidateScript(e.type)),e.fromBlock&&i.utils.assertHexadecimal("fromBlock",e.fromBlock),e.toBlock&&i.utils.assertHexadecimal("toBlock",e.toBlock),"asc"!==e.order&&"desc"!==e.order)throw new Error("Order must be either asc or desc!");if(e.outputCapacityRange&&(i.utils.assertHexadecimal("outputCapacityRange[0]",e.outputCapacityRange[0]),i.utils.assertHexadecimal("outputCapacityRange[1]",e.outputCapacityRange[1])),e.outputDataLenRange&&(i.utils.assertHexadecimal("outputDataLenRange[0]",e.outputDataLenRange[0]),i.utils.assertHexadecimal("outputDataLenRange[1]",e.outputDataLenRange[1])),e.scriptLenRange&&(i.utils.assertHexadecimal("scriptLenRange[0]",e.scriptLenRange[0]),i.utils.assertHexadecimal("scriptLenRange[1]",e.scriptLenRange[1])),e.outputDataLenRange&&e.data&&"any"!==e.data){const t=(0,s.getHexStringBytes)((0,u.unwrapDataWrapper)(e.data));if(t<Number(e.outputDataLenRange[0])||t>=Number(e.outputDataLenRange[1]))throw new Error("data length not match outputDataLenRange")}if(e.skip&&"number"!=typeof e.skip)throw new Error("skip must be a number!");if(e.bufferSize&&"number"!=typeof e.bufferSize)throw new Error("bufferSize must be a number!")}convertQueryOptionToSearchKey(){this.queries.forEach((e=>{const t=e.lock;if(t&&(0,u.instanceOfScriptWrapper)(t)&&(o.validators.ValidateScript(t.script),e.lock=t.script),e.type&&"empty"!==e.type&&"object"==typeof e.type&&(0,u.instanceOfScriptWrapper)(e.type)&&(o.validators.ValidateScript(e.type.script),e.type=e.type.script),!e.outputDataLenRange&&e.data&&"any"!==e.data){const t=(0,s.getHexStringBytes)((0,u.unwrapDataWrapper)(e.data));e.outputDataLenRange=["0x"+t.toString(16),"0x"+(t+1).toString(16)]}e.scriptLenRange||"empty"!==e.type||(e.scriptLenRange=["0x0","0x1"])}))}async getLiveCell(e,t){const r={sizeLimit:e.bufferSize,order:e.order,lastCursor:t};return await this.terminableCellFetcher.getCells((0,s.generateSearchKey)(e),void 0,r)}async count(){let e=0;for await(const t of this.collect())e++;return e}async request(e,t){const r=await(0,a.default)(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(200!==r.status)throw new Error(`indexer request failed with HTTP code ${r.status}`);const n=await r.json();if(void 0!==n.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(n.error)}`);return n}async getLiveCellWithBlockHash(e,t){if(!this.otherQueryOptions)throw new Error("CKB Rpc URL must provide");const r=await this.getLiveCell(e,t);if(0===r.objects.length)return r;const n=r.objects.map(((e,t)=>({id:t,jsonrpc:"2.0",method:"get_block_hash",params:[e.blockNumber]}))),i=await this.request(this.otherQueryOptions.ckbRpcUrl,n);return r.objects=r.objects.map(((e,t)=>{const r=i.find((e=>e.id===t));return{...e,blockHash:r&&r.result}})),r}async*collect(){const e=new Set;for(const n of this.queries)for await(const i of this.collectBySingleQuery(n)){var t,r;const n=`${null===(t=i.outPoint)||void 0===t?void 0:t.txHash}-${null===(r=i.outPoint)||void 0===r?void 0:r.index}`;e.has(n)||(e.add(n),yield i)}}async*collectBySingleQuery(e){const t=this.otherQueryOptions&&"withBlockHash"in this.otherQueryOptions&&this.otherQueryOptions.withBlockHash;let r;const n=async()=>{const n=await(t?this.getLiveCellWithBlockHash(e,r):this.getLiveCell(e,r));return r=n.lastCursor,n.objects};let i=await n();if(i=(0,u.filterByLumosQueryOptions)(i,e),0===i.length)return;let o=n(),s=0,a=0;for(;;)if(e.skip&&a<e.skip?a++:yield i[s],s++,s===i.length){if(s=0,i=await o,0===i.length)break;o=n()}}}},44837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CKBCellCollector}}),Object.defineProperty(t,"Indexer",{enumerable:!0,get:function(){return i.CkbIndexer}}),Object.defineProperty(t,"RPC",{enumerable:!0,get:function(){return s.RPC}}),Object.defineProperty(t,"TerminableCellAdapter",{enumerable:!0,get:function(){return i.TerminableCellAdapter}}),Object.defineProperty(t,"TransactionCollector",{enumerable:!0,get:function(){return o.CKBIndexerTransactionCollector}});var n=r(94182),i=r(7870),o=r(7109),s=r(24006)},7870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminableCellAdapter=t.CkbIndexer=void 0;var n=r(41600),i=r(26861),o=r(94182),s=r(37007),a=r(21001),u=r(92900),c=r(24006),f=r(24980),l=r(49805),d=r(8648);const h=()=>({stop:!1,push:!0});function p(e,t){console.log(`[${e}] ${t}`)}t.CkbIndexer=class{static version="0.4.1";medianTimeEmitters=[];emitters=[];isSubscribeRunning=!1;constructor(e,t){this.ckbIndexerUrl=e,this.ckbRpcUrl=t,this.uri=t||e,this.ckbIndexerUri=e}getCkbRpc(){return new f.CKBRPC(this.uri)}getIndexerRpc(){if(this.uri===this.ckbIndexerUri){const e=this.getCkbRpc();return{...e,getTip:e.getIndexerTip}}return new c.RPC(this.ckbIndexerUri)}async tip(){return await this.getIndexerRpc().getTip()}asyncSleep(e){return new Promise((t=>setTimeout(t,e)))}async waitForSync(e=0){const t=parseInt((await this.getCkbRpc().getTipHeader()).number,16);for(;;){if(parseInt((await this.tip()).blockNumber,16)+e>=t)return;await this.asyncSleep(1e3)}}collector(e,t){return new o.CKBCellCollector(this,e,t)}async getCells(e,t=h,r={}){return new y(this.getIndexerRpc()).getCells(e,t,r)}async getTransactions(e,t={}){let r=[],n=t.lastCursor;const i=t.sizeLimit||100,o=t.order||"asc";for(;;){const t=await this.getIndexerRpc().getTransactions(e,o,`0x${i.toString(16)}`,n),s=t.objects;if(n=t.lastCursor,r=r.concat(s),s.length<=i)break}return{objects:r,lastCursor:n}}running(){return!0}start(){p("warn","deprecated: no need to start the ckb-indexer manually")}startForever(){p("warn","deprecated: no need to startForever the ckb-indexer manually")}stop(){p("warn","deprecated: no need to stop the ckb-indexer manually")}subscribe(e){if(this.isSubscribeRunning=!0,this.scheduleLoop(),e.lock&&e.type)throw new Error("The notification machanism only supports you subscribing for one script once so far!");null===e.toBlock&&null===e.skip||p("warn","The passing fields such as toBlock and skip are ignored in subscribe() method.");const t=new a.IndexerEmitter;if(t.argsLen=e.argsLen,t.outputData=e.data&&(0,d.unwrapDataWrapper)(e.data),e.fromBlock&&n.utils.assertHexadecimal("fromBlock",e.fromBlock),t.fromBlock=e.fromBlock?u.BI.from(e.fromBlock):u.BI.from(0),e.lock)l.validators.ValidateScript(e.lock),t.lock=e.lock;else{if(!e.type||"empty"===e.type)throw new Error("Either lock or type script must be provided!");l.validators.ValidateScript(e.type),t.type=e.type}return this.emitters.push(t),t}loop(){this.isSubscribeRunning&&this.poll().then((e=>{this.scheduleLoop(e)})).catch((e=>{p("error",`Error occurs: ${e} ${e.stack}, stopping indexer!`),this.isSubscribeRunning=!1}))}scheduleLoop(e=1){setTimeout((()=>{this.loop()}),e)}async poll(){let e=1;const t=await this.tip(),{blockNumber:r,blockHash:n}=t;if("0x0"===r){const e=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(e)}const i=u.BI.from(r).add(1),o=await this.getCkbRpc().getBlockByNumber(`0x${i.toString(16)}`);if(o)if(o.header.parentHash===n)await this.publishAppendBlockEvents(o);else{const e=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(e)}else{const t=await this.getCkbRpc().getBlockByNumber(r);await this.publishAppendBlockEvents(t),e=3e3}return e}async publishAppendBlockEvents(e){for(const[t,r]of e.transactions.entries()){const n=e.header.number;if(t>0){const e=r.inputs.map((e=>e.previousOutput.txHash));(await(0,i.requestBatchTransactionWithStatus)(this.uri,e).then((e=>e.map(((e,t)=>{const n=r.inputs[t].previousOutput.index;return{output:e.transaction.outputs[parseInt(n)],outputData:e.transaction.outputsData[parseInt(n)]}}))))).forEach((({output:e,outputData:t})=>{this.filterEvents(e,n,t)}))}for(const[e,t]of r.outputs.entries()){const i=r.outputsData[e];this.filterEvents(t,n,i)}}await this.emitMedianTimeEvents()}filterEvents(e,t,r){for(const n of this.emitters)void 0!==n.lock&&this.checkFilterOptions(n,t,r,n.lock,e.lock)&&n.emit("changed");if(null!==e.type)for(const n of this.emitters)void 0!==n.type&&this.checkFilterOptions(n,t,r,n.type,e.type)&&n.emit("changed")}checkFilterOptions(e,t,r,n,i){const o=!e.fromBlock||u.BI.from(e.fromBlock).lte(t),s="any"===e.outputData||!e.outputData||e.outputData===r,a=!i||n.codeHash===i.codeHash&&n.hashType===i.hashType&&this.checkArgs(e.argsLen,n.args,i.args);return o&&s&&a}checkArgs(e,t,r){return-1===e||!e&&0!==e?t===r:("number"==typeof e&&r.length===2*e+2||"any"===e)&&r.substring(0,t.length)===t}async emitMedianTimeEvents(){if(0===this.medianTimeEmitters.length)return;const e=(await this.getCkbRpc().getBlockchainInfo()).medianTime;for(const t of this.medianTimeEmitters)t.emit("changed",e)}subscribeMedianTime(){this.isSubscribeRunning=!0,this.scheduleLoop();const e=new s.EventEmitter;return this.medianTimeEmitters.push(e),e}};class y{constructor(e){this.getCellsableRpc=e}async getCells(e,t=h,r={}){const n=[];let i=r.lastCursor;const o=r.sizeLimit||100,s=r.order||"asc";for(;;){const r=await this.getCellsableRpc.getCells(e,s,`0x${o.toString(16)}`,i),a=r.objects;i=r.lastCursor;for(const e of a){const r={cellOutput:e.output,data:e.outputData,outPoint:e.outPoint?e.outPoint:void 0,blockNumber:e.blockNumber},{stop:o,push:s}=t(0,r);if(s&&n.push(r),o)return{objects:n,lastCursor:i}}if(a.length<=o)break}return{objects:n,lastCursor:i}}}t.TerminableCellAdapter=y},32341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSearchKey=t.toSearchFilter=t.toScript=t.toGetTransactionsSearchKey=t.toGetCellsSearchKey=void 0;const r=e=>({code_hash:e.codeHash,hash_type:e.hashType,args:e.args});t.toScript=r;const n=e=>({script:e.script?r(e.script):e.script,output_data_len_range:e.outputDataLenRange,output_capacity_range:e.outputCapacityRange,block_range:e.blockRange,script_len_range:e.scriptLenRange});t.toSearchFilter=n;const i=e=>({script:r(e.script),script_type:e.scriptType,filter:e.filter?n(e.filter):e.filter,script_search_mode:e.scriptSearchMode?e.scriptSearchMode:"prefix"});t.toSearchKey=i;t.toGetCellsSearchKey=e=>({...i(e),with_data:e.withData});t.toGetTransactionsSearchKey=e=>({...i(e),group_by_transaction:e.groupByTransaction})},33896:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toTip=t.toSearchKey=t.toSearchFilter=t.toScript=t.toOutPoint=t.toCellOutPut=void 0;t.toTip=e=>({blockHash:e.block_hash,blockNumber:e.block_number});const r=e=>({codeHash:e.code_hash,hashType:e.hash_type,args:e.args});t.toScript=r;t.toOutPoint=e=>({txHash:e.tx_hash,index:e.index});t.toCellOutPut=e=>({...e,lock:r(e.lock),type:e.type?r(e.type):void 0});const n=e=>({script:e.script?r(e.script):e.script,outputDataLenRange:e.output_data_len_range,outputCapacityRange:e.output_capacity_range,scriptLenRange:e.script_len_range,blockRange:e.block_range});t.toSearchFilter=n;t.toSearchKey=e=>({script:r(e.script),scriptType:e.script_type,filter:e.filter?n(e.filter):e.filter,scriptSearchMode:e.script_search_mode})},24006:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RPC=void 0;var n,i=r(41600),o=(n=r(74945))&&n.__esModule?n:{default:n},s=r(32341);t.RPC=class{constructor(e){this.uri=e}async getTip(){return i.utils.deepCamel(await a(this.uri,"get_tip"))}async getCells(e,t,r,n){const o=[(0,s.toGetCellsSearchKey)(e),t,r,n];return i.utils.deepCamel(await a(this.uri,"get_cells",o))}async getTransactions(e,t,r,n){const o=[(0,s.toGetTransactionsSearchKey)(e),t,r,n];return i.utils.deepCamel(await a(this.uri,"get_transactions",o))}async getIndexerInfo(){return i.utils.deepCamel(await a(this.uri,"get_indexer_info"))}};const a=async(e,t,r)=>{const n=await(0,o.default)(e,{method:"POST",body:JSON.stringify({id:0,jsonrpc:"2.0",method:t,params:r}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`indexer request failed with HTTP code ${n.status}`);const i=await n.json();if(void 0!==i.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(i.error)}`);return i.result}},26861:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHexStringBytes=t.generateSearchKey=void 0,t.requestBatch=d,t.requestBatchTransactionWithStatus=async function(e,t){if(0===t.length)return[];const r=t.map(((e,t)=>({id:t,jsonrpc:"2.0",method:"get_transaction",params:[e]})));return(await d(e,r)).map((e=>f.ResultFormatter.toTransactionWithStatus(e.result)))};var n,i=r(41600),o=(n=r(74945))&&n.__esModule?n:{default:n},s=r(92900),a=r(32341),u=r(33896),c=r(8648),f=r(24980);t.generateSearchKey=e=>{let t;const r={};let n,i="prefix";if(e.lock){const i=(0,c.unwrapScriptWrapper)(e.lock);if(t=(0,a.toScript)(i),n="lock",e.type&&"string"!=typeof e.type){const t=(0,c.unwrapScriptWrapper)(e.type);r.script=(0,a.toScript)(t)}}else if(e.type&&"string"!=typeof e.type){const r=(0,c.unwrapScriptWrapper)(e.type);t=(0,a.toScript)(r),n="type"}let o=null;if(e.fromBlock&&e.toBlock&&(o=[e.fromBlock,`0x${s.BI.from(e.toBlock).add(1).toString(16)}`]),o&&(r.block_range=o),e.outputDataLenRange&&(r.output_data_len_range=e.outputDataLenRange),e.outputCapacityRange&&(r.output_capacity_range=e.outputCapacityRange),e.scriptLenRange&&(r.script_len_range=e.scriptLenRange),e.scriptSearchMode&&(i=e.scriptSearchMode),!t)throw new Error("Either lock or type script must be provided!");if(!n)throw new Error("script_type must be provided");return(0,u.toSearchKey)({script:t,script_type:n,filter:r,script_search_mode:i})};t.getHexStringBytes=e=>(i.utils.assertHexString("",e),Math.ceil(e.substr(2).length/2));let l=0;async function d(e,t){if(!t.length)return[];const r=await(0,o.default)(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.map((e=>({id:l++,...e}))))});if(200!==r.status)throw new Error(`Indexer request failed with HTTP code ${r.status}`);const n=await r.json();if(void 0!==n.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(n.error)}`);return n}},7109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CKBIndexerTransactionCollector=void 0;var n=r(41600),i=r(8648),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(26861));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}class a extends n.indexer.TransactionCollector{constructor(e,t,r,n){super(e,t,n),this.indexer=e,this.queries=t,this.CKBRpcUrl=r,this.options=n;this.filterOptions={skipMissing:!1,includeStatus:!0,...this.options}}static asBaseTransactionCollector(e){return class extends n.indexer.TransactionCollector{constructor(t,r,n){return super(t,r,n),new a(t,r,e,n)}}}async fetchIndexerTransaction(e,t){const r={sizeLimit:e.bufferSize,order:e.order};t&&(r.lastCursor=t);let n={objects:[],lastCursor:""};return(0,i.instanceOfScriptWrapper)(e.lock)&&(0,i.instanceOfScriptWrapper)(e.type)?(n=await this.getTransactionByLockAndTypeIndependent(r),t=n.lastCursor):(n=await this.indexer.getTransactions(o.generateSearchKey(e),r),t=n.lastCursor),n.objects=this.filterByTypeIoTypeAndLockIoType(n.objects,e),n}getResolvedTransactionRequestPayload(e,t){const r=[];return e.forEach(((e,n)=>{const i=t.objects[n];if("input"===i.ioType){const t=e.transaction.inputs[Number(i.ioIndex)].previousOutput;r.push(t.txHash)}})),r}getResolvedCell(e,t,r){if("input"!==r.ioType)return e.transaction.outputs[Number(r.ioIndex)];{const n=e.transaction.inputs[Number(r.ioIndex)].previousOutput,i=t.find((e=>e.transaction.hash===n.txHash));if(!i)throw new Error("Impossible: can NOT find resolved transaction!");return i.transaction.outputs[Number(n.index)]}}filterTransaction(e,t,r){return e.filter(((e,n)=>{const i=this.getResolvedCell(e,t,r.objects[n]);return this.isCellScriptArgsValid(i)})).map((e=>({transaction:e.transaction,txStatus:e.txStatus,cycles:e.cycles,timeAddedToPool:e.timeAddedToPool,minReplaceFee:e.minReplaceFee,fee:e.fee})))}async getTransactions(e){const t=await this.fetchIndexerTransaction(this.queries,e);if(e=t.lastCursor,0===t.objects.length)return{objects:[],lastCursor:e};const r=await this.getTransactionListFromRpc(t),n=this.getResolvedTransactionRequestPayload(r,t),i=await o.requestBatchTransactionWithStatus(this.CKBRpcUrl,n);return{objects:this.filterTransaction(r,i,t),lastCursor:e}}async getTransactionByLockAndTypeIndependent(e){const t={...e},r={...e};if(e.lastCursor){const[n,i]=e.lastCursor.split("-");r.lastCursor=n,t.lastCursor=i}const n={...this.queries,type:void 0},i=await this.indexer.getTransactions(o.generateSearchKey(n),t),s={...this.queries,lock:void 0},a=await this.indexer.getTransactions(o.generateSearchKey(s),r);return{objects:((e,t)=>{const r=[];return e.forEach((e=>{const n=t.find((t=>t.txHash===e.txHash));if(n){const t="output"===e.ioType?e:n;r.push({...t,ioType:"both"})}})),r})(a.objects,i.objects),lastCursor:i.lastCursor+"-"+a.lastCursor}}getTransactionListFromRpc=async e=>{const t=e.objects.map((e=>e.txHash));return await o.requestBatchTransactionWithStatus(this.CKBRpcUrl,t).then((t=>t.map(((t,r)=>{if(!this.filterOptions.skipMissing&&!t.transaction)throw new Error(`Transaction ${e.objects[r].txHash} is missing!`);return t}))))};isLockArgsLenMatched=(e,t)=>!t||("any"===t||(-1===t||o.getHexStringBytes(e)===t));isCellScriptArgsValid=e=>{if(this.queries.lock){const t=(0,i.instanceOfScriptWrapper)(this.queries.lock)?this.queries.lock.argsLen:this.queries.argsLen;if(!this.isLockArgsLenMatched(e.lock.args,t))return!1}if(this.queries.type&&"empty"!==this.queries.type){var t;const r=(0,i.instanceOfScriptWrapper)(this.queries.type)?this.queries.type.argsLen:this.queries.argsLen;if(!this.isLockArgsLenMatched(null===(t=e.type)||void 0===t?void 0:t.args,r))return!1}return!this.queries.type||"empty"!==this.queries.type||!e.type};filterByIoType=(e,t)=>"both"===t?e:"input"===t||"output"===t?e.filter((e=>e.ioType===t||"both"===e.ioType)):e;filterByTypeIoTypeAndLockIoType=(e,t)=>{let r=e;return(0,i.instanceOfScriptWrapper)(t.lock)&&t.lock.ioType&&(r=this.filterByIoType(r,t.lock.ioType)),(0,i.instanceOfScriptWrapper)(t.type)&&t.type.ioType&&(r=this.filterByIoType(r,t.type.ioType)),r};async count(){let e;const t=async()=>{const t=await this.getTransactions(e);return e=t.lastCursor,t.objects};let r=0,n=await t();if(0===n.length)return 0;let i=t(),o=0,s=0;for(;;)if(this.queries.skip&&s<this.queries.skip?s++:r+=1,o++,o===n.length){if(o=0,n=await i,0===n.length)break;i=t()}return r}async getTransactionHashes(){let e;const t=async()=>{const t=await this.getTransactions(e);return e=t.lastCursor,t.objects},r=[];let n=await t();if(0===n.length)return[];let i=t(),o=0,s=0;for(;;)if(this.queries.skip&&s<this.queries.skip?s++:n[o].transaction.hash&&r.push(n[o].transaction.hash),o++,o===n.length){if(o=0,n=await i,0===n.length)break;i=t()}return r}async*collect(){let e;const t=async()=>{const t=await this.getTransactions(e);return e=t.lastCursor,t.objects};let r=await t();if(0===r.length)return;let n=t(),i=0,o=0;for(;;)if(this.queries.skip&&o<this.queries.skip?o++:this.filterOptions.includeStatus?yield r[i]:yield r[i].transaction,i++,i===r.length){if(i=0,r=await n,0===r.length)break;n=t()}}}t.CKBIndexerTransactionCollector=a},21001:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexerEmitter=void 0;var n=r(37007);class i extends n.EventEmitter{}t.IndexerEmitter=i},83556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBytesCodec=o,t.createFixedBytesCodec=function(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...o({pack:r=>{const i=e.pack(r);return(0,n.assertBufferLength)(i,t),i},unpack:r=>((0,n.assertBufferLength)(r,t),e.unpack(r))})}},t.isFixedCodec=function(e){return(0,n.isObjectLike)(e)&&!!e.__isFixedCodec__};var n=r(56828),i=r(14962);function o(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,i.bytify)(t))}}},30555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessArgs=t.BytesVec=t.BytesOpt=t.Bytes=t.Byte32Vec=t.Byte32=void 0,t.WitnessArgsOf=c,t.createFixedHexBytesCodec=s;var n=r(83556),i=r(14962),o=r(72042);function s(e){return(0,n.createFixedBytesCodec)({byteLength:e,pack:e=>(0,i.bytify)(e),unpack:e=>(0,i.hexify)(e)})}const a=t.Bytes=(0,o.byteVecOf)({pack:i.bytify,unpack:i.hexify}),u=(t.BytesOpt=(0,o.option)(a),t.BytesVec=(0,o.vector)(a),t.Byte32=s(32));t.Byte32Vec=(0,o.vector)(u);function c(e){return(0,o.table)({lock:(0,o.option)((0,o.byteVecOf)(e.lock)),input_type:(0,o.option)((0,o.byteVecOf)(e.input_type)),output_type:(0,o.option)((0,o.byteVecOf)(e.output_type))},["lock","input_type","output_type"])}const f=(0,n.createBytesCodec)({pack:i.bytify,unpack:i.hexify});t.WitnessArgs=c({lock:f,input_type:f,output_type:f})},14962:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytify=c,t.bytifyRawString=function(e){(0,n.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);r.setUint8(t,n)}return new Uint8Array(t)},t.concat=function(...e){const t=e.map(c),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);let i=0;return t.forEach((e=>{n.set(e,i),i+=e.length})),n},t.equal=function(e,t){const r=c(e),n=c(t);return function(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}(r,n)},t.hexify=function(e){let t="";const r=c(e);for(let e=0;e<r.length;e++)t+=f[r[e]];return"0x"+t};var n=r(56828);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0);function c(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e)return function(e){(0,n.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r+=2,n++){const c=e.charCodeAt(r),f=e.charCodeAt(r+1),l=c<=o?c-i:c<=a?c-s+10:c-u+10,d=f<=o?f-i:f<=a?f-s+10:f-u+10;t[n]=l<<4|d}return t}(e);if(Array.isArray(e))return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}(e);throw new Error(`Cannot convert ${e}`)}const f=Array.from({length:256}).map(((e,t)=>t.toString(16).padStart(2,"0")))},10851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodecExecuteError=t.CodecBaseParseError=t.CODEC_OPTIONAL_PATH=void 0,t.isCodecExecuteError=function(e){return e instanceof Error&&e.name===i};const r=t.CODEC_OPTIONAL_PATH="__lc_option__";class n extends Error{constructor(e,t){super(e),this.expectedType=t}}t.CodecBaseParseError=n;const i="CodecExecuteError";class o extends Error{name=i;constructor(e){super(),this.origin=e}keys=[];updateKey(e){this.keys.push(e),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var e;const t=this.keys.reduceRight(((e,t,n)=>e+(t=t===r?0===n?"?":"?.":"number"==typeof t?`[${t}]`:`.${t}`)),"input");return`${this.origin instanceof n?`Expect type ${this.origin.expectedType} at ${t} but got error:`:`Error at ${t}:`} ${this.origin.message}\n    ${null===(e=this.origin.stack)||void 0===e?void 0:e.replace(/Error:.+?\n/,"")}\n    `}}t.CodecExecuteError=o},32819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(70776)},70776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayCodec=function(e){return{pack:t=>t.map(((t,r)=>(0,n.trackCodeExecuteError)(r,(()=>e.pack(t))))),unpack:t=>t.map((t=>e.unpack(t)))}},t.createNullableCodec=function(e){return{pack:t=>null==t?t:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>e.pack(t))),unpack:t=>null==t?t:e.unpack(t)}},t.createObjectCodec=function(e){const t=Object.entries(e);return{pack:e=>{const r={};return t.forEach((([t,i])=>{Object.assign(r,{[t]:(0,n.trackCodeExecuteError)(t,(()=>i.pack(e[t])))})})),r},unpack:e=>{const r={};return t.forEach((([t,n])=>{Object.assign(r,{[t]:n.unpack(e[t])})})),r}}},t.enhancePack=function(e,t,r){return{pack:r=>t(e.pack(r)),unpack:t=>e.unpack(r(t))}};var n=r(56828),i=r(10851)},71313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),t.number=t.molecule=void 0;var i=r(83556),o=r(32819);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=f(r(14962));t.bytes=s;var a=f(r(6435));t.number=a;var u=f(r(72042));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.molecule=u},27732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayOf=a,t.byteOf=function(e){return a({...e,byteLength:1})},t.byteVecOf=function(e){return(0,o.createBytesCodec)({pack(t){const r=e.pack(t),n=s.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(t){(0,n.assertMinBufferLength)(t,4);const r=s.Uint32LE.unpack(t.slice(0,4));return(0,n.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})};var n=r(56828),i=r(14962),o=r(83556),s=r(6435);function a(e){const t=e.byteLength;return(0,o.createFixedBytesCodec)({byteLength:t,pack:t=>e.pack(t),unpack:t=>e.unpack(t)})}},72042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(27732),i=r(37786)},37786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=u,t.dynvec=d,t.fixvec=l,t.option=function(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createNullableCodec)(e);return null!=t?r.pack(t):Uint8Array.from([])},unpack(t){if(0!==t.byteLength)return e.unpack(t)}})},t.struct=function(e,t){f(e,t);const r=(0,a.createObjectCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:t.reduce(((t,r)=>t+e[r].byteLength),0),pack(e){const n=r.pack(e);return t.reduce(((e,t)=>(0,o.concat)(e,n[t])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return t.forEach((t=>{const o=e[t],s=r.slice(i,i+o.byteLength);Object.assign(n,{[t]:o.unpack(s)}),i+=o.byteLength})),n}})},t.table=function(e,t){return f(e,t),(0,n.createBytesCodec)({pack(r){const n=4+4*t.length,s=(0,a.createObjectCodec)(e).pack(r),u=t.reduce(((e,t)=>{const r=s[t],n=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,n),body:(0,o.concat)(e.body,r),offset:e.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),c=i.Uint32LE.pack(u.header.byteLength+u.body.byteLength+4);return(0,o.concat)(c,u.header,u.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===t.length)return{};{const o=t.map(((e,t)=>i.Uint32LE.unpack(r.slice(4+4*t,8+4*t))));o.push(n);const s={};for(let n=0;n<o.length-1;n++){const i=o[n],a=o[n+1],u=t[n],c=e[u],f=r.slice(i,a);Object.assign(s,{[u]:c.unpack(f)})}return s}}})},t.union=function(e,t){if(f(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const e=Object.values(t);if(e.length!==new Set(e).size)throw new Error(`Duplicated id in union: ${e.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(e),a=r.type,u=`Union(${n.join(" | ")})`;if("string"!=typeof a)throw new s.CodecBaseParseError("Invalid type in union, type must be a string",u);const c=Array.isArray(t)?t.indexOf(a):t[a];if(c<0)throw new s.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,u);const f=i.Uint32LE.pack(c),l=e[a].pack(r.value);return(0,o.concat)(f,l)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(t))return t[n];const e=Object.entries(t).find((([,e])=>e===n));return null==e?void 0:e[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:o,value:e[o].unpack(r.slice(4))}}})},t.vector=function(e){if((0,n.isFixedCodec)(e))return l(e);return d(e)};var n=r(83556),i=r(6435),o=r(14962),s=r(10851),a=r(32819);function u(e,t){const r=(0,a.createArrayCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(e){const t=r.pack(e);return(0,o.concat)(...t)},unpack(t){const r=[],n=e.byteLength;for(let i=0;i<t.byteLength;i+=n)r.push(e.unpack(t.slice(i,i+n)));return r}})}function c(e,t){return e.filter((e=>!t.includes(e)))}function f(e,t){const r=Object.keys(e),n=c(r,t),i=c(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function l(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createArrayCodec)(e);return(0,o.concat)(i.Uint32LE.pack(t.length),r.pack(t).reduce(((e,t)=>(0,o.concat)(e,t)),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=i.Uint32LE.unpack(t.slice(0,4));return u(e,r).unpack(t.slice(4))}})}function d(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createArrayCodec)(e).pack(t).reduce(((e,t)=>{const r=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,r),body:(0,o.concat)(e.body,t),offset:e.offset+t.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*t.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(t){const r=i.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(t.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((e,r)=>i.Uint32LE.unpack(t.slice(4+4*r,8+4*r))));o.push(r);const s=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],a=t.slice(n,i);s.push(e.unpack(a))}return s}}})}},6435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(65991);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},65991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return n.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var n=r(92900),i=r(83556),o=r(10851);function s(e,t=!1){const r=a(e,t);return{__isFixedCodec__:!0,byteLength:e,pack:e=>r.pack(e),unpack:e=>r.unpack(e).toNumber()}}const a=(e,t=!1)=>{const r=n.BI.from(1).shl(8*e).sub(1);return(0,i.createFixedBytesCodec)({byteLength:e,pack(i){let s=t?"LE":"BE";e<=1&&(s="");const a=`Uint${8*e}${s}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,a);let u=n.BI.from(i);!function(e,t,r,i){if((e=n.BI.from(e)).lt(t)||e.gt(r))throw new o.CodecBaseParseError(`Value must be between ${t.toString()} and ${r.toString()}, but got ${e.toString()}`,i)}(u,0,r,a);const c=new DataView(new ArrayBuffer(e));for(let r=0;r<e;r++)t?c.setUint8(r,u.and(255).toNumber()):c.setUint8(e-r-1,u.and(255).toNumber()),u=u.shr(8);return new Uint8Array(c.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<e;r++)o=t?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},u=(t.Uint8=s(1),t.Uint16LE=s(2,!0)),c=(t.Uint16BE=s(2),t.Uint16=u,t.Uint32LE=s(4,!0)),f=(t.Uint32BE=s(4),t.Uint32=c,t.Uint64LE=a(8,!0)),l=(t.Uint64BE=a(8),t.Uint64=f,t.Uint128LE=a(16,!0)),d=(t.Uint128BE=a(16),t.Uint128=l,t.Uint256LE=a(32,!0)),h=(t.Uint256BE=a(32),t.Uint256=d,t.Uint512LE=a(64,!0));t.Uint512BE=a(64),t.Uint512=h},56828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBufferLength=function(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)},t.assertHexDecimal=function(e,t){if(f(e),2===e.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if("number"==typeof t&&r>2*t+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);l(e)},t.assertHexString=function(e,t){f(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof t&&r!==2*t+2)throw new Error("Invalid hex string length, not match with byteLength!");l(e)},t.assertMinBufferLength=function(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)},t.assertUtf8String=function(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}},t.isObjectLike=function(e){return!!e&&"object"==typeof e},t.trackCodeExecuteError=function(e,t){try{return t()}catch(t){const r=(0,n.isCodecExecuteError)(t)?t:new n.CodecExecuteError(t);throw r.updateKey(e),r}};var n=r(10851);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0),c="f".charCodeAt(0);function f(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string, expect starts with 0x")}function l(e){const t=e.length;for(let r=2;r<t;r++){const t=e[r].charCodeAt(0);if(!(t>=i&&t<=o||t>=u&&t<=c||t>=s&&t<=a))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}},83127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellCollector=void 0,t.checkLimit=b,t.default=void 0,t.injectCapacity=v,t.prepareSigningEntries=_,t.setupInputCell=g,t.setupOutputCell=m,t.withdraw=w;var n=r(41600),i=r(71313),o=r(14105),s=r(28670),a=r(49568),u=r(92900),c=r(45524),f=r(33089),l=r(6437);const{ScriptValue:d}=n.values,{CKBHasher:h,ckbHash:p}=n.utils,y=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,o.getConfig)(),this.fromScript=(0,c.parseFromInfo)(e,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,f.isAcpScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function g(e,t,r,{config:s,defaultWitness:a="0x",since:u}={}){s=s||(0,o.getConfig)();const c=t.cellOutput.lock;if(!(0,f.isAcpScript)(c,s))throw new Error("Not anyone-can-pay input!");e=e.update("inputs",(e=>e.push(t))),u&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,u)))),e=e.update("witnesses",(e=>e.push(a)));const l={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=(e=e.update("outputs",(e=>e.push(l)))).update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1})));const h=s.SCRIPTS.ANYONE_CAN_PAY;if(!h)throw new Error("ANYONE_CAN_PAY script not defined in config!");const p={txHash:h.TX_HASH,index:h.INDEX},y=(e=(0,f.addCellDep)(e,{outPoint:p,depType:h.DEP_TYPE})).get("inputs").findIndex((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(c,{validate:!1}))));if(-1!==y){for(;y>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let t=e.get("witnesses").get(y);const r={lock:f.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==t){const e=n.blockchain.WitnessArgs.unpack(i.bytes.bytify(t)),o=e.lock;if(o&&r.lock&&!i.bytes.equal(o,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const s=e.inputType;s&&(r.inputType=s);const a=e.outputType;a&&(r.outputType=a)}t=i.bytes.hexify(n.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(y,t)))}return e}function b(e,t){const r=u.BI.from(t);let n,i;if(e.length>=46&&(n=u.BI.from(10).pow("0x"+e.slice(44,46))),e.length>=44){const t=u.BI.from(10).pow("0x"+e.slice(42,44)),r=u.BI.from(10).pow(8);i=t.mul(r)}if(i&&n){if(r.lt(i))throw new Error(`capacity(${t}) less than toAddress minimal capacity limit(${i}), and amount less then toAddress minimal amount limit(${n})! If you want to transfer sudt, maybe sudt.transfer can help you.`)}else if(i&&r.lt(i))throw new Error(`capacity(${t}) less than toAddress minimal capacity limit(${i})!`)}async function m(e,t,{config:r}={}){r=r||(0,o.getConfig)();const n=t.cellOutput.lock,i=u.BI.from(t.cellOutput.capacity);b(n.args,i.toString());const a=e.get("cellProvider");if(!a)throw new Error("Cell Provider is missing!");const c=(0,s.generateAddress)(n,{config:r}),l=new y(c,a,{config:r}),d=(await l.collect().next()).value;let h=i;if(d&&(h=i.add(d.cellOutput.capacity),e=(e=e.update("inputs",(e=>e.push(d)))).update("witnesses",(e=>e.push("0x")))),t.cellOutput.capacity="0x"+h.toString(16),e=e.update("outputs",(e=>e.push(t))),d){const t=r.SCRIPTS.ANYONE_CAN_PAY;if(!t)throw new Error("ANYONE_CAN_PAY script not defined in config!");const n={txHash:t.TX_HASH,index:t.INDEX};e=(0,f.addCellDep)(e,{outPoint:n,depType:t.DEP_TYPE})}return e}async function v(e,t,r,n,{config:i}={}){if(i=i||(0,o.getConfig)(),r>=t.get("outputs").size)throw new Error("Invalid output index!");let c=u.BI.from(n);if(!i.SCRIPTS.ANYONE_CAN_PAY)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const f=e.fromScript,l=t.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let h=l?l.index+1:0;for(;h<t.get("outputs").size&&c.gt(0);h++){const e=t.get("outputs").get(h);if(new d(e.cellOutput.lock,{validate:!1}).equals(new d(f,{validate:!1}))){const t=u.BI.from(e.cellOutput.capacity),r=t.sub((0,s.minimalCellCapacityCompatible)(e)),n=c.gte(r)?r:c;c=c.sub(n),e.cellOutput.capacity="0x"+t.sub(n).toString(16)}}t=t.update("outputs",(e=>e.filter((e=>!u.BI.from(e.cellOutput.capacity).eq(0)))));const p=e=>`${e.outPoint.txHash}_${e.outPoint.index}`;if(c.gt(0)){const r={cellOutput:{capacity:"0x0",lock:f,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let n=u.BI.from(0);const o=u.BI.from((0,s.minimalCellCapacityCompatible)(r));let l=(0,a.Set)();for(const e of t.get("inputs"))l=l.add(p(e));for await(const s of e.collect()){if(l.has(p(s)))continue;const e=(t=await g(t,s,0,{config:i})).get("outputs").size-1,a=(t=t.update("outputs",(t=>t.remove(e)))).get("fixedEntries").findIndex((t=>"outputs"===t.field&&t.index===e));a>=0&&(t=t.update("fixedEntries",(e=>e.remove(a))));const f=u.BI.from(s.cellOutput.capacity);let d=f;if(d.gt(c)&&(d=c),c=c.sub(d),n=n.add(f.sub(d)),c.eq(0)&&n.gte(o))break;r.cellOutput.capacity="0x"+n.toString(16),t=t.update("outputs",(e=>e.push(r)))}if(c.gt(0)||n<o)throw new Error("Not enough capacity in from address!");r.cellOutput.capacity="0x"+n.toString(16),t=t.update("outputs",(e=>e.push(r)))}return t}function _(e,{config:t}={}){const r="ANYONE_CAN_PAY",i=(t=t||(0,o.getConfig)()).SCRIPTS[r];if(!i)throw new Error(`Provided config does not have ${r} script setup!`);let c=(0,a.Set)();const y=(0,s.createTransactionFromSkeleton)(e),g=p(n.blockchain.RawTransaction.pack(y)),b=e.get("inputs"),m=e.get("witnesses");let v=e.get("signingEntries");for(let t=0;t<b.size;t++){const r=b.get(t);if(i.CODE_HASH===r.cellOutput.lock.codeHash&&i.HASH_TYPE===r.cellOutput.lock.hashType&&!c.has(r.cellOutput.lock.args)){c=c.add(r.cellOutput.lock.args);const i=e.get("outputs").filter((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(r.cellOutput.lock,{validate:!1})))),o=i.map((e=>u.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),u.BI.from(0)),s=i.filter((e=>"0x"!==e.data)).map((e=>(0,l.unpackAmount)(e.data))).reduce(((e,t)=>e.add(t)),u.BI.from(0)),a=b.filter((e=>new d(e.cellOutput.lock,{validate:!1}).equals(new d(r.cellOutput.lock,{validate:!1})))),p=a.map((e=>u.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),u.BI.from(0)),y=a.filter((e=>"0x"!==e.data)).map((e=>u.BI.from((0,l.unpackAmount)(e.data)))).reduce(((e,t)=>e.add(t)),u.BI.from(0));if(p.lte(o)&&y.lte(s))continue;const _=new n.values.ScriptValue(r.cellOutput.lock,{validate:!1}),w=new h;if(w.update(g),t>=m.size)throw new Error(`The first witness in the script group starting at input index ${t} does not exist, maybe some other part has invalidly tampered the transaction?`);(0,f.hashWitness)(w,m.get(t));for(let e=t+1;e<b.size&&e<m.size;e++){const t=b.get(e);_.equals(new n.values.ScriptValue(t.cellOutput.lock,{validate:!1}))&&(0,f.hashWitness)(w,m.get(e))}for(let e=b.size;e<m.size;e++)(0,f.hashWitness)(w,m.get(e));const S={type:"witness_args_lock",index:t,message:w.digestHex()};v=v.push(S)}}return e=e.set("signingEntries",v)}async function w(e,t,r,n,{config:i}={}){if(i=i||(0,o.getConfig)(),!(0,f.isAcpScript)(t.cellOutput.lock,i))throw new Error("fromInput is not a ANYONE_CAN_PAY cell!");const a=u.BI.from(n),c=u.BI.from(t.cellOutput.capacity),l=u.BI.from((0,s.minimalCellCapacityCompatible)(t));if(!(a.gte(0)&&a.lte(c.sub(l))||a.eq(c)))throw new Error(`capacity must be in [0, ${c.sub(l)}] or ${c} !`);const d=(0,s.parseAddress)(r,{config:i}),h={cellOutput:{capacity:"0x"+n.toString(16),lock:d,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};if((0,f.isAcpScript)(d,i)){b(d.args,n);const t=e.get("cellProvider");if(!t)throw new Error("Cell Provider is missing!");const o=new y(r,t,{config:i}),s=(await o.collect().next()).value;if(!s)throw new Error("toAddress ANYONE_CAN_PAY input not found!");const u=a.add(s.cellOutput.capacity);h.cellOutput.capacity="0x"+u.toString(16),e=(e=e.update("inputs",(e=>e.push(s)))).update("witnesses",(e=>e.push("0x")))}e=e.update("outputs",(e=>e.push(h)));const p=(e=await g(e,t,(0,s.generateAddress)(t.cellOutput.lock,{config:i}),{config:i})).get("outputs").size-1,m=(e=e.update("outputs",(e=>e.remove(p)))).get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===p));return m>=0&&(e=e.update("fixedEntries",(e=>e.remove(m)))),a.eq(c)||(e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+c.sub(n).toString(16),lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data})))),e}t.default={CellCollector:y,setupInputCell:g,setupOutputCell:m,injectCapacity:v,prepareSigningEntries:_,withdraw:w}},10640:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.injectCapacity=A,t.payFee=x,t.payFeeByFeeRate=P,t.prepareSigningEntries=k,t.registerCustomLockScriptInfos=w,t.setupInputCell=O,t.transfer=E;var i=r(28670),o=b(r(94467)),s=r(45524),a=b(r(1874)),u=r(14105),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(24900)),f=r(41600),l=b(r(83127)),d=r(49568),h=r(33089),p=r(92900),y=b(r(60699));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}const{ScriptValue:m}=f.values;function v(e,t){console.log(`[${e}] ${t}`)}const _={configHashCode:0,_predefinedInfos:[],_customInfos:[],get infos(){return[...this._predefinedInfos,...this._customInfos]}};function w(e){_._customInfos=e}function S({config:e}={}){e=e||(0,u.getConfig)();const t=()=>{var t,r,n,i;const s=null===(t=e)||void 0===t?void 0:t.SCRIPTS.SECP256K1_BLAKE160,u=null===(r=e)||void 0===r?void 0:r.SCRIPTS.SECP256K1_BLAKE160_MULTISIG,c=null===(n=e)||void 0===n?void 0:n.SCRIPTS.ANYONE_CAN_PAY,f=null===(i=e)||void 0===i?void 0:i.SCRIPTS.OMNILOCK,d=[];return s?d.push({codeHash:s.CODE_HASH,hashType:s.HASH_TYPE,lockScriptInfo:a.default}):v("warn","SECP256K1_BLAKE160 script info not found in config!"),u?d.push({codeHash:u.CODE_HASH,hashType:u.HASH_TYPE,lockScriptInfo:o.default}):v("warn","SECP256K1_BLAKE160_MULTISIG script info not found in config!"),c?d.push({codeHash:c.CODE_HASH,hashType:c.HASH_TYPE,lockScriptInfo:l.default}):v("warn","ANYONE_CAN_PAY script info not found in config!"),f?d.push({codeHash:f.CODE_HASH,hashType:f.HASH_TYPE,lockScriptInfo:y.default}):v("warn","OMNILOCK script info not found in config!"),d},r=f.utils.hashCode(n.from(JSON.stringify(e)));0===_.infos.length?(_._predefinedInfos=t(),_.configHashCode=r):r!==_.configHashCode&&(v("warn","`config` changed, regenerate lockScriptInfos!"),_._predefinedInfos=t(),_.configHashCode=r)}async function E(e,t,r,n,o,s,{config:a,useLocktimeCellsFirst:f=!0,LocktimePoolCellCollector:l=c.CellCollector}={}){var d;a=a||(0,u.getConfig)();const h=p.BI.from(n);if(!r)throw new Error("You must provide a to address!");const y=(0,i.parseAddress)(r,{config:a}),g={cellOutput:{capacity:"0x"+h.toString(16),lock:y,type:void 0},data:"0x"};S({config:a});const b=_.infos.find((e=>e.codeHash===y.codeHash&&e.hashType===y.hashType));return e=b&&null!==(d=b.lockScriptInfo)&&void 0!==d&&d.setupOutputCell?await b.lockScriptInfo.setupOutputCell(e,g,{config:a}):e.update("outputs",(e=>e.push(g))),e=await A(e,t,h.toString(),o,s,{config:a,useLocktimeCellsFirst:f,LocktimePoolCellCollector:l})}async function A(e,t,r,n,o,{config:a,useLocktimeCellsFirst:f=!0,LocktimePoolCellCollector:l=c.CellCollector,enableDeductCapacity:d=!0}={}){a=a||(0,u.getConfig)();let h=p.BI.from(r);if(0===t.length)throw new Error("No from info provided!");const y={cellOutput:{capacity:"0x0",lock:(0,s.parseFromInfo)(n||t[0],{config:a}).fromScript,type:void 0},data:"0x"},g=p.BI.from((0,i.minimalCellCapacityCompatible)(y));let b=p.BI.from(0);if(f){if(o){const r=await c.default.injectCapacityWithoutChangeCompatible(e,t,h.toString(),o,g.toString(),{config:a,LocktimeCellCollector:l,enableDeductCapacity:d});e=r.txSkeleton,h=p.BI.from(r.capacity),b=p.BI.from(r.changeCapacity)}if(h.gt(0)){const r=await I(e,t,h,g,{config:a,enableDeductCapacity:d});e=r.txSkeleton,h=r.capacity,b=r.changeCapacity}else if(h.eq(0)&&b.gt(0)&&b.lt(g)){const r=await I(e,t,g.sub(b),p.BI.from(0),{config:a,enableDeductCapacity:d});e=r.txSkeleton,h=r.capacity,b=r.changeCapacity}}else{const r=await I(e,t,h,g,{config:a,enableDeductCapacity:d});if(e=r.txSkeleton,h=r.capacity,b=r.changeCapacity,o)if(h.gt(0)){const r=await c.default.injectCapacityWithoutChangeCompatible(e,t,h.toString(),o,g.toString(),{config:a,LocktimeCellCollector:l,enableDeductCapacity:d});e=r.txSkeleton,h=p.BI.from(r.capacity),b=p.BI.from(r.changeCapacity)}else if(h.eq(0)&&b.gt(0)&&b.lt(g)){const r=await c.default.injectCapacityWithoutChangeCompatible(e,t,g.sub(b).toString(),o,0,{config:a,LocktimeCellCollector:l,enableDeductCapacity:d});e=r.txSkeleton,h=p.BI.from(r.capacity),b=p.BI.from(r.changeCapacity)}}if(h.gt(0))throw new Error("Not enough capacity in from infos!");if(b.gt(0)&&b.lt(g))throw new Error("Not enough capacity in from infos for change!");return b.gt(0)&&(y.cellOutput.capacity="0x"+b.toString(16),e=e.update("outputs",(e=>e.push(y)))),e}async function x(e,t,r,n,{config:i,useLocktimeCellsFirst:o=!0,enableDeductCapacity:s=!0}={}){return A(e,t,r,void 0,n,{config:i,useLocktimeCellsFirst:o,enableDeductCapacity:s})}function k(e,{config:t}={}){S({config:t=t||(0,u.getConfig)()});for(const r of _.infos)e=r.lockScriptInfo.prepareSigningEntries(e,{config:t});return e}async function I(e,t,r,n,{config:i,enableDeductCapacity:o=!0}={}){i=i||(0,u.getConfig)();let a=p.BI.from(r);const c=e.get("cellProvider");if(!c)throw new Error("Cell Provider is missing!");const f=e=>{var t,r;return`${null===(t=e.outPoint)||void 0===t?void 0:t.txHash}_${null===(r=e.outPoint)||void 0===r?void 0:r.index}`};let l=(0,d.Set)();for(const t of e.get("inputs"))l=l.add(f(t));const h=t.map((e=>(0,s.parseFromInfo)(e,{config:i}).fromScript));for(const t of h)o&&a.gt(0)&&([e,a]=T(e,t,a));S({config:i});let y=p.BI.from(0);if(a.gt(0))e:for(const r of t){const t=_.infos.map((e=>new e.lockScriptInfo.CellCollector(r,c,{config:i})));for(const o of t)for await(const t of o.collect()){const o=f(t);if(l.has(o))continue;l=l.add(o);const s=await C(e,t,r,{config:i,needCapacity:a});e=s.txSkeleton;const u=p.BI.from(s.availableCapacity);let c=u;if(c.gt(a)&&(c=a),a=a.sub(c),y=y.add(u.sub(c)),a.eq(0)&&(y.eq(0)||y.gt(n)))break e}}return{txSkeleton:e,capacity:a,changeCapacity:y}}function T(e,t,r){let n=p.BI.from(r);const o=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let s=o?o.index+1:0;for(;s<e.get("outputs").size&&n.gt(0);s++){const o=e.get("outputs").get(s);if(o&&new m(o.cellOutput.lock,{validate:!1}).equals(new m(t,{validate:!1}))){const t=JSON.parse(JSON.stringify(o)),a=p.BI.from(t.cellOutput.capacity),u=a;let c;n.gte(u)?c=u:(c=a.sub((0,i.minimalCellCapacityCompatible)(t)),c.gt(r)&&(c=r)),n=n.sub(c),t.cellOutput.capacity="0x"+a.sub(c).toString(16),e=e.update("outputs",(e=>e.update(s,(()=>t))))}}return[e=e.update("outputs",(e=>e.filter((e=>p.BI.from(e.cellOutput.capacity).toString()!==p.BI.from(0).toString())))),n]}async function C(e,t,r,{config:n,since:o,defaultWitness:s="0x",needCapacity:a}={}){n=n||(0,u.getConfig)();const c=(e=await O(e,t,r,{config:n,since:o,defaultWitness:s})).get("outputs").size-1,f=e.get("outputs").get(c);if(!f)throw new Error("Impossible: can not find last output");const l=p.BI.from(f.cellOutput.capacity),d=e.get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===c)),y=t.cellOutput.lock;let g=p.BI.from(0);if(n.SCRIPTS.ANYONE_CAN_PAY&&(0,h.isAcpScript)(y,n)){const t=!!(r&&"object"==typeof r&&"destroyable"in r&&r.destroyable),n=a?p.BI.from(a):l;if(t)g=l,e=e.update("outputs",(e=>e.remove(c))),d>=0&&(e=e.update("fixedEntries",(e=>e.remove(d))));else{const t=p.BI.from((0,i.minimalCellCapacityCompatible)(f)),r=l.sub(t),o=JSON.parse(JSON.stringify(f));let s=t;g=r,n.lt(r)&&(s=l.sub(n),g=n),o.cellOutput.capacity="0x"+s.toString(16),e=e.update("outputs",(e=>e.update(c,(()=>o))))}}else{var b;if(d<0)g=p.BI.from(null===(b=e.get("outputs").get(c))||void 0===b?void 0:b.cellOutput.capacity),e=e.update("outputs",(e=>e.remove(c)))}return{txSkeleton:e,availableCapacity:g}}async function O(e,t,r,{config:n,since:i,defaultWitness:o}={}){S({config:n=n||(0,u.getConfig)()});const s=t.cellOutput.lock,a=_.infos.find((e=>e.codeHash===s.codeHash&&e.hashType===s.hashType));if(!a)throw new Error("No LockScriptInfo found for setupInputCell!");return a.lockScriptInfo.setupInputCell(e,t,r,{config:n,since:i,defaultWitness:o})}async function P(e,t,r,n,{config:i,useLocktimeCellsFirst:o=!0,enableDeductCapacity:s=!0}={}){let a=0,u=e,c=B(u);for(;c>a;){a=c;const f=M(a,r);u=await x(e,t,f,n,{config:i,useLocktimeCellsFirst:o,enableDeductCapacity:s}),c=B(u)}return u}function M(e,t){const r=p.BI.from(1e3),n=p.BI.from(e).mul(t),i=n.div(r);return i.mul(r).lt(n)?i.add(1):p.BI.from(i)}function B(e){return D((0,i.createTransactionFromSkeleton)(e))}function D(e){return f.blockchain.Transaction.pack(e).byteLength+4}t.default={transfer:E,payFee:x,prepareSigningEntries:k,injectCapacity:A,setupInputCell:O,registerCustomLockScriptInfos:w,payFeeByFeeRate:P,__tests__:{_commonTransfer:async function(e,t,r,n,{config:i,enableDeductCapacity:o=!0}={}){const s=await I(e,t,r,n,{config:i,enableDeductCapacity:o});return{txSkeleton:s.txSkeleton,capacity:BigInt(s.capacity.toString()),changeCapacity:BigInt(s.changeCapacity.toString())}},resetLockScriptInfos:function(){_.configHashCode=0,_._predefinedInfos=[],_._customInfos=[]},getLockScriptInfos:function(){return _},generateLockScriptInfos:S,getTransactionSizeByTx:D,getTransactionSize:B,calculateFee:function(e,t){const r=M(e,t);return BigInt(r.toString())},calculateFeeCompatible:M}}},91461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CellCollector=void 0,t.calculateDaoEarliestSince=A,t.calculateDaoEarliestSinceCompatible=x,t.calculateMaximumWithdraw=C,t.calculateMaximumWithdrawCompatible=O,t.default=void 0,t.deposit=_,t.extractDaoDataCompatible=T,t.listDaoCells=v,t.unlock=E;var n=r(28670),i=r(41600),o=r(71313),s=r(14105),a=p(r(1874)),u=p(r(94467)),c=r(45524),f=r(33089),l=r(92900),d=r(24980),h=p(r(10640));function p(e){return e&&e.__esModule?e:{default:e}}const{parseSince:y}=i.since,g="0x0000000000000000",b=l.BI.from(180);class m{constructor(e,t,r,{config:n}={}){if(!t)throw new Error("Cell Provider is missing!");n=n||(0,s.getConfig)();const i=(0,c.parseFromInfo)(e,{config:n}).fromScript,o=(0,f.generateDaoScript)(n),a="deposit"===r?g:"any";this.cellType=r,this.cellCollector=t.collector({lock:i,type:o,data:a})}async*collect(){for await(const e of this.cellCollector.collect())"withdraw"===this.cellType&&e.data===g||(yield e)}}async function*v(e,t,r,{config:n}={}){const i=new m(t,e,r,{config:n});for await(const e of i.collect())yield e}async function _(e,t,r,i,{config:d,enableNonSystemScript:p=!1}={}){const b=(d=d||(0,s.getConfig)()).SCRIPTS.DAO;if(!b)throw new Error("Provided config does not have DAO script setup!");if(function(e,t){let r;if("string"==typeof e){const i=(0,n.parseAddress)(e,{config:t}).args;58===i.length&&(r=o.number.Uint64LE.unpack("0x"+i.slice(42)).toHexString())}else"R"in e&&(r=e.since);if(null!=r){const{relative:e,type:t}=y(r);if(e||"epochNumber"!==t)throw new Error("Can't deposit a dao cell with multisig locktime which not using absolute-epoch-number format!")}}(t,d),e=I(e,d),!r)throw new Error("You must provide a to address!");const m=(0,n.parseAddress)(r,{config:d}),v={codeHash:b.CODE_HASH,hashType:b.HASH_TYPE,args:"0x"},_=(e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+l.BI.from(i).toString(16),lock:m,type:v},data:g,outPoint:void 0,blockHash:void 0})))).get("outputs").size-1;if(e=e.update("fixedEntries",(e=>e.push({field:"outputs",index:_}))),"string"==typeof t){const r=(0,n.parseAddress)(t,{config:d});(0,f.isSecp256k1Blake160Script)(r,d)?e=await a.default.injectCapacity(e,_,t,{config:d}):(0,f.isSecp256k1Blake160MultisigScript)(r,d)?e=await u.default.injectCapacity(e,_,t,{config:d}):p&&(e=await h.default.injectCapacity(e,[t],i,(0,n.encodeToAddress)((0,c.parseFromInfo)(t).fromScript,{config:d}),void 0,{config:d}))}else t&&((0,c.isMultisigFromInfo)(t)?e=await u.default.injectCapacity(e,_,t,{config:d}):p&&(e=await h.default.injectCapacity(e,[t],i,(0,n.encodeToAddress)((0,c.parseFromInfo)(t).fromScript,{config:d}),void 0,{config:d})));return e}function w(e){const t=l.BI.from(e);return{length:t.shr(40).and(4095),index:t.shr(24).and(4095),number:t.and(16777215)}}function S({length:e,index:t,number:r}){const n=l.BI.from(e),i=l.BI.from(t),o=l.BI.from(r);return l.BI.from(32).shl(56).add(n.shl(40)).add(i.shl(24)).add(o)}async function E(e,t,r,c,h,{config:p,RpcClient:y=d.RPC}={}){if(k(p=p||(0,s.getConfig)()),e=I(e,p),!p.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");const m=e.get("cellProvider");if(!m)throw new Error("Cell provider is missing!");const v=new y(m.uri),_=t.cellOutput.type,E=p.SCRIPTS.DAO;if(!_||_.codeHash!==E.CODE_HASH||_.hashType!==E.HASH_TYPE||t.data!==g)throw new Error("depositInput is not a DAO deposit cell.");const A=r.cellOutput.type;if(!A||A.codeHash!==E.CODE_HASH||A.hashType!==E.HASH_TYPE||r.data===g)throw new Error("withdrawInput is not a DAO withdraw cell.");const x=await v.getHeader(t.blockHash),T=w(x.epoch),C=await v.getHeader(r.blockHash),P=w(C.epoch),M=P.index.mul(T.length),B=T.index.mul(P.length);let D=P.number.sub(T.number);M.gt(B)&&(D=D.add(1));const R=D.add(b).sub(1).div(b).mul(b),j=S({number:l.BI.from(T.number.add(R)),index:l.BI.from(T.index),length:l.BI.from(T.length)}),L="0x"+O(r,x.dao,C.dao).toString(16),N=(0,n.parseAddress)(c,{config:p});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:L,lock:N,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})));const U="0x"+j.toString(16);for(;e.get("witnesses").size<e.get("inputs").size-1;)e=e.update("witnesses",(e=>e.push("0x")));const H=(e=e.update("headerDeps",(e=>e.push(t.blockHash,r.blockHash)))).get("headerDeps").size-2,F={inputType:o.bytes.hexify(o.number.Uint64LE.pack(H))},z=o.bytes.hexify(i.blockchain.WitnessArgs.pack(F)),q=r.cellOutput.lock;(0,f.isSecp256k1Blake160Script)(q,p)?e=await a.default.setupInputCell(e,r,void 0,{config:p,since:U,defaultWitness:z}):(0,f.isSecp256k1Blake160MultisigScript)(q,p)&&(e=await u.default.setupInputCell(e,r,h||(0,n.generateAddress)(q,{config:p}),{config:p,since:U,defaultWitness:z}));const K=e.get("outputs").size-1;return e=(e=e.update("outputs",(e=>e.remove(K)))).update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"outputs",index:e.get("outputs").size-1},{field:"witnesses",index:e.get("witnesses").size-1},{field:"headerDeps",index:e.get("headerDeps").size-2})))}function A(e,t){const r=x(e,t);return BigInt(r.toString())}function x(e,t){const r=w(e),n=w(t),i=n.index.mul(r.length),o=r.index.mul(n.length);let s=n.number.sub(r.number);i.gt(o)&&(s=s.add(1));const a=s.add(b).sub(1).div(b).mul(b);return S({number:l.BI.from(r.number.add(a)),index:l.BI.from(r.index),length:l.BI.from(r.length)})}function k(e){if(!e.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!")}function I(e,t){const r=t.SCRIPTS.DAO;return(0,f.addCellDep)(e,{outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE})}function T(e){if(!/^(0x)?([0-9a-fA-F]){64}$/.test(e))throw new Error("Invalid dao format!");const t=e.startsWith("0x")?e.slice(2):e;return["c","ar","s","u"].map(((e,r)=>({[e]:o.number.Uint64LE.unpack("0x"+t.slice(16*r,16*(r+1)))}))).reduce(((e,t)=>({...e,...t})),{})}function C(e,t,r){return O(e,t,r).toBigInt()}function O(e,t,r){const i=l.BI.from(T(t).ar),o=l.BI.from(T(r).ar),s=l.BI.from((0,n.minimalCellCapacityCompatible)(e));return l.BI.from(e.cellOutput.capacity).sub(s).mul(o).div(i).add(s)}t.CellCollector=m;t.default={deposit:_,withdraw:async function(e,t,r,{config:i,enableNonSystemScript:c=!1}={}){if(k(i=i||(0,s.getConfig)()),(e=I(e,i)).get("inputs").size!==e.get("outputs").size)throw new Error("Input size must equals to output size in txSkeleton!");if(!i.SCRIPTS.DAO)throw new Error("Provided config does not have DAO script setup!");if(!e.get("cellProvider"))throw new Error("Cell provider is missing!");const l=t.cellOutput.type,d=i.SCRIPTS.DAO;if(!l||l.codeHash!==d.CODE_HASH||l.hashType!==d.HASH_TYPE||t.data!==g)throw new Error("fromInput is not a DAO deposit cell.");const p=t.cellOutput.lock;(0,f.isSecp256k1Blake160Script)(p,i)?e=await a.default.setupInputCell(e,t,void 0,{config:i}):(0,f.isSecp256k1Blake160MultisigScript)(p,i)?e=await u.default.setupInputCell(e,t,r||(0,n.generateAddress)(p,{config:i}),{config:i}):c&&(e=await h.default.setupInputCell(e,t,r||(0,n.encodeToAddress)(p,{config:i}),{config:i}));const y=e.get("outputs").size-1,b=e.get("outputs").get(y),m=JSON.parse(JSON.stringify(b));if(!t.blockNumber)throw new Error("fromInput has no blockNumber!");return m.data=o.bytes.hexify(o.number.Uint64.pack(t.blockNumber)),e=(e=(e=e.update("outputs",(e=>e.update(y,(()=>m))))).update("headerDeps",(e=>e.push(t.blockHash)))).update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"outputs",index:e.get("outputs").size-1})))},unlock:E,calculateMaximumWithdraw:C,calculateMaximumWithdrawCompatible:O,calculateDaoEarliestSince:A,calculateDaoEarliestSinceCompatible:x,CellCollector:m,listDaoCells:v}},92642:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareScriptBinaryWithOnChainData=E,t.default=void 0,t.generateDeployWithDataTx=_,t.generateDeployWithTypeIdTx=w,t.generateUpgradeTypeIdDataTx=S;var n=r(41600),i=r(71313),o=r(14105),s=r(28670),a=r(49568),u=r(45524),c=r(92900);const{ScriptValue:f}=n.values;function l(e,t){const r=(0,s.minimalCellCapacityCompatible)(t);return t.cellOutput.capacity=`0x${r.toString(16)}`,e=e.update("outputs",(e=>e.push(t)))}function d(e,t){e=e.update("cellDeps",(e=>e.clear()));const r=(t=t||(0,o.getConfig)()).SCRIPTS.SECP256K1_BLAKE160,n=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!r||!n)throw new Error("Provided config does not have SECP256K1_BLAKE160 or SECP256K1_BLAKE160_MULTISIG script setup!");return e=e.update("cellDeps",(e=>e.push({outPoint:{txHash:r.TX_HASH,index:r.INDEX},depType:r.DEP_TYPE},{outPoint:{txHash:n.TX_HASH,index:n.INDEX},depType:n.DEP_TYPE})))}async function h(e,t,r,l){const d=e.get("inputs").map((e=>c.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),c.BI.from(0)),h=e.get("outputs").map((e=>c.BI.from(e.cellOutput.capacity))).reduce(((e,t)=>e.add(t)),c.BI.from(0)).sub(d);return e=await async function(e,t,r,{config:l,feeRate:d}){l=l||(0,o.getConfig)();const h=d||1e3;let y=c.BI.from(r);const{fromScript:b,multisigScript:m}=(0,u.parseFromInfo)(t,{config:l});y=y.add(p);let v=p;const _={cellOutput:{capacity:"0x0",lock:b,type:void 0},data:"0x"},w=c.BI.from((0,s.minimalCellCapacityCompatible)(_)).add(p);y.lt(0)&&(v=v.sub(y),y=c.BI.from(0));if(y.gt(0)||v.lt(w)){const t=e.get("cellProvider");if(!t)throw new Error("Cell provider is missing!");const r=t.collector({lock:b,type:"empty",data:"0x"});let n=(0,a.Set)();for(const t of e.get("inputs"))n=n.add(`${t.outPoint.txHash}_${t.outPoint.index}`);for await(const t of r.collect()){if(n.has(`${t.outPoint.txHash}_${t.outPoint.index}`))continue;e=(e=e.update("inputs",(e=>e.push(t)))).update("witnesses",(e=>e.push("0x")));const r=c.BI.from(t.cellOutput.capacity);let i=r;if(i.gt(y)&&(i=y),y=y.sub(i),v=v.add(r).sub(i),y.eq(0)&&(v.eq(0)||v.gte(w)))break}}v.gt(0)&&(_.cellOutput.capacity="0x"+v.toString(16),e=e.update("outputs",(e=>e.push(_))));if(y.gt(0)||v.lt(w))throw new Error("Not enough capacity in from address!");const S=e.get("inputs").findIndex((e=>new f(e.cellOutput.lock,{validate:!1}).equals(new f(b,{validate:!1}))));if(-1!==S){for(;S>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let r,o=e.get("witnesses").get(S);const s="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";if(r="string"!=typeof t?{lock:i.bytes.hexify(i.bytes.concat(m,...new Array(t.M).fill(s)))}:{lock:s},"0x"!==o){const e=n.blockchain.WitnessArgs.unpack(i.bytes.bytify(o)),t=e.lock;if(t&&r.lock&&!i.bytes.equal(t,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const s=e.inputType;s&&(r.inputType=s);const a=e.outputType;a&&(r.outputType=a)}o=i.bytes.hexify(n.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(S,o)))}const E=g(e,h);v=v.sub(E),e=e.update("outputs",(e=>e.pop())),v.gt(0)&&(_.cellOutput.capacity="0x"+v.toString(16),e=e.update("outputs",(e=>e.push(_))));return e}(e,t,c.BI.from(h),{config:r,feeRate:l}),e}const p=(0,c.parseUnit)("1","ckb");function y(e){return function(e){const t=n.blockchain.Transaction.pack(e),r=4;return t.byteLength+r}((0,s.createTransactionFromSkeleton)(e))}function g(e,t){const r=y(e);return c.BI.from(function(e,t){const r=c.BI.from(1e3),n=c.BI.from(e).mul(t),i=n.div(r);return i.mul(r).lt(n)?i.add(1):c.BI.from(i)}(r,t))}function b(e){const t=(0,s.createTransactionFromSkeleton)(e);return n.utils.ckbHash(n.blockchain.RawTransaction.pack(t))}function m(e,t){const r=e.outputs.get(t);if(null==r)throw new Error("Invalid txSkeleton or outputIndex");return void 0!==r.cellOutput.type?function(e,t){const r=e.outputs.get(t).cellOutput.type;return{CODE_HASH:n.utils.computeScriptHash(r),HASH_TYPE:"type",TX_HASH:b(e),INDEX:"0x0",DEP_TYPE:"code"}}(e,t):function(e,t){const r=e.outputs.get(t).data;return{CODE_HASH:n.utils.ckbHash(i.bytes.bytify(r)),HASH_TYPE:"data1",TX_HASH:b(e),INDEX:"0x0",DEP_TYPE:"code"}}(e,t)}function v(e,{config:t}={}){if(t=t||(0,o.getConfig)(),"string"==typeof e){if("SECP256K1_BLAKE160"!==o.helpers.nameOfScript((0,s.parseAddress)(e,{config:t}),t.SCRIPTS))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}else if(!function(e){return"object"==typeof e&&"M"in e&&"R"in e&&Array.isArray(e.publicKeyHashes)}(e))throw new Error("only SECP256K1_BLAKE160 or SECP256K1_MULTISIG is supported")}async function _(e){v(e.fromInfo,{config:e.config});let t=(0,s.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,u.parseFromInfo)(e.fromInfo,{config:e.config});t=l(t,{cellOutput:{capacity:"0x0",lock:r},data:i.bytes.hexify(e.scriptBinary)}),t=d(t,e.config),t=await h(t,e.fromInfo,e.config,e.feeRate);return{txSkeleton:t,scriptConfig:m(t,0)}}async function w(e){v(e.fromInfo,{config:e.config});let t=(0,s.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,u.parseFromInfo)(e.fromInfo,{config:e.config}),[o]=await async function(e,t){const r=t.collector({lock:e,type:"empty",data:"0x"}),n=[];for await(const e of r.collect())n.push(e);return n}(r,e.cellProvider);if(!o)throw new Error("fromAddress has no live ckb");const a=n.utils.generateTypeIdScript({previousOutput:o.outPoint,since:"0x0"},"0x0");t=l(t,{cellOutput:{capacity:"0x0",lock:r,type:a},data:i.bytes.hexify(e.scriptBinary)}),t=d(t,e.config),t=await h(t,e.fromInfo,e.config,e.feeRate);return{txSkeleton:t,scriptConfig:m(t,0),typeId:a}}async function S(e){v(e.fromInfo,{config:e.config});let t=(0,s.TransactionSkeleton)({cellProvider:e.cellProvider});const{fromScript:r}=(0,u.parseFromInfo)(e.fromInfo,{config:e.config}),n=e.cellProvider.collector({type:e.typeId}),o=[];for await(const e of n.collect())o.push(e);if(1!==o.length)throw new Error("the typeid maybe wrong");const a=o[0];t=t.update("inputs",(e=>e.push(a)));t=l(t,{cellOutput:{capacity:"0x0",lock:r,type:e.typeId},data:i.bytes.hexify(e.scriptBinary)}),t=d(t,e.config),t=await h(t,e.fromInfo,e.config,e.feeRate);return{txSkeleton:t,scriptConfig:m(t,0)}}async function E(e,t,r){const o=function(e){const t=e.valueOf();return(new n.utils.CKBHasher).update(t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset)).digestHex()}(e),s=await async function(e,t){const r=e.txHash,o=parseInt(e.index,10),s=await t.getTransaction(r);if(!s)throw new Error(`TxHash(${r}) is not found`);const a=s.transaction.outputsData[o];if(!a)throw new Error("cannot find output data");return(new n.utils.CKBHasher).update(i.bytes.bytify(a)).digestHex()}(t,r);return o===s}t.default={generateDeployWithDataTx:_,generateDeployWithTypeIdTx:w,generateUpgradeTypeIdDataTx:S,compareScriptBinaryWithOnChainData:E,__tests__:{calculateTxFee:g}}},45524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMultisigFromInfo=function(e){if(!e||"object"!=typeof e)return!1;const t=e;return"number"==typeof(null==t?void 0:t.R)&&"number"==typeof(null==t?void 0:t.M)&&Array.isArray(null==t?void 0:t.publicKeyHashes)},t.multisigArgs=c,t.parseFromInfo=function(e,{config:t}={}){let r,n,s,a;if(t=t||(0,o.getConfig)(),"string"==typeof e)r=(0,i.parseAddress)(e,{config:t});else if("R"in e){const i=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!i)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");n=u(e);const o=c(n,e.since);r={codeHash:i.CODE_HASH,hashType:i.HASH_TYPE,args:o}}else if("address"in e){const n=t.SCRIPTS.ANYONE_CAN_PAY;if(!n)throw new Error("Provided config does not have ANYONE_CAN_PAY script setup!");const o=e.address;if(r=(0,i.parseAddress)(o,{config:t}),s=e.destroyable,r.codeHash!==n.CODE_HASH||r.hashType!==n.HASH_TYPE)throw new Error("fromInfo.address is not ANYONE_CAN_PAY address!")}else{if(!("script"in e))throw new Error("Invalid fromInfo format!");r=e.script,a=e.customData}return{fromScript:r,multisigScript:n,destroyable:s,customData:a}},t.serializeMultisigScript=u;var n=r(41600),i=r(28670),o=r(14105),s=r(71313);const{CKBHasher:a}=n.utils;function u({R:e,M:t,publicKeyHashes:r}){if(e<0||e>255)throw new Error("`R` should be less than 256!");if(t<0||t>255)throw new Error("`M` should be less than 256!");return"0x00"+("00"+e.toString(16)).slice(-2)+("00"+t.toString(16)).slice(-2)+("00"+r.length.toString(16)).slice(-2)+r.map((e=>e.slice(2))).join("")}function c(e,t){let r="0x";return null!=t&&(r=s.bytes.hexify(s.number.Uint64LE.pack(t))),(new a).update(e).digestHex().slice(0,42)+r.slice(2)}},33089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECP_SIGNATURE_PLACEHOLDER=void 0,t.addCellDep=f,t.default=void 0,t.ensureScript=E,t.generateDaoScript=l,t.hashWitness=w,t.isAcpAddress=_,t.isAcpScript=v,t.isDaoScript=b,t.isOmnilockAddress=function(e,t){return p((0,i.parseAddress)(e,{config:t}),t)},t.isOmnilockScript=p,t.isSecp256k1Blake160Address=h,t.isSecp256k1Blake160MultisigAddress=g,t.isSecp256k1Blake160MultisigScript=y,t.isSecp256k1Blake160Script=d,t.isSudtScript=m,t.prepareSigningEntries=S;var n=r(49568),i=r(28670),o=r(71313),s=r(41600),a=r(6435);const{CKBHasher:u,ckbHash:c}=s.utils;function f(e,t){return e.get("cellDeps").find((e=>e.depType===t.depType&&new s.values.OutPointValue(e.outPoint,{validate:!1}).equals(new s.values.OutPointValue(t.outPoint,{validate:!1}))))||(e=e.update("cellDeps",(e=>e.push({outPoint:t.outPoint,depType:t.depType})))),e}function l(e){const t=e.SCRIPTS.DAO;return{codeHash:t.CODE_HASH,hashType:t.HASH_TYPE,args:"0x"}}function d(e,t){const r=t.SCRIPTS.SECP256K1_BLAKE160;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function h(e,t){return d((0,i.parseAddress)(e,{config:t}),t)}function p(e,t){const r=t.SCRIPTS.OMNILOCK;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function y(e,t){const r=t.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;return e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function g(e,t){return y((0,i.parseAddress)(e,{config:t}),t)}function b(e,t){const r=t.SCRIPTS.DAO;return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function m(e,t){const r=t.SCRIPTS.SUDT;if(!r)throw new Error("SUDT script not defined in config!");return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function v(e,t){const r=t.SCRIPTS.ANYONE_CAN_PAY;if(!r)throw new Error("ANYONE_CAN_PAY script not defined in config!");return!!e&&e.codeHash===r.CODE_HASH&&e.hashType===r.HASH_TYPE}function _(e,t){return v((0,i.parseAddress)(e,{config:t}),t)}function w(e,t){const r=o.bytes.hexify(a.Uint64.pack(o.bytes.bytify(t).length));e.update(r),e.update(t)}function S(e,t,r){const o=t.SCRIPTS[r];if(!o)throw new Error(`Provided config does not have ${r} script setup!`);let a=(0,n.Set)();const f=(0,i.createTransactionFromSkeleton)(e),l=c(s.blockchain.RawTransaction.pack(f)),d=e.get("inputs"),h=e.get("witnesses");let p=e.get("signingEntries");for(let e=0;e<d.size;e++){const t=d.get(e);if(o.CODE_HASH===t.cellOutput.lock.codeHash&&o.HASH_TYPE===t.cellOutput.lock.hashType&&!a.has(t.cellOutput.lock.args)){a=a.add(t.cellOutput.lock.args);const r=new s.values.ScriptValue(t.cellOutput.lock,{validate:!1}),n=new u;if(n.update(l),e>=h.size)throw new Error(`The first witness in the script group starting at input index ${e} does not exist, maybe some other part has invalidly tampered the transaction?`);w(n,h.get(e));for(let t=e+1;t<d.size&&t<h.size;t++){const e=d.get(t);r.equals(new s.values.ScriptValue(e.cellOutput.lock,{validate:!1}))&&w(n,h.get(t))}for(let e=d.size;e<h.size;e++)w(n,h.get(e));const i={type:"witness_args_lock",index:e,message:n.digestHex()};p=p.push(i)}}return e=e.set("signingEntries",p)}function E(e,t,r){const n=t.SCRIPTS[r];if(!n)throw new Error(`Provided config does not have ${r} script setup!`);if(n.CODE_HASH!==e.codeHash||n.HASH_TYPE!==e.hashType)throw new Error(`Provided script is not ${r} script!`)}t.SECP_SIGNATURE_PLACEHOLDER="0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000";t.default={addCellDep:f,generateDaoScript:l,isSecp256k1Blake160Script:d,isSecp256k1Blake160MultisigScript:y,isDaoScript:b,isSudtScript:m,prepareSigningEntries:S,isSecp256k1Blake160Address:h,isSecp256k1Blake160MultisigAddress:g,ensureScript:E,isAcpScript:v,isAcpAddress:_}},35945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"anyoneCanPay",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"common",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"createP2PKHMessageGroup",{enumerable:!0,get:function(){return l.createP2PKHMessageGroup}}),Object.defineProperty(t,"dao",{enumerable:!0,get:function(){return s.default}}),t.default=void 0,Object.defineProperty(t,"deploy",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"locktimePool",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"omnilock",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return o.parseFromInfo}}),Object.defineProperty(t,"secp256k1Blake160",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"secp256k1Blake160Multisig",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"sudt",{enumerable:!0,get:function(){return c.default}});var n=p(r(1874)),i=p(r(94467)),o=r(45524),s=p(r(91461)),a=p(r(24900)),u=p(r(10640)),c=p(r(6437)),f=p(r(83127)),l=r(53484),d=p(r(92642)),h=p(r(60699));function p(e){return e&&e.__esModule?e:{default:e}}t.default={secp256k1Blake160:n.default,secp256k1Blake160Multisig:i.default,dao:s.default,locktimePool:a.default,common:u.default,sudt:c.default,anyoneCanPay:f.default}},24900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=C,t.payFee=I,t.prepareSigningEntries=T,t.setupInputCell=P,t.transfer=E,t.transferCompatible=A;var n,i=r(28670),o=r(71313),s=r(45524),a=(n=r(1874))&&n.__esModule?n:{default:n},u=r(91461),c=r(41600),f=r(33089),l=r(49568),d=r(14105),h=r(35945),p=r(37462),y=r(92900),g=r(24980);const{ScriptValue:b}=c.values,{parseEpoch:m,maximumAbsoluteEpochSince:v,generateAbsoluteEpochSince:_,validateSince:w}=c.since,S=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={},tipHeader:i,NodeRPC:o=g.RPC}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,d.getConfig)();const a=(0,s.parseFromInfo)(e,{config:r}),u=a.fromScript;this.multisigScript=a.multisigScript,this.fromScript=u,this.config=r,this.tipHeader=i,i&&(this.tipSinceValidationInfo={blockNumber:i.number,epoch:i.epoch,median_timestamp:""}),this.rpc=new o(t.uri),n={...n,lock:this.fromScript};let c=(0,l.List)([]);if((0,f.isSecp256k1Blake160MultisigScript)(u,r)){const e={codeHash:u.codeHash,hashType:u.hashType,args:u.args.slice(0,42)};c=c.push(t.collector({lock:e,argsLen:n.argsLen||28,type:n.type||"empty",data:n.data||"0x"})),n.type||n.data&&"any"!==n.data||(c=c.push(t.collector({lock:e,type:(0,f.generateDaoScript)(r),data:"any"})),c=c.push(t.collector({lock:e,argsLen:28,type:(0,f.generateDaoScript)(r),data:"any"})))}else(0,f.isSecp256k1Blake160Script)(u,r)&&(n.type||n.data&&"any"!==n.data||(c=c.push(t.collector({lock:u,type:(0,f.generateDaoScript)(r),data:"any"}))));this.cellCollectors=c}async*collect(){for(const e of this.cellCollectors)for await(const t of e.collect()){const e=t.cellOutput.lock;let r,n,i,o,s;if(58===e.args.length){const n=await this.rpc.getHeader(t.blockHash);r="0x"+M(e.args).toString(16),s={epoch:n.epoch,blockNumber:n.number,median_timestamp:""}}if((0,f.isDaoScript)(t.cellOutput.type,this.config)){if("0x0000000000000000"===t.data)continue;const e=await this.rpc.getTransaction(t.outPoint.txHash);o=e.txStatus.blockHash;const s=e.transaction.inputs[+t.outPoint.index].previousOutput;i=(await this.rpc.getTransaction(s.txHash)).txStatus.blockHash;const a=await this.rpc.getHeader(i),c=await this.rpc.getHeader(o);let f="0x"+(0,u.calculateDaoEarliestSinceCompatible)(a.epoch,c.epoch).toString(16);n=(0,u.calculateMaximumWithdrawCompatible)(t,a.dao,c.dao);const l=m(c.epoch),d={number:l.number+4,length:l.length,index:l.index};if(f=v(f,_(d)),r){const e=(0,p.parseSinceCompatible)(r);if(!1!==e.relative||"epochNumber"!==e.type)continue;try{r=v(f,r)}catch{r=f}}else r=f}if("blockTimestamp"===(0,p.parseSinceCompatible)(r).type||this.tipHeader&&!w(r,this.tipSinceValidationInfo,s))continue;const a={...t,since:r,depositBlockHash:i,withdrawBlockHash:o,sinceValidationInfo:s};a.cellOutput.capacity="0x"+(n||y.BI.from(t.cellOutput.capacity)).toString(16),yield a}}};async function E(e,t,r,n,i,{config:o,requireToAddress:s=!0,assertAmountEnough:a=!0,LocktimeCellCollector:u=S}={}){const c=await A(e,t,r,n,i,{config:o,requireToAddress:s,assertAmountEnough:a,LocktimeCellCollector:u});let f,l;return c instanceof Array?(f=c[0],l=BigInt(c[1].toString()),[f,l]):(f=c,f)}async function A(e,t,r,n,i,{config:o,requireToAddress:s=!0,assertAmountEnough:a=!0,LocktimeCellCollector:u=S}={}){let c=y.BI.from(n);for(const[n,f]of t.entries()){const t=await x(e,f,0===n?r:void 0,c,i,{config:o,requireToAddress:0===n&&s,assertAmountEnough:!1,LocktimeCellCollector:u});if(e=t[0],c=t[1],c.eq(0))return a?e:[e,y.BI.from(c)]}if(a)throw new Error("Not enough capacity in from addresses!");return[e,y.BI.from(c)]}async function x(e,t,r,n,a,{config:u,requireToAddress:h=!0,assertAmountEnough:p=!0,LocktimeCellCollector:g=S,changeAddress:m}){u=u||(0,d.getConfig)();const{fromScript:v}=(0,s.parseFromInfo)(t,{config:u});if(!(0,f.isSecp256k1Blake160MultisigScript)(v,u)&&!(0,f.isSecp256k1Blake160Script)(v,u))throw new Error("fromInfo not supported!");if(h&&!r)throw new Error("You must provide a to address!");let _=y.BI.from(n||0);if(r){const t=(0,i.parseAddress)(r,{config:u});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+_.toString(16),lock:t,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const w=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let E=w?w.index+1:0;for(;E<e.get("outputs").size&&_.gt(0);++E){const t=e.get("outputs").get(E);if(new b(t.cellOutput.lock,{validate:!1}).equals(new b(v,{validate:!1}))){const r=y.BI.from(t.cellOutput.capacity);let n;_.gte(r)?n=r:(n=r.sub((0,i.minimalCellCapacityCompatible)(t)),n.gt(_)&&(n=_)),_=_.sub(n);const o=JSON.parse(JSON.stringify(t));o.cellOutput.capacity="0x"+r.sub(n).toString(16),e=e.update("outputs",(e=>e.update(E,(()=>o))))}}if(e=e.update("outputs",(e=>e.filter((e=>!y.BI.from(e.cellOutput.capacity).eq(0))))),_.gt(0)){const r=e.get("cellProvider");if(!r)throw new Error("cell provider is missing!");const n={cellOutput:{capacity:"0x0",lock:m?(0,i.parseAddress)(m,{config:u}):v,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let s=y.BI.from(0),d=(0,l.Set)();for(const t of e.get("inputs"))d=d.add(`${t.outPoint.txHash}_${t.outPoint.index}`);const h=new g(t,r,{config:u,tipHeader:a});for await(const r of h.collect()){const a=r;if(d.has(`${a.outPoint.txHash}_${a.outPoint.index}`))continue;let l;if((0,f.isSecp256k1Blake160MultisigScript)(v,u)){const e=a.cellOutput.lock.args;l=58===e.length?y.BI.from(M(e)):void 0}let h="0x";if((0,f.isDaoScript)(a.cellOutput.type,u)){const t=u.SCRIPTS.DAO,r=(e=(e=(0,f.addCellDep)(e,{depType:t.DEP_TYPE,outPoint:{txHash:t.TX_HASH,index:t.INDEX}})).update("headerDeps",(e=>e.push(a.depositBlockHash,a.withdrawBlockHash)))).get("headerDeps").size-2,n={inputType:o.bytes.hexify(o.number.Uint64.pack(r))};h=o.bytes.hexify(c.blockchain.WitnessArgs.pack(n))}e=await O(e,a,(0,f.isSecp256k1Blake160MultisigScript)(v,u)?Object.assign({},t,{since:l}):t,{config:u,defaultWitness:h,since:a.since});const p=y.BI.from(a.cellOutput.capacity);let g=p;if(g.gt(_)&&(g=_),_=_.sub(g),s=s.add(p).sub(g),(0,f.isDaoScript)(a.cellOutput.type,u)&&(e=e.update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"witnesses",index:e.get("witnesses").size-1},{field:"headerDeps",index:e.get("headerDeps").size-2})))),_.eq(0)&&(s.eq(0)||s.gt((0,i.minimalCellCapacityCompatible)(n))))break}s.gt(0)&&(n.cellOutput.capacity="0x"+s.toString(16),e=e.update("outputs",(e=>e.push(n))))}if(!p)return[e,_];if(_.gt(0))throw new Error("Not enough capacity in from address!");return e}async function k(e,t,r,n,a,{config:u,LocktimeCellCollector:h=S,enableDeductCapacity:p=!0}){u=u||(0,d.getConfig)();let g=y.BI.from(r);const m=y.BI.from(a);if(p)for(const r of t){const t=(0,s.parseFromInfo)(r,{config:u}).fromScript;if(!(0,f.isSecp256k1Blake160MultisigScript)(t,u)&&!(0,f.isSecp256k1Blake160Script)(t,u))continue;const n=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let o=n?n.index+1:0;for(;o<e.get("outputs").size&&g.gt(0);++o){const r=e.get("outputs").get(o);if(new b(r.cellOutput.lock,{validate:!1}).equals(new b(t,{validate:!1}))){const t=JSON.parse(JSON.stringify(r)),n=y.BI.from(t.cellOutput.capacity);let s;g.gte(n)?s=n:(s=n.sub((0,i.minimalCellCapacityCompatible)(t)),s.gt(g)&&(s=g)),g=g.sub(s),t.cellOutput.capacity="0x"+n.sub(s).toString(16),e=e.update("outputs",(e=>e.update(o,(()=>t))))}}e=e.update("outputs",(e=>e.filter((e=>!y.BI.from(e.cellOutput.capacity).eq(0)))))}let v=y.BI.from(0);if(g.gt(0)){const r=e.get("cellProvider");if(!r)throw new Error("cell provider is missing!");const i=e=>`${e.outPoint.txHash}_${e.outPoint.index}`;let a=(0,l.Set)();for(const t of e.get("inputs"))a=a.add(i(t));for(const l of t){const t=(0,s.parseFromInfo)(l,{config:u}).fromScript,d=new h(l,r,{config:u,tipHeader:n});for await(const r of d.collect()){const n=r;if(a.has(i(n)))continue;let s,d="0x";if((0,f.isDaoScript)(n.cellOutput.type,u)){const t=u.SCRIPTS.DAO,r=(e=(e=(0,f.addCellDep)(e,{depType:t.DEP_TYPE,outPoint:{txHash:t.TX_HASH,index:t.INDEX}})).update("headerDeps",(e=>e.push(n.depositBlockHash,n.withdrawBlockHash)))).get("headerDeps").size-2,i={inputType:o.bytes.hexify(o.number.Uint64.pack(r))};d=o.bytes.hexify(c.blockchain.WitnessArgs.pack(i))}if((0,f.isSecp256k1Blake160MultisigScript)(t,u)){const e=n.cellOutput.lock.args;s=58===e.length?y.BI.from(M(e)):void 0}e=await O(e,n,Object.assign({},l,{since:s}),{config:u,defaultWitness:d,since:n.since});const h=y.BI.from(n.cellOutput.capacity);let p=h;if(p.gt(g)&&(p=g),g=g.sub(p),v=v.add(h).sub(p),(0,f.isDaoScript)(n.cellOutput.type,u)&&(e=e.update("fixedEntries",(t=>t.push({field:"inputs",index:e.get("inputs").size-1},{field:"witnesses",index:e.get("witnesses").size-1},{field:"headerDeps",index:e.get("headerDeps").size-2})))),g.eq(0)&&(v.eq(0)||v.gt(m)))break}}}return{txSkeleton:e,capacity:y.BI.from(g.toString()),changeCapacity:y.BI.from(v.toString())}}async function I(e,t,r,n,{config:i,LocktimeCellCollector:o=S}={}){return A(e,t,void 0,r,n,{config:i,requireToAddress:!1,LocktimeCellCollector:o})}function T(e,{config:t}={}){return t=t||(0,d.getConfig)(),e=(0,f.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160"),e=(0,f.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160_MULTISIG")}async function C(e,t,r,n,{config:i,LocktimeCellCollector:o=S}={}){if(i=i||(0,d.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const s=y.BI.from(e.get("outputs").get(t).cellOutput.capacity);return A(e,r,void 0,y.BI.from(s),n,{config:i,requireToAddress:!1,LocktimeCellCollector:o})}async function O(e,t,r,{config:n,since:i,defaultWitness:o="0x"}={}){return n=n||(0,d.getConfig)(),e=(e=await P(e,t,r,{config:n,since:i,defaultWitness:o})).update("outputs",(e=>e.remove(e.size-1)))}async function P(e,t,r,{config:n,since:i,defaultWitness:o="0x"}={}){n=n||(0,d.getConfig)();const s=t.cellOutput.lock;if((0,f.isSecp256k1Blake160Script)(s,n))return a.default.setupInputCell(e,t,r,{config:n,defaultWitness:o,since:i});if((0,f.isSecp256k1Blake160MultisigScript)(s,n))return h.secp256k1Blake160Multisig.setupInputCell(e,t,r,{config:n,defaultWitness:o,since:i});throw new Error("Not supported input lock!")}function M(e){if(58!==e.length)throw new Error("Invalid multisig with since args!");return o.number.Uint64LE.unpack("0x"+e.slice(42))}t.default={CellCollector:S,transfer:E,transferCompatible:A,payFee:I,prepareSigningEntries:T,injectCapacity:C,setupInputCell:P,injectCapacityWithoutChange:async function(e,t,r,n,i,{config:o,LocktimeCellCollector:s=S,enableDeductCapacity:a=!0}){const u=await k(e,t,r,n,i,{config:o,LocktimeCellCollector:s,enableDeductCapacity:a});return{txSkeleton:u.txSkeleton,capacity:u.capacity.toBigInt(),changeCapacity:u.changeCapacity.toBigInt()}},injectCapacityWithoutChangeCompatible:k}},51772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeAddress=function(e,t=["P2WPKH","P2PKH"]){if(c(e))return u(t,"P2WPKH"),o.bech32.fromWords(o.bech32.decode(e).words.slice(1));if(l(e))return u(t,"P2PKH"),s.default.decode(e).slice(1,21);if(f(e))return u(t,"P2SH-P2WPKH"),s.default.decode(e).slice(1,21);if(e.startsWith("bc1p"))throw new Error("Taproot address is not supported yet.");throw new Error("Unsupported address: "+e+"Only Native SegWit(P2WPKH) and Legacy(P2PKH) addresses are supported")},t.signMessage=async function(e,t,r){const n=(()=>{if(r)return r;if("undefined"!=typeof window){if("unisat"in window)return window.unisat;if("okxwallet"in window&&"bitcoin"in window.okxwallet)return window.okxwallet.bitcoin}throw new Error("No provider found, make sure you have installed UniSat Wallet")})(),o=await n.requestAccounts(),s=i.bytes.hexify(e).slice(2),u=await n.signMessage(`${a}${s}`,t),d=i.bytes.bytify(function(e){const t=atob(e);let r="";for(let e=0;e<t.length;e++)r+=t.charCodeAt(e).toString(16).padStart(2,"0");return"0x"+r}(u)),h=o[0];if(c(h))d[0]=39+(d[0]-27)%4;else if(f(h))d[0]=35+(d[0]-27)%4;else{if(!l(h))throw new Error(`Unsupported bitcoin address ${h}. Only supports SegWit, P2SH-P2WPKH, P2PKH`);d[0]=31+(d[0]-27)%4}return i.bytes.hexify(d)};var n,i=r(71313),o=r(22343),s=(n=r(26919))&&n.__esModule?n:{default:n};const a="CKB (Bitcoin Layer) transaction: 0x";function u(e,t){if(!e.includes(t))throw new Error(`'${t}' must be included in the 'allows' for the address`)}function c(e){return e.startsWith("bc1")||e.startsWith("tb1")}function f(e){return e.startsWith("3")||e.startsWith("2")}function l(e){return e.startsWith("1")||e.startsWith("m")||e.startsWith("n")}},53640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signMessage=async function(e,t,r){const s=null!=r?r:globalThis.ethereum;if(!s)throw new Error("No provider found, make sure you have installed MetaMask or the other EIP1193 compatible wallet");const a=await s.request({method:"personal_sign",params:[e,`${o}${(0,i.hexify)(t).slice(2)}`]}),u=n.bytes.bytify(a),[c]=u.slice(-1),f=c>=27?c-27:c;return u.set([f],u.length-1),n.bytes.hexify(u)};var n=r(71313),i=r(14962);const o="CKB transaction: 0x"},4224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.signMessage=async function(e,t){const r=(()=>{if(t)return t;if("undefined"!=typeof window&&"phantom"in window&&window.phantom&&"solana"in window.phantom)return window.phantom.solana;throw new Error("No provider found, make sure you have installed Phantom or other Solana wallet")})(),o=n.bytes.hexify(e).slice(2),s=await r.signMessage((new TextEncoder).encode(`${i}${o}`));return n.bytes.hexify(n.bytes.concat(s.signature,s.publicKey.toBytes()))};var n=r(71313);const i="CKB transaction: 0x"},60699:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitcoin=t.OmnilockWitnessLock=t.CellCollector=void 0,t.createOmnilockScript=E,t.ethereumDisplaying=t.default=void 0,t.prepareSigningEntries=R,t.setupInputCell=B,t.solana=void 0;var n=r(71313),i=r(41600),o=r(14105),s=r(33089),a=r(45524),u=r(72042),c=r(30555),f=r(14962),l=b(r(51772));t.bitcoin=l;var d=b(r(4224));t.solana=d;var h=r(26919),p=r(54617),y=b(r(53640));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.ethereumDisplaying=y;const{ScriptValue:m}=i.values;var v=function(e){return e[e.IdentityFlagsCkb=0]="IdentityFlagsCkb",e[e.IdentityFlagsEthereum=1]="IdentityFlagsEthereum",e[e.IdentityFlagsEos=2]="IdentityFlagsEos",e[e.IdentityFlagsTron=3]="IdentityFlagsTron",e[e.IdentityFlagsBitcoin=4]="IdentityFlagsBitcoin",e[e.IdentityFlagsDogecoin=5]="IdentityFlagsDogecoin",e[e.IdentityCkbMultisig=6]="IdentityCkbMultisig",e[e.IdentityFlagsEthereumDisplaying=18]="IdentityFlagsEthereumDisplaying",e[e.IdentityFlagsSolana=19]="IdentityFlagsSolana",e[e.IdentityFlagsOwnerLock=252]="IdentityFlagsOwnerLock",e[e.IdentityFlagsExec=253]="IdentityFlagsExec",e[e.IdentityFlagsDl=254]="IdentityFlagsDl",e}(v||{});const _=20,w=65,S=96;function E(e,t){const r=((null==t?void 0:t.config)||(0,o.getConfig)()).SCRIPTS.OMNILOCK;if(!r)throw new Error("OMNILOCK script config not found.");const i=[0],s=(()=>{const t=e.auth.flag;switch(t){case"ETHEREUM":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsEthereum],e.auth.content,i));case"ETHEREUM-DISPLAYING":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsEthereumDisplaying],e.auth.content,i));case"SECP256K1_BLAKE160":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsCkb],e.auth.content,i));case"BITCOIN":return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsBitcoin],l.decodeAddress(e.auth.content,e.auth.allows),i));case"SOLANA":{const t=n.bytes.bytify((0,p.ckbHash)((0,h.decode)(e.auth.content))).slice(0,_);return n.bytes.hexify(n.bytes.concat([v.IdentityFlagsSolana],t,i))}default:throw new Error(`Not supported flag: ${t}.`)}})();return{codeHash:r.CODE_HASH,hashType:r.HASH_TYPE,args:s}}const A={pack:f.bytify,unpack:f.hexify},x=(0,c.createFixedHexBytesCodec)(21),k=(0,u.byteVecOf)(A),I=(0,u.table)({mask:(0,u.byteOf)(A),proof:k},["mask","proof"]),T=(0,u.vector)(I),C=(0,u.table)({identity:x,proofs:T},["identity","proofs"]),O=(0,u.option)(C),P=t.OmnilockWitnessLock=(0,u.table)({signature:c.BytesOpt,omni_identity:O,preimage:c.BytesOpt},["signature","omni_identity","preimage"]),M=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,o.getConfig)(),this.fromScript=(0,a.parseFromInfo)(e,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,s.isOmnilockScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function B(e,t,r,{config:a,defaultWitness:u="0x",since:c}={}){a=a||(0,o.getConfig)();const f=t.cellOutput.lock;if(!(0,s.isOmnilockScript)(f,a))throw new Error("Not OMNILOCK input!");e=e.update("inputs",(e=>e.push(t)));const l={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",(e=>e.push(l))),c&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,c)))),e=e.update("witnesses",(e=>e.push(u)));const d=a.SCRIPTS.OMNILOCK,h=a.SCRIPTS.SECP256K1_BLAKE160;if(!d)throw new Error("OMNILOCK script not defined in config!");if(!h)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const p={txHash:d.TX_HASH,index:d.INDEX},y={txHash:h.TX_HASH,index:h.INDEX};e=(0,s.addCellDep)(e,{outPoint:p,depType:d.DEP_TYPE});const g=(e=(0,s.addCellDep)(e,{outPoint:y,depType:h.DEP_TYPE})).get("inputs").findIndex((e=>new m(e.cellOutput.lock,{validate:!1}).equals(new m(f,{validate:!1}))));if(-1!==g){for(;g>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let r=e.get("witnesses").get(g);const o={lock:D((()=>{const e=n.bytes.bytify(t.cellOutput.lock.args)[0];switch(e){case v.IdentityFlagsSolana:return S;case v.IdentityFlagsCkb:case v.IdentityFlagsEthereum:case v.IdentityFlagsEthereumDisplaying:case v.IdentityFlagsBitcoin:return w;default:throw new Error(`Unsupported flag: ${e}, please check if the script.args is expected`)}})())};r=n.bytes.hexify(i.blockchain.WitnessArgs.pack(o)),e=e.update("witnesses",(e=>e.set(g,r)))}return e}function D(e){const t=P.pack({signature:new Uint8Array(e)}).byteLength;return n.bytes.hexify(new Uint8Array(t))}function R(e,{config:t}={}){return t=t||(0,o.getConfig)(),(0,s.prepareSigningEntries)(e,t,"OMNILOCK")}t.default={prepareSigningEntries:R,setupInputCell:B,CellCollector:M,OmnilockWitnessLock:P,createOmnilockScript:E}},53484:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createP2PKHMessageGroup=function(e,t,{hasher:r=a}={}){const c=function(e,t){const r=new Set;for(const e of t){const t=n.utils.ckbHash(n.blockchain.Script.pack(e));r.add(t)}const i=new Map;for(let t=0;t<e.length;t++){const o=n.utils.ckbHash(n.blockchain.Script.pack(e[t].cellOutput.lock));r.has(o)&&(void 0===i.get(o)&&i.set(o,[]),i.get(o).push(t))}return i}(e.inputs.toArray(),t),f=function(e){const t=(0,i.createTransactionFromSkeleton)(e),r={cellDeps:t.cellDeps,headerDeps:t.headerDeps,inputs:t.inputs,outputs:t.outputs,outputsData:t.outputsData,version:t.version};return n.utils.ckbHash(n.blockchain.RawTransaction.pack(r))}(e);if(t.length>1&&!(r instanceof Function))throw new Error("Must provide hasher producer when you have multiple locks to group.");const l=[];for(const t of c.keys()){const n=u(r),i=c.get(t),a=i[0],d=e.witnesses.get(a);if(void 0===d)throw new Error("Please fill witnesses with 0 first!");n.update(o.bytes.bytify(f));const h=new ArrayBuffer(8),p=new DataView(h),y=s.BI.from(o.bytes.bytify(d).length).toString(16);y.length<=8&&(p.setUint32(0,Number("0x"+y),!0),p.setUint32(4,Number("0x00000000"),!0)),y.length>8&&y.length<=16&&(p.setUint32(0,Number("0x"+y.slice(-8)),!0),p.setUint32(4,Number("0x"+y.slice(0,-8)),!0)),n.update(new Uint8Array(h)),n.update(o.bytes.bytify(d));for(let t=1;t<i.length;t++){const r=e.witnesses.get(i[t]);n.update(new Uint8Array(h)),n.update(o.bytes.bytify(r))}for(let t=e.inputs.toArray().length;t<e.witnesses.toArray().length;t++){const r=e.witnesses.get(t);n.update(new Uint8Array(h)),n.update(o.bytes.bytify(r))}const g=n.digest(),b={index:a,lock:e.inputs.get(a).cellOutput.lock,message:"0x"+Array.prototype.map.call(g,(e=>("00"+e.toString(16)).slice(-2))).join("")};l.push(b)}return l};var n=r(41600),i=r(28670),o=r(71313),s=r(92900);const a=()=>{const e=new n.utils.CKBHasher;return{update:t=>e.update(t.buffer),digest:()=>o.bytes.bytify(e.digestHex())}};function u(e){return e instanceof Function?e():e}},1874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=b,t.payFee=g,t.prepareSigningEntries=m,t.setupInputCell=h,t.transfer=p,t.transferCompatible=y;var n=r(49568),i=r(28670),o=r(71313),s=r(41600),a=r(14105),u=r(33089),c=r(45524),f=r(92900);const{ScriptValue:l}=s.values,d=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,a.getConfig)(),this.fromScript=(0,c.parseFromInfo)(e,{config:r}).fromScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,u.isSecp256k1Blake160Script)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function h(e,t,r,{config:n,defaultWitness:i="0x",since:c}={}){n=n||(0,a.getConfig)();const f=t.cellOutput.lock;if(!(0,u.isSecp256k1Blake160Script)(f,n))throw new Error("Not SECP256K1_BLAKE160 input!");e=e.update("inputs",(e=>e.push(t)));const d={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",(e=>e.push(d))),c&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,c)))),e=e.update("witnesses",(e=>e.push(i)));const h=n.SCRIPTS.SECP256K1_BLAKE160;if(!h)throw new Error("SECP256K1_BLAKE160 script not defined in config!");const p={txHash:h.TX_HASH,index:h.INDEX},y=(e=(0,u.addCellDep)(e,{outPoint:p,depType:h.DEP_TYPE})).get("inputs").findIndex((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(f,{validate:!1}))));if(-1!==y){for(;y>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let t=e.get("witnesses").get(y);const r={lock:u.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==t){const e=s.blockchain.WitnessArgs.unpack(o.bytes.bytify(t)),n=e.lock;if(n&&r.lock&&!o.bytes.equal(n,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const i=e.inputType;i&&(r.inputType=i);const a=e.outputType;a&&(r.outputType=a)}t=o.bytes.hexify(s.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(y,t)))}return e}async function p(e,t,r,n,{config:i,requireToAddress:o=!0,assertAmountEnough:s=!0}={}){const a=await y(e,t,r,n,{config:i,requireToAddress:o,assertAmountEnough:s});let u,c;return a instanceof Array?(u=a[0],c=BigInt(a[1].toString()),[u,c]):(u=a,u)}async function y(e,t,r,c,{config:d,requireToAddress:h=!0,assertAmountEnough:p=!0}={}){const y=(d=d||(0,a.getConfig)()).SCRIPTS.SECP256K1_BLAKE160;if(!y)throw new Error("Provided config does not have SECP256K1_BLAKE160 script setup!");const g={txHash:y.TX_HASH,index:y.INDEX};e=(0,u.addCellDep)(e,{outPoint:g,depType:y.DEP_TYPE});const b=(0,i.parseAddress)(t,{config:d});if((0,u.ensureScript)(b,d,"SECP256K1_BLAKE160"),h&&!r)throw new Error("You must provide a to address!");let m=f.BI.from(c);if(r){const t=(0,i.parseAddress)(r,{config:d});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+m.toString(16),lock:t,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const v=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let _=v?v.index+1:0;for(;_<e.get("outputs").size&&m.gt(0);_++){const t=e.get("outputs").get(_);if(new l(t.cellOutput.lock,{validate:!1}).equals(new l(b,{validate:!1}))){const e=f.BI.from(t.cellOutput.capacity);let r;m.gte(e)?r=e:(r=e.sub((0,i.minimalCellCapacityCompatible)(t)),r.gt(m)&&(r=m)),m=m.sub(r),t.cellOutput.capacity="0x"+e.sub(r).toString(16)}}if(e=e.update("outputs",(e=>e.filter((e=>!f.BI.from(e.cellOutput.capacity).eq(0))))),m.gt(0)){const t=e.get("cellProvider");if(!t)throw new Error("Cell provider is missing!");const r=t.collector({lock:b}),o={cellOutput:{capacity:"0x0",lock:b,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let s=f.BI.from(0),a=(0,n.Set)();for(const t of e.get("inputs"))a=a.add(`${t.outPoint.txHash}_${t.outPoint.index}`);for await(const t of r.collect()){if(a.has(`${t.outPoint.txHash}_${t.outPoint.index}`))continue;e=(e=e.update("inputs",(e=>e.push(t)))).update("witnesses",(e=>e.push("0x")));const r=f.BI.from(t.cellOutput.capacity);let n=r;if(n.gt(m)&&(n=m),m=m.sub(n),s=s.add(r).sub(n),m.eq(0)&&(s.eq(0)||s.gt((0,i.minimalCellCapacityCompatible)(o))))break}s.gt(0)&&(o.cellOutput.capacity="0x"+s.toString(16),e=e.update("outputs",(e=>e.push(o))))}if(m.gt(0)&&p)throw new Error("Not enough capacity in from address!");const w=e.get("inputs").findIndex((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(b,{validate:!1}))));if(-1!==w){for(;w>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));let t=e.get("witnesses").get(w);const r={lock:u.SECP_SIGNATURE_PLACEHOLDER};if("0x"!==t){const e=s.blockchain.WitnessArgs.unpack(o.bytes.bytify(t)),n=e.lock;if(n&&r.lock&&!o.bytes.equal(n,r.lock))throw new Error("Lock field in first witness is set aside for signature!");const i=e.inputType;i&&(r.inputType=i);const a=e.outputType;a&&(r.outputType=a)}t=o.bytes.hexify(s.blockchain.WitnessArgs.pack(r)),e=e.update("witnesses",(e=>e.set(w,t)))}return p?e:[e,f.BI.from(m)]}async function g(e,t,r,{config:n}={}){return n=n||(0,a.getConfig)(),await y(e,t,null,r,{config:n,requireToAddress:!1})}async function b(e,t,r,{config:n}={}){if(n=n||(0,a.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const i=f.BI.from(e.get("outputs").get(t).cellOutput.capacity);return await y(e,r,null,f.BI.from(i),{config:n,requireToAddress:!1})}function m(e,{config:t}={}){return t=t||(0,a.getConfig)(),(0,u.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160")}t.default={transfer:p,transferCompatible:y,payFee:g,prepareSigningEntries:m,injectCapacity:b,setupInputCell:h,CellCollector:d}},94467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CellCollector=void 0,t.injectCapacity=b,Object.defineProperty(t,"multisigArgs",{enumerable:!0,get:function(){return c.multisigArgs}}),t.payFee=g,t.prepareSigningEntries=m,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return c.serializeMultisigScript}}),t.setupInputCell=h,t.transfer=p,t.transferCompatible=y;var n=r(28670),i=r(71313),o=r(41600),s=r(14105),a=r(49568),u=r(33089),c=r(45524),f=r(92900);const{ScriptValue:l}=o.values,d=t.CellCollector=class{constructor(e,t,{config:r,queryOptions:n={}}={}){if(!t)throw new Error("Cell provider is missing!");r=r||(0,s.getConfig)();const i=(0,c.parseFromInfo)(e,{config:r});this.fromScript=i.fromScript,this.multisigScript=i.multisigScript,this.config=r,n={...n,lock:this.fromScript,type:n.type||"empty"},this.cellCollector=t.collector(n)}async*collect(){if((0,u.isSecp256k1Blake160MultisigScript)(this.fromScript,this.config))for await(const e of this.cellCollector.collect())yield e}};async function h(e,t,r,{config:n,defaultWitness:a="0x",since:f,requireMultisigScript:d=!0}={}){if(n=n||(0,s.getConfig)(),d&&"object"!=typeof r)throw new Error("`fromInfo` must be MultisigScript format!");const h=t.cellOutput.lock;if(r){const e=(0,c.parseFromInfo)(r,{config:n}).fromScript;if(!new l(e,{validate:!1}).equals(new l(h,{validate:!1})))throw new Error("`fromInfo` not match to input lock!")}if(!(0,u.isSecp256k1Blake160MultisigScript)(h,n))throw new Error("Not SECP256K1_BLAKE160_MULTISIG input!");e=e.update("inputs",(e=>e.push(t))),f&&(e=e.update("inputSinces",(t=>t.set(e.get("inputs").size-1,f)))),e=e.update("witnesses",(e=>e.push(a)));const p={cellOutput:{capacity:t.cellOutput.capacity,lock:t.cellOutput.lock,type:t.cellOutput.type},data:t.data};e=e.update("outputs",(e=>e.push(p)));const y=n.SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!y)throw new Error("SECP256K1_BLAKE160_MULTISIG script not defined in config!");const g={txHash:y.TX_HASH,index:y.INDEX},b=(e=(0,u.addCellDep)(e,{outPoint:g,depType:y.DEP_TYPE})).get("inputs").findIndex((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(h,{validate:!1}))));if(-1!==b){for(;b>=e.get("witnesses").size;)e=e.update("witnesses",(e=>e.push("0x")));if("0x"===e.get("witnesses").get(b)&&"object"!=typeof r)throw new Error("`fromInfo` must be MultisigScript format!");if("object"==typeof r){const t=(0,c.parseFromInfo)(r,{config:n}).multisigScript;let s=e.get("witnesses").get(b);const a={lock:"0x"+t.slice(2)+u.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(r.M)};if("0x"!==s){const e=o.blockchain.WitnessArgs.unpack(i.bytes.bytify(s)),t=e.lock;if(t&&a.lock&&!i.bytes.equal(t,a.lock))throw new Error("Lock field in first witness is set aside for signature!");const r=e.inputType;r&&(a.inputType=r);const n=e.outputType;n&&(a.outputType=n)}s=i.bytes.hexify(o.blockchain.WitnessArgs.pack(a)),e=e.update("witnesses",(e=>e.set(b,s)))}}return e}async function p(e,t,r,n,{config:i,requireToAddress:o=!0,assertAmountEnough:s=!0}={}){const a=await y(e,t,r,n,{config:i,requireToAddress:o,assertAmountEnough:s});let u,c;return a instanceof Array?(u=a[0],c=BigInt(a[1].toString()),[u,c]):(u=a,u)}async function y(e,t,r,d,{config:h,requireToAddress:p=!0,assertAmountEnough:y=!0}={}){const g=(h=h||(0,s.getConfig)()).SCRIPTS.SECP256K1_BLAKE160_MULTISIG;if(!g)throw new Error("Provided config does not have SECP256K1_BLAKE16_MULTISIG script setup!");const b={txHash:g.TX_HASH,index:g.INDEX};e=(0,u.addCellDep)(e,{outPoint:b,depType:g.DEP_TYPE});const{fromScript:m,multisigScript:v}=(0,c.parseFromInfo)(t,{config:h});(0,u.ensureScript)(m,h,"SECP256K1_BLAKE160_MULTISIG");const _=!e.get("inputs").find((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(m,{validate:!1}))));if(_&&"string"===t)throw new Error("MultisigScript is required for witness!");if(p&&!r)throw new Error("You must provide a to address!");let w=d?f.BI.from(d):f.BI.from(0);if(r){const t=(0,n.parseAddress)(r,{config:h});e=e.update("outputs",(e=>e.push({cellOutput:{capacity:"0x"+w.toString(16),lock:t,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0})))}const S=e.get("fixedEntries").filter((({field:e})=>"outputs"===e)).maxBy((({index:e})=>e));let E=S?S.index+1:0;for(;E<e.get("outputs").size&&w.gt(0);++E){const t=e.get("outputs").get(E);if(new l(t.cellOutput.lock,{validate:!1}).equals(new l(m,{validate:!1}))){const e=f.BI.from(t.cellOutput.capacity);let r;w.gte(e)?r=e:(r=e.sub((0,n.minimalCellCapacityCompatible)(t)),r.gt(w)&&(r=w)),w=w.sub(r),t.cellOutput.capacity="0x"+e.sub(r).toString(16)}}if(e=e.update("outputs",(e=>e.filter((e=>!f.BI.from(e.cellOutput.capacity).eq(0))))),w.gt(0)){const t=e.get("cellProvider");if(!t)throw new Error("cell provider is missing!");const r=t.collector({lock:m}),i={cellOutput:{capacity:"0x0",lock:m,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let o=f.BI.from(0),s=(0,a.Set)();for(const t of e.get("inputs"))s=s.add(`${t.outPoint.txHash}_${t.outPoint.index}`);for await(const t of r.collect()){if(s.has(`${t.outPoint.txHash}_${t.outPoint.index}`))continue;e=(e=e.update("inputs",(e=>e.push(t)))).update("witnesses",(e=>e.push("0x")));const r=f.BI.from(t.cellOutput.capacity);let a=r;if(a.gt(w)&&(a=w),w=w.sub(a),o=o.add(r.sub(a)),w.eq(0)&&(o.eq(0)||o.gt((0,n.minimalCellCapacityCompatible)(i))))break}o.gt(0)&&(i.cellOutput.capacity="0x"+o.toString(16),e=e.update("outputs",(e=>e.push(i))))}if(w.gt(0)&&y)throw new Error("Not enough capacity in from address!");const A=e.get("inputs").findIndex((e=>new l(e.cellOutput.lock,{validate:!1}).equals(new l(m,{validate:!1}))));if(-1!==A){for(;f.BI.from(A).gte(e.get("witnesses").size);)e=e.update("witnesses",(e=>e.push("0x")));if(_||"string"!=typeof t){let r=e.get("witnesses").get(A);const n={lock:"0x"+v.slice(2)+u.SECP_SIGNATURE_PLACEHOLDER.slice(2).repeat(t.M)};if("0x"!==r){const e=o.blockchain.WitnessArgs.unpack(i.bytes.bytify(r)),t=e.lock;if(t&&n.lock&&!i.bytes.equal(t,n.lock))throw new Error("Lock field in first witness is set aside for signature!");const s=e.inputType;s&&(n.inputType=s);const a=e.outputType;a&&(n.outputType=a)}r=i.bytes.hexify(o.blockchain.WitnessArgs.pack(n)),e=e.update("witnesses",(e=>e.set(A,r)))}}return y?e:[e,f.BI.from(w)]}async function g(e,t,r,{config:n}={}){return y(e,t,void 0,r,{config:n=n||(0,s.getConfig)(),requireToAddress:!1})}async function b(e,t,r,{config:n}={}){if(n=n||(0,s.getConfig)(),t>=e.get("outputs").size)throw new Error("Invalid output index!");const i=f.BI.from(e.get("outputs").get(t).cellOutput.capacity);return y(e,r,void 0,i,{config:n,requireToAddress:!1})}function m(e,{config:t}={}){return t=t||(0,s.getConfig)(),(0,u.prepareSigningEntries)(e,t,"SECP256K1_BLAKE160_MULTISIG")}t.default={transfer:p,transferCompatible:y,payFee:g,prepareSigningEntries:m,serializeMultisigScript:c.serializeMultisigScript,multisigArgs:c.multisigArgs,injectCapacity:b,setupInputCell:h,CellCollector:d}},6437:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.issueToken=_,t.ownerForSudt=S,t.packAmount=A,t.transfer=w,t.unpackAmount=E;var n=r(33089),i=r(41600),o=b(r(94467)),s=r(45524),a=b(r(10640)),u=r(28670),c=r(49568),f=r(14105),l=r(24900),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(83127)),h=b(r(1874)),p=r(92900),y=r(71313);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}const{computeScriptHash:m}=i.utils,{ScriptValue:v}=i.values;async function _(e,t,r,i,o,{config:c}={}){const l=(c=c||(0,f.getConfig)()).SCRIPTS.SUDT;if(!l)throw new Error("Provided config does not have SUDT script setup!");e=(0,n.addCellDep)(e,{outPoint:{txHash:l.TX_HASH,index:l.INDEX},depType:l.DEP_TYPE});const d=(0,s.parseFromInfo)(t,{config:c}).fromScript,h={cellOutput:{capacity:"0x0",lock:d,type:{codeHash:l.CODE_HASH,hashType:l.HASH_TYPE,args:m(d)}},data:y.bytes.hexify(y.number.Uint128LE.pack(r)),outPoint:void 0,blockHash:void 0};i||(i=(0,u.minimalCellCapacityCompatible)(h));const g=p.BI.from(i);h.cellOutput.capacity="0x"+g.toString(16);const b=(e=e.update("outputs",(e=>e.push(h)))).get("outputs").size-1;return e=e.update("fixedEntries",(e=>e.push({field:"outputs",index:b}))),e=await a.default.injectCapacity(e,[t],p.BI.from(p.BI.from(h.cellOutput.capacity)),void 0,o,{config:c})}async function w(e,t,r,i,g,b,m,_,{config:w,LocktimePoolCellCollector:S=l.CellCollector,splitChangeCell:A=!1}={}){w=w||(0,f.getConfig)();let x=p.BI.from(g),k=m?p.BI.from(m):void 0;const I=w.SCRIPTS.SUDT;if(!I)throw new Error("Provided config does not have SUDT script setup!");if(0===t.length)throw new Error("`fromInfos` can't be empty!");if(!i)throw new Error("You must provide a to address!");const T=(0,u.parseAddress)(i,{config:w}),C=t.map((e=>(0,s.parseFromInfo)(e,{config:w}).fromScript)),O=b?(0,u.parseAddress)(b,{config:w}):C[0];if(x.lte(0))throw new Error("amount must be greater than 0");const P=function(e,t){const r=t.SCRIPTS.SUDT;return{codeHash:r.CODE_HASH,hashType:r.HASH_TYPE,args:e}}(r,w),M=e.get("cellProvider");if(!M)throw new Error("Cell provider is missing!");let B=p.BI.from(0),D=p.BI.from(0);if((0,n.isAcpScript)(T,w)){const t=new d.CellCollector(i,M,{config:w,queryOptions:{type:P,data:"any"}}),r=(await t.collect().next()).value;if(!r)throw new Error("toAddress ANYONE_CAN_PAY input not found!");e=(e=e.update("inputs",(e=>e.push(r)))).update("witnesses",(e=>e.push("0x"))),B=p.BI.from(r.cellOutput.capacity),D=E(r.data)}const R={cellOutput:{capacity:"0x0",lock:T,type:P},data:y.bytes.hexify(y.number.Uint128LE.pack(x)),outPoint:void 0,blockHash:void 0};(0,n.isAcpScript)(T,w)?(k||(k=p.BI.from(0)),R.cellOutput.capacity="0x"+B.add(k).toString(16),R.data=y.bytes.hexify(y.number.Uint128LE.pack(D.add(x)))):(k||(k=p.BI.from((0,u.minimalCellCapacityCompatible)(R))),R.cellOutput.capacity="0x"+k.toString(16)),e=(e=e.update("outputs",(e=>e.push(R)))).update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1}))),e=(0,n.addCellDep)(e,{outPoint:{txHash:I.TX_HASH,index:I.INDEX},depType:I.DEP_TYPE});const j={cellOutput:{capacity:"0x0",lock:O,type:P},data:y.bytes.hexify(y.number.Uint128LE.pack(0)),outPoint:void 0,blockHash:void 0},L={cellOutput:{capacity:"0x0",lock:O,type:void 0},data:"0x",outPoint:void 0,blockHash:void 0};let N=p.BI.from(0),U=p.BI.from(0),H=(0,c.Set)();for(const t of e.get("inputs"))H=H.add(`${t.outPoint.txHash}_${t.outPoint.index}`);let F=(0,c.List)();_&&t.forEach(((e,t)=>{const r=new S(e,M,{config:w,tipHeader:_,queryOptions:{type:P,data:"any"}});F=F.push({cellCollector:r,index:t})})),t.forEach(((e,t)=>{const r=new h.default.CellCollector(e,M,{config:w,queryOptions:{type:P,data:"any"}}),n=new o.default.CellCollector(e,M,{config:w,queryOptions:{type:P,data:"any"}}),i=new d.default.CellCollector(e,M,{config:w,queryOptions:{type:P,data:"any"}});F=F.push({cellCollector:r,index:t},{cellCollector:n,index:t},{cellCollector:i,index:t,isAnyoneCanPay:!0,destroyable:(0,s.parseFromInfo)(e,{config:w}).destroyable})})),_&&t.forEach(((e,t)=>{const r=new S(e,M,{config:w,tipHeader:_});F=F.push({cellCollector:r,index:t})})),t.forEach(((e,t)=>{const r=new h.default.CellCollector(e,M,{config:w}),n=new o.default.CellCollector(e,M,{config:w}),i=new d.default.CellCollector(e,M,{config:w});F=F.push({cellCollector:r,index:t},{cellCollector:n,index:t},{cellCollector:i,index:t,isAnyoneCanPay:!0,destroyable:(0,s.parseFromInfo)(e,{config:w}).destroyable})}));for(const{index:r,cellCollector:n,isAnyoneCanPay:i,destroyable:o}of F)for await(const s of n.collect()){const n=`${s.outPoint.txHash}_${s.outPoint.index}`;if(H.has(n))continue;H=H.add(n);const c=t[r],f=(e=await a.default.setupInputCell(e,s,c,{config:w})).get("outputs").size-1,l=(e=e.update("outputs",(e=>e.remove(f)))).get("fixedEntries").findIndex((e=>"outputs"===e.field&&e.index===f));l>=0&&(e=e.update("fixedEntries",(e=>e.remove(l))));const d=p.BI.from(s.cellOutput.capacity),h=s.cellOutput.type?E(s.data):p.BI.from(0);let g=i&&!o?d.sub((0,u.minimalCellCapacityCompatible)(s)):d,b=h;g.gt(k)&&(g=p.BI.from(k)),k=k.sub(g);const m=d.sub(g);(!i||i&&o)&&(N=N.add(m)),b.gt(x)&&(b=x),x=x.sub(b);const v=h.sub(b);if((!i||i&&o)&&(U=U.add(v)),i&&!o){const t={cellOutput:{capacity:"0x"+m.toString(16),lock:s.cellOutput.lock,type:s.cellOutput.type},data:s.cellOutput.type?y.bytes.hexify(y.number.Uint128LE.pack(v)):"0x"};e=e.update("outputs",(e=>e.push(t))),s.cellOutput.type&&(e=e.update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1}))))}if(k.eq(0)&&x.eq(0)&&(N.eq(0)&&U.eq(0)||N.gt((0,u.minimalCellCapacityCompatible)(L))&&U.eq(0))){j.cellOutput.type=void 0,j.data="0x";break}if(k.eq(0)&&x.eq(0)&&N.gt((0,u.minimalCellCapacityCompatible)(L))&&U.gt(0))break}let z=-1;if((0,n.isAcpScript)(j.cellOutput.lock,w)&&-1!==(z=e.get("outputs").findIndex((e=>new v(j.cellOutput.lock,{validate:!1}).equals(new v(e.cellOutput.lock,{validate:!1}))&&(U.eq(0)&&!j.cellOutput.type&&!e.cellOutput.type||U.gte(0)&&!!j.cellOutput.type&&!!e.cellOutput.type&&new v(j.cellOutput.type,{validate:!1}).equals(new v(e.cellOutput.type,{validate:!1}))))))&&-1===e.get("fixedEntries").findIndex((e=>"output"===e.field&&e.index===z))){const t=e.get("outputs").get(z),r=JSON.parse(JSON.stringify(t));r.cellOutput.capacity="0x"+p.BI.from(t.cellOutput.capacity).add(N).toString(16),U.gt(0)&&(r.data=y.bytes.hexify(y.number.Uint128LE.pack(E(t.data).add(U))));const n=p.BI.from((0,u.minimalCellCapacityCompatible)(j)),i=p.BI.from((0,u.minimalCellCapacityCompatible)(L));let o=!1;U.gt(0)&&A&&N.gte(n.add(i))&&(r.cellOutput.capacity=t.cellOutput.capacity,L.cellOutput.capacity="0x"+N.toString(16),o=!0),e=e.update("outputs",(e=>e.set(z,r))),o&&(e=e.update("outputs",(e=>e.push(L))))}else if(N.gte((0,u.minimalCellCapacityCompatible)(j))){j.cellOutput.capacity="0x"+N.toString(16),U.gt(0)&&(j.data=y.bytes.hexify(y.number.Uint128LE.pack(U)));const t=p.BI.from((0,u.minimalCellCapacityCompatible)(j)),r=p.BI.from((0,u.minimalCellCapacityCompatible)(L));let n=!1;U.gt(0)&&A&&N.gte(t.add(r))&&(j.cellOutput.capacity="0x"+t.toString(16),L.cellOutput.capacity="0x"+N.sub(t).toString(16),n=!0),e=e.update("outputs",(e=>e.push(j))),U.gt(0)&&(e=e.update("fixedEntries",(t=>t.push({field:"outputs",index:e.get("outputs").size-1})))),n&&(e=e.update("outputs",(e=>e.push(L))))}else if(U.gt(0)&&N.lt((0,u.minimalCellCapacityCompatible)(j)))throw new Error("Not enough capacity for change in from infos!");if(k.gt(0))throw new Error("Not enough capacity in from infos!");if(x.gt(0))throw new Error("Not enough amount in from infos!");return e}function S(e,{config:t}={}){t=t||(0,f.getConfig)();const{fromScript:r}=(0,s.parseFromInfo)(e,{config:t});return m(r)}function E(e){return y.number.Uint128LE.unpack(y.bytes.bytify(e).slice(0,16))}function A(e){return y.bytes.hexify(y.number.Uint128LE.pack(e))}t.default={issueToken:_,transfer:w,ownerForSudt:S,packAmount:A,unpackAmount:E}},18080:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=s*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,r++}for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=c[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=t[i],d=0,h=u-1;(0!==l||d<n)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===f[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=e.charAt(f[p]);return y},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},26919:(e,t,r)=>{const n=r(18080);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},58211:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGHASH_OUTPUT_LOC=t.SIGHASH_GROUP_OUTPUT_LOC=t.MULTISIG_OUTPUT_LOC=t.MULTISIG_GROUP_OUTPUT_LOC=t.DAO_OUTPUT_LOC=void 0,t.generateGenesisScriptConfigs=function(e){if(!e||0!==Number(e.header.number))throw new Error("The block must be a genesis block");const t=e.transactions;return{SECP256K1_BLAKE160:{...c({transaction:t[i[0]],outputIndex:i[1],depGroupTransaction:t[a[0]],depGroupOutputIndex:a[1]}),SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{...c({transaction:t[o[0]],outputIndex:o[1],depGroupTransaction:t[u[0]],depGroupOutputIndex:u[1]}),SHORT_ID:1},DAO:c({transaction:t[s[0]],outputIndex:s[1]})}};var n=r(41600);const i=t.SIGHASH_OUTPUT_LOC=[0,1],o=t.MULTISIG_OUTPUT_LOC=[0,4],s=t.DAO_OUTPUT_LOC=[0,2],a=t.SIGHASH_GROUP_OUTPUT_LOC=[1,0],u=t.MULTISIG_GROUP_OUTPUT_LOC=[1,1];function c(e){var t;const{transaction:r,outputIndex:i}=e,o=n.utils.computeScriptHash(f(null===(t=r.outputs[i])||void 0===t?void 0:t.type));if("depGroupTransaction"in e){const{depGroupOutputIndex:t,depGroupTransaction:r}=e;return{HASH_TYPE:"type",CODE_HASH:o,DEP_TYPE:"depGroup",TX_HASH:f(r.hash),INDEX:l(t)}}return{HASH_TYPE:"type",CODE_HASH:o,DEP_TYPE:"code",INDEX:l(i),TX_HASH:f(r.hash)}}function f(e){if(null==e)throw new Error("The block must be a genesis block");return e}function l(e){return`0x${e.toString(16)}`}},94308:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findConfigByScript=function(e,t){const r=t||(0,n.getConfig)().SCRIPTS;return Object.values(r).find((t=>(null==t?void 0:t.CODE_HASH)===e.codeHash&&(null==t?void 0:t.HASH_TYPE)===e.hashType))},t.nameOfScript=function(e,t){const r=t||(0,n.getConfig)().SCRIPTS,i=Object.entries(r).find((([,t])=>(null==t?void 0:t.CODE_HASH)===e.codeHash&&(null==t?void 0:t.HASH_TYPE)===e.hashType));return i?i[0]:void 0};var n=r(74482)},14105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={initializeConfig:!0,getConfig:!0,validateConfig:!0,nameOfScript:!0,findConfigByScript:!0,helpers:!0,predefined:!0,createConfig:!0,generateGenesisScriptConfigs:!0,refreshScriptConfigs:!0,createRpcResolver:!0,createLatestTypeIdResolver:!0};Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return a.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return c.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return c.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return s.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return u.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return o.getConfig}}),t.helpers=void 0,Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return o.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return s.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return a.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return c.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return o.validateConfig}});var i=r(23720);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(74482),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(94308));t.helpers=s;var a=r(88195),u=r(58211),c=r(86362);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}},74482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertHashType=a,t.getConfig=function(){return f},t.initializeConfig=function(e){c(e),f=(0,i.default)(e)},t.validateConfig=c;var n,i=(n=r(82229))&&n.__esModule?n:{default:n};function o(e,t){!function(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}(e,t);if(66!==t.length)throw new Error(`${e} must be a hex string of 66 characters long!`)}function s(e,t){if("0x0"!==t&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function a(e,t){if("type"!==t&&"data"!==t&&"data1"!==t&&"data2"!==t)throw new Error(`${e} must one of type, data, data1, data2!`)}function u(e,t="variable"){if(!e)throw new Error(`${t} is not valid`)}function c(e){u("object"==typeof e.SCRIPTS&&null!=e.SCRIPTS,"config.SCRIPT");for(const t of Object.keys(e.SCRIPTS)){const r=e.SCRIPTS[t];u(null==r?void 0:r.CODE_HASH),o(`SCRIPTS.${t}.CODE_HASH`,r.CODE_HASH),a(`SCRIPTS.${t}.HASH_TYPE`,r.HASH_TYPE),o(`SCRIPTS.${t}.TX_HASH`,r.TX_HASH),s(`SCRIPTS.${t}.INDEX`,r.INDEX);const n=r.DEP_TYPE;if("depGroup"!==n&&"code"!==n)throw new Error(`SCRIPTS.${t}.DEP_TYPE must either be depGroup or code!`);const i=r.SHORT_ID;if(null!=i&&"number"!=typeof i)throw new Error("SHORT_ID must be a number!")}}let f=r(88195).predefined.LINA},88195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConfig=o,t.predefined=void 0;var n,i=(n=r(82229))&&n.__esModule?n:{default:n};function o(e){return(0,i.default)(e)}const s=o({PREFIX:"ckb",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0x5e7a36a77e68eecc013dfa2fe6a23f3b6c344b04005808694ae6dd45eea4cfd5",HASH_TYPE:"type",TX_HASH:"0xc7813f6a415144643970c2e88e0bb6ca6a8edc5dd7c1022746f628284a9936d5",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",HASH_TYPE:"type",TX_HASH:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0x9b819793a64463aed77c615d6cb226eea5487ccfc0783043a587254cda2b6f26",HASH_TYPE:"type",TX_HASH:"0xc76edf469816aa22f416503c38d0b533d2a018e253e379f134c3985b3472c842",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",HASH_TYPE:"data1",TX_HASH:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",INDEX:"0x0",DEP_TYPE:"code"}}}),a=o({PREFIX:"ckt",SCRIPTS:{SECP256K1_BLAKE160:{CODE_HASH:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:0},SECP256K1_BLAKE160_MULTISIG:{CODE_HASH:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",HASH_TYPE:"type",TX_HASH:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",INDEX:"0x1",DEP_TYPE:"depGroup",SHORT_ID:1},DAO:{CODE_HASH:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",HASH_TYPE:"type",TX_HASH:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",INDEX:"0x2",DEP_TYPE:"code"},SUDT:{CODE_HASH:"0xc5e5dcf215925f7ef4dfaf5f4b4f105bc321c02776d6e7d52a1db3fcd9d011a4",HASH_TYPE:"type",TX_HASH:"0xe12877ebd2c3c364dc46c5c992bcfaf4fee33fa13eebdf82c591fc9825aab769",INDEX:"0x0",DEP_TYPE:"code"},ANYONE_CAN_PAY:{CODE_HASH:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",HASH_TYPE:"type",TX_HASH:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",INDEX:"0x0",DEP_TYPE:"depGroup",SHORT_ID:2},OMNILOCK:{CODE_HASH:"0xf329effd1c475a2978453c8600e1eaf0bc2087ee093c3ee64cc96ec6847752cb",HASH_TYPE:"type",TX_HASH:"0xec18bf0d857c981c3d1f4e17999b9b90c484b303378e94de1a57b0872f5d4602",INDEX:"0x0",DEP_TYPE:"code"},XUDT:{CODE_HASH:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",HASH_TYPE:"type",TX_HASH:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",INDEX:"0x0",DEP_TYPE:"code"}}});t.predefined={LINA:s,AGGRON4:a}},86362:(e,t)=>{"use strict";function r(e,t){return async r=>{const o=await e(r.map((e=>e.txHash))),s=n(r,o,((e,t)=>(i(e),i(t,`Cannot find the OutPoint ${e.txHash}#${e.index}`),t.outputs[Number(e.index)].type))),a=await t(s.filter(Boolean));return n(r,s,((e,t)=>{if(i(e),!t)return e;const[r]=a.splice(0,1);return r.outPoint}))}}function n(e,t,r){return e.map(((n,i)=>r(e[i],t[i])))}function i(e,t="Not nullable"){if(null==e)throw new Error(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createLatestTypeIdResolver=r,t.createRpcResolver=function(e){return r((async t=>{const r=await e.createBatchRequest(t.map((e=>["getTransaction",e]))).exec();return n(t,r,((e,t)=>{if(null==t||!t.transaction)throw new Error(`Cannot find transaction ${e}`);return t.transaction}))}),(async t=>(await e.createBatchRequest(t.map((e=>["getCells",{script:e,scriptType:"type",scriptSearchMode:"exact",withData:!1},"asc","0x1"]))).exec()).map((e=>e.objects[0]))))},t.refreshScriptConfigs=async function(e,{resolve:t,skip:r=["SECP256K1_BLAKE160","SECP256K1_BLAKE160_MULTISIG","DAO"]}){const o=Object.entries(e).filter((([e,t])=>!r.includes(e)&&"type"===(null==t?void 0:t.HASH_TYPE))),s=o.map((([e,t])=>({txHash:t.TX_HASH,index:t.INDEX}))),a=await t(s),u=Object.fromEntries(n(o,a,((e,t)=>{i(e);const[r,n]=e;return i(t,`Refreshing failed, cannot load config of ${r}, please check whether the scriptConfig is correct`),[r,{...n,TX_HASH:t.txHash,INDEX:t.index}]})));return Object.assign({},e,u)}},23720:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},79384:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedPublicKey=t.ExtendedPrivateKey=t.AddressType=t.AccountExtendedPublicKey=void 0;var i,o=(i=r(51401))&&i.__esModule?i:{default:i},s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(30510)),a=r(41600),u=r(74093);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}let f=t.AddressType=function(e){return e[e.Receiving=0]="Receiving",e[e.Change=1]="Change",e}({});class l{constructor(e,t){(0,u.assertPublicKey)(e),(0,u.assertChainCode)(t),this.publicKey=e,this.chainCode=t}serialize(){return this.publicKey+this.chainCode.slice(2)}static parse(e){return a.utils.assertHexString("serialized",e),new l(e.slice(0,68),"0x"+e.slice(68))}}t.ExtendedPublicKey=l;class d extends l{static ckbAccountPath="m/44'/309'/0'";static parse(e){return a.utils.assertHexString("serialized",e),new d(e.slice(0,68),"0x"+e.slice(68))}publicKeyInfo(e,t){const r=this.getPublicKey(e,t);return{publicKey:r,blake160:s.default.publicKeyToBlake160(r),path:d.pathFor(e,t)}}static pathForReceiving(e){return d.pathFor(f.Receiving,e)}static pathForChange(e){return d.pathFor(f.Change,e)}static pathFor(e,t){return`${d.ckbAccountPath}/${e}/${t}`}getPublicKey(e=f.Receiving,t){return"0x"+o.default.fromPublicKey(n.from(this.publicKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex"),d.ckbAccountPath).deriveChild(e,!1).deriveChild(t,!1).publicKey.toString("hex")}}t.AccountExtendedPublicKey=d;class h{constructor(e,t){(0,u.assertPrivateKey)(e),(0,u.assertChainCode)(t),this.privateKey=e,this.chainCode=t}serialize(){return this.privateKey+this.chainCode.slice(2)}toExtendedPublicKey(){const e=(0,s.privateToPublic)(this.privateKey);return new l(e,this.chainCode)}toAccountExtendedPublicKey(){const e=new o.default(n.from(this.privateKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex")).derivePath(d.ckbAccountPath);return new d("0x"+e.publicKey.toString("hex"),"0x"+e.chainCode.toString("hex"))}static fromSeed(e){const t=o.default.fromSeed(e);return new h("0x"+t.privateKey.toString("hex"),"0x"+t.chainCode.toString("hex"))}privateKeyInfo(e,t){const r=d.pathFor(e,t);return this.privateKeyInfoByPath(r)}privateKeyInfoByPath(e){const t=new o.default(n.from(this.privateKey.slice(2),"hex"),n.from(this.chainCode.slice(2),"hex")).derivePath(e);return this.privateKeyInfoFromKeychain(t,e)}privateKeyInfoFromKeychain(e,t){return{privateKey:"0x"+e.privateKey.toString("hex"),publicKey:"0x"+e.publicKey.toString("hex"),path:t}}static parse(e){return a.utils.assertHexString("serialized",e),new h(e.slice(0,66),"0x"+e.slice(66))}}t.ExtendedPrivateKey=h},74093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertChainCode=function(e){if(i("chainCode",e),66!==e.length)throw new Error("chainCode must be length of 32 bytes!")},t.assertPrivateKey=function(e){if(i("privateKey",e),66!==e.length)throw new Error("privateKey must be length of 32 bytes!")},t.assertPublicKey=function(e,t){if(i(t=t||"publicKey",e),68!==e.length)throw new Error("publicKey must be length of 33 bytes!")};var n=r(41600);const{assertHexString:i}=n.utils},38605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AccountExtendedPublicKey",{enumerable:!0,get:function(){return s.AccountExtendedPublicKey}}),Object.defineProperty(t,"AddressType",{enumerable:!0,get:function(){return s.AddressType}}),Object.defineProperty(t,"ExtendedPrivateKey",{enumerable:!0,get:function(){return s.ExtendedPrivateKey}}),Object.defineProperty(t,"ExtendedPublicKey",{enumerable:!0,get:function(){return s.ExtendedPublicKey}}),Object.defineProperty(t,"IncorrectPassword",{enumerable:!0,get:function(){return n.IncorrectPassword}}),Object.defineProperty(t,"InvalidKeystore",{enumerable:!0,get:function(){return n.InvalidKeystore}}),Object.defineProperty(t,"Keychain",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Keystore",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"UnsupportedCipher",{enumerable:!0,get:function(){return n.UnsupportedCipher}}),Object.defineProperty(t,"XPubStore",{enumerable:!0,get:function(){return i.XPubStore}}),t.default=void 0,Object.defineProperty(t,"key",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"mnemonic",{enumerable:!0,get:function(){return a.default}});var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(56913)),i=r(41584),o=c(r(51401)),s=r(79384),a=c(r(69474)),u=c(r(30510));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.default={mnemonic:a.default,Keystore:n.default,UnsupportedCipher:n.UnsupportedCipher,IncorrectPassword:n.IncorrectPassword,InvalidKeystore:n.InvalidKeystore,Keychain:o.default,AddressType:s.AddressType,ExtendedPublicKey:s.ExtendedPublicKey,AccountExtendedPublicKey:s.AccountExtendedPublicKey,ExtendedPrivateKey:s.ExtendedPrivateKey,key:u.default,XPubStore:i.XPubStore}},30510:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.privateKeyToBlake160=d,t.privateToPublic=f,t.publicKeyToBlake160=l,t.recoverFromSignature=c,t.signRecoverable=u;var i=r(41600),o=r(86729),s=r(74093);const a=new o.ec("secp256k1");function u(e,t){i.utils.assertHexString("message",e),(0,s.assertPrivateKey)(t);const r=a.keyFromPrivate(t.slice(2)),{r:n,s:o,recoveryParam:u}=r.sign(e.slice(2),{canonical:!0});if(null===u)throw new Error("Sign message failed!");return"0x"+n.toString(16).padStart(64,"0")+o.toString(16).padStart(64,"0")+u.toString(16).padStart(2,"0")}function c(e,t){i.utils.assertHexString("message",e),i.utils.assertHexString("signature",t);const r=n.from(e.slice(2),"hex"),o=n.from(t.slice(2),"hex"),s={r:o.slice(0,32),s:o.slice(32,64),recoveryParam:o[64]};return"0x"+a.recoverPubKey(r,s,s.recoveryParam).encode("hex",!0).toLowerCase()}function f(e){let t=e;if("string"==typeof e&&((0,s.assertPrivateKey)(e),t=n.from(e.slice(2),"hex")),32!==t.length)throw new Error("Private key must be 32 bytes!");const r=a.keyFromPrivate(t).getPublic(!0,"hex");return"string"==typeof e?"0x"+r:n.from(r,"hex")}function l(e){(0,s.assertPublicKey)(e);return(new i.utils.CKBHasher).update(e).digestHex().slice(0,42)}function d(e){return l(f(e))}t.default={signRecoverable:u,recoverFromSignature:c,privateToPublic:f,publicKeyToBlake160:l,privateKeyToBlake160:d}},51401:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=u(r(91565)),o=r(86729),s=u(r(32668)),a=r(30510);function u(e){return e&&e.__esModule?e:{default:e}}const c=new o.ec("secp256k1"),f=n.from("");class l{privateKey=f;publicKey=f;chainCode=f;index=0;depth=0;identifier=f;fingerprint=0;parentFingerprint=0;constructor(e,t){this.privateKey=e,this.chainCode=t,this.isNeutered()||(this.publicKey=(0,a.privateToPublic)(this.privateKey))}calculateFingerprint(){this.identifier=this.hash160(this.publicKey),this.fingerprint=this.identifier.slice(0,4).readUInt32BE(0)}static fromSeed(e){const t=i.default.createHmac("sha512",n.from("Bitcoin seed","utf8")).update(e).digest(),r=new l(t.slice(0,32),t.slice(32));return r.calculateFingerprint(),r}static fromPublicKey(e,t,r){const n=new l(f,t);n.publicKey=e,n.calculateFingerprint();const i=r.split("/");return n.depth=i.length-1,n.index=parseInt(i[i.length-1],10),n}deriveChild(e,t){let r;const o=n.allocUnsafe(4);if(t){const t=n.concat([n.alloc(1,0),this.privateKey]);o.writeUInt32BE(e+2147483648,0),r=n.concat([t,o])}else o.writeUInt32BE(e,0),r=n.concat([this.publicKey,o]);const s=i.default.createHmac("sha512",this.chainCode).update(r).digest(),a=s.slice(0,32),u=s.slice(32);let c;if(this.isNeutered())c=new l(f,u),c.publicKey=l.publicKeyAdd(this.publicKey,a),c.calculateFingerprint();else{const e=l.privateKeyAdd(this.privateKey,a);c=new l(e,u),c.calculateFingerprint()}return c.index=e,c.depth=this.depth+1,c.parentFingerprint=this.fingerprint,c}derivePath(e){if(["m","/",""].includes(e))return this;let t=this,r=e.split("/");return"m"===r[0]&&(r=r.slice(1)),r.forEach((e=>{const r=parseInt(e,10),n=e.length>1&&"'"===e[e.length-1];t=t.deriveChild(r,n)})),t}isNeutered(){return this.privateKey===f}hash160(e){const t=i.default.createHash("sha256").update(e).digest();return i.default.createHash("ripemd160").update(t).digest()}static privateKeyAdd(e,t){const r=new s.default(t);return r.iadd(new s.default(e)),r.cmp(c.curve.n)>=0&&r.isub(c.curve.n),r.toArrayLike(n,"be",32)}static publicKeyAdd(e,t){const r=new s.default(e.slice(1)).toRed(c.curve.red);let i=r.redSqr().redIMul(r).redIAdd(c.curve.b).redSqrt();3===e[0]!==i.isOdd()&&(i=i.redNeg());const o=c.curve.g.mul(new s.default(t)).add({x:r,y:i});return n.from(o.encode(!0,!0))}}t.default=l},56913:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnsupportedCipher=t.InvalidKeystore=t.IncorrectPassword=void 0;var i,o=(i=r(91565))&&i.__esModule?i:{default:i},s=r(18190),a=r(10611),u=r(79384),c=r(9983);class f extends Error{constructor(){super("Unsupported cipher!")}}t.UnsupportedCipher=f;class l extends Error{constructor(){super("Incorrect password!")}}t.IncorrectPassword=l;class d extends Error{constructor(){super("Invalid keystore, please check your file integrity.")}}t.InvalidKeystore=d;const h="aes-128-ctr",p=262144;class y{version=3;constructor(e,t,r){this.crypto=e,this.id=t,this.origin=r}static fromJson(e){try{const t=JSON.parse(e);return new y(t.crypto,t.id,t.origin)}catch{throw new d}}toJson(){return JSON.stringify(this)}isFromCkbCli(){return"ckb-cli"===this.origin}static createEmpty(){const e=o.default.randomBytes(32),t=o.default.randomBytes(16),r={dklen:32,salt:e.toString("hex"),n:p,r:8,p:1};return new y({ciphertext:"",cipherparams:{iv:t.toString("hex")},cipher:h,kdf:"scrypt",kdfparams:r,mac:""},(0,a.v4)())}static create(e,t,r={}){const i=r.salt||o.default.randomBytes(32),s=r.iv||o.default.randomBytes(16),u={dklen:32,salt:i.toString("hex"),n:p,r:8,p:1},l=n.from((0,c.syncScrypt)(n.from(t),i,u.n,u.r,u.p,u.dklen)),d=o.default.createCipheriv(h,l.slice(0,16),s);if(!d)throw new f;const g=n.concat([d.update(n.from(e.serialize().slice(2),"hex")),d.final()]);return new y({ciphertext:g.toString("hex"),cipherparams:{iv:s.toString("hex")},cipher:h,kdf:"scrypt",kdfparams:u,mac:y.mac(l,g)},(0,a.v4)())}isEmpty(){return""===this.crypto.ciphertext&&""===this.crypto.mac}decrypt(e){const t=this.derivedKey(e),r=n.from(this.crypto.ciphertext,"hex");if(y.mac(t,r)!==this.crypto.mac)throw new l;const i=o.default.createDecipheriv(this.crypto.cipher,t.slice(0,16),n.from(this.crypto.cipherparams.iv,"hex"));return"0x"+n.concat([i.update(r),i.final()]).toString("hex")}extendedPrivateKey(e){return u.ExtendedPrivateKey.parse(this.decrypt(e))}checkPassword(e){const t=this.derivedKey(e),r=n.from(this.crypto.ciphertext,"hex");return y.mac(t,r)===this.crypto.mac}derivedKey(e){const{kdfparams:t}=this.crypto;return n.from((0,c.syncScrypt)(n.from(e),n.from(t.salt,"hex"),t.n,t.r,t.p,t.dklen))}static mac(e,t){return new s.Keccak(256).update(n.concat([e.subarray(16,32),t])).digest("hex")}static scryptOptions(e){return{N:e.n,r:e.r,p:e.p,maxmem:128*(e.n+e.p+2)*e.r}}}t.default=y},69474:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.entropyToMnemonic=k,t.generateMnemonic=T,t.mnemonicToEntropy=x,t.mnemonicToSeed=A,t.mnemonicToSeedSync=E,t.validateMnemonic=I;var i=s(r(91565)),o=s(r(14991));function s(e){return e&&e.__esModule?e:{default:e}}const a=2048,u=64,c=16,f=32,l=12,d=24,h="Invalid mnemonic",p="Invalid checksum",y="Entropy should be divisable by 4",g=`Entropy should be shorter than ${f+1}`,b="Entropy should be longer than "+(c-1),m=`Words should be shorter than ${d+1}`,v="Words should be longer than "+(l-1);if(2048!==o.default.length)throw new Error(`Word list should have 2048 words, but ${o.default.length} received in fact`);function _(e){return e.reduce(((e,t)=>e+t.toString(2).padStart(8,"0")),"")}function w(e){const t=8*e.length/32;return _(i.default.createHash("sha256").update(e).digest()).slice(0,t)}function S(e=""){return`mnemonic${e}`}function E(e="",t=""){const r=n.from(e.normalize("NFKD"),"utf8"),o=n.from(S(t.normalize("NFKD")),"utf8");return i.default.pbkdf2Sync(r,o,a,u,"sha512")}function A(e="",t=""){return new Promise(((r,o)=>{try{const s=n.from(e.normalize("NFKD"),"utf8"),c=n.from(S(t.normalize("NFKD")),"utf8");i.default.pbkdf2(s,c,a,u,"sha512",((e,t)=>{e&&o(e),r(t)}))}catch(e){o(e)}}))}function x(e=""){const t=e.normalize("NFKD").split(" ");if(t.length<l)throw new Error(v);if(t.length>d)throw new Error(m);if(t.length%3!=0)throw new Error(h);const r=t.map((e=>{const t=o.default.indexOf(e);if(-1===t)throw new Error(h);return t.toString(2).padStart(11,"0")})).join(""),i=32*Math.floor(r.length/33),s=r.slice(0,i),a=r.slice(i),u=s.match(/(.{1,8})/g).map((e=>parseInt(e,2)));if(u.length<c)throw new Error(b);if(u.length>f)throw new Error(g);if(u.length%4!=0)throw new Error(y);const _=n.from(u);if(w(_)!==a)throw new Error(p);return"0x"+_.toString("hex")}function k(e){const t=n.from(e.slice(2),"hex");if(t.length<c)throw new TypeError(b);if(t.length>f)throw new TypeError(g);if(t.length%4!=0)throw new TypeError(y);return(_(t)+w(t)).match(/(.{1,11})/g).map((e=>{const t=parseInt(e,2);return o.default[t]})).join(" ")}function I(e){try{x(e)}catch(e){return!1}return!0}function T(){return k("0x"+i.default.randomBytes(16).toString("hex"))}t.default={entropyToMnemonic:k,mnemonicToEntropy:x,mnemonicToSeed:A,mnemonicToSeedSync:E,validateMnemonic:I,generateMnemonic:T}},14991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]},41584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XPubStore=void 0;var n=r(79384);class i{constructor(e){this.accountExtendedPublicKey=e}toAccountExtendedPublicKey(){return this.accountExtendedPublicKey}toJson(){return JSON.stringify({xpubkey:this.accountExtendedPublicKey.serialize().slice(2)})}static fromJson(e){const t=JSON.parse(e).xpubkey,r=n.AccountExtendedPublicKey.parse("0x"+t);return new i(r)}}t.XPubStore=i},32668:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(84102).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var y=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,I=x>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,D=0|s[8],R=8191&D,j=D>>>13,L=0|s[9],N=8191&L,U=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,q=0|a[1],K=8191&q,V=q>>>13,W=0|a[2],$=8191&W,Q=W>>>13,G=0|a[3],X=8191&G,Y=G>>>13,J=0|a[4],Z=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,de=fe>>>13,he=0|a[9],pe=8191&he,ye=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var be=(c+(n=n+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,V)|0;var me=(c+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,$)|0))<<13)|0;c=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0;var ve=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _e=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,Q)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0;var we=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(j,F)|0,o=Math.imul(j,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,le)|0,o=o+Math.imul(y,de)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ye)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(b,le)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,Q))+Math.imul(U,$)|0,o=Math.imul(U,Q),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(_,le)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,le)|0,o=o+Math.imul(w,de)|0;var Ie=(c+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ye)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,X),i=(i=Math.imul(N,Y))+Math.imul(U,X)|0,o=Math.imul(U,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,de)|0;var Te=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Z),i=(i=Math.imul(N,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,de)|0;var Ce=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,de)|0;var Oe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(B,le)|0,o=o+Math.imul(B,de)|0;var Pe=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ye)|0)+Math.imul(O,pe)|0))<<13)|0;c=((o=o+Math.imul(O,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,ce))+Math.imul(U,ue)|0,o=Math.imul(U,ce),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,de)|0;var Me=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,le),i=(i=Math.imul(N,de))+Math.imul(U,le)|0,o=Math.imul(U,de);var Be=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(c+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return c=((o=Math.imul(U,ye))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ge,u[1]=be,u[2]=me,u[3]=ve,u[4]=_e,u[5]=we,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Ie,u[12]=Te,u[13]=Ce,u[14]=Oe,u[15]=Pe,u[16]=Me,u[17]=Be,u[18]=De,0!==c&&(u[19]=c,r.length++),r};function b(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return b(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=y),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?y(this,e,t):r<1024?b(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;!(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(S,w),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,w),i(A,w),i(x,w),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return _[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},i(I,k),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},36340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADDRESS_FORMAT_SHORT=t.ADDRESS_FORMAT_FULLTYPE=t.ADDRESS_FORMAT_FULLDATA=t.ADDRESS_FORMAT_FULL=void 0,t.parseDeprecatedCkb2019Address=function(e,{config:t}){t=t||(0,o.getConfig)();const{prefix:r,words:n}=s.bech32.decode(e,a);if(r!==t.PREFIX)throw Error(`Invalid prefix! Expected: ${t.PREFIX}, actual: ${r}`);const[u,...d]=s.bech32.fromWords(n);switch(u){case c:{const[e,...r]=d;if(20!==r.length)throw Error("Invalid payload length!");const n=Object.values(t.SCRIPTS).find((t=>t&&t.SHORT_ID===e));if(!n)throw Error(`Invalid code hash index: ${e}!`);return{codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:i.bytes.hexify(r)}}case f:if(d.length<32)throw Error("Invalid payload length!");return{codeHash:i.bytes.hexify(d.slice(0,32)),hashType:"data",args:i.bytes.hexify(d.slice(32))};case l:if(d.length<32)throw Error("Invalid payload length!");return{codeHash:i.bytes.hexify(d.slice(0,32)),hashType:"type",args:i.bytes.hexify(d.slice(32))}}throw Error(`Invalid payload format type: ${u}`)},t.parseFullFormatAddress=function(e,{config:t}){t=t||(0,o.getConfig)();const{words:r,prefix:c}=s.bech32m.decode(e,a);if(c!==t.PREFIX)throw Error(`Invalid prefix! Expected: ${t.PREFIX}, actual: ${c}`);const[f,...l]=s.bech32m.fromWords(r);if(f!==u)throw new Error("Invalid address format type");if(l.length<33)throw new Error("Invalid payload length, too short!");const d=i.bytes.hexify(l.slice(0,32)),h=n.blockchain.HashType.unpack(l.slice(32,33)),p=i.bytes.hexify(l.slice(33));return{codeHash:d,hashType:h,args:p}};var n=r(41600),i=r(71313),o=r(14105),s=r(22343);const a=1023,u=t.ADDRESS_FORMAT_FULL=0,c=t.ADDRESS_FORMAT_SHORT=1,f=t.ADDRESS_FORMAT_FULLDATA=2,l=t.ADDRESS_FORMAT_FULLTYPE=4},28670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={minimalScriptCapacity:!0,minimalScriptCapacityCompatible:!0,minimalCellCapacity:!0,minimalCellCapacityCompatible:!0,locateCellDep:!0,generateAddress:!0,scriptToAddress:!0,generateSecp256k1Blake160Address:!0,generateSecp256k1Blake160MultisigAddress:!0,parseAddress:!0,addressToScript:!0,encodeToAddress:!0,encodeToConfigAddress:!0,TransactionSkeleton:!0,createTransactionFromSkeleton:!0,createTransactionSkeleton:!0,sealTransaction:!0,transactionSkeletonToObject:!0,objectToTransactionSkeleton:!0,refreshTypeIdCellDeps:!0};t.addressToScript=t.TransactionSkeleton=void 0,t.createTransactionFromSkeleton=O,t.createTransactionSkeleton=async function(e,t){let r=C();r=r.update("cellDeps",(t=>t.push(...e.cellDeps))),r=r.update("headerDeps",(t=>t.push(...e.headerDeps)));const n=await Promise.all(e.inputs.map((e=>t(e.previousOutput))));r=r.update("inputs",(e=>e.push(...n))),r=r.update("inputSinces",(t=>e.inputs.reduce(((e,t,r)=>e.set(r,t.since)),t)));const i=e.outputs.map(((t,r)=>{var n;return{cellOutput:t,data:null!==(n=e.outputsData[r])&&void 0!==n?n:"0x"}}));return r=r.update("outputs",(e=>e.push(...i))),r=r.update("witnesses",(t=>t.push(...e.witnesses))),r},t.encodeToAddress=T,t.encodeToConfigAddress=function(e,t,r){const n=(null==r?void 0:r.config)||(0,u.getConfig)(),i=n.SCRIPTS[t];if(!i){const e=Object.keys(n.SCRIPTS);throw new Error(`Invalid script type: ${String(t)}, only support: ${e}`)}return T({codeHash:i.CODE_HASH,hashType:i.HASH_TYPE,args:e},{config:n})},t.generateAddress=x,t.generateSecp256k1Blake160Address=function(e,{config:t}={}){return k(e,"SECP256K1_BLAKE160",{config:t})},t.generateSecp256k1Blake160MultisigAddress=function(e,{config:t}={}){return k(e,"SECP256K1_BLAKE160_MULTISIG",{config:t})},t.locateCellDep=function(e,{config:t}={}){t=t||(0,u.getConfig)();const r=Object.values(t.SCRIPTS).find((t=>t&&t.CODE_HASH===e.codeHash&&t.HASH_TYPE===e.hashType));if(r)return{depType:r.DEP_TYPE,outPoint:{txHash:r.TX_HASH,index:r.INDEX}};return null},t.minimalCellCapacity=function(e,{validate:t=!0}={}){const r=w(e,{validate:t});return BigInt(r.toString())},t.minimalCellCapacityCompatible=w,t.minimalScriptCapacity=function(e,{validate:t=!0}={}){const r=_(e,{validate:t});return BigInt(r.toString())},t.minimalScriptCapacityCompatible=_,t.objectToTransactionSkeleton=function(e){let t=(0,a.Map)();for(const[r,n]of Object.entries(e.inputSinces))t=t.set(+r,n);return C({cellProvider:e.cellProvider,cellDeps:(0,a.List)(e.cellDeps),headerDeps:(0,a.List)(e.headerDeps),inputs:(0,a.List)(e.inputs),outputs:(0,a.List)(e.outputs),witnesses:(0,a.List)(e.witnesses),fixedEntries:(0,a.List)(e.fixedEntries),signingEntries:(0,a.List)(e.signingEntries),inputSinces:t})},t.parseAddress=I,Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return p.refreshTypeIdCellDeps}}),t.scriptToAddress=void 0,t.sealTransaction=function(e,t){const r=O(e);if(t.length!==e.get("signingEntries").size)throw new Error(`Requiring ${e.get("signingEntries").size} sealing contents but provided ${t.length}!`);return e.get("signingEntries").forEach(((e,n)=>{switch(e.type){case"witness_args_lock":{const i=r.witnesses[e.index],s=o.blockchain.WitnessArgs.unpack(g(i)),a={lock:t[n]},u=s.inputType;u&&(a.inputType=u);const c=s.outputType;c&&(a.outputType=c),r.witnesses[e.index]=b(o.blockchain.WitnessArgs.pack(a));break}default:throw new Error(`Invalid signing entry type: ${e.type}`)}})),r},t.transactionSkeletonToObject=function(e){return e.toJS()};var i=r(71313),o=r(41600),s=r(22343),a=r(49568),u=r(14105),c=r(92900),f=r(36340),l=r(88591),d=r(49805),h=r(13892),p=r(81149),y=r(91997);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));const{bytify:g,hexify:b}=i.bytes,m=1023;const v=1e8;function _(e,{validate:t=!0}={}){t&&d.validators.ValidateScript(e);let r=0;return r+=g(e.codeHash).length,r+=g(e.args).length,r+=1,c.BI.from(r).mul(v)}function w(e,{validate:t=!0}={}){t&&o.blockchain.CellOutput.pack(e.cellOutput);let r=8;return r+=g(e.cellOutput.lock.codeHash).length,r+=g(e.cellOutput.lock.args).length,r+=1,e.cellOutput.type&&(r+=g(e.cellOutput.type.codeHash).length,r+=g(e.cellOutput.type.args).length,r+=1),e.data&&(r+=g(e.data).length),c.BI.from(r).mul(v)}let S=!1;const E=2,A=4;function x(e,{config:t}={}){t=t||(0,u.getConfig)(),S||(console.warn("The address format generated by generateAddress or scriptToAddress will be deprecated, please migrate to encodeToAddress to generate the new ckb2021 full format address as soon as possible"),S=!0),d.validators.ValidateScript(e);const r=Object.values(t.SCRIPTS).find((t=>t&&t.CODE_HASH===e.codeHash&&t.HASH_TYPE===e.hashType)),n=[];if(r&&void 0!==r.SHORT_ID)n.push(1,r.SHORT_ID),n.push(...(0,l.hexToByteArray)(e.args));else{if("type"===e.hashType)n.push(A);else{if("data"!==e.hashType)throw new Error(`Invalid hashType ${e.hashType}`);n.push(E)}n.push(...(0,l.hexToByteArray)(e.codeHash)),n.push(...(0,l.hexToByteArray)(e.args))}const i=s.bech32.toWords(n);return s.bech32.encode(t.PREFIX,i,m)}t.scriptToAddress=x;function k(e,t,{config:r}={}){const n=(r=r||(0,u.getConfig)()).SCRIPTS[t];if(!n){const e=Object.keys(r.SCRIPTS);throw new Error(`Invalid script type: ${t}, only support: ${e}`)}return x({codeHash:n.CODE_HASH,hashType:n.HASH_TYPE,args:e},{config:r})}function I(e,{config:t}={}){t=t||(0,u.getConfig)();try{return(0,f.parseFullFormatAddress)(e,{config:t})}catch{return(0,f.parseDeprecatedCkb2019Address)(e,{config:t})}}t.addressToScript=I;function T(e,{config:t}={}){d.validators.ValidateScript(e),t=t||(0,u.getConfig)();const r=i.bytes.concat([0],e.codeHash,h.HashType.pack(e.hashType),e.args);return s.bech32m.encode(t.PREFIX,s.bech32m.toWords(r),m)}const C=t.TransactionSkeleton=(0,a.Record)({cellProvider:null,cellDeps:(0,a.List)(),headerDeps:(0,a.List)(),inputs:(0,a.List)(),outputs:(0,a.List)(),witnesses:(0,a.List)(),fixedEntries:(0,a.List)(),signingEntries:(0,a.List)(),inputSinces:(0,a.Map)()});function O(e,{validate:t=!0}={}){const r={version:"0x0",cellDeps:e.get("cellDeps").toArray(),headerDeps:e.get("headerDeps").toArray(),inputs:e.get("inputs").map(((t,r)=>{if(!t.outPoint)throw new Error(`cannot find OutPoint in Inputs[${r}] when createTransactionFromSkeleton`);return{since:e.get("inputSinces").get(r,"0x0"),previousOutput:t.outPoint}})).toArray(),outputs:e.get("outputs").map((e=>e.cellOutput)).toArray(),outputsData:e.get("outputs").map((e=>e.data||"0x0")).toArray(),witnesses:e.get("witnesses").toArray()};return t&&d.validators.ValidateTransaction(r),r}},53048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createModelHelper=function(e){return{create:t=>e.unpack(e.pack(t)),hash:t=>n.bytes.bytify((0,i.ckbHash)(e.pack(t))),equals:(t,r)=>n.bytes.equal(e.pack(t),e.pack(r)),clone:o}},t.defaultDeepClone=o;var n=r(71313),i=r(54617);function o(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t||"bigint"===t||null==e)return e;if(Array.isArray(e))return e.map(o);if("object"===t)return Object.entries(e).reduce(((e,[t,r])=>Object.assign(e,{[t]:o(r)})),{});throw new Error("Cannot clone the value: "+String(e))}},61311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.outPointHelper=void 0;var n=r(41600),i=r(53048);t.outPointHelper=(0,i.createModelHelper)(n.blockchain.OutPoint)},39505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellHelper=void 0;var n=r(53048),i=r(41600),o=r(82206),s=r(92900),a=r(71313),u=r(72042),c=r(61311),f=r(28670);const l=(0,u.table)({cellOutput:i.blockchain.CellOutput,data:i.blockchain.Bytes,outPoint:(0,u.option)(i.blockchain.OutPoint)},["cellOutput","data","outPoint"]);t.cellHelper=(0,n.createModelHelper)({pack:e=>{const t=(r=e)&&"object"==typeof r&&"lock"in r?{cellOutput:{capacity:s.BI.from(e.capacity||"0x0").toHexString(),lock:o.scriptHelper.create(e.lock),type:e.type&&o.scriptHelper.create(e.type)},outPoint:e.outPoint&&c.outPointHelper.create(e.outPoint),data:a.bytes.hexify(e.data||"0x")}:e;var r;return s.BI.from(t.cellOutput.capacity).eq(0)&&(t.cellOutput.capacity=(0,f.minimalCellCapacityCompatible)(t).toHexString()),l.pack(t)},unpack:e=>l.unpack(e)})},91997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return i.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return n.createModelHelper}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return s.outPointHelper}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return o.scriptHelper}});var n=r(53048),i=r(39505),o=r(82206),s=r(61311)},82206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scriptHelper=void 0;var n=r(41600),i=r(14105),o=r(28670),s=r(53048);t.scriptHelper=(0,s.createModelHelper)({pack:e=>n.blockchain.Script.pack("string"==typeof e?function(e){if(e.startsWith("ckb"))return(0,o.parseAddress)(e,{config:i.predefined.LINA});if(e.startsWith("ckt"))return(0,o.parseAddress)(e,{config:i.predefined.AGGRON4});throw new Error(`The address prefix ${e} is unknown`)}(e):e),unpack:e=>n.blockchain.Script.unpack(e)})},81149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refreshTypeIdCellDeps=async function(e,{resolve:t}){const r=e.cellDeps.map((({outPoint:e})=>e)).toArray(),n=await t(r);return e.update("cellDeps",(e=>e.map(((e,t)=>({...e,outPoint:n[t]})))))}},88591:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToByteArray=function(e){if(!/^(0x)?([0-9a-fA-F][0-9a-fA-F])*$/.test(e))throw new Error("Invalid hex string!");e.startsWith("0x")&&(e=e.slice(2));const t=[];for(;e.length>=2;)t.push(parseInt(e.slice(0,2),16)),e=e.slice(2);return t}},98465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LightClientRPC",{enumerable:!0,get:function(){return n.LightClientRPC}});var n=r(63818)},73596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toLightClientScript=t.toFetchTransactionResult=t.toFetchHeaderResult=void 0;var n=r(66501),i=r(24980);t.toFetchHeaderResult=e=>e&&e.status===n.FetchFlag.Fetched?{status:e.status,data:i.ResultFormatter.toHeader(e.data)}:e;t.toFetchTransactionResult=e=>e&&e.status===n.FetchFlag.Fetched?{status:e.status,data:i.ResultFormatter.toTransactionWithStatus(e.data)}:e;t.toLightClientScript=e=>e?{script:i.ResultFormatter.toScript(e.script),blockNumber:e.block_number,scriptType:e.script_type}:e},63818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LightClientRPC=void 0;var n,i=r(24980),o=r(73596),s=(n=r(74945))&&n.__esModule?n:{default:n};t.LightClientRPC=class{constructor(e){this.uri=e}async getTipHeader(){return i.ResultFormatter.toHeader(await a(this.uri,"get_tip_header"))}async getPeers(){return i.ResultFormatter.toPeers(await a(this.uri,"get_peers"))}async localNodeInfo(){return i.ResultFormatter.toLocalNodeInfo(await a(this.uri,"local_node_info"))}async fetchHeader(e){const t=[e];return(0,o.toFetchHeaderResult)(await a(this.uri,"fetch_header",t))}async getHeader(e){const t=[e];return i.ResultFormatter.toHeader(await a(this.uri,"get_header",t))}async fetchTransaction(e){const t=[e];return(0,o.toFetchTransactionResult)(await a(this.uri,"fetch_transaction",t))}async getTransaction(e){const t=[e];return i.ResultFormatter.toTransactionWithStatus(await a(this.uri,"get_transaction",t))}async sendTransaction(e){const t=[i.ParamsFormatter.toRawTransaction(e)];return i.ResultFormatter.toHash(await a(this.uri,"send_transaction",t))}async getScripts(){return(await a(this.uri,"get_scripts")).map(o.toLightClientScript)}async setScripts(e,t){const r=[e.map((({script:e,scriptType:t,blockNumber:r})=>({script:i.ParamsFormatter.toScript(e),script_type:t,block_number:r}))),t];await a(this.uri,"set_scripts",r)}async getCells(e,t,r,n){const o=[i.ParamsFormatter.toGetCellsSearchKey(e),t,r,n];return i.ResultFormatter.toGetCellsResult(await a(this.uri,"get_cells",o))}async getCellsCapacity(e){const t=[i.ParamsFormatter.toSearchKey(e)];return i.ResultFormatter.toCellsCapacity(await a(this.uri,"get_cells_capacity",t))}async getGenesisBlock(){return i.ResultFormatter.toBlock(await a(this.uri,"get_genesis_block"))}async getTransactions(e,t,r,n){const o=[i.ParamsFormatter.toGetTransactionsSearchKey(e),t,r,n];return i.ResultFormatter.toGetTransactionsResult(await a(this.uri,"get_transactions",o))}};const a=async(e,t,r)=>{const n=await(0,s.default)(e,{method:"POST",body:JSON.stringify({id:0,jsonrpc:"2.0",method:t,params:r}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(`indexer request failed with HTTP code ${n.status}`);const i=await n.json();if(void 0!==i.error)throw new Error(`indexer request rpc failed with error: ${JSON.stringify(i.error)}`);return i.result}},66501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LightClientRPC=t.FetchFlag=void 0;t.FetchFlag=function(e){return e.Fetched="fetched",e.Fetching="fetching",e.Added="added",e.NotFound="not_found",e}({}),t.LightClientRPC=void 0},92144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"setupOutputCell",{enumerable:!0,get:function(){return n.setupOutputCell}}),Object.defineProperty(t,"withdraw",{enumerable:!0,get:function(){return n.withdraw}});var n=r(83127)},10219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(t,"payFeeByFeeRate",{enumerable:!0,get:function(){return n.payFeeByFeeRate}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"registerCustomLockScriptInfos",{enumerable:!0,get:function(){return n.registerCustomLockScriptInfos}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}});var n=r(10640)},79712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"calculateDaoEarliestSince",{enumerable:!0,get:function(){return n.calculateDaoEarliestSince}}),Object.defineProperty(t,"calculateDaoEarliestSinceCompatible",{enumerable:!0,get:function(){return n.calculateDaoEarliestSinceCompatible}}),Object.defineProperty(t,"calculateMaximumWithdraw",{enumerable:!0,get:function(){return n.calculateMaximumWithdraw}}),Object.defineProperty(t,"calculateMaximumWithdrawCompatible",{enumerable:!0,get:function(){return n.calculateMaximumWithdrawCompatible}}),Object.defineProperty(t,"deposit",{enumerable:!0,get:function(){return n.deposit}}),Object.defineProperty(t,"extractDaoDataCompatible",{enumerable:!0,get:function(){return n.extractDaoDataCompatible}}),Object.defineProperty(t,"listDaoCells",{enumerable:!0,get:function(){return n.listDaoCells}}),Object.defineProperty(t,"unlock",{enumerable:!0,get:function(){return n.unlock}});var n=r(91461)},87144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omnilock=t.dao=t.common=t.anyoneCanPay=void 0,Object.defineProperty(t,"parseFromInfo",{enumerable:!0,get:function(){return f.parseFromInfo}}),t.secp256k1Blake160Multisig=t.secp256k1Blake160=void 0,Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return f.serializeMultisigScript}}),t.sudt=void 0;var n=d(r(10219));t.common=n;var i=d(r(79712));t.dao=i;var o=d(r(56022));t.sudt=o;var s=d(r(39787));t.secp256k1Blake160=s;var a=d(r(52850));t.secp256k1Blake160Multisig=a;var u=d(r(92144));t.anyoneCanPay=u;var c=d(r(45408));t.omnilock=c;var f=r(45524);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}},45408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"OmnilockWitnessLock",{enumerable:!0,get:function(){return n.OmnilockWitnessLock}}),Object.defineProperty(t,"bitcoin",{enumerable:!0,get:function(){return n.bitcoin}}),Object.defineProperty(t,"createOmnilockScript",{enumerable:!0,get:function(){return n.createOmnilockScript}}),Object.defineProperty(t,"ethereumDisplaying",{enumerable:!0,get:function(){return n.ethereumDisplaying}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"solana",{enumerable:!0,get:function(){return n.solana}});var n=r(60699)},52850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"serializeMultisigScript",{enumerable:!0,get:function(){return n.serializeMultisigScript}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}}),Object.defineProperty(t,"transferCompatible",{enumerable:!0,get:function(){return n.transferCompatible}});var n=r(94467)},39787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return n.CellCollector}}),Object.defineProperty(t,"injectCapacity",{enumerable:!0,get:function(){return n.injectCapacity}}),Object.defineProperty(t,"payFee",{enumerable:!0,get:function(){return n.payFee}}),Object.defineProperty(t,"prepareSigningEntries",{enumerable:!0,get:function(){return n.prepareSigningEntries}}),Object.defineProperty(t,"setupInputCell",{enumerable:!0,get:function(){return n.setupInputCell}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}}),Object.defineProperty(t,"transferCompatible",{enumerable:!0,get:function(){return n.transferCompatible}});var n=r(1874)},56022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"issueToken",{enumerable:!0,get:function(){return n.issueToken}}),Object.defineProperty(t,"transfer",{enumerable:!0,get:function(){return n.transfer}});var n=r(6437)},33701:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TESTNET=t.MAINNET=void 0,Object.defineProperty(t,"createConfig",{enumerable:!0,get:function(){return i.createConfig}}),Object.defineProperty(t,"createLatestTypeIdResolver",{enumerable:!0,get:function(){return i.createLatestTypeIdResolver}}),Object.defineProperty(t,"createRpcResolver",{enumerable:!0,get:function(){return i.createRpcResolver}}),Object.defineProperty(t,"findConfigByScript",{enumerable:!0,get:function(){return i.findConfigByScript}}),Object.defineProperty(t,"generateGenesisScriptConfigs",{enumerable:!0,get:function(){return i.generateGenesisScriptConfigs}}),Object.defineProperty(t,"getConfig",{enumerable:!0,get:function(){return i.getConfig}}),Object.defineProperty(t,"helpers",{enumerable:!0,get:function(){return i.helpers}}),Object.defineProperty(t,"initializeConfig",{enumerable:!0,get:function(){return i.initializeConfig}}),Object.defineProperty(t,"nameOfScript",{enumerable:!0,get:function(){return i.nameOfScript}}),Object.defineProperty(t,"predefined",{enumerable:!0,get:function(){return i.predefined}}),Object.defineProperty(t,"refreshScriptConfigs",{enumerable:!0,get:function(){return i.refreshScriptConfigs}}),Object.defineProperty(t,"validateConfig",{enumerable:!0,get:function(){return i.validateConfig}});var n=r(88195),i=r(14105);t.TESTNET=n.predefined.AGGRON4,t.MAINNET=n.predefined.LINA},24862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TransactionSkeleton",{enumerable:!0,get:function(){return n.TransactionSkeleton}}),Object.defineProperty(t,"addCellDep",{enumerable:!0,get:function(){return i.addCellDep}}),Object.defineProperty(t,"addressToScript",{enumerable:!0,get:function(){return n.addressToScript}}),Object.defineProperty(t,"cellHelper",{enumerable:!0,get:function(){return o.cellHelper}}),Object.defineProperty(t,"createModelHelper",{enumerable:!0,get:function(){return o.createModelHelper}}),Object.defineProperty(t,"createTransactionFromSkeleton",{enumerable:!0,get:function(){return n.createTransactionFromSkeleton}}),Object.defineProperty(t,"createTransactionSkeleton",{enumerable:!0,get:function(){return n.createTransactionSkeleton}}),Object.defineProperty(t,"encodeToAddress",{enumerable:!0,get:function(){return n.encodeToAddress}}),Object.defineProperty(t,"encodeToConfigAddress",{enumerable:!0,get:function(){return n.encodeToConfigAddress}}),Object.defineProperty(t,"minimalCellCapacity",{enumerable:!0,get:function(){return n.minimalCellCapacity}}),Object.defineProperty(t,"minimalCellCapacityCompatible",{enumerable:!0,get:function(){return n.minimalCellCapacityCompatible}}),Object.defineProperty(t,"minimalScriptCapacity",{enumerable:!0,get:function(){return n.minimalScriptCapacity}}),Object.defineProperty(t,"minimalScriptCapacityCompatible",{enumerable:!0,get:function(){return n.minimalScriptCapacityCompatible}}),Object.defineProperty(t,"objectToTransactionSkeleton",{enumerable:!0,get:function(){return n.objectToTransactionSkeleton}}),Object.defineProperty(t,"outPointHelper",{enumerable:!0,get:function(){return o.outPointHelper}}),Object.defineProperty(t,"parseAddress",{enumerable:!0,get:function(){return n.parseAddress}}),Object.defineProperty(t,"refreshTypeIdCellDeps",{enumerable:!0,get:function(){return n.refreshTypeIdCellDeps}}),Object.defineProperty(t,"scriptHelper",{enumerable:!0,get:function(){return o.scriptHelper}}),Object.defineProperty(t,"sealTransaction",{enumerable:!0,get:function(){return n.sealTransaction}}),Object.defineProperty(t,"transactionSkeletonToObject",{enumerable:!0,get:function(){return n.transactionSkeletonToObject}});var n=r(28670),i=r(33089),o=r(91997)},3599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return l.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return l.BIish}}),Object.defineProperty(t,"CellCollector",{enumerable:!0,get:function(){return u.CellCollector}}),Object.defineProperty(t,"Indexer",{enumerable:!0,get:function(){return u.Indexer}}),Object.defineProperty(t,"LightClientRPC",{enumerable:!0,get:function(){return d.LightClientRPC}}),Object.defineProperty(t,"RPC",{enumerable:!0,get:function(){return s.RPC}}),t.helpers=t.hd=t.config=t.commons=void 0,Object.defineProperty(t,"since",{enumerable:!0,get:function(){return n.since}}),t.utils=void 0;var n=r(41600),i=p(r(3018));t.utils=i;var o=p(r(33701));t.config=o;var s=r(24980),a=p(r(38605));t.hd=a;var u=r(44837),c=p(r(24862));t.helpers=c;var f=p(r(35945));t.commons=f;var l=r(92900),d=r(98465);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}},3018:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CKBHasher",{enumerable:!0,get:function(){return n.CKBHasher}}),Object.defineProperty(t,"assertHexString",{enumerable:!0,get:function(){return n.assertHexString}}),Object.defineProperty(t,"assertHexadecimal",{enumerable:!0,get:function(){return n.assertHexadecimal}}),Object.defineProperty(t,"ckbHash",{enumerable:!0,get:function(){return n.ckbHash}}),Object.defineProperty(t,"computeScriptHash",{enumerable:!0,get:function(){return n.computeScriptHash}}),Object.defineProperty(t,"formatUnit",{enumerable:!0,get:function(){return i.formatUnit}}),Object.defineProperty(t,"generateTypeIdScript",{enumerable:!0,get:function(){return n.generateTypeIdScript}}),Object.defineProperty(t,"parseUnit",{enumerable:!0,get:function(){return i.parseUnit}});var n=r(54617),i=r(92900)},30469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:i.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:i.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:i.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[n.formatter.toNumber]},getBlock:{method:"get_block",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toBlock},getHeader:{method:"get_header",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[n.formatter.toNumber],resultFormatters:i.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[n.formatter.toOutPoint],resultFormatters:i.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[n.formatter.toArray(n.formatter.toHash),n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[n.formatter.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:i.toConsensus}}},80720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184);t.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[n.formatter.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[n.formatter.toOutPoint,n.formatter.toHash]}}},15172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rpcProperties=t.Base=void 0;var n=c(r(30469)),i=c(r(80720)),o=c(r(85387)),s=c(r(79916)),a=c(r(31751)),u=c(r(95131));function c(e){return e&&e.__esModule?e:{default:e}}const f=t.rpcProperties={...n.default,...i.default,...u.default,...o.default,...s.default,...a.default};t.Base=class{#e=f;get rpcProperties(){return this.#e}}},95131:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}const s={getIndexerTip:{method:"get_indexer_tip",paramsFormatters:[],resultFormatters:i.toTip},getCells:{method:"get_cells",paramsFormatters:[n.formatter.toGetCellsSearchKey,n.formatter.toOrder,n.formatter.toNumber,n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toGetCellsResult},getTransactions:{method:"get_transactions",paramsFormatters:[n.formatter.toGetTransactionsSearchKey,n.formatter.toOrder,n.formatter.toNumber,n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toGetTransactionsResult},getCellsCapacity:{method:"get_cells_capacity",paramsFormatters:[n.formatter.toSearchKey],resultFormatters:i.toCellsCapacity},getBlockFilter:{method:"get_block_filter",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toNullable(i.toBlockFilter)},getTransactionAndWitnessProof:{method:"get_transaction_and_witness_proof",paramsFormatters:[n.formatter.toArray(n.formatter.toHash),n.formatter.toOptional(n.formatter.toHash)],resultFormatters:i.toTransactionAndWitnessProof},verifyTransactionAndWitnessProof:{method:"verify_transaction_and_witness_proof",paramsFormatters:[n.formatter.toTransactionAndWitnessProof],resultFormatters:i.toArray(i.toHash)},getForkBlock:{method:"get_fork_block",paramsFormatters:[n.formatter.toHash,n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toForkBlockResult)},getBlockMedianTime:{method:"get_block_median_time",paramsFormatters:[n.formatter.toHash],resultFormatters:i.toNullable(i.toNumber)},estimateCycles:{method:"estimate_cycles",paramsFormatters:[n.formatter.toRawTransaction],resultFormatters:i.toEstimateCycles},getFeeRateStatistics:{method:"get_fee_rate_statistics",paramsFormatters:[n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toFeeRateStatistics)},getFeeRateStatics:{method:"get_fee_rate_statics",paramsFormatters:[n.formatter.toOptional(n.formatter.toNumber)],resultFormatters:i.toNullable(i.toFeeRateStatistics)}};t.default=s},85387:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:i.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:i.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:i.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:i.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[n.formatter.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}}},79916:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(41184),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(27753));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.default={sendTransaction:{method:"send_transaction",paramsFormatters:[n.formatter.toRawTransaction,n.formatter.toOutputsValidator],resultFormatters:i.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:i.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:i.toRawTxPool}}},31751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(27753));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}t.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:n.toBlockchainInfo},getDeploymentsInfo:{method:"get_deployments_info",paramsFormatters:[],resultFormatters:n.toDeploymentsInfo}}},24228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ErrorCode=void 0;let r=t.ErrorCode=function(e){return e[e.ParameterInvalid=101]="ParameterInvalid",e[e.IdNotMatch=201]="IdNotMatch",e[e.MethodNotFound=202]="MethodNotFound",e[e.PayloadMessage=203]="PayloadMessage",e[e.ResponseMessage=204]="ResponseMessage",e}({});t.default=r},39915:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PayloadInBatchException=t.MethodInBatchNotFoundException=t.IdNotMatchedInBatchException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n},o=r(49580);const s="Batch Request";class a extends Error{code=i.default.MethodNotFound;constructor(e){super(`[${s}]: Method ${e} is not found`)}}t.MethodInBatchNotFoundException=a;class u extends Error{code=i.default.PayloadMessage;constructor(e,t){super(`[${s} ${e}]: ${t}`),this.index=e}}t.PayloadInBatchException=u;class c extends o.IdNotMatchException{constructor(e,t,r){super(t,r),this.message=`[${s} ${e}]: ${this.message}`,this.index=e}}t.IdNotMatchedInBatchException=c;t.default={MethodInBatchNotFoundException:a,PayloadInBatchException:u,IdNotMatchedInBatchException:c}},91173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StringHashTypeException=t.PageSizeTooSmallException=t.PageSizeTooLargeException=t.OutputsValidatorTypeException=t.HexStringWithout0xException=t.BigintOrHexStringTypeException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n};class o extends RangeError{code=i.default.ParameterInvalid;constructor(e,t){super(`Expect page size to be at most ${t}, but ${e} received`)}}t.PageSizeTooLargeException=o;class s extends RangeError{code=i.default.ParameterInvalid;constructor(e,t){super(`Expect page size to be at least ${t}, but ${e} received`)}}t.PageSizeTooSmallException=s;class a extends TypeError{code=i.default.ParameterInvalid;constructor(){super("Expect outputs validator to be 'default' or 'passthrough'")}}t.OutputsValidatorTypeException=a;class u extends TypeError{code=i.default.ParameterInvalid;constructor(e){super(`Expect number to be bigint or hex string, but ${e} received`)}}t.BigintOrHexStringTypeException=u;class c extends TypeError{code=i.default.ParameterInvalid;constructor(e){super(`Expect hash to be string, but ${e} received`)}}t.StringHashTypeException=c;class f extends Error{code=i.default.ParameterInvalid;constructor(e){super(`Hex string ${e} should start with 0x`)}}t.HexStringWithout0xException=f;t.default={PageSizeTooLargeException:o,PageSizeTooSmallException:s,OutputsValidatorTypeException:a,BigintOrHexStringTypeException:u,StringHashTypeException:c,HexStringWithout0xException:f}},29383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(91173);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var i=r(49580);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(39915);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},49580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ResponseException=t.IdNotMatchException=void 0;var n,i=(n=r(24228))&&n.__esModule?n:{default:n};class o extends Error{code=i.default.IdNotMatch;constructor(e,t){super(`Expect json rpc id to be ${e}, but ${t} received`)}}t.IdNotMatchException=o;class s extends Error{code=i.default.ResponseMessage}t.ResponseException=s;t.default={IdNotMatchException:o,ResponseException:s}},24980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultFormatter=t.RPC=t.ParamsFormatter=t.DEFAULT_RPC_TIMEOUT=t.CKBRPC=void 0;var n=r(15172),i=r(7395),o=r(41184),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(27753)),a=r(29383),u=f(r(74945)),c=f(r(25568));function f(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}t.ParamsFormatter=o.formatter,t.ResultFormatter=s;const d=t.DEFAULT_RPC_TIMEOUT=3e4;class h extends n.Base{#t;#r={url:""};get node(){return this.#r}#n=o.formatter;get paramsFormatter(){return this.#n}#i=s;get resultFormatter(){return this.#i}constructor(e,t={}){super(),this.setNode({url:e});const{timeout:r=d,fetch:n=u.default}=t;this.#t={timeout:r,fetch:n},Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach((e=>{this.addMethod({name:e,...this.rpcProperties[e]},this.#t)}))}setNode(e){return Object.assign(this.node,e),this.node}addMethod=(e,t)=>{const r=new i.Method(this.node,e,t);Object.defineProperty(this,e.name,{value:r.call,enumerable:!0})};createBatchRequest=(e=[])=>{const t=this,r=new Proxy([],{set(...e){const r=Object.keys(t);if("length"!==e[1]){var n;const t=null==e||null===(n=e[2])||void 0===n?void 0:n[0];if(-1===r.indexOf(t))throw new a.MethodInBatchNotFoundException(t)}return Reflect.set(...e)}});return Object.defineProperties(r,{add:{value(...e){return this.push(e),this}},remove:{value(e){return this.splice(e,1),this}},exec:{async value(){const e=r.map((([e,...r],n)=>{try{return new i.Method(t.node,{...t.rpcProperties[e],name:e}).getPayload(...r)}catch(e){throw new a.PayloadInBatchException(n,e.message)}})),n=new c.default,o=n.signal,s=setTimeout((()=>n.abort()),t.#t.timeout),u=await t.#t.fetch(t.#r.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e),signal:o}).then((e=>e.json()));return clearTimeout(s),u.map(((n,i)=>{var o,s,u;return n.id!==e[i].id?new a.IdNotMatchedInBatchException(i,e[i].id,n.id):null!==(o=null===(s=(u=t.rpcProperties[r[i][0]]).resultFormatters)||void 0===s?void 0:s.call(u,n.result))&&void 0!==o?o:n.result}))}}}),e.forEach((e=>r.push(e))),r}}t.RPC=t.CKBRPC=h},7395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Method=void 0;var n=r(29383),i=r(24980),o=a(r(25568)),s=a(r(74945));function a(e){return e&&e.__esModule?e:{default:e}}t.Method=class{#o;#t;get name(){return this.#o}#s={name:"",method:"",paramsFormatters:[],resultFormatters:void 0};#r;constructor(e,t,r={}){this.#r=e,this.#s=t,this.#o=t.name;const{timeout:n=i.DEFAULT_RPC_TIMEOUT,fetch:o=s.default}=r;this.#t={timeout:n,fetch:o},Object.defineProperty(this.call,"name",{value:t.name,configurable:!1,writable:!1})}call=async(...e)=>{const t=this.getPayload(...e),r=new o.default,i=r.signal,s=setTimeout((()=>r.abort()),this.#t.timeout),a=await this.#t.fetch(this.#r.url,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t),signal:i}).then((e=>e.json())).then((e=>{var r,i,o;if(e.id!==t.id)throw new n.IdNotMatchException(t.id,e.id);if(e.error)throw new n.ResponseException(JSON.stringify(e.error));return null!==(r=null===(i=(o=this.#s).resultFormatters)||void 0===i?void 0:i.call(o,e.result))&&void 0!==r?r:e.result}));return clearTimeout(s),a};getPayload=(...e)=>{const t=e.map(((e,t)=>this.#s.paramsFormatters[t]&&this.#s.paramsFormatters[t](e)||e));return{id:Math.round(1e4*Math.random()),method:this.#s.method,params:t,jsonrpc:"2.0"}}}},41184:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatter=void 0;var n=r(29383),i=r(92900);const o=t.formatter={toOptional:e=>t=>e&&null!=t?e(t):t,toArray:e=>t=>"function"==typeof e&&Array.isArray(t)?t.map(e):t,toHash:e=>{if("string"!=typeof e)throw new n.StringHashTypeException(e);return e.startsWith("0x")?e:`0x${e}`},toNumber:e=>{if("bigint"==typeof e)return`0x${e.toString(16)}`;if("string"!=typeof e)throw new n.BigintOrHexStringTypeException(e);if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return e},toScript:e=>{const{codeHash:t,hashType:r,...n}=e;return{code_hash:o.toHash(t),hash_type:r,...n}},toOutPoint:e=>{const{txHash:t,index:r,...n}=e;return{tx_hash:o.toHash(t),index:o.toNumber(r),...n}},toInput:e=>{if(!e)return e;const{previousOutput:t,since:r,...n}=e;return{previous_output:o.toOutPoint(t),since:o.toNumber(r),...n}},toOutput:e=>{if(!e)return e;const{capacity:t,lock:r,type:n,...i}=e;return{capacity:o.toNumber(t),lock:o.toScript(r),type:n?o.toScript(n):n,...i}},toDepType:e=>"depGroup"===e?"dep_group":e,toOrder:e=>e,toCellDep:e=>{if(!e)return e;const{outPoint:t,depType:r="code",...n}=e;return{out_point:o.toOutPoint(t),dep_type:o.toDepType(r),...n}},toRawTransaction:e=>{if(!e)return e;const{version:t,cellDeps:r=[],inputs:n=[],outputs:i=[],outputsData:s=[],headerDeps:a=[],...u}=e,c=n.map((e=>o.toInput(e))),f=i.map((e=>o.toOutput(e))),l=r.map((e=>o.toCellDep(e)));return{version:o.toNumber(t),cell_deps:l,inputs:c,outputs:f,outputs_data:s,header_deps:a,...u}},toPageNumber:(e="0x1")=>o.toNumber(e),toPageSize:(e="0x32")=>{const t=i.BI.from(e);if(i.BI.from(t).gt(50))throw new n.PageSizeTooLargeException(e,50);if(i.BI.from(t).lt(0))throw new n.PageSizeTooSmallException(e,0);return o.toNumber(`0x${t.toString(16)}`)},toReverseOrder:(e=!1)=>!!e,toOutputsValidator:e=>{if(!e)return;if(["default","passthrough"].indexOf(e)>-1)return e;throw new n.OutputsValidatorTypeException},toBoolean:e=>!!e,toTransactionProof:e=>{if(!e)return e;const{blockHash:t,witnessesRoot:r,...n}=e;return{block_hash:t,witnesses_root:r,...n}},toTransactionAndWitnessProof:e=>({block_hash:e.blockHash,witnesses_proof:e.witnessesProof,transactions_proof:e.transactionsProof}),toSearchFilter:e=>e?{script:e.script?o.toScript(e.script):e.script,output_data_len_range:e.outputDataLenRange,output_capacity_range:e.outputCapacityRange,block_range:e.blockRange,script_len_range:e.scriptLenRange}:e,toSearchKey:e=>e?{script:o.toScript(e.script),script_type:e.scriptType,filter:e.filter?o.toSearchFilter(e.filter):e.filter,script_search_mode:e.scriptSearchMode?e.scriptSearchMode:"prefix"}:e,toGetCellsSearchKey:e=>e?{...o.toSearchKey(e),with_data:e.withData}:e,toGetTransactionsSearchKey:e=>e?{...o.toSearchKey(e),group_by_transaction:e.groupByTransaction}:e}},27753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toBannedAddresses=t.toBannedAddress=t.toArray=t.toAlertMessage=void 0,t.toBlock=function e(t){if(!t)return t;if("string"==typeof t)return t;if("block"in t&&"cycles"in t)return{cycles:t.cycles,block:e(t.block)};const{header:n,uncles:i=[],transactions:o=[],...s}=t;return{header:r(n),uncles:i.map(f),transactions:o.map(c),...s}},t.toHash=t.toGetTransactionsResult=t.toGetCellsResult=t.toForkBlockResult=t.toFeeRateStatistics=t.toFeeRate=t.toEstimateCycles=t.toEpoch=t.toDeploymentsInfo=t.toDeploymentInfo=t.toDeployment=t.toDeployState=t.toDepType=t.toConsensus=t.toCellsIncludingOutPoint=t.toCellsCapacity=t.toCells=t.toCellbaseOutputCapacityDetails=t.toCellIncludingOutPoint=t.toCellDep=t.toCell=t.toCapacityByLockHash=t.toBlockchainInfo=t.toBlockFilter=t.toBlockEconomicState=void 0,t.toHeader=r,t.toTip=t.toSyncState=t.toScript=t.toRemoteNodeInfo=t.toRawTxPool=t.toPeers=t.toOutput=t.toOutPoint=t.toNumber=t.toNullable=t.toLockHashIndexStates=t.toLockHashIndexState=t.toLocalNodeInfo=t.toLiveCellsByLockHash=t.toLiveCellWithStatus=t.toLiveCell=t.toInput=void 0,t.toTransaction=c,t.toUncleBlock=t.toTxPoolInfo=t.toTransactionsByLockHash=t.toTransactionWithStatus=t.toTransactionProof=t.toTransactionPoint=t.toTransactionAndWitnessProof=void 0;t.toArray=e=>t=>"function"==typeof e&&Array.isArray(t)?t.map(e):t;t.toNullable=e=>t=>e&&null!==t?e(t):t;t.toNumber=e=>e.toString();function r(e){if("string"==typeof e)return e;if(!e)return e;const{compact_target:t,transactions_root:r,proposals_hash:n,extra_hash:i,parent_hash:o,...s}=e;return{compactTarget:t,parentHash:o,transactionsRoot:r,proposalsHash:n,extraHash:i,...s}}t.toHash=e=>e;const n=e=>{if(!e)return e;const{code_hash:t,hash_type:r,...n}=e;return{codeHash:t,hashType:r,...n}};t.toScript=n;const i=e=>{if(!e)return e;const{previous_output:t,...r}=e;return{previousOutput:t?s(t):t,...r}};t.toInput=i;const o=e=>{if(!e)return e;const{lock:t,type:r,...i}=e;return{lock:n(t),type:r?n(r):r,...i}};t.toOutput=o;const s=e=>{const{tx_hash:t,...r}=e;return{txHash:t,...r}};t.toOutPoint=s;const a=e=>"dep_group"===e?"depGroup":e;t.toDepType=a;const u=e=>{if(!e)return e;const{out_point:t,dep_type:r="code",...n}=e;return{outPoint:s(t),depType:a(r),...n}};function c(e){if(!e||"object"!=typeof e)return e;const{cell_deps:t=[],inputs:r=[],outputs:n=[],outputs_data:s=[],header_deps:a=[],...c}=e;return{cellDeps:t.map(u),inputs:r.map(i),outputs:n.map(o),outputsData:s,headerDeps:a,...c}}t.toCellDep=u;const f=e=>{if(!e)return e;const{header:t,...n}=e;return{header:r(t),...n}};t.toUncleBlock=f;t.toTip=e=>({blockHash:e.block_hash,blockNumber:e.block_number});const l=e=>{if(!e)return e;const{notice_until:t,...r}=e;return{noticeUntil:t,...r}};t.toAlertMessage=l;t.toBlockchainInfo=e=>{if(!e)return e;const{is_initial_block_download:t,median_time:r,alerts:n,...i}=e;return{isInitialBlockDownload:t,medianTime:r,alerts:n.map(l),...i}};t.toLocalNodeInfo=e=>{if(!e)return e;const{node_id:t,protocols:r,...n}=e;return{nodeId:t,protocols:r.map((({id:e,name:t,support_versions:r})=>({id:e,name:t,supportVersions:r}))),...n}};const d=e=>{if(!e)return e;const{node_id:t,connected_duration:r,is_outbound:n,last_ping_duration:i,sync_state:o,...s}=e;return{nodeId:t,connectedDuration:r,isOutbound:n,lastPingDuration:i,syncState:{bestKnownHeaderHash:o.best_known_header_hash,bestKnownHeaderNumber:o.best_known_header_number,canFetchCount:o.can_fetch_count,inflightCount:o.inflight_count,lastCommonHeaderHash:o.last_common_header_hash,lastCommonHeaderNumber:o.last_common_header_number,unknownHeaderListSize:o.unknown_header_list_size},...s}};t.toRemoteNodeInfo=d;t.toTxPoolInfo=e=>{if(!e)return e;const{last_txs_updated_at:t,tip_hash:r,tip_number:n,total_tx_cycles:i,total_tx_size:o,min_fee_rate:s,min_rbf_rate:a,tx_size_limit:u,max_tx_pool_size:c,...f}=e;return{lastTxsUpdatedAt:t,tipHash:r,tipNumber:n,totalTxCycles:i,totalTxSize:o,minFeeRate:s,minRbfRate:a,txSizeLimit:u,maxTxPoolSize:c,...f}};t.toPeers=e=>Array.isArray(e)?e.map(d):[];const h=e=>{if(!e)return e;const{lock:t,type:r,...i}=e;return{lock:n(t),type:r?n(r):void 0,...i}};t.toCell=h;const p=e=>{if(!e)return e;const{data:t,output:r,...n}=e;return{data:t,output:o(r),...n}};t.toLiveCell=p;t.toLiveCellWithStatus=e=>{if(!e)return e;const{cell:t,...r}=e;return{cell:p(t),...r}};t.toCells=e=>Array.isArray(e)?e.map(h):[];const y=e=>{if(!e)return e;const{lock:t,block_hash:r,out_point:i,output_data_len:o,...a}=e;return{blockHash:r,lock:n(t),outPoint:s(i),outputDataLen:o,...a}};t.toCellIncludingOutPoint=y;t.toCellsIncludingOutPoint=e=>Array.isArray(e)?e.map(y):[];t.toTransactionWithStatus=e=>{if(!e)return e;const{transaction:t,tx_status:{block_hash:r,status:n},time_added_to_pool:i,min_replace_fee:o,fee:s,...a}=e;return{transaction:c(t),txStatus:{blockHash:r,status:n,..."reason"in e.tx_status?{reason:e.tx_status.reason}:{}},timeAddedToPool:i,minReplaceFee:o,fee:s,...a}};t.toEpoch=e=>{if(!e)return e;const{start_number:t,compact_target:r,...n}=e;return{compactTarget:r,startNumber:t,...n}};const g=e=>{if(!e)return e;const{block_number:t,tx_hash:r,...n}=e;return{blockNumber:t,txHash:r,...n}};t.toTransactionPoint=g;t.toTransactionsByLockHash=e=>e?e.map((e=>({consumedBy:e.consumed_by?g(e.consumed_by):e.consumed_by,createdBy:g(e.created_by)}))):e;t.toLiveCellsByLockHash=e=>e?e.map((e=>({cellOutput:h(e.cell_output),createdBy:g(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}))):e;const b=e=>{if(!e)return e;const{block_hash:t,block_number:r,lock_hash:n,...i}=e;return{blockHash:t,blockNumber:r,lockHash:n,...i}};t.toLockHashIndexState=b;t.toLockHashIndexStates=e=>e?e.map(b):e;const m=e=>{if(!e)return e;const{ban_reason:t,ban_until:r,created_at:n,...i}=e;return{banReason:t,banUntil:r,createdAt:n,...i}};t.toBannedAddress=m;t.toBannedAddresses=e=>e?e.map((e=>m(e))):e;t.toCellbaseOutputCapacityDetails=e=>{if(!e)return e;const{proposal_reward:t,tx_fee:r,...n}=e;return{proposalReward:t,txFee:r,...n}};t.toFeeRate=e=>{if(!e)return e;const{fee_rate:t,...r}=e;return{feeRate:t,...r}};t.toCapacityByLockHash=e=>{if(!e)return e;const{cells_count:t,block_number:r,capacity:n,...i}=e;return{blockNumber:r,capacity:n,cellsCount:t,...i}};t.toBlockEconomicState=e=>{if(!e)return e;const{finalized_at:t,miner_reward:r,txs_fee:n,...i}=e;return{finalizedAt:t,minerReward:r,txsFee:n,...i}};t.toSyncState=e=>e?{bestKnownBlockNumber:e.best_known_block_number,bestKnownBlockTimestamp:e.best_known_block_timestamp,fastTime:e.fast_time,ibd:e.ibd,inflightBlocksCount:e.inflight_blocks_count,lowTime:e.low_time,normalTime:e.normal_time,orphanBlocksCount:e.orphan_blocks_count}:e;t.toTransactionProof=e=>{if(!e)return e;const{block_hash:t,witnesses_root:r,...n}=e;return{blockHash:t,witnessesRoot:r,...n}};const v=e=>({rfc:e.rfc,epochNumber:e.epoch_number}),_=e=>({bit:e.bit,start:e.start,timeout:e.timeout,minActivationEpoch:e.min_activation_epoch,period:e.period,threshold:e.threshold});t.toDeployment=_;const w=e=>"rfc0043"in e?{status:e.status,rfc0043:_(e.rfc0043)}:e;t.toConsensus=e=>{if(!e)return e;const t=e.hardfork_features,r=e.softforks,n=r.light_client&&w(r.light_client),i=r.testdummy&&w(r.testdummy);return{blockVersion:e.block_version,cellbaseMaturity:e.cellbase_maturity,daoTypeHash:e.dao_type_hash,epochDurationTarget:e.epoch_duration_target,genesisHash:e.genesis_hash,id:e.id,initialPrimaryEpochReward:e.initial_primary_epoch_reward,maxBlockBytes:e.max_block_bytes,maxBlockCycles:e.max_block_cycles,maxBlockProposalsLimit:e.max_block_proposals_limit,maxUnclesNum:e.max_uncles_num,medianTimeBlockCount:e.median_time_block_count,orphanRateTarget:e.orphan_rate_target,permanentDifficultyInDummy:e.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:e.primary_epoch_reward_halving_interval,proposerRewardRatio:e.proposer_reward_ratio,secondaryEpochReward:e.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:e.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:e.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:e.tx_proposal_window,txVersion:e.tx_version,typeIdCodeHash:e.type_id_code_hash,hardforkFeatures:t.map(v),softforks:{...n&&{lightClient:n},...i&&{testdummy:i}}}};t.toRawTxPool=e=>{if(!e)return e;if((e=>Array.isArray(e.pending))(e))return e;const t=({ancestors_count:e,ancestors_cycles:t,ancestors_size:r,...n})=>({ancestorsCount:e,ancestorsCycles:t,ancestorsSize:r,...n}),r={},n={};return Object.keys(e.proposed).forEach((n=>{r[n]=t(e.proposed[n])})),Object.keys(e.pending).forEach((r=>{n[r]=t(e.pending[r])})),{proposed:r,pending:n}};t.toGetCellsResult=e=>({lastCursor:e.last_cursor,objects:e.objects.map((e=>{return(t=e)?{blockNumber:t.block_number,outPoint:s(t.out_point),output:o(t.output),outputData:t.output_data,txIndex:t.tx_index}:t;var t}))});t.toGetTransactionsResult=e=>e?{lastCursor:e.last_cursor,objects:e.objects.map((e=>{return(t=e)?t.cells?{txHash:t.tx_hash,txIndex:t.tx_index,blockNumber:t.block_number,cells:t.cells}:{txHash:t.tx_hash,blockNumber:t.block_number,ioIndex:t.io_index,ioType:t.io_type,txIndex:t.tx_index}:t;var t}))}:e;t.toCellsCapacity=e=>e?{capacity:e.capacity,blockHash:e.block_hash,blockNumber:e.block_number}:e;t.toBlockFilter=e=>({hash:e.hash,data:e.data});t.toTransactionAndWitnessProof=e=>({blockHash:e.block_hash,transactionsProof:e.transactions_proof,witnessesProof:e.witnesses_proof});t.toFeeRateStatistics=e=>({mean:e.mean,median:e.median});t.toForkBlockResult=e=>"string"==typeof e?e:{header:r(e.header),uncles:e.uncles.map(f),transactions:e.transactions.map(c),proposals:e.proposals,extension:e.extension};t.toEstimateCycles=e=>({cycles:e.cycles});const S=e=>"locked_in"===e?"lockedIn":e;t.toDeployState=S;const E=e=>({bit:e.bit,start:e.start,timeout:e.timeout,minActivationEpoch:e.min_activation_epoch,period:e.period,threshold:e.threshold,since:e.since,state:S(e.state)});t.toDeploymentInfo=E;t.toDeploymentsInfo=e=>{const{light_client:t,testdummy:r}=e.deployments;return{hash:e.hash,epoch:e.epoch,deployments:{...t?{lightClient:E(t)}:{},...r?{testdummy:E(r)}:{}}}}},49805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return n.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var n=r(42314),i=u(r(69869));t.normalizers=i;var o=u(r(93561));t.transformers=o;var s=u(r(20630));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.validators=s;t.VERSION="__development_build__"},69869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizeBlock=function(e,{debugPath:t="block"}={}){return a(t,e,{header:f(m),uncles:p(f(v)),transactions:p(f(g)),proposals:p(s(10))})},t.NormalizeCellDep=h,t.NormalizeCellInput=l,t.NormalizeCellOutput=d,t.NormalizeCellbaseWitness=function(e,{debugPath:t="cellbase_witness"}={}){return a(t,e,{lock:f(u),message:s(-1)})},t.NormalizeHeader=m,t.NormalizeOutPoint=c,t.NormalizeRawHeader=b,t.NormalizeRawTransaction=y,t.NormalizeScript=u,t.NormalizeTransaction=g,t.NormalizeUncleBlock=v,t.NormalizeWitnessArgs=function(e,{debugPath:t="witness_args"}={}){const r={};e.lock&&(r.lock=s(-1)(`${t}.lock`,e.lock));e.inputType&&(r.inputType=s(-1)(`${t}.inputType`,e.inputType));e.outputType&&(r.outputType=s(-1)(`${t}.outputType`,e.outputType));return r};var n=r(92900),i=r(42314);function o(e){return function(t,r){if(!(r instanceof ArrayBuffer)){let i=n.BI.from(r).toString(16);if(i.length%2!=0&&(i="0"+i),i.length/2>e)throw new Error(`${t} is ${i.length/2} bytes long, expected length is ${e}!`);const o=new DataView(new ArrayBuffer(e));for(let e=0;e<i.length/2;e++){const t=i.length-2*(e+1);o.setUint8(e,parseInt(i.substr(t,2),16))}r=o.buffer}if(r.byteLength<e){const t=new Uint8Array(e);t.set(new Uint8Array(r),0),r=t.buffer}return r}}function s(e){return function(t,r){if(r=new i.Reader(r).toArrayBuffer(),e>0&&r.byteLength!==e)throw new Error(`${t} has invalid length ${r.byteLength}, required: ${e}`);return r}}function a(e,t,r){const n={};for(const[i,o]of Object.entries(r)){const r=t[i];if(null==r)throw new Error(`${e} is missing ${i}!`);n[i]=o(`${e}.${i}`,r)}return n}function u(e,{debugPath:t="script"}={}){return a(t,e,{codeHash:s(32),hashType:function(e,t){switch(t){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:case 1:case 2:case 4:return t;default:throw new Error(`${e}.hashType has invalid value: ${t}`)}},args:s(-1)})}function c(e,{debugPath:t="outPoint"}={}){return a(t,e,{txHash:s(32),index:o(4)})}function f(e){return function(t,r){return e(r,{debugPath:t})}}function l(e,{debugPath:t="cell_input"}={}){return a(t,e,{since:o(8),previousOutput:f(c)})}function d(e,{debugPath:t="cellOutput"}={}){const r=a(t,e,{capacity:o(8),lock:f(u)});return e.type&&(r.type_=u(e.type,{debugPath:`${t}.type`})),r}function h(e,{debugPath:t="cell_dep"}={}){return a(t,e,{outPoint:f(c),depType:function(e,t){switch(t){case"code":return 0;case"depGroup":return 1;case 0:case 1:return t;default:throw new Error(`${e}.depType has invalid value: ${t}`)}}})}function p(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function y(e,{debugPath:t="raw_transaction"}={}){return a(t,e,{version:o(4),cellDeps:p(f(h)),headerDeps:p(s(32)),inputs:p(f(l)),outputs:p(f(d)),outputsData:p(s(-1))})}function g(e,{debugPath:t="transaction"}={}){const r=y(e,{debugPath:`(raw)${t}`}),n=a(t,e,{witnesses:p(s(-1))});return n.raw=r,n}function b(e,{debugPath:t="raw_header"}={}){return a(t,e,{version:o(4),compactTarget:o(4),timestamp:o(8),number:o(8),epoch:o(8),parentHash:s(32),transactionsRoot:s(32),proposalsHash:s(32),extraHash:s(32),dao:s(32)})}function m(e,{debugPath:t="header"}={}){const r=b(e,{debugPath:`(raw)${t}`}),n=a(t,e,{nonce:o(16)});return n.raw=r,n}function v(e,{debugPath:t="uncle_block"}={}){return a(t,e,{header:f(m),proposals:p(s(10))})}},42314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=void 0;class r{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return null!=e&&(e instanceof r||!0===e.__isByteLikeReader__)}}class n extends r{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),(e=>("00"+e.toString(16)).slice(-2))).join("")}}class i extends r{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+2*e,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),t=new DataView(e);for(let e=0;e<this.length();e++)t.setUint8(e,this.indexAt(e));return e}serializeJson(){return this.string}}class o extends r{constructor(e){if(super(),e instanceof i||e instanceof n)return e;if("string"==typeof e){if(!e.startsWith("0x")||e.length%2!=0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new i(e)}if(e instanceof ArrayBuffer)return new n(e);if(e instanceof Uint8Array)return new n(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new o(e)}static fromRawString(e){const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>255)throw new Error("fromRawString can only accept UTF-8 raw string!");r.setUint8(t,n)}return new n(t)}}t.Reader=o},93561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformBlock=function(e,{validation:t=!0,debugPath:r="block"}={}){e=s(r,e,{header:c(y),uncles:h(c(g)),transactions:h(c(p)),proposals:h(o)}),t&&n.ValidateBlock(e,{debugPath:`(transformed) ${r}`});return e},t.TransformCellInput=f,t.TransformCellOutput=l,t.TransformCellbaseWitness=function(e,{validation:t=!0,debugPath:r="cellbase_witness"}={}){e=s(r,e,{lock:c(a),message:o}),t&&n.ValidateCellbaseWitness(e,{debugPath:`(transformed) ${r}`});return e},t.TransformHeader=y,t.TransformOutPoint=u,t.TransformRawHeader=function(e,{validation:t=!0,debugPath:r="raw_header"}={}){e=s(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o}),t&&n.ValidateRawHeader(e,{debugPath:`(transformed) ${r}`});return e},t.TransformRawTransaction=function(e,{validation:t=!0,debugPath:r="raw_transaction"}={}){e=s(r,e,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o)}),t&&n.ValidateRawTransaction(e,{debugPath:`(transformed) ${r}`});return e},t.TransformScript=a,t.TransformTransaction=p,t.TransformUncleBlock=g,t.TransformWitnessArgs=function(e,{validation:t=!0,debugPath:r="witness_args"}={}){e=s(r,e,{lock:o,inputType:o,outputType:o}),t&&n.ValidateWitnessArgs(e,{debugPath:`(transformed) ${r}`});return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&{}.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(20630));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){return t instanceof Object&&t.serializeJson instanceof Function?t.serializeJson.call(t):t}function s(e,t,r){if(!((t=o(0,t))instanceof Object))throw new Error(`Transformed ${e} is not an object!`);const n={};for(const[i,o]of Object.entries(r)){let r=t[i];if(!r){r=t[i.replace(/(_[a-z])/g,(e=>e.toUpperCase().replace("_","")))]}r&&(n[i]=o(`${e}.${i}`,r))}return n}function a(e,{validation:t=!0,debugPath:r="script"}={}){return e=s(r,e,{codeHash:o,hashType:o,args:o}),t&&n.ValidateScript(e,{debugPath:`(transformed) ${r}`}),e}function u(e,{validation:t=!0,debugPath:r="outPoint"}={}){return e=s(r,e,{txHash:o,index:o}),t&&n.ValidateOutPoint(e,{debugPath:`(transformed) ${r}`}),e}function c(e){return function(t,r){return e(r,{validation:!1,debugPath:t})}}function f(e,{validation:t=!0,debugPath:r="cell_input"}={}){return e=s(r,e,{since:o,previousOutput:c(u)}),t&&n.ValidateCellInput(e,{debugPath:`(transformed) ${r}`}),e}function l(e,{validation:t=!0,debugPath:r="cellOutput"}={}){return e=s(r,e,{capacity:o,lock:c(a),type:c(a)}),t&&n.ValidateCellOutput(e,{debugPath:`(transformed) ${r}`}),e}function d(e,{validation:t=!0,debugPath:r="cell_dep"}={}){return e=s(r,e,{outPoint:c(u),depType:o}),t&&n.ValidateCellDep(e,{debugPath:`(transformed) ${r}`}),e}function h(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function p(e,{validation:t=!0,debugPath:r="transaction"}={}){return e=s(r,e,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o),witnesses:h(o)}),t&&n.ValidateTransaction(e,{debugPath:`(transformed) ${r}`}),e}function y(e,{validation:t=!0,debugPath:r="header"}={}){return e=s(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o,nonce:o}),t&&n.ValidateHeader(e,{debugPath:`(transformed) ${r}`}),e}function g(e,{validation:t=!0,debugPath:r="uncle_block"}={}){return e=s(r,e,{header:c(y),proposals:h(o)}),t&&n.ValidateUncleBlock(e,{debugPath:`(transformed) ${r}`}),e}},20630:(e,t)=>{"use strict";function r(e,t,r,n=[]){!function(e,t){if(!(t instanceof Object))throw new Error(`${e} is not an object!`)}(e,t);const i=Object.keys(t).sort(),o=r.length,s=r.length+n.length,a=`${e} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<o||i.length>s)throw new Error(a);let u=i.filter((e=>!r.includes(e)));if(i.length-u.length!==o)throw new Error(a);if(u.find((e=>!n.includes(e))))throw new Error(a)}function n(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function i(e,t){if(n(e,t),66!==t.length)throw new Error(`${e} must be a hex string of 66 bytes long!`)}function o(e,t){if("0x0"!==t&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function s(e,{nestedValidation:t=!0,debugPath:o="script"}={}){if(r(o,e,["codeHash","hashType","args"],[]),i(`${o}.codeHash`,e.codeHash),n(`${o}.args`,e.args),"data"!==e.hashType&&"type"!==e.hashType&&"data1"!==e.hashType&&"data2"!==e.hashType)throw new Error(`${o}.hashType must be either data or type!`)}function a(e,{nestedValidation:t=!0,debugPath:n="outPoint"}={}){r(n,e,["txHash","index"],[]),i(`${n}.txHash`,e.txHash),o(`${n}.index`,e.index)}function u(e,{nestedValidation:t=!0,debugPath:n="cellInput"}={}){r(n,e,["since","previousOutput"],[]),o(`${n}.since`,e.since),t&&a(e.previousOutput,{debugPath:`${n}.previousOutput`})}function c(e,{nestedValidation:t=!0,debugPath:n="cellOutput"}={}){r(n,e,["capacity","lock"],["type"]),o(`${n}.capacity`,e.capacity),t&&(s(e.lock,{debugPath:`${n}.lock`}),e.type&&s(e.type,{debugPath:`${n}.type`}))}function f(e,{nestedValidation:t=!0,debugPath:n="cellDep"}={}){if(r(n,e,["outPoint","depType"],[]),"code"!==e.depType&&"depGroup"!==e.depType)throw new Error(`${n}.depType must be either code or depGroup!`);t&&a(e.outPoint,{debugPath:`${n}.outPoint`})}function l(e,t,r,n){if(!Array.isArray(t))throw new Error(`${e} is not an array!`);if(n)for(let n=0;n<t.length;n++)r(`${e}[${n}]`,t[n])}function d(e,t){return function(r,n){e(n,{nestedValidation:t,debugPath:r})}}function h(e,t,r){o(`${e}.version`,t.version),l(`${e}.cellDeps`,t.cellDeps,d(f,r),r),l(`${e}.headerDeps`,t.headerDeps,i,r),l(`${e}.inputs`,t.inputs,d(u,r),r),l(`${e}.outputs`,t.outputs,d(c,r),r),l(`${e}.outputsData`,t.outputsData,n,r)}function p(e,{nestedValidation:t=!0,debugPath:i="transaction"}={}){r(i,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),h(i,e,t),l(`${i}.witnesses`,e.witnesses,n,t)}function y(e,{nestedValidation:t=!0,debugPath:i="header"}={}){if(r(i,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),n(`${i}.nonce`,e.nonce),34!==e.nonce.length)throw new Error(`${i}.nonce must be a hex string of 34 bytes long!`)}function g(e,t){if(n(e,t),22!==t.length)throw new Error(`${e} must be a hex string of 22 bytes long!`)}function b(e,{nestedValidation:t=!0,debugPath:n="uncleBlock"}={}){r(n,e,["header","proposals"],[]),t&&y(e.header,{debugPath:`${n}.header`}),l(`${n}.proposals`,e.proposals,g,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateBlock=function(e,{nestedValidation:t=!0,debugPath:n="block"}={}){r(n,e,["header","uncles","transactions","proposals"],[]),t&&y(e.header,{debugPath:`${n}.header`});l(`${n}.uncles`,e.uncles,d(b,t),t),l(`${n}.transactions`,e.transactions,d(p,t),t),l(`${n}.proposals`,e.proposals,g,t)},t.ValidateCellDep=f,t.ValidateCellInput=u,t.ValidateCellOutput=c,t.ValidateCellbaseWitness=function(e,{nestedValidation:t=!0,debugPath:i="cellbaseWitness"}={}){r(i,e,["lock","message"],[]),n(`${i}.message`,e.message),t&&s(e.lock,{debugPath:`${i}.lock`})},t.ValidateHeader=y,t.ValidateOutPoint=a,t.ValidateRawHeader=function(e,{nestedValidation:t=!0,debugPath:n="rawHeader"}={}){r(n,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),function(e,t){o(`${e}.version`,t.version),o(`${e}.compactTarget`,t.compactTarget),o(`${e}.timestamp`,t.timestamp),o(`${e}.number`,t.number),o(`${e}.epoch`,t.epoch),i(`${e}.parentHash`,t.parentHash),i(`${e}.transactionsRoot`,t.transactionsRoot),i(`${e}.proposalsHash`,t.proposalsHash),i(`${e}.extraHash`,t.extraHash),i(`${e}.dao`,t.dao)}(n,e)},t.ValidateRawTransaction=function(e,{nestedValidation:t=!0,debugPath:n="rawTransaction"}={}){r(n,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),h(n,e,t)},t.ValidateScript=s,t.ValidateTransaction=p,t.ValidateUncleBlock=b,t.ValidateWitnessArgs=function(e,{nestedValidation:t=!0,debugPath:i="witnessArgs"}={}){r(i,e,[],["lock","inputType","outputType"]),e.lock&&n(`${i}.lock`,e.lock);e.inputType&&n(`${i}.inputType`,e.inputType);e.outputType&&n(`${i}.outputType`,e.outputType)}},59045:(e,t,r)=>{var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,n="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,a="ArrayBuffer"in r;if(a)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function f(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=y(t);return t.readAsArrayBuffer(e),r}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=p(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=y(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=f(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[f(e)]},h.prototype.get=function(e){return e=f(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(f(e))},h.prototype.set=function(e,t){this.map[f(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},m.call(_.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];S.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(i,s){var u=new _(e,n);if(u.signal&&u.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function f(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout((function(){i(new S(n,r))}),0)},c.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},c.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},c.open(u.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(u.url),!0),"include"===u.credentials?c.withCredentials=!0:"omit"===u.credentials&&(c.withCredentials=!1),"responseType"in c&&(o?c.responseType="blob":a&&u.headers.get("Content-Type")&&-1!==u.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof h?u.headers.forEach((function(e,t){c.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){c.setRequestHeader(e,l(n.headers[e]))})),u.signal&&(u.signal.addEventListener("abort",f),c.onreadystatechange=function(){4===c.readyState&&u.signal.removeEventListener("abort",f)}),c.send(void 0===u._bodyInit?null:u._bodyInit)}))}A.polyfill=!0,r.fetch||(r.fetch=A,r.Headers=h,r.Request=_,r.Response=S),t.Headers=h,t.Request=_,t.Response=S,t.fetch=A}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},69535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLeftCells=t.getInputs=t.getTargetOutputs=t.getKeyAndCellsPairs=t.getBigInts=void 0;const n=r(44764),i=r(60720),o=r(9467),s=r(6969),a=`0x${61e8.toString(16)}`;t.getBigInts=({fee:e,capacityThreshold:t,changeThreshold:r})=>((0,s.assertToBeHexStringOrBigint)(e),(0,s.assertToBeHexStringOrBigint)(t),(0,s.assertToBeHexStringOrBigint)(r),{targetFee:i.JSBI.BigInt(`${e}`),minCapacity:i.JSBI.BigInt(`${t}`),minChange:i.JSBI.BigInt(`${r}`),zeroBigInt:i.JSBI.BigInt(0)});t.getKeyAndCellsPairs=e=>{const t="inputScript"in e?[e.inputScript]:e.inputScripts,r="outputScript"in e?[{lock:e.outputScript,capacity:e.capacity}]:e.outputs;let n=new Map;if("inputScript"in e){const t=(0,i.scriptToHash)(e.inputScript);n.set(t,e.cells||[])}else n=e.cells||new Map;return{inputScripts:t,outputs:r,unspentCellsMap:n}};t.getTargetOutputs=({outputs:e,minCapacity:t})=>e.map((e=>{const r=i.JSBI.BigInt(`${e.capacity}`);if(i.JSBI.lessThan(r,t))throw new Error(`Capacity should be at least ${t} shannon`);return Object.assign(Object.assign({},e),{capacity:r})}));t.getInputs=({inputScripts:e,safeMode:t,costCapacity:r,unspentCellsMap:n})=>{const o=[];let s=i.JSBI.BigInt(0);for(let a=0;a<e.length;a++){const u=(0,i.scriptToHash)(e[a]),c=n.get(u)||[];for(let e=0;e<c.length;e++){const n=c[e];if((!t||"0x"===n.data&&!n.type)&&(o.push({previousOutput:n.outPoint,since:"0x0",lockhash:u}),s=i.JSBI.add(s,i.JSBI.BigInt(n.capacity)),i.JSBI.greaterThanOrEqual(s,r)))break}if(i.JSBI.greaterThan(s,r))break}if(i.JSBI.lessThan(s,r))throw new Error("Input capacity is not enough");return{inputs:o,sum:s}};t.getLeftCells=({usedCells:e,inputScripts:t,unspentCellsMap:r})=>{const n=[];return t.forEach((t=>{const o=(0,i.scriptToHash)(t),s=r.get(o);(null==s?void 0:s.length)&&s.forEach((t=>{"0x"!==t.data||t.type||(t=>e.some((e=>{var r,n,i,o;return(null===(r=e.previousOutput)||void 0===r?void 0:r.txHash)===(null===(n=t.outPoint)||void 0===n?void 0:n.txHash)&&(null===(i=e.previousOutput)||void 0===i?void 0:i.index)===(null===(o=t.outPoint)||void 0===o?void 0:o.index)})))(t)||n.push({outPoint:t.outPoint,capacity:t.capacity})}))})),n};const u=e=>"object"!=typeof e;t.default=e=>{var r,s,{fee:c="0x0",changeLockScript:f,safeMode:l=!0,deps:d,capacityThreshold:h=a,changeThreshold:p=a}=e,y=(0,n.__rest)(e,["fee","changeLockScript","safeMode","deps","capacityThreshold","changeThreshold"]);if(!d)throw new Error("The dep is not loaded");const{targetFee:g,minCapacity:b,minChange:m,zeroBigInt:v}=(0,t.getBigInts)({fee:u(c)?c:"0x0",capacityThreshold:h,changeThreshold:p}),{inputScripts:_,outputs:w,unspentCellsMap:S}=(0,t.getKeyAndCellsPairs)(y),E=(0,t.getTargetOutputs)({outputs:w,minCapacity:b}),A=E.reduce(((e,t)=>i.JSBI.add(e,t.capacity)),v),x=i.JSBI.add(i.JSBI.add(A,g),m),k={capacity:v,lock:f||_[0]},{inputs:I,sum:T}=(0,t.getInputs)({inputScripts:_,safeMode:l,costCapacity:x,unspentCellsMap:S});i.JSBI.greaterThan(T,i.JSBI.add(A,g))&&(k.capacity=i.JSBI.subtract(i.JSBI.subtract(T,A),g));const C=E.map((e=>Object.assign(Object.assign({},e),{capacity:`0x${e.capacity.toString(16)}`})));i.JSBI.greaterThan(k.capacity,v)&&C.push(Object.assign(Object.assign({},k),{capacity:`0x${k.capacity.toString(16)}`}));const O=Array.isArray(d)?d:[d],P=null!==(r=y.witnesses)&&void 0!==r?r:[];I.forEach(((e,t)=>{var r;P[t]||(P[t]=e.lockhash!==(null===(r=I[t-1])||void 0===r?void 0:r.lockhash)?o.EMPTY_WITNESS_ARGS:"0x")}));const M=null!==(s=y.outputsData)&&void 0!==s?s:[];C.forEach(((e,t)=>{M[t]||(M[t]="0x")}));const B={version:"0x0",cellDeps:O.map((e=>({outPoint:e.outPoint,depType:e.depType}))),headerDeps:[],inputs:I.map((({previousOutput:e,since:t})=>({previousOutput:e,since:t}))),outputs:C,witnesses:P,outputsData:M};if(!u(c)){const e=(0,t.getLeftCells)({inputScripts:_,usedCells:B.inputs,unspentCellsMap:S});return c.reconciler({tx:B,feeRate:c.feeRate,changeThreshold:p,cells:e,extraCount:10})}return B}},35191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupScripts=void 0;const n=r(60720);t.groupScripts=e=>{const t=new Map;return e.forEach(((e,r)=>{const i=(0,n.scriptToHash)(e.lock),o=t.get(i)||[];t.set(i,[...o,r])})),t},t.default=t.groupScripts},98660:(e,t,r)=>{"use strict";var n,i,o,s,a,u,c;Object.defineProperty(t,"__esModule",{value:!0});const f=r(44764),l=(0,f.__importDefault)(r(80006)),d=r(73563),h=(0,f.__importStar)(r(60720)),p=(0,f.__importDefault)(r(69535)),y=(0,f.__importDefault)(r(68094)),g=(0,f.__importStar)(r(94976)),b=r(53165);n=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,c=new WeakMap,t.default=class{constructor(e="http://localhost:8114"){this.cells=new Map,this.utils=h,this.config={},this.generateLockHash=(e,t=this.config.secp256k1Dep)=>{if(!t)throw new d.ParameterRequiredException("deps");return this.utils.scriptToHash(Object.assign(Object.assign({},t),{args:e}))},this.loadDeps=()=>(0,f.__awaiter)(this,void 0,void 0,(function*(){const e=yield this.rpc.getBlockByNumber("0x0");if(!e)throw new Error("Fail to load the genesis block");return(0,f.__classPrivateFieldGet)(this,c,"f").call(this,e),(0,f.__classPrivateFieldGet)(this,u,"f").call(this,e),this.config})),this.loadCells=e=>(0,f.__awaiter)(this,void 0,void 0,(function*(){const t=this.utils.scriptToHash(e.lock),r=yield(0,y.default)(e);return e.save&&this.cells.set(t,r),r})),this.signWitnesses=g.default,this.signTransaction=e=>(t,r=[])=>{if(!e)throw new d.ParameterRequiredException("Private key or address object");(0,f.__classPrivateFieldGet)(this,o,"f").call(this,t);const n=this.utils.rawTransactionToHash(t),i=(0,g.isMap)(e)?(0,b.filterCellsByInputs)(r,t.inputs):void 0,s=this.signWitnesses(e)({transactionHash:n,witnesses:t.witnesses,inputCells:i});return Object.assign(Object.assign({},t),{witnesses:s.map((e=>"string"==typeof e?e:this.utils.serializeWitnessArgs(e)))})},this.generateRawTransaction=e=>{var t,{fee:r,safeMode:n=!0,deps:i,capacityThreshold:o,changeThreshold:u,witnesses:c,outputsData:l}=e,d=(0,f.__rest)(e,["fee","safeMode","deps","capacityThreshold","changeThreshold","witnesses","outputsData"]);if((0,f.__classPrivateFieldGet)(this,s,"f").call(this,d)){const[e,s]=[d.fromAddress,d.toAddress].map(this.utils.addressToScript);let a=d.cells||[];return a.length||(a=null!==(t=this.cells.get(this.utils.scriptToHash(e)))&&void 0!==t?t:a),(0,p.default)({inputScript:e,outputScript:s,capacity:d.capacity,fee:r,safeMode:n,cells:a,deps:i,capacityThreshold:o,changeThreshold:u,witnesses:c,outputsData:l})}if((0,f.__classPrivateFieldGet)(this,a,"f").call(this,d)){const e=d.fromAddresses.map(this.utils.addressToScript),t=d.receivePairs.map((e=>({lock:this.utils.addressToScript(e.address),capacity:e.capacity,type:e.type})));return(0,p.default)({inputScripts:e,outputs:t,cells:d.cells||this.cells,fee:r,safeMode:n,deps:i,capacityThreshold:o,changeThreshold:u,witnesses:c,outputsData:l})}throw new Error("Parameters of generateRawTransaction are invalid")},this.generateDaoDepositTransaction=({fromAddress:e,capacity:t,fee:r,cells:o=[]})=>{(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const s=this.generateRawTransaction({fromAddress:e,toAddress:e,capacity:t,fee:r,safeMode:!0,cells:o,deps:[this.config.secp256k1Dep,this.config.daoDep]});return s.outputs[0].type={codeHash:this.config.daoDep.typeHash,args:"0x",hashType:this.config.daoDep.hashType},s.outputsData[0]="0x0000000000000000",s},this.generateDaoWithdrawStartTransaction=({outPoint:e,fee:t,cells:r=[]})=>(0,f.__awaiter)(this,void 0,void 0,(function*(){(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const o=yield this.rpc.getLiveCell(e,!1);if("live"!==o.status)throw new Error("Cell is not live yet.");const s=yield this.rpc.getTransaction(e.txHash);if("committed"!==s.txStatus.status)throw new Error("Transaction is not committed yet");const a=yield this.rpc.getBlock(s.txStatus.blockHash).then((e=>e.header)),u=this.utils.toUint64Le(a.number),c=this.utils.bech32Address(o.cell.output.lock.args),l=this.generateRawTransaction({fromAddress:c,toAddress:c,capacity:"0x0",fee:t,safeMode:!0,deps:[this.config.secp256k1Dep,this.config.daoDep],capacityThreshold:"0x0",cells:r});return l.outputs[0]=s.transaction.outputs[+e.index],l.outputsData[0]=u,l.inputs.unshift({previousOutput:e,since:"0x0"}),l.headerDeps.push(a.hash),l})),this.generateDaoWithdrawTransaction=({depositOutPoint:e,withdrawOutPoint:t,fee:r})=>(0,f.__awaiter)(this,void 0,void 0,(function*(){var o,s;(0,f.__classPrivateFieldGet)(this,n,"f").call(this),(0,f.__classPrivateFieldGet)(this,i,"f").call(this);const{JSBI:a}=this.utils,u=yield this.rpc.getLiveCell(t,!0);if("live"!==u.status)throw new Error("Cell is not live yet");const c=yield this.rpc.getTransaction(t.txHash);if("committed"!==c.txStatus.status)throw new Error("Transaction is not committed yet");const l=this.utils.bytesToHex(this.utils.hexToBytes(null!==(s=null===(o=u.cell.data)||void 0===o?void 0:o.content)&&void 0!==s?s:"").reverse()),d=yield this.rpc.getBlockByNumber(BigInt(l)).then((e=>e.header)),h=yield this.rpc.getBlock(c.txStatus.blockHash).then((e=>e.header)),p=this.utils.getWithdrawEpoch(d.epoch,h.epoch),y=yield this.rpc.calculateDaoMaximumWithdraw(e,h.hash),g=a.BigInt(y),b=a.BigInt(`${r}`);if(a.lessThan(g,b))throw new Error(`The fee(${b}) is too big that withdraw(${g}) is not enough`);const m=[{capacity:`0x${a.subtract(g,b).toString(16)}`,lock:c.transaction.outputs[+t.index].lock}];return{version:"0x0",cellDeps:[{outPoint:this.config.secp256k1Dep.outPoint,depType:this.config.secp256k1Dep.depType},{outPoint:this.config.daoDep.outPoint,depType:this.config.daoDep.depType}],headerDeps:[d.hash,h.hash],inputs:[{previousOutput:t,since:p}],outputs:m,outputsData:["0x"],witnesses:[{lock:"",inputType:"0x0000000000000000",outputType:""}]}})),this.calculateDaoMaximumWithdraw=(e,t)=>(0,f.__awaiter)(this,void 0,void 0,(function*(){let r=yield this.rpc.getTransaction(e.txHash);if("committed"!==r.txStatus.status)throw new Error("Transaction is not committed yet");const n=r.txStatus.blockHash;let i,o=r.transaction.outputs[+e.index],s=r.transaction.outputsData[+e.index];if("string"==typeof t)i=t;else{if(r=yield this.rpc.getTransaction(t.txHash),"committed"!==r.txStatus.status)throw new Error("Transaction is not committed yet");i=r.txStatus.blockHash,o=r.transaction.outputs[+t.index],s=r.transaction.outputsData[+t.index]}const[a,u]=yield Promise.all([this.rpc.getHeader(n),this.rpc.getHeader(i)]);return h.calculateMaximumWithdraw(o,s,a.dao,u.dao)})),n.set(this,(()=>{if(!this.config.secp256k1Dep)throw new d.ParameterRequiredException("Secp256k1 dep")})),i.set(this,(()=>{if(!this.config.daoDep)throw new d.ParameterRequiredException("Dao dep")})),o.set(this,(e=>{if(!e)throw new d.ParameterRequiredException("Transaction");if(!e.witnesses)throw new d.ParameterRequiredException("Witnesses");if(!e.outputsData)throw new d.ParameterRequiredException("OutputsData");if(e.outputsData.length<e.outputs.length)throw new Error("Invalid count of outputsData")})),s.set(this,(e=>"fromAddress"in e&&"toAddress"in e)),a.set(this,(e=>"fromAddresses"in e&&"receivePairs"in e)),u.set(this,(e=>(0,f.__awaiter)(this,void 0,void 0,(function*(){var t,r;const n=null==e?void 0:e.transactions[1].hash,i=null===(r=null===(t=null==e?void 0:e.transactions[0])||void 0===t?void 0:t.outputs[1])||void 0===r?void 0:r.type,o=this.utils.scriptToHash(i);this.config.secp256k1Dep={hashType:"type",codeHash:o,outPoint:{txHash:n,index:"0x0"},depType:"depGroup"}})))),c.set(this,(e=>{var t,r,n;const i=null==e?void 0:e.transactions[0].hash,o=null===(r=null===(t=null==e?void 0:e.transactions[0])||void 0===t?void 0:t.outputs[2])||void 0===r?void 0:r.type,s=null===(n=null==e?void 0:e.transactions[0])||void 0===n?void 0:n.outputsData[2],a=this.utils.scriptToHash(o),u=h.blake2b(32,null,null,h.PERSONAL);u.update(h.hexToBytes(s));const c=`0x${u.digest("hex")}`;this.config.daoDep={hashType:"type",codeHash:c,typeHash:a,outPoint:{txHash:i,index:"0x2"},depType:"code"}})),this._node={url:e},this.rpc=new l.default(e)}setNode(e){return"string"==typeof e?this._node.url=e:this._node=e,this.rpc.setNode(this._node),this._node}get node(){return this._node}}},68094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCellsFromIndexer=void 0;const n=r(44764);t.loadCellsFromIndexer=({CellCollector:e,indexer:t,lock:r,start:i,end:o})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){var s,a;const u=new e(t,{lock:{code_hash:r.codeHash,hash_type:r.hashType,args:r.args},fromBlock:i,toBlock:o}),c=[];try{for(var f,l=(0,n.__asyncValues)(u.collect());!(f=yield l.next()).done;){const{data:e,cell_output:{capacity:t,type:n},out_point:i}=f.value;c.push({data:e,lock:r,type:n&&{codeHash:n.code_hash,hashType:n.hash_type,args:n.args},capacity:t,outPoint:{txHash:i.tx_hash,index:i.index}})}}catch(e){s={error:e}}finally{try{f&&!f.done&&(a=l.return)&&(yield a.call(l))}finally{if(s)throw s.error}}return c})),t.default=t.loadCellsFromIndexer},71812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMultisigStatus=t.hashMultisig=t.serializeMultisigConfig=t.SignStatus=t.isMultisigConfig=void 0;const n=r(60720);var i;t.isMultisigConfig=function(e){return e&&!Number.isNaN(+e.r)&&!Number.isNaN(+e.m)&&!Number.isNaN(+e.n)&&Array.isArray(e.blake160s)},function(e){e.Signed="Signed",e.Unsigned="Unsigned",e.PartiallySigned="PartiallySigned"}(i=t.SignStatus||(t.SignStatus={}));const o=e=>{if(e<0||e>255)throw new Error("For multisig sign, signer should between 0 and 255")},s=e=>e.toString(16).padStart(2,"0");t.serializeMultisigConfig=e=>((e=>{if(o(e.r),o(e.m),o(e.n),e.m>e.n)throw new Error("For m of n multisig sign, m shouldn't be greater than n");if(e.r>e.m)throw new Error("For m of n multisig sign, r shouldn't be greater than m");if(e.n!==e.blake160s.length)throw new Error("For m of n multisig sign, signer's length should equal with n")})(e),`0x00${s(e.r)}${s(e.m)}${s(e.n)}${e.blake160s.reduce(((e,t)=>e+t.slice(2)),"")}`);t.hashMultisig=e=>{const r=(0,n.blake2b)(32,null,null,n.PERSONAL);return r.update((0,n.hexToBytes)((0,t.serializeMultisigConfig)(e))),`0x${r.digest("hex")}`.slice(0,42)};t.getMultisigStatus=(e,t=[])=>{let r=0,n=0;for(let i=0;i<e.n;i++)t.includes(e.blake160s[i])&&(i<e.r?n+=1:r+=1);if(r+n===0)return i.Unsigned;if(r>e.m-e.r)throw new Error("More signature for multisig");return r+n<e.m?i.PartiallySigned:i.Signed}},98509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(44764),i=r(60720),o=(0,n.__importDefault)(r(64750)),s=r(71812);t.default=function(e,t,r,n){if(!r.length)throw new Error("WitnessGroup cannot be empty");if("object"!=typeof r[0])throw new Error("The first witness in the group should be type of WitnessArgs");const a=Object.assign(Object.assign({},r[0]),{lock:`0x${"0".repeat(130)}`});n&&(a.lock=`${(0,s.serializeMultisigConfig)(n)}${"0".repeat(130*n.m)}`);const u=(0,i.hexToBytes)((0,i.serializeWitnessArgs)(a)),c=u.length,f=(0,i.blake2b)(32,null,null,i.PERSONAL);f.update((0,i.hexToBytes)(t)),f.update((0,i.hexToBytes)((0,i.toUint64Le)(`0x${c.toString(16)}`))),f.update(u),r.slice(1).forEach((e=>{const t=(0,i.hexToBytes)("string"==typeof e?e:(0,i.serializeWitnessArgs)(e));f.update((0,i.hexToBytes)((0,i.toUint64Le)(`0x${t.length.toString(16)}`))),f.update(t)}));const l=`0x${f.digest("hex")}`;if("string"==typeof e){const t=new o.default(e);return a.lock=t.signRecoverable(l),[n?a:(0,i.serializeWitnessArgs)(a),...r.slice(1)]}{const t=e(l,[a,...r.slice(1)]);return"string"==typeof t?(a.lock=t,[n?a:(0,i.serializeWitnessArgs)(a),...r.slice(1)]):t.then((e=>(a.lock=e,[n?a:(0,i.serializeWitnessArgs)(a),...r.slice(1)])))}}},94976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMap=void 0;const n=r(44764),i=r(60720),o=r(73563),s=(0,n.__importDefault)(r(98509)),a=(0,n.__importDefault)(r(35191)),u=r(71812);t.isMap=e=>void 0!==e.size;t.default=e=>({transactionHash:r,witnesses:n=[],inputCells:c=[],skipMissingKeys:f=!1})=>{if(!e)throw new o.ParameterRequiredException("Signature provider");if(!r)throw new o.ParameterRequiredException("Transaction hash");if(!n.length)throw new Error("Witnesses is empty");if((0,t.isMap)(e)){if(!c.length)throw new Error("Cell shouldn't be empty when key is Map");const t=n,o=n.slice(c.length);return(0,a.default)(c).forEach(((a,c)=>{const l=e.get(c);if(!l){if(f)return;throw new Error(`The signature provider to sign lockhash ${c} is not found`)}const d=[...a.map((e=>n[e])),...o];if("object"==typeof l&&function(e){if(e.sk&&e.blake160&&e.config&&e.signatures){if(("string"==typeof e.sk||"function"==typeof e.sk)&&"string"==typeof e.blake160&&Array.isArray(e.signatures)&&(0,u.isMultisigConfig)(e.config))return!0;throw new Error("Multisig options is incorrect")}throw new Error("Multisig options miss some property")}(l)){const e=(0,s.default)(l.sk,r,d,l.config)[0],n=t[a[0]];if("object"!=typeof n)throw new Error("The first witness in the group should be type of WitnessArgs");let o=e.lock;o=n.lock?n.lock+(null==o?void 0:o.slice(2)):(0,u.serializeMultisigConfig)(l.config)+(null==o?void 0:o.slice(2));const c=Object.assign(Object.assign({},n),{lock:o});t[a[0]]=c,(0,u.getMultisigStatus)(l.config,[...l.signatures,l.blake160])===u.SignStatus.Signed&&a.forEach((e=>{const r=t[e];t[e]="string"==typeof r?r:(0,i.serializeWitnessArgs)(r)}))}else{const e=(0,s.default)(l,r,d)[0];t[a[0]]=e}})),t}return(0,s.default)(e,r,n)}},53165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterCellsByInputs=void 0;t.filterCellsByInputs=(e,t)=>t.map((t=>{const r=t.previousOutput,n=e.find((e=>{var t,n;return(null===(t=e.outPoint)||void 0===t?void 0:t.txHash)===(null==r?void 0:r.txHash)&&(null===(n=e.outPoint)||void 0===n?void 0:n.index)===(null==r?void 0:r.index)}));if(!n)throw new Error(`Cell of ${JSON.stringify(r)} is not found`);return n})),t.default={filterCellsByInputs:t.filterCellsByInputs}},44764:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>l,__importDefault:()=>k,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>s,__spread:()=>g,__spreadArray:()=>m,__spreadArrays:()=>b,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return A(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},25467:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));t.default={getTipBlockNumber:{method:"get_tip_block_number",paramsFormatters:[],resultFormatters:o.default.toNumber},getTipHeader:{method:"get_tip_header",paramsFormatters:[],resultFormatters:o.default.toHeader},getCurrentEpoch:{method:"get_current_epoch",paramsFormatters:[],resultFormatters:o.default.toEpoch},getEpochByNumber:{method:"get_epoch_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toEpoch},getBlockHash:{method:"get_block_hash",paramsFormatters:[i.default.toNumber]},getBlock:{method:"get_block",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toBlock},getBlockByNumber:{method:"get_block_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toBlock},getHeader:{method:"get_header",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toHeader},getHeaderByNumber:{method:"get_header_by_number",paramsFormatters:[i.default.toNumber],resultFormatters:o.default.toHeader},getLiveCell:{method:"get_live_cell",paramsFormatters:[i.default.toOutPoint],resultFormatters:o.default.toLiveCellWithStatus},getTransaction:{method:"get_transaction",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toTransactionWithStatus},getCellbaseOutputCapacityDetails:{method:"get_cellbase_output_capacity_details",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toCellbaseOutputCapacityDetails},getBlockEconomicState:{method:"get_block_economic_state",paramsFormatters:[i.default.toHash],resultFormatters:o.default.toBlockEconomicState},getTransactionProof:{method:"get_transaction_proof",paramsFormatters:[i.default.toArray(i.default.toHash),i.default.toOptional(i.default.toHash)],resultFormatters:o.default.toTransactionProof},verifyTransactionProof:{method:"verify_transaction_proof",paramsFormatters:[i.default.toTransactionProof]},getConsensus:{method:"get_consensus",paramsFormatters:[],resultFormatters:o.default.toConsensus}}},35874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(0,r(75310).__importDefault)(r(63950));t.default={dryRunTransaction:{method:"dry_run_transaction",paramsFormatters:[n.default.toRawTransaction]},calculateDaoMaximumWithdraw:{method:"calculate_dao_maximum_withdraw",paramsFormatters:[n.default.toOutPoint,n.default.toHash]}}},18966:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Base=t.rpcProperties=void 0;const i=r(75310),o=(0,i.__importDefault)(r(25467)),s=(0,i.__importDefault)(r(35874)),a=(0,i.__importDefault)(r(94037)),u=(0,i.__importDefault)(r(38238)),c=(0,i.__importDefault)(r(3069));t.rpcProperties=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o.default),s.default),a.default),u.default),c.default);class f{constructor(){n.set(this,t.rpcProperties)}get rpcProperties(){return(0,i.__classPrivateFieldGet)(this,n,"f")}}t.Base=f,n=new WeakMap,t.default=f},94037:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));t.default={localNodeInfo:{method:"local_node_info",paramsFormatters:[],resultFormatters:o.default.toLocalNodeInfo},getPeers:{method:"get_peers",paramsFormatters:[],resultFormatters:o.default.toPeers},getBannedAddresses:{method:"get_banned_addresses",paramsFormatters:[],resultFormatters:o.default.toBannedAddresses},clearBannedAddresses:{method:"clear_banned_addresses",paramsFormatters:[]},setBan:{method:"set_ban",paramsFormatters:[]},syncState:{method:"sync_state",paramsFormatters:[],resultFormatters:o.default.toSyncState},setNetworkActive:{method:"set_network_active",paramsFormatters:[i.default.toBoolean]},addNode:{method:"add_node",paramsFormatters:[]},removeNode:{method:"remove_node",paramsFormatters:[]},pingPeers:{method:"ping_peers",paramsFormatters:[]}}},38238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=(0,n.__importDefault)(r(63950)),o=(0,n.__importDefault)(r(95895));t.default={sendTransaction:{method:"send_transaction",paramsFormatters:[i.default.toRawTransaction,i.default.toOutputsValidator],resultFormatters:o.default.toHash},txPoolInfo:{method:"tx_pool_info",paramsFormatters:[],resultFormatters:o.default.toTxPoolInfo},clearTxPool:{method:"clear_tx_pool",paramsFormatters:[]},getRawTxPool:{method:"get_raw_tx_pool",paramsFormatters:[],resultFormatters:o.default.toRawTxPool}}},3069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(0,r(75310).__importDefault)(r(95895));t.default={getBlockchainInfo:{method:"get_blockchain_info",paramsFormatters:[],resultFormatters:n.default.toBlockchainInfo},getFeeRateStats:{method:"get_fee_rate_statistics",paramsFormatters:[]}}},74842:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.IdNotMatch=201]="IdNotMatch",e[e.MethodNotFound=202]="MethodNotFound",e[e.PayloadMessage=203]="PayloadMessage",e[e.ResponseMessage=204]="ResponseMessage"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},16697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdNotMatchedInBatchException=t.PayloadInBatchException=t.MethodInBatchNotFoundException=void 0;const n=(0,r(75310).__importDefault)(r(74842)),i=r(84026),o="Batch Request";class s extends Error{constructor(e){super(`[${o}]: Method ${e} is not found`),this.code=n.default.MethodNotFound}}t.MethodInBatchNotFoundException=s;class a extends Error{constructor(e,t){super(`[${o} ${e}]: ${t}`),this.code=n.default.PayloadMessage,this.index=e}}t.PayloadInBatchException=a;class u extends i.IdNotMatchException{constructor(e,t,r){super(t,r),this.message=`[${o} ${e}]: ${this.message}`,this.index=e}}t.IdNotMatchedInBatchException=u,t.default={MethodInBatchNotFoundException:s,PayloadInBatchException:a,IdNotMatchedInBatchException:u}},53491:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringHashTypeException=t.BigintOrHexStringTypeException=t.OutputsValidatorTypeException=t.PageSizeTooSmallException=t.PageSizeTooLargeException=void 0;const n=r(73563);class i extends RangeError{constructor(e,t){super(`Expect page size to be at most ${t}, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.PageSizeTooLargeException=i;class o extends RangeError{constructor(e,t){super(`Expect page size to be at least ${t}, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.PageSizeTooSmallException=o;class s extends TypeError{constructor(){super("Expect outputs validator to be 'default' or 'passthrough'"),this.code=n.ErrorCode.ParameterInvalid}}t.OutputsValidatorTypeException=s;class a extends TypeError{constructor(e){super(`Expect number to be bigint or hex string, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.BigintOrHexStringTypeException=a;class u extends TypeError{constructor(e){super(`Expect hash to be string, but ${e} received`),this.code=n.ErrorCode.ParameterInvalid}}t.StringHashTypeException=u,t.default={PageSizeTooLargeException:i,PageSizeTooSmallException:o,OutputsValidatorTypeException:s,BigintOrHexStringTypeException:a,StringHashTypeException:u}},69073:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=void 0;const n=r(75310);var i=r(73563);Object.defineProperty(t,"HexStringWithout0xException",{enumerable:!0,get:function(){return i.HexStringWithout0xException}}),(0,n.__exportStar)(r(53491),t),(0,n.__exportStar)(r(84026),t),(0,n.__exportStar)(r(16697),t)},84026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseException=t.IdNotMatchException=void 0;const n=(0,r(75310).__importDefault)(r(74842));class i extends Error{constructor(e,t){super(`Expect json rpc id to be ${e}, but ${t} received`),this.code=n.default.IdNotMatch}}t.IdNotMatchException=i;class o extends Error{constructor(){super(...arguments),this.code=n.default.ResponseMessage}}t.ResponseException=o,t.default={IdNotMatchException:i,ResponseException:o}},80006:(e,t,r)=>{"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0});const s=r(75310),a=(0,s.__importDefault)(r(7188)),u=(0,s.__importDefault)(r(18966)),c=(0,s.__importDefault)(r(7353)),f=(0,s.__importDefault)(r(63950)),l=(0,s.__importDefault)(r(95895)),d=r(69073);class h extends u.default{constructor(e){super(),n.set(this,{url:""}),i.set(this,f.default),o.set(this,l.default),this.addMethod=e=>{const t=new c.default(this.node,e);Object.defineProperty(this,e.name,{value:t.call,enumerable:!0})},this.createBatchRequest=(e=[])=>{const t=this,r=new Proxy([],{set(...e){var r;const n=Object.keys(t);if("length"!==e[1]){const t=null===(r=null==e?void 0:e[2])||void 0===r?void 0:r[0];if(-1===n.indexOf(t))throw new d.MethodInBatchNotFoundException(t)}return Reflect.set(...e)}});return Object.defineProperties(r,{add:{value(...e){return this.push(e),this}},remove:{value(e){return this.splice(e,1),this}},exec:{value(){return(0,s.__awaiter)(this,void 0,void 0,(function*(){const e=r.map((([e,...r],n)=>{try{return new c.default(t.node,Object.assign(Object.assign({},t.rpcProperties[e]),{name:e})).getPayload(...r)}catch(e){throw new d.PayloadInBatchException(n,e.message)}}));if(!e.length)return[];return(yield(0,a.default)({method:"POST",headers:{"content-type":"application/json"},data:e,url:(0,s.__classPrivateFieldGet)(t,n,"f").url,httpAgent:(0,s.__classPrivateFieldGet)(t,n,"f").httpAgent,httpsAgent:(0,s.__classPrivateFieldGet)(t,n,"f").httpsAgent})).data.map(((n,i)=>{var o,s,a;return n.id!==e[i].id?new d.IdNotMatchedInBatchException(i,e[i].id,n.id):null!==(a=null===(s=(o=t.rpcProperties[r[i][0]]).resultFormatters)||void 0===s?void 0:s.call(o,n.result))&&void 0!==a?a:n.result}))}))}}}),e.forEach((e=>r.push(e))),r},this.setNode({url:e}),Object.defineProperties(this,{addMethod:{value:this.addMethod,enumerable:!1,writable:!1,configurable:!1},setNode:{value:this.setNode,enumerable:!1,writable:!1,configurable:!1},createBatchRequest:{value:this.createBatchRequest,enumerable:!1,writable:!1,configurable:!1}}),Object.keys(this.rpcProperties).forEach((e=>{this.addMethod(Object.assign({name:e},this.rpcProperties[e]))}))}get node(){return(0,s.__classPrivateFieldGet)(this,n,"f")}get paramsFormatter(){return(0,s.__classPrivateFieldGet)(this,i,"f")}get resultFormatter(){return(0,s.__classPrivateFieldGet)(this,o,"f")}setNode(e){return Object.assign(this.node,e),this.node}}n=new WeakMap,i=new WeakMap,o=new WeakMap,t.default=h},7353:(e,t,r)=>{"use strict";var n,i,o;Object.defineProperty(t,"__esModule",{value:!0});const s=r(75310),a=(0,s.__importDefault)(r(7188)),u=r(69073);n=new WeakMap,i=new WeakMap,o=new WeakMap,t.default=class{constructor(e,t){n.set(this,void 0),i.set(this,{name:"",method:"",paramsFormatters:[],resultFormatters:void 0}),o.set(this,void 0),this.call=(...e)=>{const t=this.getPayload(...e);return(0,a.default)({method:"POST",headers:{"content-type":"application/json"},data:t,url:(0,s.__classPrivateFieldGet)(this,o,"f").url,httpAgent:(0,s.__classPrivateFieldGet)(this,o,"f").httpAgent,httpsAgent:(0,s.__classPrivateFieldGet)(this,o,"f").httpsAgent}).then((e=>{var r,n,o;if(e.data.id!==t.id)throw new u.IdNotMatchException(t.id,e.data.id);if(e.data.error)throw new u.ResponseException(JSON.stringify(e.data.error));return null!==(o=null===(n=(r=(0,s.__classPrivateFieldGet)(this,i,"f")).resultFormatters)||void 0===n?void 0:n.call(r,e.data.result))&&void 0!==o?o:e.data.result}))},this.getPayload=(...e)=>{const t=e.map(((e,t)=>(0,s.__classPrivateFieldGet)(this,i,"f").paramsFormatters[t]&&(0,s.__classPrivateFieldGet)(this,i,"f").paramsFormatters[t](e)||e));return{id:Math.round(1e4*Math.random()),method:(0,s.__classPrivateFieldGet)(this,i,"f").method,params:t,jsonrpc:"2.0"}},(0,s.__classPrivateFieldSet)(this,o,e,"f"),(0,s.__classPrivateFieldSet)(this,i,t,"f"),(0,s.__classPrivateFieldSet)(this,n,t.name,"f"),Object.defineProperty(this.call,"name",{value:t.name,configurable:!1,writable:!1})}get name(){return(0,s.__classPrivateFieldGet)(this,n,"f")}}},63950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=r(60720),o=r(69073),s={toOptional:e=>t=>e&&null!=t?e(t):t,toArray:e=>t=>"function"==typeof e&&Array.isArray(t)?t.map(e):t,toHash:e=>{if("string"!=typeof e)throw new o.StringHashTypeException(e);return e.startsWith("0x")?e:`0x${e}`},toNumber:e=>{if("bigint"==typeof e)return`0x${e.toString(16)}`;if("string"!=typeof e)throw new o.BigintOrHexStringTypeException(e);if(!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);return e},toScript:e=>{const{codeHash:t,hashType:r}=e,i=(0,n.__rest)(e,["codeHash","hashType"]);return Object.assign({code_hash:s.toHash(t),hash_type:r},i)},toOutPoint:e=>{if(!e)return e;const{txHash:t,index:r}=e,i=(0,n.__rest)(e,["txHash","index"]);return Object.assign({tx_hash:s.toHash(t),index:s.toNumber(r)},i)},toInput:e=>{if(!e)return e;const{previousOutput:t,since:r}=e,i=(0,n.__rest)(e,["previousOutput","since"]);return Object.assign({previous_output:s.toOutPoint(t),since:s.toNumber(r)},i)},toOutput:e=>{if(!e)return e;const{capacity:t,lock:r,type:i=null}=e,o=(0,n.__rest)(e,["capacity","lock","type"]);return Object.assign({capacity:s.toNumber(t),lock:s.toScript(r),type:i?s.toScript(i):i},o)},toDepType:e=>"depGroup"===e?"dep_group":e,toCellDep:e=>{if(!e)return e;const{outPoint:t=null,depType:r="code"}=e,i=(0,n.__rest)(e,["outPoint","depType"]);return Object.assign({out_point:s.toOutPoint(t),dep_type:s.toDepType(r)},i)},toRawTransaction:e=>{if(!e)return e;const{version:t,cellDeps:r=[],inputs:i=[],outputs:o=[],outputsData:a=[],headerDeps:u=[]}=e,c=(0,n.__rest)(e,["version","cellDeps","inputs","outputs","outputsData","headerDeps"]),f=i.map((e=>s.toInput(e))),l=o.map((e=>s.toOutput(e))),d=r.map((e=>s.toCellDep(e)));return Object.assign({version:s.toNumber(t),cell_deps:d,inputs:f,outputs:l,outputs_data:a,header_deps:u},c)},toPageNumber:(e="0x1")=>s.toNumber(e),toPageSize:(e="0x32")=>{const t=i.JSBI.BigInt(`${e}`);if(i.JSBI.greaterThan(t,i.JSBI.BigInt(50)))throw new o.PageSizeTooLargeException(e,50);if(i.JSBI.lessThan(t,i.JSBI.BigInt(0)))throw new o.PageSizeTooSmallException(e,0);return s.toNumber(`0x${t.toString(16)}`)},toReverseOrder:(e=!1)=>!!e,toOutputsValidator:e=>{if(!e)return;if(["default","passthrough"].indexOf(e)>-1)return e;throw new o.OutputsValidatorTypeException},toBoolean:e=>!!e,toTransactionProof:e=>{if(!e)return e;const{blockHash:t,witnessesRoot:r}=e,i=(0,n.__rest)(e,["blockHash","witnessesRoot"]);return Object.assign({block_hash:t,witnesses_root:r},i)}};t.default=s},95895:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(75310),i=e=>{if(!e)return e;const{compact_target:t,transactions_root:r,proposals_hash:i,extra_hash:o,parent_hash:s}=e,a=(0,n.__rest)(e,["compact_target","transactions_root","proposals_hash","extra_hash","parent_hash"]);return Object.assign({compactTarget:t,parentHash:s,transactionsRoot:r,proposalsHash:i,extraHash:o},a)},o=e=>{if(!e)return e;const{code_hash:t,hash_type:r}=e,i=(0,n.__rest)(e,["code_hash","hash_type"]);return Object.assign({codeHash:t,hashType:r},i)},s=e=>{if(!e)return e;const{previous_output:t}=e,r=(0,n.__rest)(e,["previous_output"]);return Object.assign({previousOutput:t?u(t):t},r)},a=e=>{if(!e)return e;const{lock:t,type:r}=e,i=(0,n.__rest)(e,["lock","type"]);return Object.assign({lock:o(t),type:r?o(r):r},i)},u=e=>{if(!e)return e;const{tx_hash:t}=e,r=(0,n.__rest)(e,["tx_hash"]);return Object.assign({txHash:t},r)},c=e=>"dep_group"===e?"depGroup":e,f=e=>{if(!e)return e;const{out_point:t=null,dep_type:r="code"}=e,i=(0,n.__rest)(e,["out_point","dep_type"]);return Object.assign({outPoint:u(t),depType:c(r)},i)};function l(e){if(!e)return e;const{cell_deps:t=[],inputs:r=[],outputs:i=[],outputs_data:o=[],header_deps:u=[]}=e,c=(0,n.__rest)(e,["cell_deps","inputs","outputs","outputs_data","header_deps"]);return Object.assign({cellDeps:t.map(f),inputs:r.map(s),outputs:i.map(a),outputsData:o,headerDeps:u},c)}const d=e=>{if(!e)return e;const{header:t}=e,r=(0,n.__rest)(e,["header"]);return Object.assign({header:i(t)},r)},h=e=>{if(!e)return e;const{notice_until:t}=e,r=(0,n.__rest)(e,["notice_until"]);return Object.assign({noticeUntil:t},r)},p=e=>{if(!e)return e;const{node_id:t,connected_duration:r,is_outbound:i,last_ping_duration:o,sync_state:s}=e,a=(0,n.__rest)(e,["node_id","connected_duration","is_outbound","last_ping_duration","sync_state"]);return Object.assign({nodeId:t,connectedDuration:r,isOutbound:i,lastPingDuration:o,syncState:{bestKnownHeaderHash:s.best_known_header_hash,bestKnownHeaderNumber:s.best_known_header_number,canFetchCount:s.can_fetch_count,inflightCount:s.inflight_count,lastCommonHeaderHash:s.last_common_header_hash,lastCommonHeaderNumber:s.last_common_header_number,unknownHeaderListSize:s.unknown_header_list_size}},a)},y=e=>{if(!e)return e;const{lock:t,type:r}=e,i=(0,n.__rest)(e,["lock","type"]);return Object.assign({lock:o(t),type:r?o(r):null},i)},g=e=>{if(!e)return e;const{data:t,output:r}=e,i=(0,n.__rest)(e,["data","output"]);return Object.assign({data:t,output:a(r)},i)},b=e=>{if(!e)return e;const{lock:t,block_hash:r,out_point:i,output_data_len:s}=e,a=(0,n.__rest)(e,["lock","block_hash","out_point","output_data_len"]);return Object.assign({blockHash:r,lock:o(t),outPoint:u(i),outputDataLen:s},a)},m=e=>{if(!e)return e;const{block_number:t,tx_hash:r}=e,i=(0,n.__rest)(e,["block_number","tx_hash"]);return Object.assign({blockNumber:t,txHash:r},i)},v=e=>{if(!e)return e;const{block_hash:t,block_number:r,lock_hash:i}=e,o=(0,n.__rest)(e,["block_hash","block_number","lock_hash"]);return Object.assign({blockHash:t,blockNumber:r,lockHash:i},o)},_=e=>{if(!e)return e;const{ban_reason:t,ban_until:r,created_at:i}=e,o=(0,n.__rest)(e,["ban_reason","ban_until","created_at"]);return Object.assign({banReason:t,banUntil:r,createdAt:i},o)};t.default={toNumber:e=>e.toString(),toHash:e=>e,toHeader:i,toScript:o,toInput:s,toOutput:a,toOutPoint:u,toDepType:c,toCellDep:f,toTransaction:l,toUncleBlock:d,toBlock:e=>{if(!e)return e;const{header:t,uncles:r=[],transactions:o=[]}=e,s=(0,n.__rest)(e,["header","uncles","transactions"]);return Object.assign({header:i(t),uncles:r.map(d),transactions:o.map(l)},s)},toAlertMessage:h,toBlockchainInfo:e=>{if(!e)return e;const{is_initial_block_download:t,median_time:r,alerts:i}=e,o=(0,n.__rest)(e,["is_initial_block_download","median_time","alerts"]);return Object.assign({isInitialBlockDownload:t,medianTime:r,alerts:i.map(h)},o)},toLocalNodeInfo:e=>{if(!e)return e;const{node_id:t,protocols:r}=e,i=(0,n.__rest)(e,["node_id","protocols"]);return Object.assign({nodeId:t,protocols:r.map((({id:e,name:t,support_versions:r})=>({id:e,name:t,supportVersions:r})))},i)},toRemoteNodeInfo:p,toTxPoolInfo:e=>{if(!e)return e;const{last_txs_updated_at:t,tip_hash:r,tip_number:i,total_tx_cycles:o,total_tx_size:s,min_fee_rate:a}=e,u=(0,n.__rest)(e,["last_txs_updated_at","tip_hash","tip_number","total_tx_cycles","total_tx_size","min_fee_rate"]);return Object.assign({lastTxsUpdatedAt:t,tipHash:r,tipNumber:i,totalTxCycles:o,totalTxSize:s,minFeeRate:a},u)},toPeers:e=>Array.isArray(e)?e.map(p):[],toLiveCell:g,toLiveCellWithStatus:e=>{if(!e)return e;const{cell:t}=e,r=(0,n.__rest)(e,["cell"]);return Object.assign({cell:g(t)},r)},toCell:y,toCells:e=>Array.isArray(e)?e.map(y):[],toCellIncludingOutPoint:b,toCellsIncludingOutPoint:e=>Array.isArray(e)?e.map(b):[],toTransactionWithStatus:e=>{if(!e)return e;const{transaction:t,tx_status:{block_hash:r,status:i}}=e,o=(0,n.__rest)(e,["transaction","tx_status"]);return Object.assign({transaction:l(t),txStatus:{blockHash:r,status:i}},o)},toEpoch:e=>{if(!e)return e;const{start_number:t,compact_target:r}=e,i=(0,n.__rest)(e,["start_number","compact_target"]);return Object.assign({compactTarget:r,startNumber:t},i)},toTransactionPoint:m,toTransactionsByLockHash:e=>e?e.map((e=>({consumedBy:e.consumed_by?m(e.consumed_by):e.consumed_by,createdBy:m(e.created_by)}))):e,toLiveCellsByLockHash:e=>e?e.map((e=>({cellOutput:y(e.cell_output),createdBy:m(e.created_by),cellbase:e.cellbase,outputDataLen:e.output_data_len}))):e,toLockHashIndexState:v,toLockHashIndexStates:e=>e?e.map(v):e,toBannedAddress:_,toBannedAddresses:e=>e?e.map((e=>_(e))):e,toCellbaseOutputCapacityDetails:e=>{if(!e)return e;const{proposal_reward:t,tx_fee:r}=e,i=(0,n.__rest)(e,["proposal_reward","tx_fee"]);return Object.assign({proposalReward:t,txFee:r},i)},toFeeRate:e=>{if(!e)return e;const{fee_rate:t}=e,r=(0,n.__rest)(e,["fee_rate"]);return Object.assign({feeRate:t},r)},toCapacityByLockHash:e=>{if(!e)return e;const{cells_count:t,block_number:r,capacity:i}=e,o=(0,n.__rest)(e,["cells_count","block_number","capacity"]);return Object.assign({blockNumber:r,capacity:i,cellsCount:t},o)},toBlockEconomicState:e=>{if(!e)return e;const{finalized_at:t,miner_reward:r,txs_fee:i}=e,o=(0,n.__rest)(e,["finalized_at","miner_reward","txs_fee"]);return Object.assign({finalizedAt:t,minerReward:r,txsFee:i},o)},toSyncState:e=>e?{bestKnownBlockNumber:e.best_known_block_number,bestKnownBlockTimestamp:e.best_known_block_timestamp,fastTime:e.fast_time,ibd:e.ibd,inflightBlocksCount:e.inflight_blocks_count,lowTime:e.low_time,normalTime:e.normal_time,orphanBlocksCount:e.orphan_blocks_count}:e,toTransactionProof:e=>{if(!e)return e;const{block_hash:t,witnesses_root:r}=e,i=(0,n.__rest)(e,["block_hash","witnesses_root"]);return Object.assign({blockHash:t,witnessesRoot:r},i)},toConsensus:e=>{var t,r;return e?{blockVersion:e.block_version,cellbaseMaturity:e.cellbase_maturity,daoTypeHash:e.dao_type_hash,epochDurationTarget:e.epoch_duration_target,genesisHash:e.genesis_hash,id:e.id,initialPrimaryEpochReward:e.initial_primary_epoch_reward,maxBlockBytes:e.max_block_bytes,maxBlockCycles:e.max_block_cycles,maxBlockProposalsLimit:e.max_block_proposals_limit,maxUnclesNum:e.max_uncles_num,medianTimeBlockCount:e.median_time_block_count,orphanRateTarget:e.orphan_rate_target,permanentDifficultyInDummy:e.permanent_difficulty_in_dummy,primaryEpochRewardHalvingInterval:e.primary_epoch_reward_halving_interval,proposerRewardRatio:e.proposer_reward_ratio,secondaryEpochReward:e.secondary_epoch_reward,secp256k1Blake160MultisigAllTypeHash:e.secp256k1_blake160_multisig_all_type_hash,secp256k1Blake160SighashAllTypeHash:e.secp256k1_blake160_sighash_all_type_hash,txProposalWindow:e.tx_proposal_window,txVersion:e.tx_version,typeIdCodeHash:e.type_id_code_hash,hardforkFeatures:null!==(r=null===(t=e.hardfork_features)||void 0===t?void 0:t.map((e=>{var{epoch_number:t}=e,r=(0,n.__rest)(e,["epoch_number"]);return Object.assign({epochNumber:t},r)})))&&void 0!==r?r:e.hardfork_features}:e},toRawTxPool:e=>{if(!e)return e;if((e=>Array.isArray(e.pending))(e))return e;const t=e=>{var{ancestors_count:t,ancestors_cycles:r,ancestors_size:i}=e,o=(0,n.__rest)(e,["ancestors_count","ancestors_cycles","ancestors_size"]);return Object.assign({ancestorsCount:t,ancestorsCycles:r,ancestorsSize:i},o)},r={},i={};return Object.keys(e.proposed).forEach((n=>{r[n]=t(e.proposed[n])})),Object.keys(e.pending).forEach((r=>{i[r]=t(e.pending[r])})),{proposed:r,pending:i}}}},75310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>l,__importDefault:()=>k,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>s,__spread:()=>g,__spreadArray:()=>m,__spreadArrays:()=>b,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return A(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},82607:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addressToScript=t.parseAddress=t.pubkeyToAddress=t.fullPayloadToAddress=t.bech32Address=t.toAddressPayload=t.scriptToAddress=t.Bech32Type=t.AddressType=t.AddressPrefix=void 0;const n=r(60720),i=r(21243),o=r(81374),s=r(73563),a=1023;var u,c,f;!function(e){e.Mainnet="ckb",e.Testnet="ckt"}(u=t.AddressPrefix||(t.AddressPrefix={})),function(e){e.FullVersion="0x00",e.HashIdx="0x01",e.DataCodeHash="0x02",e.TypeCodeHash="0x04"}(c=t.AddressType||(t.AddressType={})),function(e){e.Bech32="bech32",e.Bech32m="bech32m"}(f=t.Bech32Type||(t.Bech32Type={}));const l=({codeHash:e,hashType:t,args:r})=>{if(!r.startsWith("0x"))throw new s.HexStringWithout0xException(r);if(!e.startsWith("0x")||66!==e.length)throw new s.CodeHashException(e);let n;if(function(e){e.data="00",e.type="01",e.data1="02",e.data2="04"}(n||(n={})),!n[t])throw new s.HashTypeException(t);return(0,o.hexToBytes)(`0x00${e.slice(2)}${n[t]}${r.slice(2)}`)};t.scriptToAddress=(e,t=!0)=>((e,t=!0)=>n.bech32m.encode(t?u.Mainnet:u.Testnet,n.bech32m.toWords(e),a))(l(e),t);t.toAddressPayload=(e,t=c.HashIdx,r,n)=>{if("string"==typeof e&&!e.startsWith("0x"))throw new s.HexStringWithout0xException(e);if(![c.HashIdx,c.DataCodeHash,c.TypeCodeHash,c.FullVersion].includes(t))throw new s.AddressFormatTypeException(+t);if([c.DataCodeHash,c.TypeCodeHash].includes(t)&&console.warn("Address of 'AddressType.DataCodeHash' or 'AddressType.TypeCodeHash' is deprecated, please use address of AddressPrefix.FullVersion"),r||(r=t===c.HashIdx?"0x00":i.SECP256K1_BLAKE160.codeHash),t!==c.FullVersion)return new Uint8Array([...(0,o.hexToBytes)(t),...(0,o.hexToBytes)(r),..."string"==typeof e?(0,o.hexToBytes)(e):e]);if(n||r!==i.SECP256K1_BLAKE160.codeHash||(n=i.SECP256K1_BLAKE160.hashType),!r.startsWith("0x")||66!==r.length)throw new s.CodeHashException(r);if(!n)throw new s.ParameterRequiredException("hashType");return l({codeHash:r,hashType:n,args:"string"==typeof e?e:(0,o.bytesToHex)(e)})};t.bech32Address=(e,{prefix:r=u.Mainnet,type:i=c.HashIdx,codeHashOrCodeHashIndex:o=""}={})=>n.bech32.encode(r,n.bech32.toWords((0,t.toAddressPayload)(e,i,o)),a);t.fullPayloadToAddress=({args:e,prefix:r,type:n=c.DataCodeHash,codeHash:i})=>(0,t.bech32Address)(e,{prefix:r,type:n,codeHashOrCodeHashIndex:i});t.pubkeyToAddress=(e,r={})=>{const i=(0,n.blake160)(e);return(0,t.bech32Address)(i,r)};const d=(e,t)=>{const r=e[0],n=e.slice(1);switch(r){case+c.HashIdx:((e,t)=>{const[r,n,...i]=e;if(t!==f.Bech32)throw new s.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);switch(n){case 0:case 1:if(20!==i.length)throw new s.AddressPayloadException(e,"short");break;case 2:if(20===i.length||22===i.length||24===i.length)break;throw new s.AddressPayloadException(e,"short");default:throw new s.AddressPayloadException(e,"short")}})(e,t);break;case+c.DataCodeHash:case+c.TypeCodeHash:if(t!==f.Bech32)throw new s.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);if(n.length<32)throw new s.AddressPayloadException(e,"full");break;case+c.FullVersion:{if(t!==f.Bech32m)throw new s.AddressFormatTypeAndEncodeMethodNotMatchException(r,t);const e=n.slice(0,32);if(e.length<32)throw new s.CodeHashException((0,o.bytesToHex)(e));const i=parseInt(n[32].toString(),16);if(![0,1,2,4].includes(i))throw new s.HashTypeException(`0x${i.toString(16)}`);break}default:throw new s.AddressPayloadException(e)}};t.parseAddress=(e,t="binary")=>{let r,i=new Uint8Array;try{const t=n.bech32.decode(e,a);r=f.Bech32,i=new Uint8Array(n.bech32.fromWords(new Uint8Array(t.words)))}catch(t){const o=n.bech32m.decode(e,a);r=f.Bech32m,i=new Uint8Array(n.bech32m.fromWords(new Uint8Array(o.words)))}try{d(i,r)}catch(t){if(t instanceof s.AddressFormatTypeAndEncodeMethodNotMatchException)throw t;throw new s.AddressException(e,t.stack,t.type)}return"binary"===t?i:(0,o.bytesToHex)(i)};t.addressToScript=e=>{const r=(0,t.parseAddress)(e),n=r[0];switch(n){case+c.FullVersion:{const e={"00":"data","01":"type","02":"data1","04":"data2"},t=(0,o.bytesToHex)(r);return{codeHash:`0x${t.substr(4,64)}`,hashType:e[t.substr(68,2)],args:`0x${t.substr(70)}`}}case+c.HashIdx:{const t=[i.SECP256K1_BLAKE160,i.SECP256K1_MULTISIG,e.startsWith(u.Mainnet)?i.ANYONE_CAN_PAY_MAINNET:i.ANYONE_CAN_PAY_TESTNET],n=r[1],s=r.slice(2),a=t[n];return{codeHash:a.codeHash,hashType:a.hashType,args:(0,o.bytesToHex)(s)}}case+c.DataCodeHash:case+c.TypeCodeHash:{const e=(0,o.bytesToHex)(r.slice(1)),t=n===+c.DataCodeHash?"data":"type";return{codeHash:e.substr(0,66),hashType:t,args:`0x${e.substr(66)}`}}default:throw new s.AddressFormatTypeException(n)}}},48412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateTransactionFee=void 0;const n=(0,r(41032).__importDefault)(r(86626)),i=r(6969);t.calculateTransactionFee=(e,t)=>{(0,i.assertToBeHexStringOrBigint)(e),(0,i.assertToBeHexStringOrBigint)(t);const r=n.default.BigInt(1e3),o=n.default.multiply(n.default.BigInt(`${e}`),n.default.BigInt(`${t}`)),s=n.default.divide(o,r);return n.default.lessThan(n.default.multiply(s,r),o)?`0x${n.default.add(s,n.default.BigInt(1)).toString(16)}`:`0x${s.toString(16)}`},t.default=t.calculateTransactionFee},9467:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_SECP_SIG=t.EMPTY_WITNESS_ARGS=t.PERSONAL=void 0,t.PERSONAL=new Uint8Array([99,107,98,45,100,101,102,97,117,108,116,45,104,97,115,104]),t.EMPTY_WITNESS_ARGS={lock:"",inputType:"",outputType:""},t.EMPTY_SECP_SIG=`0x${"0".repeat(130)}`,t.default={PERSONAL:t.PERSONAL,EMPTY_WITNESS_ARGS:t.EMPTY_WITNESS_ARGS,EMPTY_SECP_SIG:t.EMPTY_SECP_SIG}},81374:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToHex=t.toBigEndian=t.hexToBytes=t.toUint64Le=t.toUint32Le=t.toUint16Le=void 0;const n=r(6969),i=r(73563);t.toUint16Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(2));return t.setUint16(0,Number(e),!0),`0x${t.getUint16(0,!1).toString(16).padStart(4,"0")}`};t.toUint32Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const t=new DataView(new ArrayBuffer(4));return t.setUint32(0,Number(e),!0),`0x${t.getUint32(0,!1).toString(16).padStart(8,"0")}`};t.toUint64Le=e=>{(0,n.assertToBeHexStringOrBigint)(e);const r=("bigint"==typeof e?e.toString(16):e.slice(2)).padStart(16,"0"),i=(0,t.toUint32Le)(`0x${r.slice(0,8)}`).slice(2);return`0x${(0,t.toUint32Le)(`0x${r.slice(8)}`).slice(2)}${i}`};t.hexToBytes=e=>{if(""===e)return new Uint8Array;if("string"==typeof e&&!e.startsWith("0x"))throw new i.HexStringWithout0xException(e);let t=e.toString(16).replace(/^0x/i,"");t=t.length%2?`0${t}`:t;const r=[];for(let e=0;e<t.length;e+=2)r.push(parseInt(t.substr(e,2),16));return new Uint8Array(r)};t.toBigEndian=e=>{(0,n.assertToBeHexString)(e);return`0x${(0,t.hexToBytes)(e).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`};t.bytesToHex=e=>`0x${[...e].map((e=>e.toString(16).padStart(2,"0"))).join("")}`,t.default={toUint16Le:t.toUint16Le,toUint32Le:t.toUint32Le,toUint64Le:t.toUint64Le,hexToBytes:t.hexToBytes,bytesToHex:t.bytesToHex,toBigEndian:t.toBigEndian}},77432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake160=void 0;const n=(0,r(41032).__importDefault)(r(71461)),i=r(81374),o=r(9467);t.blake160=(e,t="binary")=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,s=(0,n.default)(32,null,null,o.PERSONAL);return s.update(r),s.digest(t).slice(0,"binary"===t?20:40)},t.default=t.blake160},71461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=t.Blake2b=void 0;const{OutLenTooSmallException:n,OutLenTooLargeException:i,KeyLenTooSmallException:o,KeyLenTooLargeException:s,OutTypeException:a,SaltTypeException:u,SaltLenException:c,InputTypeException:f,KeyTypeException:l,PersonalTypeException:d,PersonalLenException:h}=r(73563),p=new Uint32Array(32),y=new Uint32Array(32),g=(e,t,r)=>{const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i},b=(e,t,r,n)=>{let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o},m=(e,t)=>e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24,v=(e,t,r,n,i,o)=>{const s=y[i],a=y[i+1],u=y[o],c=y[o+1];g(p,e,t),b(p,e,s,a);let f=p[n]^p[e],l=p[n+1]^p[e+1];p[n]=l,p[n+1]=f,g(p,r,n),f=p[t]^p[r],l=p[t+1]^p[r+1],p[t]=f>>>24^l<<8,p[t+1]=l>>>24^f<<8,g(p,e,t),b(p,e,u,c),f=p[n]^p[e],l=p[n+1]^p[e+1],p[n]=f>>>16^l<<16,p[n+1]=l>>>16^f<<16,g(p,r,n),f=p[t]^p[r],l=p[t+1]^p[r+1],p[t]=l>>>31^f<<1,p[t+1]=f>>>31^l<<1},_=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),w=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((e=>2*e))),S=(e,t)=>{let r=0;for(r=0;r<16;r++)p[r]=e.h[r],p[r+16]=_[r];for(p[24]^=e.t,p[25]^=e.t/4294967296,t&&(p[28]=~p[28],p[29]=~p[29]),r=0;r<32;r++)y[r]=m(e.b,4*r);for(r=0;r<12;r++)v(0,8,16,24,w[16*r+0],w[16*r+1]),v(2,10,18,26,w[16*r+2],w[16*r+3]),v(4,12,20,28,w[16*r+4],w[16*r+5]),v(6,14,22,30,w[16*r+6],w[16*r+7]),v(0,10,20,30,w[16*r+8],w[16*r+9]),v(2,12,22,24,w[16*r+10],w[16*r+11]),v(4,14,16,26,w[16*r+12],w[16*r+13]),v(6,8,18,28,w[16*r+14],w[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^p[r]^p[r+16]},E=(e,t)=>{for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,S(e,!1),e.c=0),e.b[e.c++]=+t[r]},A=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);class x{constructor(e,t,r,n){this.update=e=>{if(!(e instanceof Uint8Array))throw new f;return E(this,e),this},this.digest=e=>{const t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);if(!(t instanceof Uint8Array))throw new a;if(t.length<this.outlen)throw new Error("out must have at least outlen bytes of space");return((e,t)=>{for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;S(e,!0);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)})(this,t),"hex"===e?(e=>{let t="";for(let n=0;n<e.length;n++)t+=(r=+e[n])<16?`0${r.toString(16)}`:r.toString(16);var r;return t})(t):t},this.final=this.digest,A.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,A[0]=e,t&&(A[1]=t.length),A[2]=1,A[3]=1,r&&A.set(r,32),n&&A.set(n,48);for(let e=0;e<16;e++)this.h[e]=_[e]^m(A,4*e);t&&(E(this,t),this.c=128)}}t.Blake2b=x;t.blake2b=(e,t,r,a,f)=>{if(!0!==f){if(e<16)throw new n(e,16);if(e>64)throw new i(e,64);if(null!==t){if(!(t instanceof Uint8Array))throw new l;if(t.length<16)throw new o(t.length,16);if(t.length>64)throw new s(t.length,64)}if(null!==r){if(!(r instanceof Uint8Array))throw new u;if(16!==r.length)throw new c(r.length,16)}if(null!==a){if(!(a instanceof Uint8Array))throw new d;if(16!==a.length)throw new h(a.length,16)}}return new x(e,t,r,a)},t.default=t.blake2b},78984:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(41032),i=r(22343),o=(0,n.__importDefault)(r(71461)),s=(0,n.__importDefault)(r(77432));e.exports={blake2b:o.default,blake160:s.default,bech32:i.bech32,bech32m:i.bech32m},t.default={blake2b:o.default,blake160:s.default,bech32:i.bech32,bech32m:i.bech32m}},64750:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(22734),i=r(81374),o=r(73563),s=new n.ec("secp256k1");t.default=class{constructor(e,{compressed:t=!0}={compressed:!0}){if(this.compressed=!1,this.getPrivateKey=(e="hex")=>"hex"===e?this.privateKey:this.key.getPrivate(e),this.getPublicKey=e=>"hex"===e?this.publicKey:this.key.getPublic(this.compressed,e),this.sign=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e;return`0x${this.key.sign(t,{canonical:!0}).toDER("hex")}`},this.verify=(e,t)=>{const r="string"==typeof e?(0,i.hexToBytes)(e):e,n="string"==typeof t?(0,i.hexToBytes)(t):t;return this.key.verify(r,n)},this.signRecoverable=e=>{const t="string"==typeof e?(0,i.hexToBytes)(e):e,{r,s:n,recoveryParam:s}=this.key.sign(t,{canonical:!0});if(null===s)throw new o.SignMessageException;return`0x${r.toString(16).padStart(64,"0")}${n.toString(16).padStart(64,"0")}0${s}`},void 0===e)throw new o.ParameterRequiredException("Private key");if("string"==typeof e&&!e.startsWith("0x"))throw new o.HexStringWithout0xException(e);if("string"==typeof e&&66!==e.length)throw new o.PrivateKeyLenException;if("object"==typeof e&&32!==e.byteLength)throw new o.PrivateKeyLenException;this.key=s.keyFromPrivate("string"==typeof e?e.replace(/^0x/,""):e),this.compressed=t}get privateKey(){return`0x${this.key.getPrivate("hex").padStart(64,"0")}`}get publicKey(){return`0x${this.key.getPublic(this.compressed,"hex")}`}}},80844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithdrawEpoch=t.parseEpoch=t.serializeEpoch=void 0;const n=(0,r(41032).__importDefault)(r(86626)),i=r(6969);t.serializeEpoch=({length:e,index:t,number:r})=>{(0,i.assertToBeHexString)(e),(0,i.assertToBeHexString)(t),(0,i.assertToBeHexString)(r);return`0x${n.default.add(n.default.add(n.default.add(n.default.leftShift(n.default.BigInt(32),n.default.BigInt(56)),n.default.leftShift(n.default.BigInt(e),n.default.BigInt(40))),n.default.leftShift(n.default.BigInt(t),n.default.BigInt(24))),n.default.BigInt(r)).toString(16)}`};t.parseEpoch=e=>({length:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(40)),n.default.BigInt(65535)).toString(16)}`,index:`0x${n.default.bitwiseAnd(n.default.signedRightShift(n.default.BigInt(e),n.default.BigInt(24)),n.default.BigInt(65535)).toString(16)}`,number:`0x${n.default.bitwiseAnd(n.default.BigInt(e),n.default.BigInt(16777215)).toString(16)}`});t.getWithdrawEpoch=(e,r)=>{const n=180,i=(0,t.parseEpoch)(e),o=(0,t.parseEpoch)(r);let s=+o.number-+i.number;+o.index*+i.length>+i.index*+o.length&&(s+=1);const a=s<=n?n:(Math.floor((s-1)/n)+1)*n;return(0,t.serializeEpoch)({index:i.index,length:i.length,number:`0x${(+i.number+a).toString(16)}`})},t.default={serializeEpoch:t.serializeEpoch,parseEpoch:t.parseEpoch,getWithdrawEpoch:t.getWithdrawEpoch}},56744:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorCode=void 0,function(e){e[e.ParameterInvalid=101]="ParameterInvalid",e[e.ParameterRequired=102]="ParameterRequired",e[e.SignMessageFailed=103]="SignMessageFailed",e[e.AddressInvalid=104]="AddressInvalid",e[e.ReconciliationFailed=105]="ReconciliationFailed"}(r=t.ErrorCode||(t.ErrorCode={})),t.default=r},40119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressFormatTypeAndEncodeMethodNotMatchException=t.AddressFormatTypeException=t.HashTypeException=t.CodeHashException=t.AddressException=t.AddressPayloadException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(e,t){super(`'${e}' is not a valid ${t?`${t} version `:""}address payload`),this.code=n.default.AddressInvalid,this.type=t}}t.AddressPayloadException=i;class o extends Error{constructor(e,t,r){super(`'${e}' is not a valid ${r?`${r} version `:""}address`),this.code=n.default.AddressInvalid,this.type=r,this.stack=t}}t.AddressException=o;class s extends Error{constructor(e){super(`'${e}' is not a valid code hash`),this.code=n.default.AddressInvalid}}t.CodeHashException=s;class a extends Error{constructor(e){super(`'${e}' is not a valid hash type`),this.code=n.default.AddressInvalid}}t.HashTypeException=a;class u extends Error{constructor(e){super(`0x${e.toString(16).padStart(2,"0")} is not a valid address format type`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeException=u;class c extends Error{constructor(e,t="unknown"){super(`Address format type 0x${e.toString(16).padStart(2,"0")} doesn't match encode method ${t}`),this.code=n.default.AddressInvalid}}t.AddressFormatTypeAndEncodeMethodNotMatchException=c,t.default={AddressPayloadException:i,AddressException:o,CodeHashException:s,HashTypeException:a,AddressFormatTypeException:u,AddressFormatTypeAndEncodeMethodNotMatchException:c}},86390:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PersonalLenException=t.PersonalTypeException=t.KeyTypeException=t.InputTypeException=t.SaltLenException=t.SaltTypeException=t.OutTypeException=t.KeyLenTooLargeException=t.KeyLenTooSmallException=t.OutLenTooLargeException=t.OutLenTooSmallException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(e,t){super(`Expect outlen to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooSmallException=i;class o extends Error{constructor(e,t){super(`Expect outlen to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.OutLenTooLargeException=o;class s extends Error{constructor(e,t){super(`Expect key length to be at least ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooSmallException=s;class a extends Error{constructor(e,t){super(`Expect key length to be at most ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.KeyLenTooLargeException=a;class u extends TypeError{constructor(){super('Expect out to be "binary", "hex", Uint8Array, or Buffer'),this.code=n.default.ParameterInvalid}}t.OutTypeException=u;class c extends TypeError{constructor(){super("Expect salt to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.SaltTypeException=c;class f extends Error{constructor(e,t){super(`Expect salt length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.SaltLenException=f;class l extends TypeError{constructor(){super("Expect input to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.InputTypeException=l;class d extends TypeError{constructor(){super("Expect key to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.KeyTypeException=d;class h extends TypeError{constructor(){super("Expect PERSONAL to be Uint8Array or Buffer"),this.code=n.default.ParameterInvalid}}t.PersonalTypeException=h;class p extends Error{constructor(e,t){super(`Expect PERSONAL length to be ${t}, but ${e} received`),this.code=n.default.ParameterInvalid}}t.PersonalLenException=p,t.default={OutLenTooSmallException:i,OutLenTooLargeException:o,KeyLenTooSmallException:s,KeyLenTooLargeException:a,OutTypeException:u,SaltTypeException:c,SaltLenException:f,InputTypeException:l,KeyTypeException:d,PersonalTypeException:h,PersonalLenException:p}},94338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignMessageException=t.ParameterRequiredException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(e){super(`${e} is required`),this.code=n.default.ParameterRequired}}t.ParameterRequiredException=i;class o extends Error{constructor(){super("Fail to sign the message"),this.code=n.default.SignMessageFailed}}t.SignMessageException=o,t.default={ParameterRequiredException:i,SignMessageException:o}},73563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(41032);(0,n.__exportStar)(r(56744),t),(0,n.__exportStar)(r(94338),t),(0,n.__exportStar)(r(94290),t),(0,n.__exportStar)(r(40119),t),(0,n.__exportStar)(r(86390),t),(0,n.__exportStar)(r(5341),t),(0,n.__exportStar)(r(44351),t)},5341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PrivateKeyLenException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(){super("Private key has invalid length"),this.code=n.default.ParameterInvalid}}t.PrivateKeyLenException=i,t.default={PrivateKeyLenException:i}},94290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HexStringWithout0xException=t.HexStringException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(e){super(`${e} is an invalid hex string`),this.code=n.default.ParameterInvalid}}t.HexStringException=i;class o extends Error{constructor(e){super(`Hex string ${e} should start with 0x`),this.code=n.default.ParameterInvalid}}t.HexStringWithout0xException=o,t.default={HexStringException:i,HexStringWithout0xException:o}},44351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReconciliationException=void 0;const n=(0,r(41032).__importDefault)(r(56744));class i extends Error{constructor(){super("Fail to reconcile transaction, try to increase extra count or check the transaction"),this.code=n.default.ReconciliationFailed}}t.ReconciliationException=i,t.default={ReconciliationException:i}},60720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMaximumWithdraw=t.extractDAOData=t.privateKeyToAddress=t.privateKeyToPublicKey=t.rawTransactionToHash=t.scriptToHash=t.blake160=t.bech32m=t.bech32=t.blake2b=t.PERSONAL=t.JSBI=t.serializeWitnessArgs=t.serializeTransaction=t.serializeRawTransaction=t.serializeScript=t.reconcilers=t.systemScripts=void 0;const n=r(41032),i=(0,n.__importDefault)(r(86626));t.JSBI=i.default;const o=(0,n.__importDefault)(r(64750)),s=r(81374),a=r(82607),u=r(73563),c=(0,n.__importDefault)(r(78984)),f=r(35683);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return f.serializeScript}});const l=r(23918),d=r(21687);Object.defineProperty(t,"serializeRawTransaction",{enumerable:!0,get:function(){return d.serializeRawTransaction}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return d.serializeTransaction}}),Object.defineProperty(t,"serializeWitnessArgs",{enumerable:!0,get:function(){return d.serializeWitnessArgs}});const h=r(9467);Object.defineProperty(t,"PERSONAL",{enumerable:!0,get:function(){return h.PERSONAL}}),(0,n.__exportStar)(r(82607),t),(0,n.__exportStar)(r(35683),t),(0,n.__exportStar)(r(81374),t),(0,n.__exportStar)(r(80844),t),(0,n.__exportStar)(r(38222),t),(0,n.__exportStar)(r(23918),t),t.systemScripts=(0,n.__importStar)(r(21243)),t.reconcilers=(0,n.__importStar)(r(54932)),t.blake2b=c.default.blake2b,t.bech32=c.default.bech32,t.bech32m=c.default.bech32m,t.blake160=c.default.blake160;t.scriptToHash=e=>{if(!e)throw new u.ParameterRequiredException("Script");const r=(0,f.serializeScript)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,s.hexToBytes)(r));return`0x${n.digest("hex")}`};t.rawTransactionToHash=e=>{if(!e)throw new u.ParameterRequiredException("Raw transaction");const r=(0,d.serializeRawTransaction)(e),n=(0,t.blake2b)(32,null,null,h.PERSONAL);n.update((0,s.hexToBytes)(r));return`0x${n.digest("hex")}`};t.privateKeyToPublicKey=e=>new o.default(e).publicKey;t.privateKeyToAddress=(e,r)=>(0,a.pubkeyToAddress)((0,t.privateKeyToPublicKey)(e),r);t.extractDAOData=e=>{if(!e.startsWith("0x"))throw new u.HexStringWithout0xException(e);const t=e.replace("0x","");return{c:(0,s.toBigEndian)(`0x${t.slice(0,16)}`),ar:(0,s.toBigEndian)(`0x${t.slice(16,32)}`),s:(0,s.toBigEndian)(`0x${t.slice(32,48)}`),u:(0,s.toBigEndian)(`0x${t.slice(48,64)}`)}};t.calculateMaximumWithdraw=(e,r,n,o)=>{const s=(0,l.cellOccupied)(e)+r.slice(2).length/2,a=i.default.asUintN(128,i.default.multiply(i.default.BigInt(1e8),i.default.BigInt(s)));return`0x${i.default.add(i.default.divide(i.default.multiply(i.default.subtract(i.default.asUintN(128,i.default.BigInt(e.capacity)),a),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(o).ar))),i.default.asUintN(128,i.default.BigInt((0,t.extractDAOData)(n).ar))),a).toString(16)}`}},23918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cellOccupied=t.scriptOccupied=void 0;t.scriptOccupied=e=>e.args.slice(2).length/2+32+1;t.cellOccupied=e=>8+(0,t.scriptOccupied)(e.lock)+(e.type?(0,t.scriptOccupied)(e.type):0)},9167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extraInputs=void 0;const n=r(41032),i=(0,n.__importDefault)(r(86626)),o=(0,n.__importDefault)(r(48412)),s=r(38222),a=r(73563);t.extraInputs=e=>{const t=i.default.BigInt(`${e.changeThreshold}`),r=i.default.BigInt(`${e.feeRate}`),n=e.tx.outputs[e.tx.outputs.length-1],u=i.default.BigInt(n.capacity),c=i.default.BigInt((0,o.default)(`0x${(0,s.getTransactionSize)(e.tx).toString(16)}`,`0x${r.toString(16)}`)),f=i.default.subtract(i.default.add(c,t),u);if(i.default.LE(f,i.default.BigInt(0)))return Object.assign(Object.assign({},e.tx),{outputs:[...e.tx.outputs.slice(0,-1),Object.assign(Object.assign({},n),{capacity:`0x${i.default.subtract(u,c).toString(16)}`})]});e.cells.sort(((e,t)=>+i.default.subtract(i.default.BigInt(e.capacity),i.default.BigInt(t.capacity))));const l=i.default.BigInt(44),d=i.default.divide(i.default.multiply(l,r),i.default.BigInt(1e3));for(let r=1;r<=Math.min(e.extraCount,e.cells.length);r++){const o=i.default.multiply(i.default.BigInt(r),d),s=i.default.add(f,o),a=e.cells.slice(0,r).reduce(((e,t)=>i.default.add(e,i.default.BigInt(t.capacity))),i.default.BigInt(0));if(i.default.GE(a,s)){const o=[...e.tx.inputs,...e.cells.slice(0,r).map((e=>({previousOutput:e.outPoint,since:"0x0"})))],u=i.default.add(t,i.default.subtract(a,s)),c=Object.assign(Object.assign({},n),{capacity:`0x${u.toString(16)}`}),f=[...e.tx.outputs.slice(0,-1),c];return Object.assign(Object.assign({},e.tx),{inputs:o,outputs:f})}}throw new a.ReconciliationException},t.default=t.extraInputs},54932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});(0,r(41032).__exportStar)(r(9167),t)},52457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeOption=t.serializeTable=t.serializeDynVec=t.serializeFixVec=t.serializeStruct=t.serializeArray=t.getOffsets=t.fullLengthSize=t.offsetSize=void 0;const n=r(81374);t.offsetSize=4,t.fullLengthSize=4;t.getOffsets=e=>{const r=[t.fullLengthSize+t.offsetSize*e.length];return e.forEach(((t,n)=>{n&&r.push(r[r.length-1]+e[n-1])})),r};t.serializeArray=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The array to be serialized should by type of string or bytes");const t="string"==typeof e?(0,n.hexToBytes)(e):e;return(0,n.bytesToHex)(t)};t.serializeStruct=e=>{let r="";return e.forEach((e=>{r+=(0,t.serializeArray)(e).slice(2)})),`0x${r}`};t.serializeFixVec=e=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("The fixed vector to be serialized should be a string or an array of bytes");const r=("string"==typeof e?[...(0,n.hexToBytes)(e)].map((e=>`0x${e.toString(16)}`)):e).map((e=>(0,t.serializeArray)(e).slice(2)));return`0x${(0,n.toUint32Le)(`0x${r.length.toString(16)}`).slice(2)}${r.join("")}`};t.serializeDynVec=e=>{if(!Array.isArray(e))throw new TypeError("The dynamic vector to be serialized should be an array of bytes");const r=e.map((e=>(0,t.serializeArray)(e).slice(2))),i=r.join("");let o="";r.length&&(o=(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join(""));const s=t.fullLengthSize+t.offsetSize*r.length;return`0x${(0,n.toUint32Le)(`0x${(s+i.length/2).toString(16)}`).slice(2)}${o}${i}`};t.serializeTable=e=>{const r=[];e.forEach((e=>{r.push((0,t.serializeArray)(e).slice(2))}));const i=r.join(""),o=t.fullLengthSize+t.offsetSize*e.size;return`0x${(0,n.toUint32Le)(`0x${(o+i.length/2).toString(16)}`).slice(2)}${(0,t.getOffsets)(r.map((e=>e.length/2))).map((e=>(0,n.toUint32Le)(`0x${e.toString(16)}`).slice(2))).join("")}${i}`};t.serializeOption=e=>e||"0x"},35683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(41032);(0,n.__exportStar)(r(52457),t),(0,n.__exportStar)(r(94048),t),(0,n.__exportStar)(r(21687),t)},94048:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=t.serializeArgs=t.serializeHashType=t.serializeCodeHash=void 0;const n=r(52457),i=r(73563);t.serializeCodeHash=e=>(0,n.serializeArray)(e);t.serializeHashType=e=>{if("data"===e)return"0x00";if("type"===e)return"0x01";if("data1"===e)return"0x02";if("data2"===e)return"0x04";throw new TypeError("Hash type must be either of 'data', 'type', 'data1' or 'data2'")};t.serializeArgs=e=>(0,n.serializeFixVec)(e);t.serializeScript=e=>{if(!e)throw new i.ParameterRequiredException("Script");const{codeHash:r="",hashType:o,args:s=""}=e,a=(0,t.serializeCodeHash)(r),u=(0,t.serializeHashType)(o),c=(0,t.serializeArgs)(s),f=new Map([["codeHash",a],["hashType",u],["args",c]]);return(0,n.serializeTable)(f)}},21687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeTransaction=t.serializeRawTransaction=t.serializeWitnesses=t.serializeWitnessArgs=t.serializeOutputsData=t.serializeOutputs=t.serializeOutput=t.serializeInputs=t.serializeInput=t.serializeHeaderDeps=t.serializeCellDeps=t.serializeCellDep=t.serializeDepType=t.serializeOutPoint=t.serializeVersion=void 0;const n=r(94048),i=r(81374),o=r(52457);t.serializeVersion=e=>(0,i.toUint32Le)(e);t.serializeOutPoint=e=>{if(!e)return"";const t=new Map([["txHash",e.txHash],["index",(0,i.toUint32Le)(e.index)]]);return(0,o.serializeStruct)(t)};t.serializeDepType=e=>{if("code"===e)return"0x00";if("depGroup"===e)return"0x01";throw new TypeError("Dep type must be either of 'code' or 'depGroup'")};t.serializeCellDep=e=>{const r=(0,t.serializeOutPoint)(e.outPoint),n=(0,t.serializeDepType)(e.depType),i=new Map([["outPoint",r],["depType",n]]);return(0,o.serializeStruct)(i)};t.serializeCellDeps=e=>{const r=e.map((e=>(0,t.serializeCellDep)(e)));return(0,o.serializeFixVec)(r)};t.serializeHeaderDeps=e=>{const t=e.map((e=>(0,o.serializeArray)(e)));return(0,o.serializeFixVec)(t)};t.serializeInput=e=>{const r=(0,t.serializeOutPoint)(e.previousOutput),n=(0,i.toUint64Le)(e.since),s=new Map([["since",n],["previousOutput",r]]);return(0,o.serializeStruct)(s)};t.serializeInputs=e=>{const r=e.map((e=>(0,t.serializeInput)(e)));return(0,o.serializeFixVec)(r)};t.serializeOutput=e=>{const t=(0,i.toUint64Le)(e.capacity),r=(0,n.serializeScript)(e.lock),s=e.type?(0,n.serializeScript)(e.type):"",a=new Map([["capacity",t],["lock",r],["type",s]]);return(0,o.serializeTable)(a)};t.serializeOutputs=e=>{const r=e.map((e=>(0,t.serializeOutput)(e)));return(0,o.serializeDynVec)(r)};t.serializeOutputsData=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeWitnessArgs=e=>{const[t,r,n]=[e.lock,e.inputType,e.outputType].map((e=>"0x"===(0,o.serializeOption)(e)?"0x":(0,o.serializeFixVec)(e))),i=new Map([["lock",t],["inputType",r],["outputType",n]]);return(0,o.serializeTable)(i)};t.serializeWitnesses=e=>{const t=e.map((e=>(0,o.serializeFixVec)(e)));return(0,o.serializeDynVec)(t)};t.serializeRawTransaction=e=>{const r=(0,t.serializeVersion)(e.version),n=(0,t.serializeCellDeps)(e.cellDeps),i=(0,t.serializeHeaderDeps)(e.headerDeps),s=(0,t.serializeInputs)(e.inputs),a=(0,t.serializeOutputs)(e.outputs),u=(0,t.serializeOutputsData)(e.outputsData),c=new Map([["version",r],["cellDeps",n],["headerDeps",i],["inputs",s],["outputs",a],["outputsData",u]]);return(0,o.serializeTable)(c)};t.serializeTransaction=e=>{const r=(0,t.serializeRawTransaction)(e),n=(0,t.serializeWitnesses)(e.witnesses||[]),i=new Map([["raw",r],["witnesses",n]]);return(0,o.serializeTable)(i)}},38222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionSize=void 0;const n=r(21687);t.getTransactionSize=e=>{const t=Object.assign(Object.assign({},e),{witnesses:e.witnesses.map((e=>"string"==typeof e?e:(0,n.serializeWitnessArgs)(e)))});return(0,n.serializeTransaction)(t).slice(2).length/2+4},t.default={getTransactionSize:t.getTransactionSize}},21243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIMPLE_UDT=t.NERVOS_DAO=t.ANYONE_CAN_PAY_TESTNET=t.ANYONE_CAN_PAY_MAINNET=t.SECP256K1_MULTISIG=t.SECP256K1_BLAKE160=void 0,t.SECP256K1_BLAKE160={codeHash:"0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"}},t.SECP256K1_MULTISIG={codeHash:"0x5c5069eb0857efc65e1bca0c07df34c31663b3622fd3876c876320fc9634e2a8",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x1"},testnetOutPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x1"}},t.ANYONE_CAN_PAY_MAINNET={codeHash:"0xd369597ff47f29fbc0d47d2e3775370d1250b85140c670e4718af712983a2354",hashType:"type",depType:"depGroup",mainnetOutPoint:{txHash:"0x4153a2014952d7cac45f285ce9a7c5c0c0e1b21f2d378b82ac1433cb11c25c4d",index:"0x0"}},t.ANYONE_CAN_PAY_TESTNET={codeHash:"0x3419a1c09eb2567f6552ee7a8ecffd64155cffe0f1796e6e61ec088d740c1356",hashType:"type",depType:"depGroup",testnetOutPoint:{txHash:"0xec26b0f85ed839ece5f11c4c4e837ec359f5adc4420410f6453b1f6b60fb96a6",index:"0x0"}},t.NERVOS_DAO={codeHash:"0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e",hashType:"type",depType:"code",mainnetOutPoint:{txHash:"0xe2fb199810d49a4d8beec56718ba2593b665db9d52299a0f9e6e75416d73ff5c",index:"0x2"},testnetOutPoint:{txHash:"0x8f8c79eb6671709633fe6a46de93c0fedc9c1b8a6527a18d3983879542635c9f",index:"0x2"}},t.SIMPLE_UDT={codeHash:"0x48dbf59b4c7ee1547238021b4869bceedf4eea6b43772e5d66ef8865b6ae7212",hashType:"data",depType:"code",testnetOutPoint:{txHash:"0xc1b2ae129fad7465aaa9acc9785f842ba3e6e8b8051d899defa89f5508a77958",index:"0x0"}}},6969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertToBeHexStringOrBigint=t.assertToBeHexString=void 0;const n=r(73563);t.assertToBeHexString=e=>{if("string"!=typeof e||!e.startsWith("0x")||Number.isNaN(+e))throw new n.HexStringException(e);return!0};t.assertToBeHexStringOrBigint=e=>{if("bigint"==typeof e)return!0;if("string"==typeof e){if(!e.startsWith("0x"))throw new n.HexStringWithout0xException(e);return!0}throw new TypeError(`${e} should be type of string or bigint`)},t.default={assertToBeHexString:t.assertToBeHexString,assertToBeHexStringOrBigint:t.assertToBeHexStringOrBigint}},22734:(e,t,r)=>{"use strict";var n=t;n.version=r(17089).rE,n.utils=r(80168),n.rand=r(15037),n.curve=r(76417),n.curves=r(90977),n.ec=r(34154),n.eddsa=r(99629)},62580:(e,t,r)=>{"use strict";var n=r(39404),i=r(80168),o=i.getNAF,s=i.getJSF,a=i.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,c=[];for(s=0;s<n.length;s+=r.step){u=0;for(var f=s+r.step-1;f>=s;f--)u=(u<<1)+n[f];c.push(u)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<c.length;s++)(u=c[s])===h?d=d.mixedAdd(r.points[s]):u===-h&&(d=d.mixedAdd(r.points[s].neg()));l=l.add(d)}return l.toP()},u.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&0===s[c];c--)f++;if(c>=0&&f++,u=u.dblp(f),c<0)break;var l=s[c];a(0!==l),u="affine"===e.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,r,n,i){var a,u,c,f=this._wnafT1,l=this._wnafT2,d=this._wnafT3,h=0;for(a=0;a<n;a++){var p=(c=t[a])._getNAFPoints(e);f[a]=p.wnd,l[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,g=a;if(1===f[y]&&1===f[g]){var b=[t[y],null,null,t[g]];0===t[y].y.cmp(t[g].y)?(b[1]=t[y].add(t[g]),b[2]=t[y].toJ().mixedAdd(t[g].neg())):0===t[y].y.cmp(t[g].y.redNeg())?(b[1]=t[y].toJ().mixedAdd(t[g]),b[2]=t[y].add(t[g].neg())):(b[1]=t[y].toJ().mixedAdd(t[g]),b[2]=t[y].toJ().mixedAdd(t[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[y],r[g]);for(h=Math.max(v[0].length,h),d[y]=new Array(h),d[g]=new Array(h),u=0;u<h;u++){var _=0|v[0][u],w=0|v[1][u];d[y][u]=m[3*(_+1)+(w+1)],d[g][u]=0,l[y]=b}}else d[y]=o(r[y],f[y],this._bitLength),d[g]=o(r[g],f[g],this._bitLength),h=Math.max(d[y].length,h),h=Math.max(d[g].length,h)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(a=h;a>=0;a--){for(var A=0;a>=0;){var x=!0;for(u=0;u<n;u++)E[u]=0|d[u][a],0!==E[u]&&(x=!1);if(!x)break;A++,a--}if(a>=0&&A++,S=S.dblp(A),a<0)break;for(u=0;u<n;u++){var k=E[u];0!==k&&(k>0?c=l[u][k-1>>1]:k<0&&(c=l[u][-k-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(a=0;a<n;a++)l[a]=null;return i?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},24169:(e,t,r)=>{"use strict";var n=r(80168),i=r(39404),o=r(56698),s=r(62580),a=n.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(c,s.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},c.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=s.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=s.redSub(a).redISub(u).redMul(o),t=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),d=s.redMul(a);return this.curve.point(c,f,d,l)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(t=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(t=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},76417:(e,t,r)=>{"use strict";var n=t;n.base=r(62580),n.short=r(11235),n.mont=r(60075),n.edwards=r(24169)},60075:(e,t,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(62580),s=r(80168);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new u(this,e,t)},a.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},11235:(e,t,r)=>{"use strict";var n=r(80168),i=r(39404),o=r(56698),s=r(62580),a=n.assert;function u(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,u,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),y=new i(0),g=new i(0),b=new i(1),m=0;0!==d.cmpn(0);){var v=h.div(d);c=h.sub(v.mul(d)),f=g.sub(v.mul(p));var _=b.sub(v.mul(y));if(!n&&c.cmp(l)<0)t=u.neg(),r=p,n=c.neg(),o=f;else if(n&&2==++m)break;u=c,h=d,d=c,g=p,p=f,b=y,y=_}s=c.neg(),a=f;var w=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},o(c,s.BasePoint),u.prototype.point=function(e,t,r){return new c(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),d=u.redSqr().redIAdd(f).redISub(l).redISub(l),h=u.redMul(l.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),d=a.redMul(f.redISub(l)).redISub(i.redMul(c)),h=this.z.redMul(s);return this.curve.jpoint(l,d,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),l=c.redSqr(),d=l.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(l),y=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),b=h.redMul(g);b=b.redIAdd(b).redISub(d);var m=c.redMul(a);t+1<e&&(u=u.redMul(d)),o=y,a=m,c=b}return this.curve.jpoint(o,c.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(f).redISub(d);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=y.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=a.redMul(l).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=t.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,d,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},90977:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),s=r(76417),a=r(80168).assert;function u(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(36608)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},34154:(e,t,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(80168),s=r(90977),a=r(15037),u=o.assert,c=r(3653),f=r(6284);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new c(this,e)},l.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),u=e.toArray("be",s),c=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var b=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),m^=1),new f({r:g,s:b,recoveryParam:m})}}}}}},l.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(e).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(e,t,r,i){u((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,c=t.s,l=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var h=t.r.invm(o),p=o.sub(s).mul(h).umod(o),y=c.mul(h).umod(o);return this.g.mulAdd(p,a,y)},l.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},3653:(e,t,r)=>{"use strict";var n=r(39404),i=r(80168).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},6284:(e,t,r)=>{"use strict";var n=r(39404),i=r(80168),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function u(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function c(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=u(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=u(e,r);if(!1===s)return!1;var c=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=u(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var l=e.slice(r.place,f+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(c),this.s=new n(l),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=c(t),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},99629:(e,t,r)=>{"use strict";var n=r(77952),i=r(90977),o=r(80168),s=o.assert,a=o.parseBytes,u=r(53422),c=r(80003);function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},53422:(e,t,r)=>{"use strict";var n=r(80168),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},80003:(e,t,r)=>{"use strict";var n=r(39404),i=r(80168),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},36608:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80168:(e,t,r)=>{"use strict";var n=t,i=r(39404),o=r(43349),s=r(64367);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=1&u?3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u:0,r[0].push(s),a=1&c?3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?c:-c:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},86626:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(){return u=a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&s(i,r.prototype),i},u.apply(null,arguments)}function c(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function f(e){var t="function"==typeof Map?new Map:void 0;return f=function(e){function r(){return u(e,arguments,o(this).constructor)}if(null===e||!c(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},f(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function h(e){var t=a();return function(){var r,n=o(e);if(t){var i=o(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return d(this,r)}}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}var b=function(r){var o=Math.abs,s=Math.max,a=Math.imul,u=Math.clz32;function c(e,r){var n;if(t(this,c),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return(n=f.call(this,e)).sign=r,n}i(c,r);var f=h(c);return n(c,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=g(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?c.__toStringGeneric(this,e,!1):c.__toStringBasePowerOfTwo(this,e)}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=65535&e,i=e>>>16,o=0,s=65535&t,u=t>>>16,c=0;c<r;c++){var f=this.__digit(c),l=65535&f,d=f>>>16,h=a(l,n),p=a(l,i),y=a(d,n),g=a(d,i),b=s+(65535&h),m=u+o+(b>>>16)+(h>>>16)+(65535&p)+(65535&y);o=(s=(p>>>16)+(y>>>16)+(65535&g)+(m>>>16))>>>16,s&=65535,u=g>>>16,this.__setDigit(c,65535&b|m<<16)}if(0!==o||0!==s||0!==u)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>16,this.__setHalfDigit(t+o,n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=65535&i,s=0;s<r-1>>>1;s++){var a=e.__digit(s),u=(i>>>16)-(65535&a)-n;n=1&u>>>16,this.__setDigit(t+s,u<<16|65535&o),n=1&(o=(65535&(i=this.__digit(t+s+1)))-(a>>>16)-n)>>>16}var c=e.__digit(s),f=(i>>>16)-(65535&c)-n;if(n=1&f>>>16,this.__setDigit(t+s,f<<16|65535&o),t+s+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(65535&(i=this.__digit(t+s+1)))-(c>>>16)-n)>>>16,this.__setDigit(t+e.length,4294901760&i|65535&o))}else{t>>=1;for(var l=0;l<e.length-1;l++){var d=this.__digit(t+l),h=e.__digit(l),p=(65535&d)-(65535&h)-n,y=(d>>>16)-(h>>>16)-(n=1&p>>>16);n=1&y>>>16,this.__setDigit(t+l,y<<16|65535&p)}var g=this.__digit(t+l),b=e.__digit(l),m=(65535&g)-(65535&b)-n;n=1&m>>>16;var v=0;!(1&r)&&(n=1&(v=(g>>>16)-(b>>>16)-n)>>>16),this.__setDigit(t+l,v<<16|65535&m)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,t<<32-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?65535&n|t<<16:4294901760&n|65535&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(t){var r=Math.floor,n=Number.isFinite;if("number"==typeof t){if(0===t)return c.__zero();if((0|t)===t)return 0>t?c.__oneDigit(-t,!0):c.__oneDigit(t,!1);if(!n(t)||r(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(t)}if("string"==typeof t){var i=c.__fromString(t);if(null===i)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return i}if("boolean"==typeof t)return!0===t?c.__oneDigit(1,!1):c.__zero();if("object"===e(t)){if(t.constructor===c)return t;var o=c.__toPrimitive(t);return c.BigInt(o)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=u(n),o=32*t-i;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,a=n,f=t-1,l=i+1,d=32===l?0:a<<l;d>>>=12;var h=l-12,p=12<=l?0:a<<20+l,y=20+l;0<h&&0<f&&(f--,d|=(a=e.__digit(f))>>>32-h,p=a<<h,y=h),0<y&&0<f&&(f--,p|=(a=e.__digit(f))>>>32-y,y-=32);var g=c.__decideRounding(e,y,f,a);if((1===g||0===g&&!(1&~p))&&0==(p=p+1>>>0)&&0!=++d>>>20&&(d=0,1023<++s))return e.sign?-1/0:1/0;var b=e.sign?-2147483648:0;return s=s+1023<<20,c.__kBitConversionInts[1]=b|s|d,c.__kBitConversionInts[0]=p,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return c.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:c.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(r>>>5),i=new c(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<(31&r);return i.__setDigit(n-1,o),i}var s=null,a=e;for(!!(1&r)&&(s=e),r>>=1;0!==r;r>>=1)a=c.multiply(a,a),1&r&&(s=null===s?a:c.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new c(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)c.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&65535>=i){if(1===i)return n===e.sign?e:c.unaryMinus(e);r=c.__absoluteDivSmall(e,i,null)}else r=c.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&65535>=r){if(1===r)return c.__zero();var n=c.__absoluteModSmall(e,r);return 0===n?c.__zero():c.__oneDigit(n,e.sign)}var i=c.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?c.__absoluteAdd(e,t,r):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,r):c.__absoluteSub(t,e,!r):c.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=s(e.length,t.length)+1,n=c.__absoluteSubOne(e,r),i=c.__absoluteSubOne(t);return n=c.__absoluteOr(n,i,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=s(e.length,t.length),n=c.__absoluteSubOne(e,r),i=c.__absoluteSubOne(t);return c.__absoluteXor(n,i,n).__trim()}var o=s(e.length,t.length)+1;if(e.sign){var a=[t,e];e=a[0],t=a[1]}var u=c.__absoluteSubOne(t,o);return u=c.__absoluteXor(u,e,u),c.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=s(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=c.__absoluteSubOne(e,r),i=c.__absoluteSubOne(t);return n=c.__absoluteAnd(n,i,n),c.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var o=[t,e];e=o[0],t=o[1]}var a=c.__absoluteSubOne(t,r);return a=c.__absoluteAndNot(a,e,a),c.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0===e)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var r=e+31>>>5;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(31&e-1);if(t.length===r&&n<i)return t;if((n&i)!==i)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0===e)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var r=e+31>>>5;if(t.length<r)return t;var n=31&e;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(t,r){for(;;){if(c.__isBigInt(t))return c.__isBigInt(r)?c.equal(t,r):c.EQ(r,t);if("number"==typeof t){if(c.__isBigInt(r))return c.__equalToNumber(r,t);if("object"!==e(r))return t==r;r=c.__toPrimitive(r)}else if("string"==typeof t){if(c.__isBigInt(r))return null!==(t=c.__fromString(t))&&c.equal(t,r);if("object"!==e(r))return t==r;r=c.__toPrimitive(r)}else if("boolean"==typeof t){if(c.__isBigInt(r))return c.__equalToNumber(r,+t);if("object"!==e(r))return t==r;r=c.__toPrimitive(r)}else if("symbol"===e(t)){if(c.__isBigInt(r))return!1;if("object"!==e(r))return t==r;r=c.__toPrimitive(r)}else{if("object"!==e(t))return t==r;if("object"===e(r)&&r.constructor!==c)return t==r;t=c.__toPrimitive(t)}}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new c(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=31}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,r=(2047&c.__kBitConversionInts[1]>>>20)-1023,n=1+(r>>>5),i=new c(n,0>e),o=1048575&c.__kBitConversionInts[1]|1048576,s=c.__kBitConversionInts[0],a=20,u=31&r,f=0;if(u<a){var l=a-u;f=l+32,t=o>>>l,o=o<<32-l|s>>>l,s<<=32-l}else if(u===a)f=32,t=o,o=s;else{var d=u-a;f=32-d,t=o<<d|s>>>32-d,o=s<<d}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--)0<f?(f-=32,t=o,o=s):t=0,i.__setDigit(h,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return c.__zero();for(var o=e.charCodeAt(i);c.__isWhitespace(o);){if(++i===n)return c.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return c.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}for(;48===o;){if(++i===n)return c.__zero();o=e.charCodeAt(i)}var s=n-i,a=c.__kMaxBitsPerChar[t],u=c.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var f=new c(31+(a*s+u>>>c.__kBitsPerCharTableShift)>>>5,!1),l=10>t?t:10,d=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var h=!1,p=0;do{for(var y,g=0,b=1;;){if(y=void 0,o-48>>>0<l)y=o-48;else{if(!((32|o)-97>>>0<d)){h=!0;break}y=(32|o)-87}var m=b*t;if(4294967295<m)break;if(b=m,g=g*t+y,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var v=a*p+(u=32*c.__kBitsPerCharTableMultiplier-1)>>>c.__kBitsPerCharTableShift+5;f.__inplaceMultiplyAdd(b,g,v)}while(!h)}else{a>>=c.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var E,A=0,x=0;;){if(E=void 0,o-48>>>0<l)E=o-48;else{if(!((32|o)-97>>>0<d)){S=!0;break}E=(32|o)-87}if(x+=a,A=A<<a|E,++i===n){S=!0;break}if(o=e.charCodeAt(i),32<x+a)break}_.push(A),w.push(x)}while(!S);c.__fillFromParts(f,_,w)}if(i!==n){if(!c.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!c.__isWhitespace(o))return null}return 0!==r&&10!==t?null:(f.sign=-1===r,f.__trim())}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],u=r[s];i|=a<<o,32===(o+=u)?(e.__setDigit(n++,i),o=0,i=0):32<o&&(e.__setDigit(n++,i),i=a>>>u-(o-=32))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,s=e.__digit(r-1),a=0|(32*r-u(s)+i-1)/i;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var f=Array(a),l=a-1,d=0,h=0,p=0;p<r-1;p++){var y=e.__digit(p),g=(d|y<<h)&o;f[l--]=c.__kConversionChars[g];var b=i-h;for(d=y>>>b,h=32-b;h>=i;)f[l--]=c.__kConversionChars[d&o],d>>>=i,h-=i}var m=(d|s<<h)&o;for(f[l--]=c.__kConversionChars[m],d=s>>>i-h;0!==d;)f[l--]=c.__kConversionChars[d&o],d>>>=i;if(e.sign&&(f[l--]="-"),-1!==l)throw new Error("implementation bug");return f.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,s,a=32*n-u(e.__digit(n-1)),f=c.__kMaxBitsPerChar[t]-1,l=a*c.__kBitsPerCharTableMultiplier,d=1+(l=0|(l+=f-1)/f)>>1,h=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(d,!1)),p=h.__unsignedDigit(0);if(1===h.length&&65535>=p){(o=new c(e.length,!1)).__initializeDigits();for(var y,g=0,b=2*e.length-1;0<=b;b--)y=g<<16|e.__halfDigit(b),o.__setHalfDigit(b,0|y/p),g=0|y%p;s=g.toString(t)}else{var m=c.__absoluteDivLarge(e,h,!0,!0);o=m.quotient;var v=m.remainder.__trim();s=c.__toStringGeneric(v,t,!0)}o.__trim();for(var _=c.__toStringGeneric(o,t,!0);s.length<d;)s="0"+s;return!1===r&&e.sign&&(_="-"+_),_+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return c.__unequalSign(r);var n=c.__absoluteCompare(e,t);return 0<n?c.__absoluteGreater(r):0>n?c.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var r=e.sign,n=0>t;if(r!==n)return c.__unequalSign(r);if(0===e.length){if(n)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return c.__absoluteGreater(r);var i=o(t),s=e.__unsignedDigit(0);return s>i?c.__absoluteGreater(r):s<i?c.__absoluteLess(r):0}return c.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return c.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;c.__kBitConversionDouble[0]=t;var n=2047&c.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return c.__absoluteGreater(r);var o=e.length,s=e.__digit(o-1),a=u(s),f=32*o-a,l=i+1;if(f<l)return c.__absoluteLess(r);if(f>l)return c.__absoluteGreater(r);var d=1048576|1048575&c.__kBitConversionInts[1],h=c.__kBitConversionInts[0],p=20,y=31-a;if(y!==(f-1)%31)throw new Error("implementation bug");var g,b=0;if(y<p){var m=p-y;b=m+32,g=d>>>m,d=d<<32-m|h>>>m,h<<=32-m}else if(y===p)b=32,g=d,d=h;else{var v=y-p;b=32-v,g=d<<v|h>>>32-v,d=h<<v}if((s>>>=0)>(g>>>=0))return c.__absoluteGreater(r);if(s<g)return c.__absoluteLess(r);for(var _=o-2;0<=_;_--){0<b?(b-=32,g=d>>>0,d=h,h=0):g=0;var w=e.__unsignedDigit(_);if(w>g)return c.__absoluteGreater(r);if(w<g)return c.__absoluteLess(r)}if(0!==d||0!==h){if(0===b)throw new Error("implementation bug");return c.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,t){return t|0===t?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===o(t):0===c.__compareToDouble(e,t)}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,r){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&"string"==typeof t)return null!==(t=c.__fromString(t))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("string"==typeof e&&c.__isBigInt(t))return null!==(e=c.__fromString(e))&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return c.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i=new c(n,r),o=0,s=0;s<t.length;s++){var a=t.__digit(s),u=e.__digit(s),f=(65535&u)+(65535&a)+o,l=(u>>>16)+(a>>>16)+(f>>>16);o=l>>>16,i.__setDigit(s,65535&f|l<<16)}for(;s<e.length;s++){var d=e.__digit(s),h=(65535&d)+o,p=(d>>>16)+(h>>>16);o=p>>>16,i.__setDigit(s,65535&h|p<<16)}return s<i.length&&i.__setDigit(s,o),i.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:c.unaryMinus(e);for(var n=new c(e.length,r),i=0,o=0;o<t.length;o++){var s=e.__digit(o),a=t.__digit(o),u=(65535&s)-(65535&a)-i,f=(s>>>16)-(a>>>16)-(i=1&u>>>16);i=1&f>>>16,n.__setDigit(o,65535&u|f<<16)}for(;o<e.length;o++){var l=e.__digit(o),d=(65535&l)-i,h=(l>>>16)-(i=1&d>>>16);i=1&h>>>16,n.__setDigit(o,65535&d|h<<16)}return n.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new c(n,t):r.sign=t;for(var i,o=!0,s=0;s<n;s++){if(i=e.__digit(s),o){var a=-1===i;i=0|i+1,o=a}r.__setDigit(s,i)}return o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new c(t=t||n,!1),o=!0,s=0;s<n;s++){if(r=e.__digit(s),o){var a=0===r;r=0|r-1,o=a}i.__setDigit(s,r)}if(o)throw new Error("implementation bug");for(var u=n;u<t;u++)i.__setDigit(u,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var u=o;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var s=n;null===r?r=new c(s,!1):s=r.length;for(var a=0;a<o;a++)r.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<n;a++)r.__setDigit(a,e.__digit(a));for(;a<s;a++)r.__setDigit(a,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var u=n;null===r?r=new c(u,!1):u=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<u;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=65535&t,o=t>>>16,s=0,u=0,c=0,f=0;f<e.length;f++,n++){var l=r.__digit(n),d=65535&l,h=l>>>16,p=e.__digit(f),y=65535&p,g=p>>>16,b=a(y,i),m=a(y,o),v=a(g,i),_=a(g,o);s=(u=(m>>>16)+(v>>>16)+(65535&_)+(s=(h+=c+s+((d+=u+(65535&b))>>>16)+(b>>>16)+(65535&m)+(65535&v))>>>16))>>>16,u&=65535,c=_>>>16,l=65535&d|h<<16,r.__setDigit(n,l)}for(;0!==s||0!==u||0!==c;n++){var w=r.__digit(n),S=(65535&w)+u,E=(w>>>16)+(S>>>16)+c+s;u=0,c=0,s=E>>>16,w=65535&S|E<<16,r.__setDigit(n,w)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,s=0,u=0;u<n;u++){var c=e.__digit(u),f=a(65535&c,t),l=(65535&f)+s+o;o=l>>>16;var d=a(c>>>16,t),h=(65535&d)+(f>>>16)+o;o=h>>>16,s=d>>>16,i.__setDigit(u,h<<16|65535&l)}if(i.length>n)for(i.__setDigit(n++,o+s);n<i.length;)i.__setDigit(n++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,r){null===r&&(r=new c(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<16|e.__halfDigit(i))>>>0,s=0|o/t,a=0|(o=((n=0|o%t)<<16|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,s<<16|a)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<16|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-i,u=null;r&&(u=new c(s+2>>>1,!1)).__initializeDigits();var f=new c(i+2>>>1,!1);f.__initializeDigits();var l=c.__clz16(t.__halfDigit(i-1));0<l&&(t=c.__specialLeftShift(t,l,0));for(var d=c.__specialLeftShift(e,l,1),h=t.__halfDigit(i-1),p=0,y=s;0<=y;y--){var g=65535,b=d.__halfDigit(y+i);if(b!==h){var m=(b<<16|d.__halfDigit(y+i-1))>>>0;g=0|m/h;for(var v=0|m%h,_=t.__halfDigit(i-2),w=d.__halfDigit(y+i-2);a(g,_)>>>0>(v<<16|w)>>>0&&(g--,!(65535<(v+=h))););}c.__internalMultiplyAdd(t,g,0,o,f);var S=d.__inplaceSub(f,y,i+1);0!==S&&(S=d.__inplaceAdd(t,y,i),d.__setHalfDigit(y+i,d.__halfDigit(y+i)+S),g--),r&&(1&y?p=g<<16:u.__setDigit(y>>>1,p|g))}return n?(d.__inplaceRightShift(l),r?{quotient:u,remainder:d}:d):r?u:void 0}},{key:"__clz16",value:function(e){return u(e)-16}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new c(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var s,a=0,u=0;u<n;u++)s=e.__digit(u),i.__setDigit(u,s<<t|a),a=s>>>32-t;return 0<r&&i.__setDigit(n,a),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=c.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=r>>>5,i=31&r,o=e.length,s=0!==i&&0!=e.__digit(o-1)>>>32-i,a=o+n+(s?1:0),u=new c(a,e.sign);if(0===i){for(var f=0;f<n;f++)u.__setDigit(f,0);for(;f<a;f++)u.__setDigit(f,e.__digit(f-n))}else{for(var l=0,d=0;d<n;d++)u.__setDigit(d,0);for(var h,p=0;p<o;p++)h=e.__digit(p),u.__setDigit(p+n,h<<i|l),l=h>>>32-i;if(s)u.__setDigit(o+n,l);else if(0!==l)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=c.__toShiftAmount(t);if(0>i)return c.__rightShiftByMaximum(n);var o=i>>>5,s=31&i,a=r-o;if(0>=a)return c.__rightShiftByMaximum(n);var u=!1;if(n)if(e.__digit(o)&(1<<s)-1)u=!0;else for(var f=0;f<o;f++)if(0!==e.__digit(f)){u=!0;break}u&&0===s&&0==~e.__digit(r-1)&&a++;var l=new c(a,n);if(0===s)for(var d=o;d<r;d++)l.__setDigit(d-o,e.__digit(d));else{for(var h,p=e.__digit(o)>>>s,y=r-o-1,g=0;g<y;g++)h=e.__digit(g+o+1),l.__setDigit(g,h<<32-s|p),p=h>>>s;l.__setDigit(y,p)}return u&&(l=c.__absoluteAddOne(l,!0,l)),l.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==e(t))return t;if(t.constructor===c)return t;var n=t[Symbol.toPrimitive];if(n){var i=n(r);if("object"!==e(i))return i;throw new TypeError("Cannot convert object to primitive value")}var o=t.valueOf;if(o){var s=o.call(t);if("object"!==e(s))return s}var a=t.toString;if(a){var u=a.call(t);if("object"!==e(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(t){return"object"===e(t)&&t.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var r=e+31>>>5,n=new c(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var s=t.__digit(i);if(31&e){var a=32-(31&e);s=s<<a>>>a}return n.__setDigit(i,s),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n=Math.min,i=e+31>>>5,o=new c(i,r),s=0,a=i-1,u=0,f=n(a,t.length);s<f;s++){var l=t.__digit(s),d=0-(65535&l)-u,h=0-(l>>>16)-(u=1&d>>>16);u=1&h>>>16,o.__setDigit(s,65535&d|h<<16)}for(;s<a;s++)o.__setDigit(s,0|-u);var p,y=a<t.length?t.__digit(a):0,g=31&e;if(0===g){var b=0-(65535&y)-u;p=65535&b|0-(y>>>16)-(u=1&b>>>16)<<16}else{var m=32-g,v=1<<32-m,_=(65535&v)-(65535&(y=y<<m>>>m))-u;p=65535&_|(v>>>16)-(y>>>16)-(u=1&_>>>16)<<16,p&=v-1}return o.__setDigit(a,p),o.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}}]),c}(f(Array));return b.__kMaxLength=33554432,b.__kMaxLengthBits=b.__kMaxLength<<5,b.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],b.__kBitsPerCharTableShift=5,b.__kBitsPerCharTableMultiplier=1<<b.__kBitsPerCharTableShift,b.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],b.__kBitConversionBuffer=new ArrayBuffer(8),b.__kBitConversionDouble=new Float64Array(b.__kBitConversionBuffer),b.__kBitConversionInts=new Int32Array(b.__kBitConversionBuffer),b}()},41032:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>_,__asyncValues:()=>S,__await:()=>v,__awaiter:()=>f,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>l,__importDefault:()=>k,__importStar:()=>x,__makeTemplateObject:()=>E,__metadata:()=>c,__param:()=>u,__read:()=>y,__rest:()=>s,__spread:()=>g,__spreadArray:()=>m,__spreadArrays:()=>b,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function h(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(e){f(o[0][3],e)}var r}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function S(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}function E(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return A(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}},67557:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=t.isBytes=void 0,t.number=r,t.bool=n,t.isBytes=i,t.bytes=o,t.hash=s,t.exists=a,t.output=u;const c={number:r,bool:n,bytes:o,hash:s,exists:a,output:u};t.default=c},37202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0;const n=r(67557),i=r(99175);t.Chi=(e,t,r)=>e&t^~e&r;t.Maj=(e,t,r)=>e&t^e&r^t&r;class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)u.setUint32(4*e,l[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.HashMD=o},25145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},39615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r(67557),i=r(99175);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},93238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const n=r(37202),i=r(99175),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let a=[s],u=[s.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[a,u])t.push(t[e].map((e=>o[e])));const c=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),f=a.map(((e,t)=>e.map((e=>c[t][e])))),l=u.map(((e,t)=>e.map((e=>c[t][e])))),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),h=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const y=new Uint32Array(16);class g extends n.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)y[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,o=0|this.h1,s=o,c=0|this.h2,g=c,b=0|this.h3,m=b,v=0|this.h4,_=v;for(let e=0;e<5;e++){const t=4-e,w=d[e],S=h[e],E=a[e],A=u[e],x=f[e],k=l[e];for(let t=0;t<16;t++){const n=(0,i.rotl)(r+p(e,o,c,b)+y[E[t]]+w,x[t])+v|0;r=v,v=b,b=0|(0,i.rotl)(c,10),c=o,o=n}for(let e=0;e<16;e++){const r=(0,i.rotl)(n+p(t,s,g,m)+y[A[e]]+S,k[e])+_|0;n=_,_=m,m=0|(0,i.rotl)(g,10),g=s,s=r}}this.set(this.h1+c+m|0,this.h2+b+_|0,this.h3+v+n|0,this.h4+r+s|0,this.h0+o+g|0)}roundClean(){y.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=g,t.ripemd160=(0,i.wrapConstructor)((()=>new g))},31549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha1=void 0;const n=r(37202),i=r(99175),o=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),s=new Uint32Array(80);class a extends n.HashMD{constructor(){super(64,20,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4]}get(){const{A:e,B:t,C:r,D:n,E:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t,!1);for(let e=16;e<80;e++)s[e]=(0,i.rotl)(s[e-3]^s[e-8]^s[e-14]^s[e-16],1);let{A:r,B:o,C:a,D:u,E:c}=this;for(let e=0;e<80;e++){let t,f;e<20?(t=(0,n.Chi)(o,a,u),f=1518500249):e<40?(t=o^a^u,f=1859775393):e<60?(t=(0,n.Maj)(o,a,u),f=2400959708):(t=o^a^u,f=3395469782);const l=(0,i.rotl)(r,5)+t+c+f+s[e]|0;c=u,u=a,a=(0,i.rotl)(o,30),o=r,r=l}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,u=u+this.D|0,c=c+this.E|0,this.set(r,o,a,u,c)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}t.sha1=(0,i.wrapConstructor)((()=>new a))},22623:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const n=r(37202),i=r(99175),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class u extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=a[e-15],r=a[e-2],n=(0,i.rotr)(t,7)^(0,i.rotr)(t,18)^t>>>3,o=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;a[e]=o+a[e-7]+n+a[e-16]|0}let{A:r,B:s,C:u,D:c,E:f,F:l,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+(0,n.Chi)(f,l,d)+o[e]+a[e]|0,p=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,s,u)|0;h=d,d=l,l=f,f=c+t|0,c=u,u=s,s=r,r=t+p|0}r=r+this.A|0,s=s+this.B|0,u=u+this.C|0,c=c+this.D|0,f=f+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(r,s,u,c,f,l,d,h)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class c extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new c))},99175:(e,t,r)=>{"use strict";
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const n=r(25145),i=r(67557);t.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);t.rotr=(e,t)=>e<<32-t|e>>>t;t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e),t.byteSwap32=function(e){for(let r=0;r<e.length;r++)e[r]=(0,t.byteSwap)(e[r])};const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t};const s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=s._0&&e<=s._9?e-s._0:e>=s._A&&e<=s._F?e-(s._A-10):e>=s._a&&e<=s._f?e-(s._a-10):void 0}t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){const r=a(e.charCodeAt(i)),o=a(e.charCodeAt(i+1));if(void 0===r||void 0===o){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}n[t]=16*r+o}return n};function u(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function c(e){return"string"==typeof e&&(e=u(e)),(0,i.bytes)(e),e}t.nextTick=async()=>{},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=u,t.toBytes=c,t.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];(0,i.bytes)(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};t.Hash=class{clone(){return this._cloneInto()}};const f={}.toString;t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==f.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},9598:(e,t,r)=>{"use strict";
/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const n=r(14923),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(8),c=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=c;const f=(e,t)=>(e+t/s)/t,l={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),u=f(s*e,t),l=f(-n*e,t);let d=U(e-u*r-l*i,t),h=U(-u*n-l*s,t);const p=d>a,y=h>a;if(p&&(d=t-d),y&&(h=t-h),d>a||h>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:p,k1:d,k2neg:y,k2:h}}},d=32,h=32,p=d+1,y=2*d+1;function g(e){const{a:t,b:r}=c,n=U(e*e),i=U(n*e);return U(i+t*e+r)}const b=c.a===i;class m extends Error{constructor(e){super(e)}}function v(e){if(!(e instanceof _))throw new TypeError("JacobianPoint expected")}class _{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof E))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(E.ZERO)?_.ZERO:new _(e.x,e.y,o)}static toAffineBatch(e){const t=function(e,t=c.P){const r=new Array(e.length),n=F(e.reduce(((e,n,o)=>n===i?e:(r[o]=e,U(e*n,t))),o),t);return e.reduceRight(((e,n,o)=>n===i?e:(r[o]=U(e*r[o],t),U(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return _.toAffineBatch(e).map(_.fromAffine)}equals(e){v(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=U(n*n),u=U(s*s),c=U(t*u),f=U(i*a),l=U(U(r*s)*u),d=U(U(o*n)*a);return c===f&&l===d}negate(){return new _(this.x,U(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=U(e*e),i=U(t*t),o=U(i*i),c=e+i,f=U(s*(U(c*c)-n-o)),l=U(a*n),d=U(l*l),h=U(d-s*f),p=U(l*(f-h)-u*o),y=U(s*t*r);return new _(h,p,y)}add(e){v(e);const{x:t,y:r,z:n}=this,{x:o,y:a,z:u}=e;if(o===i||a===i)return this;if(t===i||r===i)return e;const c=U(n*n),f=U(u*u),l=U(t*f),d=U(o*c),h=U(U(r*u)*f),p=U(U(a*n)*c),y=U(d-l),g=U(p-h);if(y===i)return g===i?this.double():_.ZERO;const b=U(y*y),m=U(y*b),w=U(l*b),S=U(g*g-m-s*w),E=U(g*(w-S)-h*m),A=U(n*u*y);return new _(S,E,A)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=_.ZERO;if("bigint"==typeof e&&e===i)return t;let r=N(e);if(r===o)return this;if(!b){let e=t,n=this;for(;r>i;)r&o&&(e=e.add(n)),n=n.double(),r>>=o;return e}let{k1neg:n,k1:s,k2neg:a,k2:u}=l.splitScalar(r),c=t,f=t,d=this;for(;s>i||u>i;)s&o&&(c=c.add(d)),u&o&&(f=f.add(d)),d=d.double(),s>>=o,u>>=o;return n&&(c=c.negate()),a&&(f=f.negate()),f=new _(U(f.x*l.beta),f.y,f.z),c.add(f)}precomputeWindow(e){const t=b?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(_.BASE)&&(t=E.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&S.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=_.normalizeZ(n),S.set(t,n)));let i=_.ZERO,s=_.BASE;const a=1+(b?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let t=0;t<a;t++){const r=t*u;let a=Number(e&c);e>>=l,a>u&&(a-=f,e+=o);const d=r,h=r+Math.abs(a)-1,p=t%2!=0,y=a<0;0===a?s=s.add(w(p,n[d])):i=i.add(w(y,n[h]))}return{p:i,f:s}}multiply(e,t){let r,n,i=N(e);if(b){const{k1neg:e,k1:o,k2neg:s,k2:a}=l.splitScalar(i);let{p:u,f:c}=this.wNAF(o,t),{p:f,f:d}=this.wNAF(a,t);u=w(e,u),f=w(s,f),f=new _(U(f.x*l.beta),f.y,f.z),r=u.add(f),n=c.add(d)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return _.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(_.ZERO);null==e&&(e=i?u:F(n));const s=e,a=U(s*s),c=U(a*s),f=U(t*a),l=U(r*c),d=U(n*s);if(i)return E.ZERO;if(d!==o)throw new Error("invZ was invalid");return new E(f,l)}}function w(e,t){const r=t.negate();return e?r:t}_.BASE=new _(c.Gx,c.Gy,o),_.ZERO=new _(i,o,i);const S=new WeakMap;class E{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,S.delete(this)}hasEvenY(){return this.y%s===i}static fromCompressedHex(e){const t=32===e.length,r=j(t?e:e.subarray(1));if(!$(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=c,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),u=BigInt(44),f=BigInt(88),l=e*e*e%t,d=l*l*e%t,h=H(d,a)*d%t,p=H(h,a)*d%t,y=H(p,s)*l%t,g=H(y,n)*y%t,b=H(g,i)*g%t,m=H(b,u)*b%t,v=H(m,f)*m%t,_=H(v,u)*b%t,w=H(_,a)*d%t,S=H(w,o)*g%t,E=H(S,r)*l%t,A=H(E,s);if(A*A%t!==e)throw new Error("Cannot find square root");return A}(g(r));const i=(n&o)===o;if(t)i&&(n=U(-n));else{!(1&~e[0])!==i&&(n=U(-n))}const u=new E(r,n);return u.assertValidity(),u}static fromUncompressedHex(e){const t=j(e.subarray(1,d+1)),r=j(e.subarray(d+1,2*d+1)),n=new E(t,r);return n.assertValidity(),n}static fromHex(e){const t=L(e),r=t.length,n=t[0];if(r===d)return this.fromCompressedHex(t);if(r===p&&(2===n||3===n))return this.fromCompressedHex(t);if(r===y&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${y} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return E.BASE.multiply(G(e))}static fromSignature(e,t,r){const{r:n,s:i}=Y(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=z(L(e)),{n:s}=c,a=2===r||3===r?n+s:n,u=F(a,s),f=U(-o*u,s),l=U(i*u,s),d=1&r?"03":"02",h=E.fromHex(d+P(a)),p=E.BASE.multiplyAndAddUnsafe(h,f,l);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return R(this.toHex(e))}toHex(e=!1){const t=P(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${P(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!$(t)||!$(r))throw new Error(e);const n=U(r*r);if(U(n-g(t))!==i)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new E(this.x,U(-this.y))}double(){return _.fromAffine(this).double().toAffine()}add(e){return _.fromAffine(this).add(_.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return _.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=_.fromAffine(this),s=t===i||t===o||this!==E.BASE?n.multiplyUnsafe(t):n.multiply(t),a=_.fromAffine(e).multiplyUnsafe(r),u=s.add(a);return u.equals(_.ZERO)?void 0:u.toAffine()}}function A(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function x(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${C(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:j(r),left:e.subarray(t+2)}}t.Point=E,E.BASE=new E(c.Gx,c.Gy),E.ZERO=new E(i,i);class k{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?C(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new k(D(n.slice(0,64)),D(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${C(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=x(e.subarray(2)),{data:n,left:i}=x(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${C(i)}`);return{r:t,s:n}}(t?e:R(e));return new k(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!W(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!W(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=c.n>>o;return this.s>e}normalizeS(){return this.hasHighS()?new k(this.r,U(-this.s,c.n)):this}toDERRawBytes(){return R(this.toDERHex())}toDERHex(){const e=A(B(this.s)),t=A(B(this.r)),r=e.length/2,n=t.length/2,i=B(r),o=B(n);return`30${B(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return R(this.toCompactHex())}toCompactHex(){return P(this.r)+P(this.s)}}function I(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}t.Signature=k;const T=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=T[e[r]];return t}const O=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function P(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(i<=e&&e<O))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function M(e){const t=R(P(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function B(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function D(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function R(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function j(e){return D(C(e))}function L(e){return e instanceof Uint8Array?Uint8Array.from(e):R(e)}function N(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&W(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function U(e,t=c.P){const r=e%t;return r>=i?r:t+r}function H(e,t){const{P:r}=c;let n=e;for(;t-- >i;)n*=n,n%=r;return n}function F(e,t=c.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=U(e,t),n=t,s=i,a=o,u=o,f=i;for(;r!==i;){const e=n/r,t=n%r,i=s-u*e,o=a-f*e;n=r,r=t,s=u,a=f,u=i,f=o}if(n!==o)throw new Error("invert: does not exist");return U(s,t)}function z(e,t=!1){const r=function(e){const t=8*e.length-8*h,r=j(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n}=c;return r>=n?r-n:r}let q,K;class V{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return K(this.k,...e)}checkSync(){if("function"!=typeof K)throw new m("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return I(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return I(...t)}}function W(e){return i<e&&e<c.n}function $(e){return i<e&&e<c.P}function Q(e,t,r,n=!0){const{n:s}=c,a=z(e,!0);if(!W(a))return;const u=F(a,s),f=E.BASE.multiply(a),l=U(f.x,s);if(l===i)return;const d=U(u*U(t+r*l,s),s);if(d===i)return;let h=new k(l,d),p=(f.x===h.r?0:2)|Number(f.y&o);return n&&h.hasHighS()&&(h=h.normalizeS(),p^=1),{sig:h,recovery:p}}function G(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*h)throw new Error("Expected 32 bytes of private key");t=D(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==h)throw new Error("Expected 32 bytes of private key");t=j(e)}if(!W(t))throw new Error("Expected private key: 0 < key < n");return t}function X(e){return e instanceof E?(e.assertValidity(),e):E.fromHex(e)}function Y(e){if(e instanceof k)return e.assertValidity(),e;try{return k.fromDER(e)}catch(t){return k.fromCompact(e)}}function J(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===p||n===y:r?n===2*p||n===2*y:e instanceof E}function Z(e){return j(e.length>d?e.slice(0,d):e)}function ee(e){const t=Z(e),r=U(t,c.n);return te(r<i?t:r)}function te(e){return M(e)}function re(e,r,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const i=L(e),o=G(r),s=[te(o),ee(i)];if(null!=n){!0===n&&(n=t.utils.randomBytes(d));const e=L(n);if(e.length!==d)throw new Error(`sign: Expected ${d} bytes of extra data`);s.push(e)}return{seed:I(...s),m:Z(i),d:o}}function ne(e,t){const{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}t.getPublicKey=function(e,t=!1){return E.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,n=!1){return E.fromSignature(e,t,r).toRawBytes(n)},t.getSharedSecret=function(e,t,r=!1){if(J(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!J(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=X(t);return n.assertValidity(),n.multiply(G(e)).toRawBytes(r)},t.sign=async function(e,t,r={}){const{seed:n,m:i,d:o}=re(e,t,r.extraEntropy),s=new V(32,h);let a;for(await s.reseed(n);!(a=Q(await s.generate(),i,o,r.canonical));)await s.reseed();return ne(a,r)},t.signSync=function(e,t,r={}){const{seed:n,m:i,d:o}=re(e,t,r.extraEntropy),s=new V(32,h);let a;for(s.reseedSync(n);!(a=Q(s.generateSync(),i,o,r.canonical));)s.reseedSync();return ne(a,r)};const ie={strict:!0};function oe(e){return U(j(e),c.n)}t.verify=function(e,t,r,n=ie){let i;try{i=Y(e),t=L(t)}catch(e){return!1}const{r:o,s}=i;if(n.strict&&i.hasHighS())return!1;const a=z(t);let u;try{u=X(r)}catch(e){return!1}const{n:f}=c,l=F(s,f),d=U(a*l,f),h=U(o*l,f),p=E.BASE.multiplyAndAddUnsafe(u,d,h);return!!p&&U(p.x,f)===o};class se{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=L(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=j(t.subarray(0,32)),n=j(t.subarray(32,64));return new se(r,n)}assertValidity(){const{r:e,s:t}=this;if(!$(e)||!W(t))throw new Error("Invalid signature")}toHex(){return P(this.r)+P(this.s)}toRawBytes(){return R(this.toHex())}}class ae{constructor(e,r,n=t.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=L(e);const{x:i,scalar:o}=this.getScalar(G(r));if(this.px=i,this.d=o,this.rand=L(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=E.fromPrivateKey(e),r=t.hasEvenY()?e:c.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return M(e^j(t))}finalizeNonce(e){const t=U(j(e),c.n);if(t===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:o}=this.getScalar(t);return{R:r,rx:n,k:o}}finalizeSig(e,t,r,n){return new se(e.x,U(t+r*n,c.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHash,s=this.initNonce(r,await o(he.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(await o(he.nonce,s,n,e)),f=oe(await o(he.challenge,u,n,e)),l=this.finalizeSig(a,c,f,r);return await fe(l,e,n)||this.error(),l}calcSync(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHashSync,s=this.initNonce(r,o(he.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(o(he.nonce,s,n,e)),f=oe(o(he.challenge,u,n,e)),l=this.finalizeSig(a,c,f,r);return le(l,e,n)||this.error(),l}}function ue(e,t,r){const n=e instanceof se,i=n?e:se.fromHex(e);return n&&i.assertValidity(),{...i,m:L(t),P:X(r)}}function ce(e,t,r,n){const i=E.BASE.multiplyAndAddUnsafe(t,G(r),U(-n,c.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function fe(e,r,n){try{const{r:i,s:o,m:s,P:a}=ue(e,r,n),u=oe(await t.utils.taggedHash(he.challenge,M(i),a.toRawX(),s));return ce(i,a,o,u)}catch(e){return!1}}function le(e,r,n){try{const{r:i,s:o,m:s,P:a}=ue(e,r,n),u=oe(t.utils.taggedHashSync(he.challenge,M(i),a.toRawX(),s));return ce(i,a,o,u)}catch(e){if(e instanceof m)throw e;return!1}}t.schnorr={Signature:se,getPublicKey:function(e){return E.fromPrivateKey(e).toRawX()},sign:async function(e,t,r){return new ae(e,t,r).calc()},verify:fe,signSync:function(e,t,r){return new ae(e,t,r).calcSync()},verifySync:le},E.BASE._setWindowSize(8);const de={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},he={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pe={};t.utils={bytesToHex:C,hexToBytes:R,concatBytes:I,mod:U,invert:F,isValidPrivateKey(e){try{return G(e),!0}catch(e){return!1}},_bigintTo32Bytes:M,_normalizePrivateKey:G,hashToPrivateKey:e=>{e=L(e);const t=h+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return M(U(j(e),c.n-o)+o)},randomBytes:(e=32)=>{if(de.web)return de.web.getRandomValues(new Uint8Array(e));if(de.node){const{randomBytes:t}=de.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(h+8)),precompute(e=8,t=E.BASE){const r=t===E.BASE?t:new E(t.x,t.y);return r._setWindowSize(e),r.multiply(a),r},sha256:async(...e)=>{if(de.web){const t=await de.web.subtle.digest("SHA-256",I(...e));return new Uint8Array(t)}if(de.node){const{createHash:t}=de.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(de.web){const r=await de.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=I(...t),i=await de.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(de.node){const{createHmac:r}=de.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let n=pe[e];if(void 0===n){const r=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=I(r,r),pe[e]=n}return t.utils.sha256(n,...r)},taggedHashSync:(e,...t)=>{if("function"!=typeof q)throw new m("sha256Sync is undefined, you need to set it");let r=pe[e];if(void 0===r){const t=q(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=I(t,t),pe[e]=r}return q(r,...t)},_JacobianPoint:_},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>q,set(e){q||(q=e)}},hmacSha256Sync:{configurable:!1,get:()=>K,set(e){K||(K=e)}}})},95367:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.addAddressToPubkeyMap=t.decodeAddress=t.getAddressType=t.isValidAddress=t.addressToScriptPublicKeyHex=t.addressToScriptPublicKey=t.publicKeyToAddress=t.publicKeyToPayment=t.isSupportedFromAddress=t.AddressType=void 0;const i=r(2353),o=r(23538),s=r(90593),a=r(44273),u=r(24662);var c;function f(e,t,r){if(!e)return;const o=(0,s.networkTypeToNetwork)(r),a=n.from((0,u.remove0x)(e),"hex");if(t===c.P2PKH)return i.bitcoin.payments.p2pkh({pubkey:a,network:o});if(t===c.P2WPKH)return i.bitcoin.payments.p2wpkh({pubkey:a,network:o});if(t===c.P2TR)return i.bitcoin.payments.p2tr({internalPubkey:(0,u.toXOnly)(a),network:o});if(t===c.P2SH_P2WPKH){const e=i.bitcoin.payments.p2wpkh({pubkey:a,network:o});return i.bitcoin.payments.p2sh({pubkey:a,network:o,redeem:e})}}function l(e,t){const r=(0,s.networkTypeToNetwork)(t);return i.bitcoin.address.toOutputScript(e,r)}function d(e){const t=i.bitcoin.networks.bitcoin,r=i.bitcoin.networks.testnet,n=i.bitcoin.networks.regtest;let s,a,u,f;if(e.startsWith("bc1")||e.startsWith("tb1")||e.startsWith("bcrt1"))try{if(a=i.bitcoin.address.fromBech32(e),a.prefix===t.bech32?u=o.NetworkType.MAINNET:a.prefix===r.bech32?u=o.NetworkType.TESTNET:a.prefix===n.bech32&&(u=o.NetworkType.REGTEST),0===a.version?20===a.data.length?f=c.P2WPKH:32===a.data.length&&(f=c.P2WSH):1===a.version&&32===a.data.length&&(f=c.P2TR),void 0!==u&&void 0!==f)return{networkType:u,addressType:f,dust:h(f)}}catch(e){}else try{if(s=i.bitcoin.address.fromBase58Check(e),s.version===t.pubKeyHash?(u=o.NetworkType.MAINNET,f=c.P2PKH):s.version===r.pubKeyHash?(u=o.NetworkType.TESTNET,f=c.P2PKH):s.version===n.pubKeyHash?(u=o.NetworkType.REGTEST,f=c.P2PKH):s.version===t.scriptHash?(u=o.NetworkType.MAINNET,f=c.P2SH_P2WPKH):s.version===r.scriptHash?(u=o.NetworkType.TESTNET,f=c.P2SH_P2WPKH):s.version===n.scriptHash&&(u=o.NetworkType.REGTEST,f=c.P2SH_P2WPKH),void 0!==u&&void 0!==f)return{networkType:u,addressType:f,dust:h(f)}}catch(e){}return{addressType:c.UNKNOWN,networkType:o.NetworkType.MAINNET,dust:546}}function h(e){return e===c.P2WPKH?294:e===c.P2TR?330:546}!function(e){e[e.P2PKH=0]="P2PKH",e[e.P2WPKH=1]="P2WPKH",e[e.P2TR=2]="P2TR",e[e.P2SH_P2WPKH=3]="P2SH_P2WPKH",e[e.P2WSH=4]="P2WSH",e[e.P2SH=5]="P2SH",e[e.UNKNOWN=6]="UNKNOWN"}(c||(t.AddressType=c={})),t.isSupportedFromAddress=function(e){const{addressType:t}=d(e);return t===c.P2WPKH||t===c.P2TR},t.publicKeyToPayment=f,t.publicKeyToAddress=function(e,t,r){const n=f(e,t,r);if(n&&n.address)return n.address;throw new a.TxBuildError(a.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE)},t.addressToScriptPublicKey=l,t.addressToScriptPublicKeyHex=function(e,t){return l(e,t).toString("hex")},t.isValidAddress=function(e,t){try{return i.bitcoin.address.toOutputScript(e,(0,s.networkTypeToNetwork)(t)),!0}catch{return!1}},t.getAddressType=function(e){return d(e).addressType},t.decodeAddress=d,t.addAddressToPubkeyMap=function(e,t,r){const n={...e};return r&&(n[t]=r),n}},58326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendBtc=t.createSendBtcBuilder=void 0;const n=r(68835);async function i(e){const t=e.tos.map((e=>({fixed:!0,...e})));return await(0,n.createSendUtxosBuilder)({inputs:[],outputs:t,from:e.from,source:e.source,feeRate:e.feeRate,fromPubkey:e.fromPubkey,changeAddress:e.changeAddress,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos})}t.createSendBtcBuilder=i,t.sendBtc=async function(e){const{builder:t}=await i(e);return t.toPsbt()}},79968:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.sendRbf=t.createSendRbfBuilder=void 0;const i=r(44273),o=r(76889),s=r(90593),a=r(97593),u=r(68835),c=r(2353);async function f(e){const t=c.bitcoin.Transaction.fromHex(e.txHex),r=(0,s.networkTypeToNetwork)(e.source.networkType),f=[];for(const r of t.ins){const t=n.from(r.hash).reverse().toString("hex"),o=await e.source.getUtxo(t,r.index);if(!o)throw i.TxBuildError.withComment(i.ErrorCodes.CANNOT_FIND_UTXO,`hash: ${t}, index: ${r.index}`);f.push(o)}const l=e.requireValidOutputsValue??!1,d=t.outs.map((e=>(0,o.isOpReturnScriptPubkey)(e.script)?{script:e.script,value:e.value,fixed:!0}:{minUtxoSatoshi:l?void 0:e.value,address:c.bitcoin.address.fromOutputScript(e.script,r),value:e.value,fixed:!0}));let h=e.changeAddress;if(void 0!==e.changeIndex){const t=d[e.changeIndex];if(!t)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`outputs[${e.changeIndex}] is not found`);if(!(t&&"address"in t))throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`outputs[${e.changeIndex}] is not a returnable output for change`);const r=t.address;if(r&&h&&h!==r)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_CHANGE_OUTPUT,`The address of outputs[${e.changeIndex}] does not match the specified changeAddress, expected: ${h}, actual: ${r}`);r&&!h&&(h=r);if(d.length===e.changeIndex+1)d.pop();else{const r=(0,a.networkTypeToConfig)(e.source.networkType),n=e.minUtxoSatoshi??r.btcUtxoDustLimit;t.minUtxoSatoshi=n,t.value=n,t.protected=!0,t.fixed=!1}}const p=e.requireGreaterFeeAndRate??!0;let y=e.feeRate;if(p&&!y){y=(await e.source.service.getBtcRecommendedFeeRates()).fastestFee}const g=f.reduce(((e,t)=>e+t.value),0)-t.outs.reduce(((e,t)=>e+t.value),0),b=Math.floor(g/t.virtualSize());if(p&&void 0!==y&&y<=b)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_FEE_RATE,`RBF should offer a higher fee rate, previous: ${b}, current: ${y}`);const m=t.getId(),v=t.outs.map(((e,t)=>({txid:m,vout:t}))),_=await(0,u.createSendUtxosBuilder)({inputs:f,outputs:d,excludeUtxos:v,changeAddress:h,from:e.from,source:e.source,feeRate:e.feeRate,pubkeyMap:e.pubkeyMap,fromPubkey:e.fromPubkey,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos??!0,skipInputsValidation:!0});if(p&&_.fee<=g)throw i.TxBuildError.withComment(i.ErrorCodes.INVALID_FEE_RATE,`RBF should offer a higher fee amount, previous: ${g}, current: ${_.fee}`);return _}t.createSendRbfBuilder=f,t.sendRbf=async function(e){const{builder:t}=await f(e);return t.toPsbt()}},34764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRgbppUtxos=t.createSendRgbppUtxosBuilder=t.sendRgbppUtxosBuilder=void 0;const n=r(41256),i=r(41256),o=r(23538),s=r(44273),a=r(97593),u=r(89026),c=r(68835),f=r(24662);async function l(e){const t=[],r=[];let l=-1;const d=e.ckbVirtualTx,h=(0,a.networkTypeToConfig)(e.source.networkType),p=e.source.networkType===o.NetworkType.MAINNET,y=await Promise.all(d.inputs.map((t=>(0,f.limitPromiseBatchSize)((async()=>{const r=await e.ckbCollector.getLiveCell(t.previousOutput),n=(0,i.isRgbppLockCell)(r.output,p);return{ckbLiveCell:r,isRgbppLock:n,lockArgs:n?(0,u.unpackRgbppLockArgs)(r.output.lock.args):void 0}}))))),g=await Promise.all(y.map((({ckbLiveCell:t,isRgbppLock:r})=>{if(r){const r=(0,u.unpackRgbppLockArgs)(t.output.lock.args);return(0,f.limitPromiseBatchSize)((()=>e.source.getUtxo(r.btcTxid,r.outIndex,e.onlyConfirmedUtxos)))}})));for(let e=0;e<d.inputs.length;e++){const{lockArgs:r,isRgbppLock:n}=y[e];if(n){const n=r,i=g[e];if(!i)throw s.TxBuildError.withComment(s.ErrorCodes.CANNOT_FIND_UTXO,`hash: ${n.btcTxid}, index: ${n.outIndex}`);if(t.some((e=>e.txid===i.txid&&e.vout===i.vout)))continue;t.push(i)}}if(t.length<1)throw new s.TxBuildError(s.ErrorCodes.CKB_INVALID_INPUTS);for(let t=0;t<d.outputs.length;t++){const n=d.outputs[t],o=(0,i.isRgbppLockCell)(n,p),a=(0,i.isBtcTimeLockCell)(n,p);if(n.type){if(!o&&!a)throw new s.TxBuildError(s.ErrorCodes.CKB_INVALID_CELL_LOCK);l=t}if(o){const n=e.tos?.[t],i=e.rgbppMinUtxoSatoshi??h.rgbppUtxoDustLimit;r.push({fixed:!0,address:n??e.from,value:i,minUtxoSatoshi:i})}}if(l<0)throw new s.TxBuildError(s.ErrorCodes.CKB_INVALID_OUTPUTS);const b=(0,i.calculateCommitment)({inputs:d.inputs,outputs:d.outputs.slice(0,l+1),outputsData:d.outputsData.slice(0,l+1)});if(e.commitment!==b)throw new s.TxBuildError(s.ErrorCodes.CKB_UNMATCHED_COMMITMENT);const m=await async function(e,t){const r=[];r.push({data:t.commitment,fixed:!0,value:0}),r.push(...e);const i=await t.source.getPaymasterOutput(),o=i?.address!==t.paymaster?.address||i?.value!==t.paymaster?.value;if(i&&t.paymaster&&o)throw s.TxBuildError.withComment(s.ErrorCodes.PAYMASTER_MISMATCH,`expected: ${i}, actual: ${t.paymaster}`);const a=i??t.paymaster,u=await(async()=>{if(void 0!==t.needPaymaster)return t.needPaymaster;return!await(0,n.checkCkbTxInputsCapacitySufficient)(t.ckbVirtualTx,t.ckbCollector)})();a&&u&&r.push({...a,fixed:!0});return r}(r,e);return await(0,c.createSendUtxosBuilder)({inputs:t,outputs:m,from:e.from,source:e.source,feeRate:e.feeRate,fromPubkey:e.fromPubkey,changeAddress:e.changeAddress,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos,excludeUtxos:e.excludeUtxos,pubkeyMap:e.pubkeyMap})}t.sendRgbppUtxosBuilder=l,t.createSendRgbppUtxosBuilder=l,t.sendRgbppUtxos=async function(e){const{builder:t}=await l(e);return t.toPsbt()}},68835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendUtxos=t.createSendUtxosBuilder=void 0;const n=r(61088),i=r(73586),o=r(95367);async function s(e){const t=new n.TxBuilder({source:e.source,feeRate:e.feeRate,minUtxoSatoshi:e.minUtxoSatoshi,onlyConfirmedUtxos:e.onlyConfirmedUtxos}),r=(0,o.addAddressToPubkeyMap)(e.pubkeyMap??{},e.from,e.fromPubkey),s=await(0,i.prepareUtxoInputs)({utxos:e.inputs,source:e.source,requireConfirmed:e.onlyConfirmedUtxos&&!e.skipInputsValidation,requirePubkey:!0,pubkeyMap:r});t.addInputs(s),t.addOutputs(e.outputs);const a=await t.payFee({address:e.from,publicKey:r[e.from],changeAddress:e.changeAddress,excludeUtxos:e.excludeUtxos});return{builder:t,fee:a.fee,feeRate:a.feeRate,changeIndex:a.changeIndex}}t.createSendUtxosBuilder=s,t.sendUtxos=async function(e){const{builder:t}=await s(e);return t.toPsbt()}},2353:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isTaprootInput=t.isP2WPKH=t.isP2PKH=t.isP2TR=t.bitcoin=t.ECPair=t.ecc=void 0;const a=s(r(38700)),u=s(r(73513));t.ecc=u.default;const c=o(r(21757));t.bitcoin=c;const f=r(60477);Object.defineProperty(t,"isTaprootInput",{enumerable:!0,get:function(){return f.isTaprootInput}});const l=r(34929);Object.defineProperty(t,"isP2TR",{enumerable:!0,get:function(){return l.isP2TR}}),Object.defineProperty(t,"isP2WPKH",{enumerable:!0,get:function(){return l.isP2WPKH}}),Object.defineProperty(t,"isP2PKH",{enumerable:!0,get:function(){return l.isP2PKH}}),c.initEccLib(u.default);const d=(0,a.default)(u.default);t.ECPair=d},89026:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackRgbppLockArgs=void 0;const n=r(67239),i=r(41256),o=r(44273),s=r(24662);t.unpackRgbppLockArgs=function(e){try{const t=i.RGBPPLock.unpack(e),r=n.bytes.bytify(t.btcTxid).reverse();return{btcTxid:n.bytes.hexify(r),outIndex:t.outIndex}}catch{const t=(0,s.remove0x)(n.bytes.hexify(n.bytes.bytify(e)));throw o.TxBuildError.withComment(o.ErrorCodes.CKB_RGBPP_LOCK_UNPACK_ERROR,t)}}},44273:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TxBuildError=t.ErrorMessages=t.ErrorCodes=void 0,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.MISSING_PUBKEY=20]="MISSING_PUBKEY",e[e.CANNOT_FIND_UTXO=21]="CANNOT_FIND_UTXO",e[e.UNCONFIRMED_UTXO=22]="UNCONFIRMED_UTXO",e[e.INSUFFICIENT_UTXO=23]="INSUFFICIENT_UTXO",e[e.REFERENCED_UNPROVABLE_UTXO=24]="REFERENCED_UNPROVABLE_UTXO",e[e.UNSPENDABLE_OUTPUT=25]="UNSPENDABLE_OUTPUT",e[e.DUPLICATED_UTXO=26]="DUPLICATED_UTXO",e[e.DUST_OUTPUT=27]="DUST_OUTPUT",e[e.UNSUPPORTED_OUTPUT=28]="UNSUPPORTED_OUTPUT",e[e.INVALID_CHANGE_OUTPUT=29]="INVALID_CHANGE_OUTPUT",e[e.UNSUPPORTED_NETWORK_TYPE=30]="UNSUPPORTED_NETWORK_TYPE",e[e.UNSUPPORTED_ADDRESS_TYPE=31]="UNSUPPORTED_ADDRESS_TYPE",e[e.UNSUPPORTED_OP_RETURN_SCRIPT=32]="UNSUPPORTED_OP_RETURN_SCRIPT",e[e.INVALID_FEE_RATE=33]="INVALID_FEE_RATE",e[e.PAYMASTER_MISMATCH=34]="PAYMASTER_MISMATCH",e[e.CKB_CANNOT_FIND_OUTPOINT=40]="CKB_CANNOT_FIND_OUTPOINT",e[e.CKB_INVALID_CELL_LOCK=41]="CKB_INVALID_CELL_LOCK",e[e.CKB_INVALID_INPUTS=42]="CKB_INVALID_INPUTS",e[e.CKB_INVALID_OUTPUTS=43]="CKB_INVALID_OUTPUTS",e[e.CKB_UNMATCHED_COMMITMENT=44]="CKB_UNMATCHED_COMMITMENT",e[e.CKB_RGBPP_LOCK_UNPACK_ERROR=45]="CKB_RGBPP_LOCK_UNPACK_ERROR",e[e.MEMPOOL_API_RESPONSE_ERROR=60]="MEMPOOL_API_RESPONSE_ERROR"}(r||(t.ErrorCodes=r={})),t.ErrorMessages={[r.UNKNOWN]:"Unknown error",[r.MISSING_PUBKEY]:"Missing a pubkey that pairs with the address",[r.CANNOT_FIND_UTXO]:"Cannot find the UTXO, it may not exist or is not live",[r.UNCONFIRMED_UTXO]:"Unconfirmed UTXO",[r.INSUFFICIENT_UTXO]:"Insufficient UTXO to construct the transaction",[r.REFERENCED_UNPROVABLE_UTXO]:'Cannot reference a UTXO that does not belongs to "from"',[r.DUPLICATED_UTXO]:"Cannot reference the same UTXO twice",[r.UNSPENDABLE_OUTPUT]:"Target output is not an UTXO",[r.DUST_OUTPUT]:"Output defined value is below the dust limit",[r.UNSUPPORTED_OUTPUT]:"Unsupported output format",[r.INVALID_CHANGE_OUTPUT]:"Invalid change output",[r.UNSUPPORTED_NETWORK_TYPE]:"Unsupported network type",[r.UNSUPPORTED_ADDRESS_TYPE]:"Unsupported address type",[r.UNSUPPORTED_OP_RETURN_SCRIPT]:"Unsupported OP_RETURN script format",[r.INVALID_FEE_RATE]:"Invalid fee rate provided or recommended",[r.PAYMASTER_MISMATCH]:"Paymaster mismatched",[r.CKB_CANNOT_FIND_OUTPOINT]:"Cannot find CKB cell by OutPoint, it may not exist or is not live",[r.CKB_INVALID_CELL_LOCK]:"Invalid CKB cell lock, it should be RgbppLock, RgbppTimeLock or null",[r.CKB_INVALID_INPUTS]:"Invalid input(s) found in the CKB VirtualTx",[r.CKB_INVALID_OUTPUTS]:"Invalid output(s) found in the CKB VirtualTx",[r.CKB_UNMATCHED_COMMITMENT]:"Invalid commitment found in the CKB VirtualTx",[r.CKB_RGBPP_LOCK_UNPACK_ERROR]:"Failed to unpack RgbppLockArgs from the CKB cell lock",[r.MEMPOOL_API_RESPONSE_ERROR]:"Mempool.space API returned an error"};class n extends Error{code=r.UNKNOWN;constructor(e,r=t.ErrorMessages[e]||"Unknown error"){super(r),this.code=e,Object.setPrototypeOf(this,n.prototype)}static withComment(e,r){const i=t.ErrorMessages[e];return new n(e,r?`${i}: ${r}`:i)}}t.TxBuildError=n},61611:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(23538),t),i(r(97593),t),i(r(90593),t),i(r(24662),t),i(r(44273),t),i(r(2353),t),i(r(95367),t),i(r(47960),t),i(r(20843),t),i(r(61088),t),i(r(76889),t),i(r(73586),t),i(r(78016),t),i(r(58326),t),i(r(79968),t),i(r(68835),t),i(r(34764),t)},97593:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.networkToConfig=t.networkTypeToConfig=void 0;const i=n(r(88055)),o=r(2353),s=r(44273),a=r(23538),u={testnet:{feeRate:1,btcUtxoDustLimit:1e3,rgbppUtxoDustLimit:546,network:o.bitcoin.networks.testnet,networkType:a.NetworkType.TESTNET},mainnet:{feeRate:20,btcUtxoDustLimit:1e4,rgbppUtxoDustLimit:546,network:o.bitcoin.networks.bitcoin,networkType:a.NetworkType.MAINNET}};t.networkTypeToConfig=function(e){if(e===a.NetworkType.TESTNET)return(0,i.default)(u.testnet);if(e===a.NetworkType.MAINNET)return(0,i.default)(u.mainnet);throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_NETWORK_TYPE)},t.networkToConfig=function(e){if(e.bech32==o.bitcoin.networks.bitcoin.bech32)return(0,i.default)(u.mainnet);if(e.bech32==o.bitcoin.networks.testnet.bech32)return(0,i.default)(u.testnet);throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_NETWORK_TYPE)}},90593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkToNetworkType=t.networkTypeToNetwork=void 0;const n=r(97593);t.networkTypeToNetwork=function(e){return(0,n.networkTypeToConfig)(e).network},t.networkToNetworkType=function(e){return(0,n.networkToConfig)(e).networkType}},23538:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkType=void 0,function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e[e.REGTEST=2]="REGTEST"}(r||(t.NetworkType=r={}))},67674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataCache=void 0;t.DataCache=class{utxos;constructor(){this.utxos=new Map}setUtxos(e,t){this.utxos.set(e,t)}getUtxos(e){return this.utxos.get(e)}cleanUtxos(e){this.utxos.has(e)&&this.utxos.delete(e)}async optionalCacheUtxos(e){if(e.key&&this.utxos.has(e.key))return this.getUtxos(e.key);const t=await e.getter();return e.key&&this.setUtxos(e.key,t),t}}},20843:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.DataSource=void 0;const i=r(90375),o=r(44273),s=r(76889),a=r(95367),u=r(24662),c=r(67674);t.DataSource=class{cache;service;networkType;constructor(e,t){this.service=e,this.networkType=t,this.cache=new c.DataCache}async getUtxo(e,t,r){const n=await this.getOutput(e,t,r);if(n&&!("address"in n))throw o.TxBuildError.withComment(o.ErrorCodes.UNSPENDABLE_OUTPUT,`hash: ${e}, index: ${t}`);return n}async getOutput(e,t,r){const i=(0,u.remove0x)(e),c=await this.service.getBtcTransaction(i);if(!c)return;if(r&&!c.status.confirmed)throw o.TxBuildError.withComment(o.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${e}, index: ${t}`);const f=c.vout[t];if(!f)return;const l=n.from(f.scriptpubkey,"hex");return(0,s.isOpReturnScriptPubkey)(l)?{txid:i,vout:t,value:f.value,scriptPk:f.scriptpubkey}:{txid:i,vout:t,value:f.value,scriptPk:f.scriptpubkey,address:f.scriptpubkey_address,addressType:(0,a.getAddressType)(f.scriptpubkey_address)}}async isTransactionConfirmed(e){return(await this.service.getBtcTransaction((0,u.remove0x)(e))).status.confirmed}async getUtxos(e,t){const r=await this.service.getBtcUtxos(e,t),n=(0,a.addressToScriptPublicKeyHex)(e,this.networkType);return r.sort(((e,t)=>{const r=e.status.block_height,n=t.status.block_height;return r!==n?r-n:e.vout-t.vout})).map((t=>({address:e,scriptPk:n,txid:t.txid,vout:t.vout,value:t.value,addressType:(0,a.getAddressType)(e)})))}async collectSatoshi(e){const t=e.allowInsufficient??!1,r=e.excludeUtxos??[],n=await this.cache.optionalCacheUtxos({key:e.internalCacheKey,getter:()=>this.getUtxos(e.address,{only_non_rgbpp_utxos:e.onlyNonRgbppUtxos,only_confirmed:e.onlyConfirmedUtxos,min_satoshi:e.minUtxoSatoshi,no_cache:e.noAssetsApiCache})}),i=[];let s=0;for(const t of n){if(s>=e.targetAmount)break;if(r.length>0){if(r.find((e=>e.txid===t.txid&&e.vout===t.vout)))continue}i.push(t),s+=t.value}if(!t&&s<e.targetAmount)throw o.TxBuildError.withComment(o.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${e.targetAmount}, actual: ${s}`);return{utxos:i,satoshi:s,exceedSatoshi:s-e.targetAmount}}async getPaymasterOutput(){try{const e=await this.service.getRgbppPaymasterInfo();return{address:e.btc_address,value:e.fee}}catch(e){if(e instanceof i.BtcAssetsApiError&&e.code===i.ErrorCodes.ASSETS_API_RESOURCE_NOT_FOUND)return;throw e}}}},47960:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.isP2trScript=t.isP2wpkhScript=void 0;const i=r(2353);t.isP2wpkhScript=function(e){const t="string"==typeof e?n.from(e,"hex"):e;return(0,i.isP2WPKH)(t)},t.isP2trScript=function(e){const t="string"==typeof e?n.from(e,"hex"):e;return(0,i.isP2TR)(t)}},61088:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TxBuilder=void 0;const i=n(r(88055)),o=r(2353),s=r(44273),a=r(95367),u=r(76889),c=r(97593),f=r(73586),l=r(24662),d=r(78016);class h{inputs=[];outputs=[];source;config;networkType;onlyNonRgbppUtxos;onlyConfirmedUtxos;minUtxoSatoshi;feeRate;constructor(e){this.source=e.source,this.networkType=this.source.networkType,this.config=(0,c.networkTypeToConfig)(this.networkType),this.onlyNonRgbppUtxos=e.onlyNonRgbppUtxos??!0,this.onlyConfirmedUtxos=e.onlyConfirmedUtxos??!1,this.minUtxoSatoshi=e.minUtxoSatoshi??this.config.btcUtxoDustLimit,this.feeRate=e.feeRate}hasInput(e,t){return this.inputs.some((r=>r.data.hash===e&&r.data.index===t))}addInput(e){if(this.hasInput(e.txid,e.vout))throw s.TxBuildError.withComment(s.ErrorCodes.DUPLICATED_UTXO,`hash: ${e.txid}, index: ${e.vout}`);e=(0,i.default)(e),this.inputs.push((0,f.utxoToInput)(e))}addInputs(e){e.forEach((e=>{this.addInput(e)}))}async validateInputs(){await Promise.all(this.inputs.map((async e=>(0,l.limitPromiseBatchSize)((async()=>{if(!await this.source.isTransactionConfirmed(e.data.hash))throw s.TxBuildError.withComment(s.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${e.data.hash}, index: ${e.data.index}`)})))))}addOutput(e){let t;if("data"in e&&(t={script:(0,u.dataToOpReturnScriptPubkey)(e.data),value:e.value,fixed:e.fixed,protected:e.protected,minUtxoSatoshi:e.minUtxoSatoshi}),("address"in e||"script"in e)&&(t=(0,i.default)(e)),!t)throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_OUTPUT);const r=t.minUtxoSatoshi??this.minUtxoSatoshi;if(!("script"in t&&(0,u.isOpReturnScriptPubkey)(t.script))&&t.value<r)throw s.TxBuildError.withComment(s.ErrorCodes.DUST_OUTPUT,`expected ${r}, but defined ${t.value}`);this.outputs.push(t)}addOutputs(e){e.forEach((e=>{this.addOutput(e)}))}async payFee(e){const{address:t,publicKey:r,feeRate:n,changeAddress:o,deductFromOutputs:s,excludeUtxos:a}=e,u=(0,i.default)(this.inputs),c=(0,i.default)(this.outputs),f=`${Date.now()}`;let l;if(!n&&!this.feeRate){l=(await this.source.service.getBtcRecommendedFeeRates()).fastestFee}const d=n??this.feeRate??l;let h=0,p=0,y=!1,g=!1,b=-1;for(;!g;){y&&(p=h,this.inputs=(0,i.default)(u),this.outputs=(0,i.default)(c));const{needCollect:e,needReturn:n,inputsTotal:l}=this.summary(),m=l>0||p>0,v=n-p;if(m&&v>0){const{changeIndex:e}=await this.injectChange({address:o??t,amount:v,fromAddress:t,fromPublicKey:r,internalCacheKey:f,excludeUtxos:a});b=e}else{const i=e-n+p+(m?0:1),{changeIndex:u}=await this.injectSatoshi({address:t,publicKey:r,targetAmount:i,changeAddress:o,deductFromOutputs:s,internalCacheKey:f,excludeUtxos:a});b=u}h=await this.calculateFee(d),g=[-1,0,1].includes(h-p),y||(y=!0)}return this.source.cache.cleanUtxos(f),{fee:h,feeRate:d,changeIndex:b}}async injectSatoshi(e){if(!(0,a.isSupportedFromAddress)(e.address))throw s.TxBuildError.withComment(s.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE,e.address);const t=e.targetAmount,r=e.excludeUtxos??[],n=e.injectCollected??!1,i=e.deductFromOutputs??!0;let o=0,u=0;const c=async t=>{const{utxos:n,satoshi:i}=await this.source.collectSatoshi({address:e.address,targetAmount:t,allowInsufficient:!0,noAssetsApiCache:!0,internalCacheKey:e.internalCacheKey,minUtxoSatoshi:this.minUtxoSatoshi,onlyNonRgbppUtxos:this.onlyNonRgbppUtxos,onlyConfirmedUtxos:this.onlyConfirmedUtxos,excludeUtxos:[...this.inputs.map((e=>e.utxo)),...r]});n.forEach((t=>{this.addInput({...t,pubkey:e.publicKey})})),o+=i,f()},f=()=>{u=n?o+t:o-t};if(i)for(let e=0;e<this.outputs.length;e++){const r=this.outputs[e];if(r.fixed)continue;if(o>=t)break;const n=r.minUtxoSatoshi??this.minUtxoSatoshi,i=r.value-n,s=t-o;if(r.protected){const e=Math.min(i,s);r.value-=e,o+=e}else{const t=r.value>s?Math.min(i,s):r.value;r.value-=t,o+=t,0===r.value&&(this.outputs.splice(e,1),e--)}}o<t&&await c(t-o);const l=e.changeAddress??e.address,d=!this.canInjectChangeToOutputs(l),h=!d&&u>0&&u<this.minUtxoSatoshi?this.minUtxoSatoshi-u:0;h>0&&await c(h);if(o<t){const e=t-o+this.minUtxoSatoshi;throw s.TxBuildError.withComment(s.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${t}, actual: ${o}. You may wanna deposit more satoshi to prevent the error, for example: ${e}`)}if(!d&&u>0&&u<this.minUtxoSatoshi){const e=o+h;throw s.TxBuildError.withComment(s.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${e}, actual: ${o}`)}let p=-1;if(u>0){p=(await this.injectChange({amount:u,address:l,fromAddress:e.address,fromPublicKey:e.publicKey})).changeIndex}return{collected:o,changeIndex:p,changeAmount:u}}async injectChange(e){const{address:t,fromAddress:r,fromPublicKey:n,amount:i,excludeUtxos:o,internalCacheKey:a}=e;for(let e=0;e<this.outputs.length;e++){const r=this.outputs[e];if(!r.fixed&&("address"in r&&r.address===t))return r.value+=i,{changeIndex:e}}let u=-1;if(i<this.minUtxoSatoshi){const e=await this.injectSatoshi({address:r,publicKey:n,targetAmount:i,changeAddress:t,injectCollected:!0,deductFromOutputs:!1,internalCacheKey:a,excludeUtxos:o});if(e.collected<i)throw s.TxBuildError.withComment(s.ErrorCodes.INSUFFICIENT_UTXO,`expected: ${i}, actual: ${e.collected}`);u=e.changeIndex}else this.addOutput({address:t,value:i}),u=this.outputs.length-1;return{changeIndex:u}}canInjectChangeToOutputs(e){return this.outputs.some((t=>!(t.fixed||"address"in t&&t.address!==e)))}async calculateFee(e){if(!e&&!this.feeRate)throw s.TxBuildError.withComment(s.ErrorCodes.INVALID_FEE_RATE,`${e??this.feeRate}`);const t=e??this.feeRate,r=(await this.createEstimatedPsbt()).extractTransaction(!0),n=r.ins.length,i=r.byteLength(!0),o=3*r.byteLength(!1)+i+n,a=Math.ceil(o/4);return Math.ceil(a*t)}async createEstimatedPsbt(){const e=d.FeeEstimator.fromRandom(this.networkType),t=this.clone();t.inputs=t.inputs.map((t=>{const r=e.replaceUtxo(t.utxo);return(0,f.utxoToInput)(r)}));const r=t.toPsbt();return await e.signPsbt(r),r}summary(){const e=this.inputs.reduce(((e,t)=>e+t.utxo.value),0),t=this.outputs.reduce(((e,t)=>e+t.value),0),r=e-t,n=t-e;return{inputsTotal:e,outputsTotal:t,inputsRemaining:r,outputsRemaining:n,needReturn:r>0?r:0,needCollect:n>0?n:0}}clone(){const e=new h({source:this.source,feeRate:this.feeRate,minUtxoSatoshi:this.minUtxoSatoshi});return e.inputs=(0,i.default)(this.inputs),e.outputs=(0,i.default)(this.outputs),e}toPsbt(){const e=this.config.network,t=new o.bitcoin.Psbt({network:e});return this.inputs.forEach((e=>{t.data.addInput(e.data)})),this.outputs.forEach((e=>{t.addOutput(e)})),t}}t.TxBuilder=h},76889:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.isOpReturnScriptPubkey=t.opReturnScriptPubKeyToData=t.dataToOpReturnScriptPubkey=void 0;const i=r(24662),o=r(2353),s=r(44273);function a(e){const t=o.bitcoin.script.decompile(e);if(!t||2!==t.length)return!1;const[r,i]=t;return r===o.bitcoin.opcodes.OP_RETURN&&!(!(i instanceof n)||i.byteLength<1||i.byteLength>80)}t.dataToOpReturnScriptPubkey=function(e){return"string"==typeof e&&(e=n.from((0,i.remove0x)(e),"hex")),o.bitcoin.payments.embed({data:[e]}).output},t.opReturnScriptPubKeyToData=function(e){if(!a(e))throw s.TxBuildError.withComment(s.ErrorCodes.UNSUPPORTED_OP_RETURN_SCRIPT,e.toString("hex"));return o.bitcoin.script.decompile(e)[1]},t.isOpReturnScriptPubkey=a},78016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeeEstimator=void 0;const n=r(95367),i=r(24662),o=r(90593),s=r(47960),a=r(2353);class u{networkType;network;keyPair;pubkey;accounts;constructor(e,t){const r=(0,o.networkTypeToNetwork)(t);this.networkType=t,this.network=r;const s=a.ECPair.fromWIF(e,r);this.pubkey=s.publicKey.toString("hex"),this.keyPair=s;const u=a.bitcoin.payments.p2wpkh({pubkey:s.publicKey,network:r}),c=a.bitcoin.payments.p2tr({internalPubkey:(0,i.toXOnly)(s.publicKey),network:r});this.accounts={p2wpkh:{payment:u,address:u.address,addressType:n.AddressType.P2WPKH,scriptPubkey:u.output.toString("hex")},p2tr:{payment:c,address:c.address,addressType:n.AddressType.P2TR,tapInternalKey:(0,i.toXOnly)(s.publicKey),scriptPubkey:c.output.toString("hex")}}}static fromRandom(e){const t=(0,o.networkTypeToNetwork)(e),r=a.ECPair.makeRandom({network:t});return new u(r.toWIF(),e)}replaceUtxo(e){return(e.addressType===n.AddressType.P2WPKH||(0,s.isP2wpkhScript)(e.scriptPk))&&(e.scriptPk=this.accounts.p2wpkh.scriptPubkey,e.pubkey=this.pubkey),(e.addressType===n.AddressType.P2TR||(0,s.isP2trScript)(e.scriptPk))&&(e.scriptPk=this.accounts.p2tr.scriptPubkey,e.pubkey=this.pubkey),e}async signPsbt(e){const t=(0,i.tweakSigner)(this.keyPair,{network:this.network});return e.data.inputs.forEach(((r,n)=>{if(r.witnessUtxo){const e=!(r.finalScriptSig||r.finalScriptWitness),t=(0,s.isP2trScript)(r.witnessUtxo.script),n=!r.tapInternalKey;e&&t&&n&&r.witnessUtxo.script.toString("hex")===this.accounts.p2tr.scriptPubkey&&(r.tapInternalKey=this.accounts.p2tr.tapInternalKey)}(0,a.isTaprootInput)(r)?e.signInput(n,t):e.signInput(n,this.keyPair)})),e.finalizeAllInputs(),e}}t.FeeEstimator=u},73586:function(e,t,r){"use strict";var n=r(48287).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.prepareUtxoInputs=t.fillUtxoPubkey=t.utxoToInput=void 0;const o=i(r(88055)),s=r(44273),a=r(95367),u=r(24662),c=r(47960);function f(e,t,r){const n=(0,o.default)(e);if((0,c.isP2trScript)(n.scriptPk)&&!n.pubkey){const e=t[n.address];if(r?.requirePubkey&&!e)throw s.TxBuildError.withComment(s.ErrorCodes.MISSING_PUBKEY,n.address);e&&(n.pubkey=e)}return n}t.utxoToInput=function(e){if(e.addressType===a.AddressType.P2WPKH){return{data:{hash:e.txid,index:e.vout,witnessUtxo:{value:e.value,script:n.from((0,u.remove0x)(e.scriptPk),"hex")}},utxo:e}}if(e.addressType===a.AddressType.P2TR){if(!e.pubkey)throw s.TxBuildError.withComment(s.ErrorCodes.MISSING_PUBKEY,e.address);return{data:{hash:e.txid,index:e.vout,witnessUtxo:{value:e.value,script:n.from((0,u.remove0x)(e.scriptPk),"hex")},tapInternalKey:(0,u.toXOnly)(n.from((0,u.remove0x)(e.pubkey),"hex"))},utxo:e}}throw new s.TxBuildError(s.ErrorCodes.UNSUPPORTED_ADDRESS_TYPE)},t.fillUtxoPubkey=f,t.prepareUtxoInputs=async function(e){const t=e.pubkeyMap??{},r=e.utxos.map((r=>f(r,t,{requirePubkey:e.requirePubkey})));return e.requireConfirmed&&await Promise.all(r.map((async t=>(0,u.limitPromiseBatchSize)((async()=>{if(!await e.source.isTransactionConfirmed(t.txid))throw s.TxBuildError.withComment(s.ErrorCodes.UNCONFIRMED_UTXO,`hash: ${t.txid}, index: ${t.vout}`)}))))),r}},24662:function(e,t,r){"use strict";var n=r(48287).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.limitPromiseBatchSize=t.transactionToHex=t.utf8ToBuffer=t.remove0x=t.tweakSigner=t.toXOnly=void 0;const o=i(r(90165)),s=r(2353),a=r(67239),u=new TextEncoder;function c(e){return 32===e.length?e:e.subarray(1,33)}t.toXOnly=c,t.tweakSigner=function(e,t){if(!e.privateKey)throw new Error("Private key is required for tweaking signer!");let r=e.privateKey;3===e.publicKey[0]&&(r=s.ecc.privateNegate(r));const i=s.ecc.privateAdd(r,(o=c(e.publicKey),a=t?.tweakHash,s.bitcoin.crypto.taggedHash("TapTweak",n.concat(a?[o,a]:[o]))));var o,a;if(!i)throw new Error("Invalid tweaked private key!");return s.ECPair.fromPrivateKey(n.from(i),{network:t?.network})},t.remove0x=function(e){return e.startsWith("0x")?e.slice(2):e},t.utf8ToBuffer=function(e){const t=e.trim();return t.startsWith("0x")?a.bytes.bytify(t):u.encode(t)},t.transactionToHex=function(e,t){return e.__toBuffer(void 0,void 0,t??!1).toString("hex")},t.limitPromiseBatchSize=(0,o.default)(10)},43622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ckbDecimals=t.BI=void 0,t.formatUnit=function(e,t){const r=d(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=s.from(e);const n=e.isNegative();n&&(e=e.mul(l));const i=e.div(r).toString();let o=i;if(r.length>1){let t=e.mod(r).toString();for(;t.length<r.length-1;)t="0"+t;t=t.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+t}n&&(o="-"+o);return o}(e,r)},t.isBIish=o,t.parseUnit=function(e,t){const r=d(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n="-"===e.substring(0,1);n&&(e=e.substring(1));let i,o;const a=e.split(".");if(1===a.length)i=a[0],o="0";else{if(2!==a.length)throw new Error("too many decimal points (should not happen)");i=a[0],o=a[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const u=s.from(i),c=s.from(o);let f=u.mul(r).add(c);n&&(f=f.mul(l));return f}(e,r)},t.toJSBI=u;var n,i=(n=r(75951))&&n.__esModule?n:{default:n};function o(e){return null!==e&&("number"==typeof e&&e%1==0||"string"==typeof e&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||"bigint"==typeof e||s.isBI(e))}class s{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return a(i.default.add(this.jsbi,u(e)))}sub(e){return a(i.default.subtract(this.jsbi,u(e)))}div(e){return a(i.default.divide(this.jsbi,u(e)))}mul(e){return a(i.default.multiply(this.jsbi,u(e)))}mod(e){return a(i.default.remainder(this.jsbi,u(e)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,u(0))?a(this.jsbi):a(i.default.unaryMinus(this.jsbi))}pow(e){return a(i.default.exponentiate(this.jsbi,u(e)))}and(e){return a(i.default.bitwiseAnd(this.jsbi,u(e)))}or(e){return a(i.default.bitwiseOr(this.jsbi,u(e)))}xor(e){return a(i.default.bitwiseXor(this.jsbi,u(e)))}not(){return a(i.default.bitwiseNot(this.jsbi))}mask(e){const t=u(e);if(i.default.lessThan(t,u(0))||i.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const r=u(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,t))return a(this.jsbi);{const e=i.default.leftShift(i.default.signedRightShift(this.jsbi,t),t);return a(i.default.bitwiseXor(this.jsbi,e))}}shl(e){return a(i.default.leftShift(this.jsbi,u(e)))}shr(e){return a(i.default.signedRightShift(this.jsbi,u(e)))}eq(e){return i.default.equal(this.jsbi,u(e))}lt(e){return i.default.lessThan(this.jsbi,u(e))}lte(e){return i.default.lessThanOrEqual(this.jsbi,u(e))}gt(e){return i.default.greaterThan(this.jsbi,u(e))}gte(e){return i.default.greaterThanOrEqual(this.jsbi,u(e))}isNegative(){return i.default.lessThan(this.jsbi,u(0))}isZero(){return i.default.equal(this.jsbi,u(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(e){throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return i.default.lessThan(this.jsbi,u(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof s)return e;if(o(e))return a(u(e));if(e instanceof i.default)return a(u(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return function(e){return null!=e&&"object"==typeof e}(e)&&!!e._isBI}}function a(e){return new s(e)}function u(e){return"number"==typeof e||"string"==typeof e?i.default.BigInt(e):i.default.BigInt(e.toString())}t.BI=s;const c=["shannon","ckb"],f=8;t.ckbDecimals=f;const l=s.from(-1);function d(e){let t=0;if("string"==typeof e){if(-1===c.indexOf(e))throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);"ckb"===e&&(t=f)}else{if(!h(e))throw new Error("unit of integer must be a non-negative integer");t=e}return t}function h(e){return Number.isInteger(e)&&e>=0}},88874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBytesCodec=o,t.createFixedBytesCodec=function(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...o({pack:r=>{const i=e.pack(r);return(0,n.assertBufferLength)(i,t),i},unpack:r=>((0,n.assertBufferLength)(r,t),e.unpack(r))})}},t.isFixedCodec=function(e){return(0,n.isObjectLike)(e)&&!!e.__isFixedCodec__};var n=r(92562),i=r(64452);function o(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,i.bytify)(t))}}},64452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytify=c,t.bytifyRawString=function(e){(0,n.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);r.setUint8(t,n)}return new Uint8Array(t)},t.concat=function(...e){const t=e.map(c),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);let i=0;return t.forEach((e=>{n.set(e,i),i+=e.length})),n},t.equal=function(e,t){const r=c(e),n=c(t);return function(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}(r,n)},t.hexify=function(e){let t="";const r=c(e);for(let e=0;e<r.length;e++)t+=f[r[e]];return"0x"+t};var n=r(92562);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0);function c(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e)return function(e){(0,n.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r+=2,n++){const c=e.charCodeAt(r),f=e.charCodeAt(r+1),l=c<=o?c-i:c<=a?c-s+10:c-u+10,d=f<=o?f-i:f<=a?f-s+10:f-u+10;t[n]=l<<4|d}return t}(e);if(Array.isArray(e))return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}(e);throw new Error(`Cannot convert ${e}`)}const f=Array.from({length:256}).map(((e,t)=>t.toString(16).padStart(2,"0")))},99029:(e,t)=>{"use strict";function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CodecExecuteError=t.CodecBaseParseError=t.CODEC_OPTIONAL_PATH=void 0,t.isCodecExecuteError=function(e){return e instanceof Error&&e.name===o};const n="__lc_option__";t.CODEC_OPTIONAL_PATH=n;class i extends Error{constructor(e,t){super(e),this.expectedType=t}}t.CodecBaseParseError=i;const o="CodecExecuteError";class s extends Error{constructor(e){super(),r(this,"name",o),r(this,"keys",[]),this.origin=e}updateKey(e){this.keys.push(e),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var e;const t=this.keys.reduceRight(((e,t,r)=>e+(t=t===n?0===r?"?":"?.":"number"==typeof t?`[${t}]`:`.${t}`)),"input");return`Expect type ${this.origin.expectedType} at ${t} but got error: ${this.origin.message}\n    ${null===(e=this.origin.stack)||void 0===e?void 0:e.replace(/Error:.+?\n/,"")}\n    `}}t.CodecExecuteError=s},61129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(55342)},55342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayCodec=function(e){return{pack:t=>t.map(((t,r)=>(0,n.trackCodeExecuteError)(r,(()=>e.pack(t))))),unpack:t=>t.map((t=>e.unpack(t)))}},t.createNullableCodec=function(e){return{pack:t=>null==t?t:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>e.pack(t))),unpack:t=>null==t?t:e.unpack(t)}},t.createObjectCodec=function(e){const t=Object.entries(e);return{pack:e=>{const r={};return t.forEach((([t,i])=>{Object.assign(r,{[t]:(0,n.trackCodeExecuteError)(t,(()=>i.pack(e[t])))})})),r},unpack:e=>{const r={};return t.forEach((([t,n])=>{Object.assign(r,{[t]:n.unpack(e[t])})})),r}}},t.enhancePack=function(e,t,r){return{pack:r=>t(e.pack(r)),unpack:t=>e.unpack(r(t))}};var n=r(92562),i=r(99029)},67239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),t.number=t.molecule=void 0;var i=r(88874),o=r(61129);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=f(r(64452));t.bytes=s;var a=f(r(67389));t.number=a;var u=f(r(84816));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.molecule=u},65542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayOf=a,t.byteOf=function(e){return a({...e,byteLength:1})},t.byteVecOf=function(e){return(0,o.createBytesCodec)({pack(t){const r=e.pack(t),n=s.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(t){(0,n.assertMinBufferLength)(t,4);const r=s.Uint32LE.unpack(t.slice(0,4));return(0,n.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})};var n=r(92562),i=r(64452),o=r(88874),s=r(67389);function a(e){const t=e.byteLength;return(0,o.createFixedBytesCodec)({byteLength:t,pack:t=>e.pack(t),unpack:t=>e.unpack(t)})}},84816:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(65542),i=r(63180)},63180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=u,t.dynvec=d,t.fixvec=l,t.option=function(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createNullableCodec)(e);return null!=t?r.pack(t):Uint8Array.from([])},unpack(t){if(0!==t.byteLength)return e.unpack(t)}})},t.struct=function(e,t){f(e,t);const r=(0,a.createObjectCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:t.reduce(((t,r)=>t+e[r].byteLength),0),pack(e){const n=r.pack(e);return t.reduce(((e,t)=>(0,o.concat)(e,n[t])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return t.forEach((t=>{const o=e[t],s=r.slice(i,i+o.byteLength);Object.assign(n,{[t]:o.unpack(s)}),i+=o.byteLength})),n}})},t.table=function(e,t){return f(e,t),(0,n.createBytesCodec)({pack(r){const n=4+4*t.length,s=(0,a.createObjectCodec)(e).pack(r),u=t.reduce(((e,t)=>{const r=s[t],n=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,n),body:(0,o.concat)(e.body,r),offset:e.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),c=i.Uint32LE.pack(u.header.byteLength+u.body.byteLength+4);return(0,o.concat)(c,u.header,u.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===t.length)return{};{const o=t.map(((e,t)=>i.Uint32LE.unpack(r.slice(4+4*t,8+4*t))));o.push(n);const s={};for(let n=0;n<o.length-1;n++){const i=o[n],a=o[n+1],u=t[n],c=e[u],f=r.slice(i,a);Object.assign(s,{[u]:c.unpack(f)})}return s}}})},t.union=function(e,t){if(f(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const e=Object.values(t);if(e.length!==new Set(e).size)throw new Error(`Duplicated id in union: ${e.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(e),a=r.type,u=`Union(${n.join(" | ")})`;if("string"!=typeof a)throw new s.CodecBaseParseError("Invalid type in union, type must be a string",u);const c=Array.isArray(t)?t.indexOf(a):t[a];if(c<0)throw new s.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,u);const f=i.Uint32LE.pack(c),l=e[a].pack(r.value);return(0,o.concat)(f,l)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(t))return t[n];const e=Object.entries(t).find((([,e])=>e===n));return null==e?void 0:e[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:o,value:e[o].unpack(r.slice(4))}}})},t.vector=function(e){if((0,n.isFixedCodec)(e))return l(e);return d(e)};var n=r(88874),i=r(67389),o=r(64452),s=r(99029),a=r(61129);function u(e,t){const r=(0,a.createArrayCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(e){const t=r.pack(e);return(0,o.concat)(...t)},unpack(t){const r=[],n=e.byteLength;for(let i=0;i<t.byteLength;i+=n)r.push(e.unpack(t.slice(i,i+n)));return r}})}function c(e,t){return e.filter((e=>!t.includes(e)))}function f(e,t){const r=Object.keys(e),n=c(r,t),i=c(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function l(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createArrayCodec)(e);return(0,o.concat)(i.Uint32LE.pack(t.length),r.pack(t).reduce(((e,t)=>(0,o.concat)(e,t)),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=i.Uint32LE.unpack(t.slice(0,4));return u(e,r).unpack(t.slice(4))}})}function d(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createArrayCodec)(e).pack(t).reduce(((e,t)=>{const r=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,r),body:(0,o.concat)(e.body,t),offset:e.offset+t.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*t.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(t){const r=i.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(t.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((e,r)=>i.Uint32LE.unpack(t.slice(4+4*r,8+4*r))));o.push(r);const s=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],a=t.slice(n,i);s.push(e.unpack(a))}return s}}})}},67389:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(77077);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},77077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return n.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var n=r(43622),i=r(88874),o=r(99029);function s(e,t=!1){const r=a(e,t);return{__isFixedCodec__:!0,byteLength:e,pack:e=>r.pack(e),unpack:e=>r.unpack(e).toNumber()}}const a=(e,t=!1)=>{const r=n.BI.from(1).shl(8*e).sub(1);return(0,i.createFixedBytesCodec)({byteLength:e,pack(i){let s=t?"LE":"BE";e<=1&&(s="");const a=`Uint${8*e}${s}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,a);let u=n.BI.from(i);!function(e,t,r,i){if((e=n.BI.from(e)).lt(t)||e.gt(r))throw new o.CodecBaseParseError(`Value must be between ${t.toString()} and ${r.toString()}, but got ${e.toString()}`,i)}(u,0,r,a);const c=new DataView(new ArrayBuffer(e));for(let r=0;r<e;r++)t?c.setUint8(r,u.and(255).toNumber()):c.setUint8(e-r-1,u.and(255).toNumber()),u=u.shr(8);return new Uint8Array(c.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<e;r++)o=t?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},u=s(1);t.Uint8=u;const c=s(2,!0);t.Uint16LE=c;const f=s(2);t.Uint16BE=f;const l=c;t.Uint16=l;const d=s(4,!0);t.Uint32LE=d;const h=s(4);t.Uint32BE=h;const p=d;t.Uint32=p;const y=a(8,!0);t.Uint64LE=y;const g=a(8);t.Uint64BE=g;const b=y;t.Uint64=b;const m=a(16,!0);t.Uint128LE=m;const v=a(16);t.Uint128BE=v;const _=m;t.Uint128=_;const w=a(32,!0);t.Uint256LE=w;const S=a(32);t.Uint256BE=S;const E=w;t.Uint256=E;const A=a(64,!0);t.Uint512LE=A;const x=a(64);t.Uint512BE=x;const k=A;t.Uint512=k},92562:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBufferLength=function(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)},t.assertHexDecimal=function(e,t){if(f(e),2===e.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if("number"==typeof t&&r>2*t+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);l(e)},t.assertHexString=function(e,t){f(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof t&&r!==2*t+2)throw new Error("Invalid hex string length, not match with byteLength!");l(e)},t.assertMinBufferLength=function(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)},t.assertUtf8String=function(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}},t.isObjectLike=function(e){return!!e&&"object"==typeof e},t.trackCodeExecuteError=function(e,t){try{return t()}catch(t){const r=(0,n.isCodecExecuteError)(t)?t:new n.CodecExecuteError(t);throw r.updateKey(e),r}};var n=r(99029);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0),c="f".charCodeAt(0);function f(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string")}function l(e){const t=e.length;for(let r=2;r<t;r++){const t=e[r].charCodeAt(0);if(!(t>=i&&t<=o||t>=u&&t<=c||t>=s&&t<=a))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}},21312:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;const o=i(r(86425)),s=i(r(98660)),a=r(96642),u=r(83910),c=r(5785),f=r(10090),l=e=>({code_hash:e.codeHash,hash_type:e.hashType,args:e.args});t.Collector=class{constructor({ckbNodeUrl:e,ckbIndexerUrl:t}){this.ckbNodeUrl=e,this.ckbIndexerUrl=t}getCkb(){return new s.default(this.ckbNodeUrl)}getCells(e){return n(this,arguments,void 0,(function*({lock:e,type:t,isDataMustBeEmpty:r=!0,outputCapacityRange:n}){let i={};e?i={script_search_mode:"exact",script:l(e),script_type:"lock",filter:{script:t?l(t):void 0,output_data_len_range:r&&!t?["0x0","0x1"]:void 0,output_capacity_range:n}}:t&&(i={script_search_mode:"exact",script:l(t),script_type:"type"});const s={id:Math.floor(1e5*Math.random()),jsonrpc:"2.0",method:"get_cells",params:[i,"asc","0x3E8"]},u=JSON.stringify(s,null,"  "),f=(yield(0,o.default)({method:"post",url:this.ckbIndexerUrl,headers:{"Content-Type":"application/json"},timeout:2e4,data:u})).data;if(f.error)throw console.error(f.error),new c.IndexerError("Get cells from indexer error");{const e=(0,a.toCamelcase)(f.result.objects);if(null===e)throw new c.IndexerError("The response of indexer RPC get_cells is invalid");return e}}))}collectInputs(e,t,r,n){var i,o;const s=null!==(i=null==n?void 0:n.minCapacity)&&void 0!==i?i:u.MIN_CAPACITY,a=[];let l=BigInt(0);const d=e.length>0&&(0,f.isRgbppLockCellIgnoreChain)(e[0].output);for(const n of e)if(a.push({previousOutput:{txHash:n.outPoint.txHash,index:n.outPoint.index},since:"0x0"}),l+=BigInt(n.output.capacity),l>=t+s+r&&!d)break;if(l<t+s+r){const e=null!==(o=null==n?void 0:n.errMsg)&&void 0!==o?o:"Insufficient free CKB balance";throw new c.CapacityNotEnoughError(e)}return{inputs:a,sumInputsCapacity:l}}collectUdtInputs({liveCells:e,needAmount:t}){const r=[];let n=BigInt(0),i=BigInt(0);const o=e.length>0&&(0,f.isRgbppLockCellIgnoreChain)(e[0].output);for(const s of e)if("0x"!==s.outputData&&(r.push({previousOutput:{txHash:s.outPoint.txHash,index:s.outPoint.index},since:"0x0"}),n+=BigInt(s.output.capacity),i+=(0,f.leToU128)((0,f.remove0x)(s.outputData).slice(0,32)),i>=t&&!o))break;if(i<t)throw new c.UdtAmountNotEnoughError("Insufficient UDT balance");return{inputs:r,sumInputsCapacity:n,sumAmount:i}}getLiveCell(e){return n(this,arguments,void 0,(function*(e,t=!0){const r=new s.default(this.ckbNodeUrl),{cell:n}=yield r.rpc.getLiveCell(e,t);return n}))}getLiveCells(e){return n(this,arguments,void 0,(function*(e,t=!1){return new s.default(this.ckbNodeUrl).rpc.createBatchRequest(e.map((e=>["getLiveCell",e,t]))).exec().then((e=>e.map((e=>e.cell))))}))}}},83910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeTypeDep=t.getSporeTypeScript=t.getClusterTypeDep=t.getClusterTypeScript=t.getUniqueTypeDep=t.getUniqueTypeScript=t.getBtcTimeLockConfigDep=t.getBtcTimeLockDep=t.getBtcTimeLockScript=t.getRgbppLockConfigDep=t.getRgbppLockDep=t.getRgbppLockScript=t.getXudtDep=t.getXudtTypeScript=t.getSecp256k1CellDep=t.UNLOCKABLE_LOCK_SCRIPT=t.RGBPP_TX_ID_PLACEHOLDER=t.RGBPP_WITNESS_PLACEHOLDER=t.RGBPP_TX_INPUTS_MAX_LENGTH=t.RGBPP_TX_WITNESS_MAX_SIZE=t.BTC_JUMP_CONFIRMATION_BLOCKS=t.SECP256K1_WITNESS_LOCK_SIZE=t.MIN_CAPACITY=t.MAX_FEE=t.CKB_UNIT=void 0,t.CKB_UNIT=BigInt(1e8),t.MAX_FEE=BigInt(2e7),t.MIN_CAPACITY=BigInt(61)*BigInt(1e8),t.SECP256K1_WITNESS_LOCK_SIZE=65,t.BTC_JUMP_CONFIRMATION_BLOCKS=6,t.RGBPP_TX_WITNESS_MAX_SIZE=5e3,t.RGBPP_TX_INPUTS_MAX_LENGTH=40,t.RGBPP_WITNESS_PLACEHOLDER="0xFF",t.RGBPP_TX_ID_PLACEHOLDER="0000000000000000000000000000000000000000000000000000000000000000";const r={Secp256k1LockDep:{outPoint:{txHash:"0xf8de3bb47d055cdf460d93a2a6e1b05f7432f9777c8c474abf4eec1d4aee5d37",index:"0x0"},depType:"depGroup"},RgbppLockScript:{codeHash:"0x61ca7a4796a4eb19ca4f0d065cb9b10ddcf002f10f7cbb810c706cb6bb5c3248",hashType:"type",args:""},RgbppLockDep:{outPoint:{txHash:"0xf1de59e973b85791ec32debbba08dff80c63197e895eb95d67fc1e9f6b413e00",index:"0x0"},depType:"code"},RgbppLockConfigDep:{outPoint:{txHash:"0xf1de59e973b85791ec32debbba08dff80c63197e895eb95d67fc1e9f6b413e00",index:"0x1"},depType:"code"},BtcTimeLockScript:{codeHash:"0x00cdf8fab0f8ac638758ebf5ea5e4052b1d71e8a77b9f43139718621f6849326",hashType:"type",args:""},BtcTimeLockDep:{outPoint:{txHash:"0xde0f87878a97500f549418e5d46d2f7704c565a262aa17036c9c1c13ad638529",index:"0x0"},depType:"code"},BtcTimeLockConfigDep:{outPoint:{txHash:"0xde0f87878a97500f549418e5d46d2f7704c565a262aa17036c9c1c13ad638529",index:"0x1"},depType:"code"},XUDTTypeScript:{codeHash:"0x25c29dc317811a6f6f3985a7a9ebc4838bd388d19d0feeecf0bcd60f6c0975bb",hashType:"type",args:""},XUDTTypeDep:{outPoint:{txHash:"0xbf6fb538763efec2a70a6a3dcb7242787087e1030c4e7d86585bc63a9d337f5f",index:"0x0"},depType:"code"},UniqueTypeScript:{codeHash:"0x8e341bcfec6393dcd41e635733ff2dca00a6af546949f70c57a706c0f344df8b",hashType:"type",args:""},UniqueTypeDep:{outPoint:{txHash:"0xff91b063c78ed06f10a1ed436122bd7d671f9a72ef5f5fa28d05252c17cf4cef",index:"0x0"},depType:"code"},ClusterTypeScript:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1",args:""},ClusterTypeDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:"0x0"},depType:"code"},SporeTypeScript:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1",args:""},SporeTypeDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:"0x0"},depType:"code"},RgbppSignetLockScript:{codeHash:"0xd07598deec7ce7b5665310386b4abd06a6d48843e953c5cc2112ad0d5a220364",hashType:"type",args:""},RgbppSignetLockDep:{outPoint:{txHash:"0x61efdeddbaa0bb4132c0eb174b3e8002ff5ec430f61ba46f30768d683c516eec",index:"0x0"},depType:"code"},RgbppSignetLockConfigDep:{outPoint:{txHash:"0x61efdeddbaa0bb4132c0eb174b3e8002ff5ec430f61ba46f30768d683c516eec",index:"0x1"},depType:"code"},BtcTimeSignetLockScript:{codeHash:"0x80a09eca26d77cea1f5a69471c59481be7404febf40ee90f886c36a948385b55",hashType:"type",args:""},BtcTimeSignetLockDep:{outPoint:{txHash:"0x5364b3535965e9eac9a35dd7af8e9e45a61d30a16e115923c032f80b28783e21",index:"0x0"},depType:"code"},BtcTimeSignetLockConfigDep:{outPoint:{txHash:"0x5364b3535965e9eac9a35dd7af8e9e45a61d30a16e115923c032f80b28783e21",index:"0x1"},depType:"code"}},n={Secp256k1LockDep:{outPoint:{txHash:"0x71a7ba8fc96349fea0ed3a5c47992e3b4084b031a42264a018e0072e8172e46c",index:"0x0"},depType:"depGroup"},RgbppLockScript:{codeHash:"0xbc6c568a1a0d0a09f6844dc9d74ddb4343c32143ff25f727c59edf4fb72d6936",hashType:"type",args:""},RgbppLockDep:{outPoint:{txHash:"0x04c5c3e69f1aa6ee27fb9de3d15a81704e387ab3b453965adbe0b6ca343c6f41",index:"0x0"},depType:"code"},RgbppLockConfigDep:{outPoint:{txHash:"0x04c5c3e69f1aa6ee27fb9de3d15a81704e387ab3b453965adbe0b6ca343c6f41",index:"0x1"},depType:"code"},BtcTimeLockScript:{codeHash:"0x70d64497a075bd651e98ac030455ea200637ee325a12ad08aff03f1a117e5a62",hashType:"type",args:""},BtcTimeLockDep:{outPoint:{txHash:"0x6257bf4297ee75fcebe2654d8c5f8d93bc9fc1b3dc62b8cef54ffe166162e996",index:"0x0"},depType:"code"},BtcTimeLockConfigDep:{outPoint:{txHash:"0x6257bf4297ee75fcebe2654d8c5f8d93bc9fc1b3dc62b8cef54ffe166162e996",index:"0x1"},depType:"code"},XUDTTypeScript:{codeHash:"0x50bd8d6680b8b9cf98b73f3c08faf8b2a21914311954118ad6609be6e78a1b95",hashType:"data1",args:""},XUDTTypeDep:{outPoint:{txHash:"0xc07844ce21b38e4b071dd0e1ee3b0e27afd8d7532491327f39b786343f558ab7",index:"0x0"},depType:"code"},UniqueTypeScript:{codeHash:"0x2c8c11c985da60b0a330c61a85507416d6382c130ba67f0c47ab071e00aec628",hashType:"data1",args:""},UniqueTypeDep:{outPoint:{txHash:"0x67524c01c0cb5492e499c7c7e406f2f9d823e162d6b0cf432eacde0c9808c2ad",index:"0x0"},depType:"code"},ClusterTypeScript:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1",args:""},ClusterTypeDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:"0x0"},depType:"code"},SporeTypeScript:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1",args:""},SporeTypeDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:"0x0"},depType:"code"}};t.UNLOCKABLE_LOCK_SCRIPT={codeHash:"0x0000000000000000000000000000000000000000000000000000000000000000",hashType:"data",args:"0x"};t.getSecp256k1CellDep=e=>e?n.Secp256k1LockDep:r.Secp256k1LockDep;t.getXudtTypeScript=e=>e?n.XUDTTypeScript:r.XUDTTypeScript;t.getXudtDep=e=>e?n.XUDTTypeDep:r.XUDTTypeDep;t.getRgbppLockScript=(e,t)=>e?n.RgbppLockScript:"Signet"===t?r.RgbppSignetLockScript:r.RgbppLockScript;t.getRgbppLockDep=(e,t)=>e?n.RgbppLockDep:"Signet"===t?r.RgbppSignetLockDep:r.RgbppLockDep;t.getRgbppLockConfigDep=(e,t)=>e?n.RgbppLockConfigDep:"Signet"===t?r.RgbppSignetLockConfigDep:r.RgbppLockConfigDep;t.getBtcTimeLockScript=(e,t)=>e?n.BtcTimeLockScript:"Signet"===t?r.BtcTimeSignetLockScript:r.BtcTimeLockScript;t.getBtcTimeLockDep=(e,t)=>e?n.BtcTimeLockDep:"Signet"===t?r.BtcTimeSignetLockDep:r.BtcTimeLockDep;t.getBtcTimeLockConfigDep=(e,t)=>e?n.BtcTimeLockConfigDep:"Signet"===t?r.BtcTimeSignetLockConfigDep:r.BtcTimeLockConfigDep;t.getUniqueTypeScript=e=>e?n.UniqueTypeScript:r.UniqueTypeScript;t.getUniqueTypeDep=e=>e?n.UniqueTypeDep:r.UniqueTypeDep;t.getClusterTypeScript=e=>e?n.ClusterTypeScript:r.ClusterTypeScript;t.getClusterTypeDep=e=>e?n.ClusterTypeDep:r.ClusterTypeDep;t.getSporeTypeScript=e=>e?n.SporeTypeScript:r.SporeTypeScript;t.getSporeTypeDep=e=>e?n.SporeTypeDep:r.SporeTypeDep},5785:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RgbppSporeTypeMismatchError=t.RgbppUtxoBindMultiTypeAssetsError=t.RgbppCkbTxInputsExceededError=t.InputsOrOutputsLenError=t.TypeAssetNotSupportedError=t.InputsCapacityNotEnoughError=t.UdtAmountNotEnoughError=t.NoRgbppLiveCellError=t.NoXudtLiveCellError=t.NoLiveCellError=t.IndexerError=t.CapacityNotEnoughError=void 0,function(e){e[e.CapacityNotEnough=100]="CapacityNotEnough",e[e.IndexerRpcError=101]="IndexerRpcError",e[e.NoLiveCell=102]="NoLiveCell",e[e.NoXudtLiveCell=103]="NoXudtLiveCell",e[e.NoRgbppLiveCell=104]="NoRgbppLiveCell",e[e.UdtAmountNotEnough=105]="UdtAmountNotEnough",e[e.InputsCapacityNotEnough=106]="InputsCapacityNotEnough",e[e.TypeAssetNotSupported=107]="TypeAssetNotSupported",e[e.InputsOrOutputsLenInvalid=108]="InputsOrOutputsLenInvalid",e[e.RgbppCkbTxInputsExceeded=109]="RgbppCkbTxInputsExceeded",e[e.RgbppUtxoBindMultiTypeAssets=110]="RgbppUtxoBindMultiTypeAssets",e[e.RgbppSporeTypeMismatch=111]="RgbppSporeTypeMismatch"}(r||(r={}));class n extends Error{constructor(e){super(e),this.code=r.CapacityNotEnough}}t.CapacityNotEnoughError=n;class i extends Error{constructor(e){super(e),this.code=r.IndexerRpcError}}t.IndexerError=i;class o extends Error{constructor(e){super(e),this.code=r.NoLiveCell}}t.NoLiveCellError=o;class s extends Error{constructor(e){super(e),this.code=r.NoXudtLiveCell}}t.NoXudtLiveCellError=s;class a extends Error{constructor(e){super(e),this.code=r.NoRgbppLiveCell}}t.NoRgbppLiveCellError=a;class u extends Error{constructor(e){super(e),this.code=r.UdtAmountNotEnough}}t.UdtAmountNotEnoughError=u;class c extends Error{constructor(e){super(e),this.code=r.InputsCapacityNotEnough}}t.InputsCapacityNotEnoughError=c;class f extends Error{constructor(e){super(e),this.code=r.TypeAssetNotSupported}}t.TypeAssetNotSupportedError=f;class l extends Error{constructor(e){super(e),this.code=r.InputsOrOutputsLenInvalid}}t.InputsOrOutputsLenError=l;class d extends Error{constructor(e){super(e),this.code=r.RgbppCkbTxInputsExceeded}}t.RgbppCkbTxInputsExceededError=d;class h extends Error{constructor(e){super(e),this.code=r.RgbppUtxoBindMultiTypeAssets}}t.RgbppUtxoBindMultiTypeAssetsError=h;class p extends Error{constructor(e){super(e),this.code=r.RgbppSporeTypeMismatch}}t.RgbppSporeTypeMismatchError=p},41256:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializeScript=void 0;var o=r(60720);Object.defineProperty(t,"serializeScript",{enumerable:!0,get:function(){return o.serializeScript}}),i(r(59763),t),i(r(47830),t),i(r(21312),t),i(r(5785),t),i(r(95099),t),i(r(41462),t),i(r(2292),t),i(r(10090),t),i(r(83910),t),i(r(28742),t)},95099:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.splitMultiCellsWithSecp256k1=void 0;const i=r(60720),o=r(5785),s=r(83910),a=r(10090),u=BigInt(61)*s.CKB_UNIT;t.splitMultiCellsWithSecp256k1=e=>n(void 0,[e],void 0,(function*({masterPrivateKey:e,collector:t,receiverAddress:r,capacityWithCKB:n,cellAmount:c}){const f=r.startsWith("ckb"),l=(0,i.privateKeyToAddress)(e,{prefix:f?i.AddressPrefix.Mainnet:i.AddressPrefix.Testnet}),d=(0,i.addressToScript)(l);let h=yield t.getCells({lock:d});if(!h||0===h.length)throw new o.NoLiveCellError("The address has no empty cells");h=h.filter((e=>!e.output.type));const p=BigInt(n)*s.CKB_UNIT,y=p*BigInt(c),g=s.MAX_FEE,{inputs:b,sumInputsCapacity:m}=t.collectInputs(h,y,g,{minCapacity:u}),v=new Array(c).fill({lock:(0,i.addressToScript)(r),capacity:(0,a.append0x)(p.toString(16))}),_=m-y-g;v.push({lock:d,capacity:(0,a.append0x)(_.toString(16))});const w=new Array(c+1).fill("0x"),S={lock:"",inputType:"",outputType:""},E=b.map(((e,t)=>0===t?S:"0x")),A={version:"0x0",cellDeps:[(0,s.getSecp256k1CellDep)(f)],headerDeps:[],inputs:b,outputs:v,outputsData:w,witnesses:E};if(g===s.MAX_FEE){const e=(0,i.getTransactionSize)(A)+s.SECP256K1_WITNESS_LOCK_SIZE,t=(0,a.calculateTransactionFee)(e),r=_+(s.MAX_FEE-t);A.outputs[A.outputs.length-1].capacity=(0,a.append0x)(r.toString(16))}const x=t.getCkb().signTransaction(e)(A),k=yield t.getCkb().rpc.sendTransaction(x,"passthrough");console.info(`Paymaster cells has been split and tx hash is ${k}`)}))},62357:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.genBtcJumpCkbVirtualTx=void 0;const o=r(60875),s=r(5785),a=r(10090),u=r(70213),c=r(83910),f=r(60720);t.genBtcJumpCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,rgbppLockArgsList:r,transferAmount:n,toCkbAddress:l,witnessLockPlaceholderSize:d,ckbFeeRate:h,btcTestnetType:p}){var y,g,b,m;const v=l.startsWith("ckb"),_=o.blockchain.Script.unpack(t);if(!(0,a.isUDTTypeSupported)(_,v))throw new s.TypeAssetNotSupportedError("The type script asset is not supported now");const w=(0,a.deduplicateList)(r),S=w.map((e=>(0,u.genRgbppLockScript)(e,v,p)));let E=[],A=[];try{for(var x,k=!0,I=i(S);!(y=(x=yield I.next()).done);k=!0){m=x.value,k=!1;const r=m,n=yield e.getCells({lock:r,isDataMustBeEmpty:!1});(0,u.throwErrorWhenRgbppCellsInvalid)(n,t,v);const i=n.filter((e=>(0,a.isScriptEqual)(e.output.type,t))),o=n.filter((e=>!(0,a.isScriptEqual)(e.output.type,t)));E=[...E,...i],A=[...A,...o]}}catch(e){g={error:e}}finally{try{k||y||!(b=I.return)||(yield b.call(I))}finally{if(g)throw g.error}}E=E.sort(u.compareInputs),A=A.sort(u.compareInputs);const{inputs:T,sumInputsCapacity:C,sumAmount:O}=e.collectUdtInputs({liveCells:E,needAmount:n});let P=C;(0,u.throwErrorWhenTxInputsExceeded)(T.length);const M=(0,a.calculateRgbppCellCapacity)(_),B=(0,f.addressToScript)(l);if((0,a.isLockArgsSizeExceeded)(B.args))throw new Error("The lock script size of the to ckb address is too large");let D=!1;const R=O>n,j=R?BigInt(E[0].output.capacity):P,L=[{lock:(0,u.genBtcTimeLockScript)(B,v,p),type:_,capacity:(0,a.append0x)(j.toString(16))}],N=[(0,a.append0x)((0,a.u128ToLe)(n))];if(R){const e=(0,u.isRgbppCapacitySufficientForChange)(P,j);D=!e;const t=e?P-j:M;L.push({lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(1),v,p),type:_,capacity:(0,a.append0x)(t.toString(16))}),N.push((0,a.append0x)((0,a.u128ToLe)(O-n)))}const U=L.length;for(const[e,t]of A.entries())T.push({previousOutput:t.outPoint,since:"0x0"}),P+=BigInt(t.output.capacity),L.push(Object.assign(Object.assign({},t.output),{lock:(0,u.genRgbppLockScript)((0,u.buildPreLockArgs)(U+e+1),v,p)})),N.push(t.outputData);const H=yield(0,a.fetchTypeIdCellDeps)(v,{rgbpp:!0,xudt:!0},p);D&&H.push((0,c.getSecp256k1CellDep)(v));const F=[],z=new Set,q=E.concat(A);for(const e of q)z.has(e.output.lock.args)?F.push("0x"):(z.add(e.output.lock.args),F.push(c.RGBPP_WITNESS_PLACEHOLDER));const K={version:"0x0",cellDeps:H,headerDeps:[],inputs:T,outputs:L,outputsData:N,witnesses:F};if(!D){const e=(0,f.getTransactionSize)(K)+(null!=d?d:(0,u.estimateWitnessSize)(w)),t=(0,a.calculateTransactionFee)(e,h),r=BigInt(L[L.length-1].capacity)-t;K.outputs[K.outputs.length-1].capacity=(0,a.append0x)(r.toString(16))}const V=Object.assign({},K);return{ckbRawTx:K,commitment:(0,u.calculateCommitment)(V),needPaymasterCell:D,sumInputsCapacity:(0,a.append0x)(P.toString(16))}}))},58357:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isBtcTimeCellsSpent=t.signBtcTimeCellSpentTx=t.buildBtcTimeCellsSpentTx=t.buildBtcTimeUnlockWitness=void 0;const s=r(60720),a=r(83910),u=r(47830),c=r(10090),f=r(10090),l=r(60875),d=o(r(94976));t.buildBtcTimeUnlockWitness=e=>{const t=u.BTCTimeUnlock.pack({btcTxProof:l.blockchain.Bytes.pack(e)});return(0,c.append0x)((0,s.bytesToHex)(t))};t.buildBtcTimeCellsSpentTx=e=>n(void 0,[e],void 0,(function*({btcTimeCells:e,btcAssetsApi:r,isMainnet:n,btcTestnetType:o}){var u,l,d,h;const p=e.sort(c.compareInputs),y=p.map((e=>({previousOutput:e.outPoint,since:"0x0"}))),g=p.map((e=>({lock:(0,c.lockScriptFromBtcTimeLockArgs)(e.output.lock.args),type:e.output.type,capacity:e.output.capacity}))),b=p.map((e=>e.outputData)),m=yield(0,c.fetchTypeIdCellDeps)(n,{btcTime:!0,xudt:!0},o),v=[],_=new Set,w=new Set;try{for(var S,E=!0,A=i(p);!(u=(S=yield A.next()).done);E=!0){h=S.value,E=!1;const e=h;if(_.has(e.output.lock.args)){v.push("0x");continue}_.add(e.output.lock.args);const n=yield r.getRgbppSpvProof((0,c.btcTxIdFromBtcTimeLockArgs)(e.output.lock.args),a.BTC_JUMP_CONFIRMATION_BLOCKS),{spvClient:i,proof:o}=(0,c.transformSpvProof)(n);w.has((0,s.serializeOutPoint)(i))||(m.push((0,f.buildSpvClientCellDep)(i)),w.add((0,s.serializeOutPoint)(i)));const u=(0,c.append0x)((0,s.serializeWitnessArgs)({lock:(0,t.buildBtcTimeUnlockWitness)(o),inputType:"",outputType:""}));v.push(u)}}catch(e){l={error:e}}finally{try{E||u||!(d=A.return)||(yield d.call(A))}finally{if(l)throw l.error}}return{version:"0x0",cellDeps:m,headerDeps:[],inputs:y,outputs:g,outputsData:b,witnesses:v}}));t.signBtcTimeCellSpentTx=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,ckbRawTx:t,collector:r,masterCkbAddress:n,isMainnet:i,outputCapacityRange:o,ckbFeeRate:u}){const f=(0,s.addressToScript)(n);let l=yield r.getCells({lock:f,outputCapacityRange:o});if(!l||0===l.length)throw new Error("No empty cell found");l=l.filter((e=>!e.output.type));const h={previousOutput:l[0].outPoint,since:"0x0"},p=l[0].output,y=Object.assign(Object.assign({},t),{cellDeps:[...t.cellDeps,(0,a.getSecp256k1CellDep)(i)],inputs:[h,...t.inputs],outputs:[p,...t.outputs],outputsData:["0x",...t.outputsData],witnesses:[{lock:"",inputType:"",outputType:""},...t.witnesses]}),g=(0,s.getTransactionSize)(y)+a.SECP256K1_WITNESS_LOCK_SIZE,b=(0,c.calculateTransactionFee)(g,u),m=BigInt(l[0].output.capacity)-b;y.outputs[0].capacity=(0,c.append0x)(m.toString(16));const v=new Map;v.set((0,s.scriptToHash)(f),e);const _=y.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:0===t?f:(0,a.getBtcTimeLockScript)(i)}))),w=(0,s.rawTransactionToHash)(y),S=(0,d.default)(v)({transactionHash:w,witnesses:y.witnesses,inputCells:_,skipMissingKeys:!0});return Object.assign(Object.assign({},y),{witnesses:S.map((e=>"string"!=typeof e?(0,s.serializeWitnessArgs)(e):e))})}));t.isBtcTimeCellsSpent=e=>n(void 0,[e],void 0,(function*({collector:e,ckbAddress:t,btcTxId:r,btcTestnetType:n}){const i=t.startsWith("ckb"),o=(0,s.addressToScript)(t),u=Object.assign(Object.assign({},(0,a.getBtcTimeLockScript)(i,n)),{args:(0,c.genBtcTimeLockArgs)(o,r,a.BTC_JUMP_CONFIRMATION_BLOCKS)}),f=yield e.getCells({lock:u,isDataMustBeEmpty:!1});return!f||0===f.length}))},45639:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.appendIssuerCellToBtcBatchTransfer=t.genBtcBatchTransferCkbVirtualTx=t.genBtcTransferCkbVirtualTx=void 0;const s=r(60875),a=r(5785),u=r(10090),c=r(70213),f=r(83910),l=r(60720),d=o(r(94976));t.genBtcTransferCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,rgbppLockArgsList:r,transferAmount:n,isMainnet:o,noMergeOutputCells:d,witnessLockPlaceholderSize:h,ckbFeeRate:p,btcTestnetType:y}){var g,b,m,v;const _=s.blockchain.Script.unpack(t);if(!(0,u.isUDTTypeSupported)(_,o))throw new a.TypeAssetNotSupportedError("The type script asset is not supported now");const w=(0,u.deduplicateList)(r),S=w.map((e=>(0,c.genRgbppLockScript)(e,o,y)));let E=[],A=[];try{for(var x,k=!0,I=i(S);!(g=(x=yield I.next()).done);k=!0){v=x.value,k=!1;const r=v,n=yield e.getCells({lock:r,isDataMustBeEmpty:!1});(0,c.throwErrorWhenRgbppCellsInvalid)(n,t,o);const i=n.filter((e=>(0,u.isScriptEqual)(e.output.type,t))),s=n.filter((e=>!(0,u.isScriptEqual)(e.output.type,t)));E=[...E,...i],A=[...A,...s]}}catch(e){b={error:e}}finally{try{k||g||!(m=I.return)||(yield m.call(I))}finally{if(b)throw b.error}}E=E.sort(c.compareInputs),A=A.sort(c.compareInputs);let T=[],C=BigInt(0);const O=[],P=[];let M=!1;const B=e=>{for(const[t,r]of A.entries())T.push({previousOutput:r.outPoint,since:"0x0"}),C+=BigInt(r.output.capacity),O.push(Object.assign(Object.assign({},r.output),{lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(e+t+1),o,y)})),P.push(r.outputData)};if(d){for(const[e,t]of E.entries())T.push({previousOutput:t.outPoint,since:"0x0"}),C+=BigInt(t.output.capacity),O.push(Object.assign(Object.assign({},t.output),{lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(e+1),o,y)})),P.push(t.outputData);B(E.length)}else{const t=e.collectUdtInputs({liveCells:E,needAmount:n});T=t.inputs,(0,c.throwErrorWhenTxInputsExceeded)(T.length),C=t.sumInputsCapacity;const r=(0,u.calculateRgbppCellCapacity)(_),i=t.sumAmount>n,s=i?BigInt(E[0].output.capacity):C;if(O.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(1),o,y),type:_,capacity:(0,u.append0x)(s.toString(16))}),P.push((0,u.append0x)((0,u.u128ToLe)(n))),i){const e=(0,c.isRgbppCapacitySufficientForChange)(C,s);M=!e;const i=e?C-s:r;O.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(2),o,y),type:_,capacity:(0,u.append0x)(i.toString(16))}),P.push((0,u.append0x)((0,u.u128ToLe)(t.sumAmount-n)))}B(O.length)}const D=yield(0,u.fetchTypeIdCellDeps)(o,{rgbpp:!0,xudt:!0},y);M&&D.push((0,f.getSecp256k1CellDep)(o));const R=[],j=new Set,L=E.concat(A);for(const e of L)j.has(e.output.lock.args)?R.push("0x"):(j.add(e.output.lock.args),R.push(f.RGBPP_WITNESS_PLACEHOLDER));const N={version:"0x0",cellDeps:D,headerDeps:[],inputs:T,outputs:O,outputsData:P,witnesses:R};if(!M){const e=(0,l.getTransactionSize)(N)+(null!=h?h:(0,c.estimateWitnessSize)(w)),t=(0,u.calculateTransactionFee)(e,p),r=BigInt(O[O.length-1].capacity)-t;N.outputs[N.outputs.length-1].capacity=(0,u.append0x)(r.toString(16))}const U=Object.assign({},N);return{ckbRawTx:N,commitment:(0,c.calculateCommitment)(U),needPaymasterCell:M,sumInputsCapacity:(0,u.append0x)(C.toString(16))}}));t.genBtcBatchTransferCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,rgbppLockArgsList:r,rgbppReceivers:n,isMainnet:o,btcTestnetType:l}){var d,h,p,y;const g=s.blockchain.Script.unpack(t);if(!(0,u.isUDTTypeSupported)(g,o))throw new a.TypeAssetNotSupportedError("The type script asset is not supported now");const b=r.map((e=>(0,c.genRgbppLockScript)(e,o,l)));let m=[];try{for(var v,_=!0,w=i(b);!(d=(v=yield w.next()).done);_=!0){y=v.value,_=!1;const t=y,r=yield e.getCells({lock:t,type:g});if(!r||0===r.length)throw new a.NoRgbppLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");m=[...m,...r]}}catch(e){h={error:e}}finally{try{_||d||!(p=w.return)||(yield p.call(w))}finally{if(h)throw h.error}}m=m.sort(c.compareInputs);const S=n.map((e=>e.transferAmount)).reduce(((e,t)=>e+t),BigInt(0)),E=(0,u.calculateRgbppCellCapacity)(g),A=n.map(((e,t)=>({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(t+1),o,l),type:g,capacity:(0,u.append0x)(E.toString(16))}))),x=n.map((e=>(0,u.append0x)((0,u.u128ToLe)(e.transferAmount)))),{inputs:k,sumInputsCapacity:I,sumAmount:T}=e.collectUdtInputs({liveCells:m,needAmount:S});(0,c.throwErrorWhenTxInputsExceeded)(k.length);let C=-1;T>S&&(C=n.length+1,A.push({lock:(0,c.genRgbppLockScript)((0,c.buildPreLockArgs)(C),o,l),type:g,capacity:(0,u.append0x)(E.toString(16))}),x.push((0,u.append0x)((0,u.u128ToLe)(T-S))));const O=[...yield(0,u.fetchTypeIdCellDeps)(o,{rgbpp:!0,xudt:!0},l),(0,f.getSecp256k1CellDep)(o)],P=[],M=new Set;for(const e of m)M.has(e.output.lock.args)?P.push("0x"):(M.add(e.output.lock.args),P.push(f.RGBPP_WITNESS_PLACEHOLDER));const B={version:"0x0",cellDeps:O,headerDeps:[],inputs:k,outputs:A,outputsData:x,witnesses:P},D=Object.assign({},B);return{ckbRawTx:B,commitment:(0,c.calculateCommitment)(D),rgbppChangeOutIndex:C,needPaymasterCell:!1,sumInputsCapacity:(0,u.append0x)(I.toString(16))}}));t.appendIssuerCellToBtcBatchTransfer=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,issuerAddress:t,collector:r,ckbRawTx:n,sumInputsCapacity:i,isMainnet:o,ckbFeeRate:s}){const c=n,h=c.inputs.length,p=c.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0)),y=(0,l.addressToScript)(t);let g=yield r.getCells({lock:y});if(!g||0===g.length)throw new a.NoLiveCellError("The issuer address has no empty cells");g=g.filter((e=>!e.output.type));let b=BigInt(i);const m=f.MAX_FEE;if(b<=p){const e=p-b+f.MIN_CAPACITY,{inputs:t,sumInputsCapacity:n}=r.collectInputs(g,e,m);c.inputs=[...c.inputs,...t],b+=n}let v=b-p;const _={lock:y,capacity:(0,u.append0x)(v.toString(16))};c.outputs=[...c.outputs,_],c.outputsData=[...c.outputsData,"0x"];const w=(0,l.getTransactionSize)(c)+f.SECP256K1_WITNESS_LOCK_SIZE;v-=(0,u.calculateTransactionFee)(w,s),c.outputs[c.outputs.length-1].capacity=(0,u.append0x)(v.toString(16));const S=new Map;S.set((0,l.scriptToHash)(y),e);const E=h,A=c.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:t>=E?y:(0,f.getRgbppLockScript)(o)}))),x={lock:"",inputType:"",outputType:""},k=c.inputs.slice(h).map(((e,t)=>0===t?x:"0x"));c.witnesses=[...c.witnesses,...k];const I=(0,l.rawTransactionToHash)(c),T=(0,d.default)(S)({transactionHash:I,witnesses:c.witnesses,inputCells:A,skipMissingKeys:!0});return Object.assign(Object.assign({},c),{witnesses:T.map((e=>"string"!=typeof e?(0,l.serializeWitnessArgs)(e):e))})}))},25266:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateCkbTxWithRealBtcTxId=t.sendCkbTx=t.appendPaymasterCellAndSignCkbTx=t.appendCkbTxWitnesses=t.buildRgbppUnlockWitness=void 0;const o=r(60720),s=r(83910),a=r(10090),u=r(5785),c=i(r(94976)),f=r(10090),l=r(47830),d=r(29365);t.buildRgbppUnlockWitness=(e,t,r,n)=>{const i=(0,a.append0x)((0,a.u8ToHex)(r)),s=(0,a.append0x)((0,a.u8ToHex)(n)),u=d.Bytes.pack((0,a.append0x)(e)),c=l.Uint16.pack([0,0]),f=l.RGBPPUnlock.pack({version:c,extraData:{inputLen:i,outputLen:s},btcTx:u,btcTxProof:(0,o.bytesToHex)(d.Bytes.pack((0,a.append0x)(t)))});return(0,a.append0x)((0,o.bytesToHex)(f))};t.appendCkbTxWitnesses=e=>n(void 0,[e],void 0,(function*({ckbRawTx:e,btcTxBytes:r,rgbppApiSpvProof:n}){const i=e,{spvClient:u,proof:c}=(0,a.transformSpvProof)(n);i.cellDeps.push((0,f.buildSpvClientCellDep)(u));const l=(0,t.buildRgbppUnlockWitness)(r,c,e.inputs.length,e.outputs.length),d=(0,a.append0x)((0,o.serializeWitnessArgs)({lock:l,inputType:"",outputType:""}));return i.witnesses=i.witnesses.map((e=>e===s.RGBPP_WITNESS_PLACEHOLDER?d:e)),i}));t.appendPaymasterCellAndSignCkbTx=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,ckbRawTx:t,sumInputsCapacity:r,paymasterCell:n,isMainnet:i,ckbFeeRate:f}){const l=t,d={previousOutput:n.outPoint,since:"0x0"};l.inputs=[...l.inputs,d];const h=BigInt(r)+BigInt(n.output.capacity),p=l.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0));if(h<=p+s.MIN_CAPACITY)throw new u.InputsCapacityNotEnoughError("The sum of inputs capacity is not enough");let y=h-p;const g={lock:n.output.lock,capacity:(0,a.append0x)(y.toString(16))};l.outputs=[...l.outputs,g],l.outputsData=[...l.outputsData,"0x"];const b=(0,o.getTransactionSize)(l)+s.SECP256K1_WITNESS_LOCK_SIZE;y-=(0,a.calculateTransactionFee)(b,f),l.outputs[l.outputs.length-1].capacity=(0,a.append0x)(y.toString(16));const m=new Map;m.set((0,o.scriptToHash)(n.output.lock),e),m.set((0,o.scriptToHash)((0,s.getRgbppLockScript)(i)),"");const v=l.inputs.length-1,_=l.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:t===v?n.output.lock:(0,s.getRgbppLockScript)(i)})));l.witnesses=[...l.witnesses,{lock:"",inputType:"",outputType:""}];const w=(0,o.rawTransactionToHash)(l),S=(0,c.default)(m)({transactionHash:w,witnesses:l.witnesses,inputCells:_,skipMissingKeys:!0});return Object.assign(Object.assign({},l),{witnesses:S.map((e=>"string"!=typeof e?(0,o.serializeWitnessArgs)(e):e))})}));t.sendCkbTx=e=>n(void 0,[e],void 0,(function*({collector:e,signedTx:t}){return yield e.getCkb().rpc.sendTransaction(t,"passthrough")}));t.updateCkbTxWithRealBtcTxId=({ckbRawTx:e,btcTxId:t,isMainnet:r})=>{const n=e.outputs.map((e=>(0,a.isRgbppLockOrBtcTimeLock)(e.lock,r)?Object.assign(Object.assign({},e),{lock:Object.assign(Object.assign({},e.lock),{args:(0,a.replaceLockArgsWithRealBtcTxId)(e.lock.args,t)})}):e));return Object.assign(Object.assign({},e),{outputs:n})}},39235:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genCkbBatchJumpBtcVirtualTx=t.genCkbJumpBtcVirtualTx=void 0;const i=r(60875),o=r(5785),s=r(10090),a=r(70213),u=r(83910),c=r(60720);t.genCkbJumpBtcVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,fromCkbAddress:r,toRgbppLockArgs:n,transferAmount:f,witnessLockPlaceholderSize:l,ckbFeeRate:d,btcTestnetType:h}){const p=r.startsWith("ckb"),y=i.blockchain.Script.unpack(t);if(!(0,s.isTypeAssetSupported)(y,p))throw new o.TypeAssetNotSupportedError("The type script asset is not supported now");const g=(0,c.addressToScript)(r),b=yield e.getCells({lock:g,type:y});if(!b||0===b.length)throw new o.NoXudtLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");const m=e.collectUdtInputs({liveCells:b,needAmount:f});let{inputs:v,sumInputsCapacity:_}=m;const{sumAmount:w}=m,S=(0,s.calculateRgbppCellCapacity)(y),E=[(0,s.append0x)((0,s.u128ToLe)(f))],A=[{lock:(0,a.genRgbppLockScript)(n,p,h),type:y,capacity:(0,s.append0x)(S.toString(16))}],x=u.MAX_FEE,k=(0,s.calculateUdtCellCapacity)(g,y);if(_<k+S+u.MIN_CAPACITY+x){let t=yield e.getCells({lock:g});if(!t||0===t.length)throw new o.NoLiveCellError("The address has no empty cells");t=t.filter((e=>!e.output.type));const{inputs:r,sumInputsCapacity:n}=e.collectInputs(t,S,x);v=[...r,...v],_+=n}let I=_-S-x;w>f&&(A.push({lock:g,type:y,capacity:(0,s.append0x)(k.toString(16))}),E.push((0,s.append0x)((0,s.u128ToLe)(w-f))),I-=k),A.push({lock:g,capacity:(0,s.append0x)(I.toString(16))}),E.push("0x");const T=yield(0,s.fetchTypeIdCellDeps)(p,{xudt:!0}),C=v.map((()=>"0x")),O={version:"0x0",cellDeps:T,headerDeps:[],inputs:v,outputs:A,outputsData:E,witnesses:C};if(x===u.MAX_FEE){const e=(0,c.getTransactionSize)(O)+(null!=l?l:u.RGBPP_TX_WITNESS_MAX_SIZE),t=(0,s.calculateTransactionFee)(e,d),r=I+(u.MAX_FEE-t);O.outputs[O.outputs.length-1].capacity=(0,s.append0x)(r.toString(16))}return O}));t.genCkbBatchJumpBtcVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,xudtTypeBytes:t,fromCkbAddress:r,rgbppReceivers:n,witnessLockPlaceholderSize:f,ckbFeeRate:l,btcTestnetType:d}){const h=r.startsWith("ckb"),p=i.blockchain.Script.unpack(t);if(!(0,s.isTypeAssetSupported)(p,h))throw new o.TypeAssetNotSupportedError("The type script asset is not supported now");const y=(0,c.addressToScript)(r),g=yield e.getCells({lock:y,type:p});if(!g||0===g.length)throw new o.NoXudtLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args");const b=n.map((e=>e.transferAmount)).reduce(((e,t)=>e+t),BigInt(0)),m=e.collectUdtInputs({liveCells:g,needAmount:b});let{inputs:v,sumInputsCapacity:_}=m;const{sumAmount:w}=m,S=(0,s.calculateRgbppCellCapacity)(p),E=S*BigInt(n.length),A=n.map((e=>({lock:(0,a.genRgbppLockScript)(e.toRgbppLockArgs,h,d),type:p,capacity:(0,s.append0x)(S.toString(16))}))),x=n.map((e=>(0,s.append0x)((0,s.u128ToLe)(e.transferAmount)))),k=u.MAX_FEE,I=(0,s.calculateUdtCellCapacity)(y,p);if(_<I+E+u.MIN_CAPACITY+k){let t=yield e.getCells({lock:y});if(!t||0===t.length)throw new o.NoLiveCellError("The address has no empty cells");t=t.filter((e=>!e.output.type));const{inputs:r,sumInputsCapacity:n}=e.collectInputs(t,S,k);v=[...r,...v],_+=n}let T=_-E-k;w>b&&(A.push({lock:y,type:p,capacity:(0,s.append0x)(I.toString(16))}),x.push((0,s.append0x)((0,s.u128ToLe)(w-b))),T-=I),A.push({lock:y,capacity:(0,s.append0x)(T.toString(16))}),x.push("0x");const C=yield(0,s.fetchTypeIdCellDeps)(h,{xudt:!0}),O=v.map((()=>"0x")),P={version:"0x0",cellDeps:C,headerDeps:[],inputs:v,outputs:A,outputsData:x,witnesses:O};if(k===u.MAX_FEE){const e=(0,c.getTransactionSize)(P)+(null!=f?f:u.RGBPP_TX_WITNESS_MAX_SIZE),t=(0,s.calculateTransactionFee)(e,l),r=T+(u.MAX_FEE-t);P.outputs[P.outputs.length-1].capacity=(0,s.append0x)(r.toString(16))}return P}))},2292:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45639),t),i(r(25266),t),i(r(62357),t),i(r(58357),t),i(r(39235),t),i(r(80245),t)},80245:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genRgbppLaunchCkbVirtualTx=void 0;const i=r(5785),o=r(10090),s=r(70213),a=r(83910),u=r(60720);t.genRgbppLaunchCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,ownerRgbppLockArgs:t,launchAmount:r,rgbppTokenInfo:n,witnessLockPlaceholderSize:c,ckbFeeRate:f,isMainnet:l,btcTestnetType:d}){const h=(0,s.genRgbppLockScript)(t,l,d);let p=yield e.getCells({lock:h});if(!p||0===p.length)throw new i.NoLiveCellError("The owner address has no empty cells");p=p.filter((e=>!e.output.type));const y=(0,o.calculateRgbppTokenInfoCellCapacity)(n,l),g=a.MAX_FEE,{inputs:b,sumInputsCapacity:m}=e.collectInputs(p,y,g);let v=m-y;const _=[{lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(1),l,d),type:Object.assign(Object.assign({},(0,a.getXudtTypeScript)(l)),{args:(0,o.append0x)((0,u.scriptToHash)(h))}),capacity:(0,o.append0x)(v.toString(16))},{lock:(0,s.genBtcTimeLockScript)(a.UNLOCKABLE_LOCK_SCRIPT,l,d),type:Object.assign(Object.assign({},(0,a.getUniqueTypeScript)(l)),{args:(0,o.generateUniqueTypeArgs)(b[0],1)}),capacity:(0,o.append0x)(y.toString(16))}],w=[(0,o.append0x)((0,o.u128ToLe)(r)),(0,s.encodeRgbppTokenInfo)(n)],S=yield(0,o.fetchTypeIdCellDeps)(l,{rgbpp:!0,xudt:!0,unique:!0},d),E=b.map(((e,t)=>0===t?a.RGBPP_WITNESS_PLACEHOLDER:"0x")),A={version:"0x0",cellDeps:S,headerDeps:[],inputs:b,outputs:_,outputsData:w,witnesses:E},x=(0,u.getTransactionSize)(A)+(null!=c?c:a.RGBPP_TX_WITNESS_MAX_SIZE);v-=(0,o.calculateTransactionFee)(x,f),A.outputs[0].capacity=(0,o.append0x)(v.toString(16));const k=Object.assign(Object.assign({},A),{outputs:A.outputs});return{ckbRawTx:A,commitment:(0,s.calculateCommitment)(k),needPaymasterCell:!1}}))},13926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashType=t.DepType=t.Uint128=t.Uint64=t.Uint32=void 0;const n=r(30464),{Uint32:i,Uint64:o,Uint128:s}=n.number;t.Uint32=i,t.Uint64=o,t.Uint128=s;const a=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("type"===e)return new Uint8Array([1]);if("data"===e)return new Uint8Array([0]);if("data1"===e)return new Uint8Array([2]);if("data2"===e)return new Uint8Array([4]);throw new Error("Unknown hash type")},unpack:e=>{if(1===e[0])return"type";if(0===e[0])return"data";if(2===e[0])return"data1";if(4===e[0])return"data2";throw new Error("Unknown hash type")}});t.HashType=a;const u=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("code"===e)return new Uint8Array([0]);if("depGroup"===e)return new Uint8Array([1]);throw new Error("Unknown dep type")},unpack:e=>{if(0===e[0])return"code";if(1===e[0])return"depGroup";throw new Error("Unknown dep type")}});t.DepType=u},59763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockV1=t.Block=t.TransactionVec=t.Transaction=t.RawTransaction=t.CellOutputVec=t.CellOutput=t.CellInputVec=t.CellDepVec=t.UncleBlockVec=t.ScriptOpt=t.WitnessArgs=t.CellbaseWitness=t.UncleBlock=t.Header=t.RawHeader=t.CellDep=t.CellInput=t.OutPoint=t.Script=t.ProposalShortIdVec=t.ProposalShortId=t.Byte32Vec=t.BytesVec=t.BytesOptVec=t.BytesOpt=t.Bytes=t.Uint256=t.Byte32=void 0;const n=r(30464),i=r(13926),{array:o,vector:s,union:a,option:u,struct:c,table:f}=n.molecule,l=(0,n.createBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify});function d(e){return(0,n.createFixedBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify,byteLength:e})}d(1);t.Byte32=d(32),t.Uint256=d(32),t.Bytes=l,t.BytesOpt=u(t.Bytes),t.BytesOptVec=s(t.BytesOpt),t.BytesVec=s(t.Bytes),t.Byte32Vec=s(t.Byte32),t.ProposalShortId=d(10),t.ProposalShortIdVec=s(t.ProposalShortId),t.Script=f({codeHash:t.Byte32,hashType:i.HashType,args:t.Bytes},["codeHash","hashType","args"]),t.OutPoint=c({txHash:t.Byte32,index:i.Uint32},["txHash","index"]),t.CellInput=c({since:i.Uint64,previousOutput:t.OutPoint},["since","previousOutput"]),t.CellDep=c({outPoint:t.OutPoint,depType:i.DepType},["outPoint","depType"]),t.RawHeader=c({version:i.Uint32,compactTarget:i.Uint32,timestamp:i.Uint64,number:i.Uint64,epoch:i.Uint64,parentHash:t.Byte32,transactionsRoot:t.Byte32,proposalsHash:t.Byte32,extraHash:t.Byte32,dao:t.Byte32},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]),t.Header=c({raw:t.RawHeader,nonce:i.Uint128},["raw","nonce"]),t.UncleBlock=f({header:t.Header,proposals:t.ProposalShortIdVec},["header","proposals"]),t.CellbaseWitness=f({lock:t.Script,message:t.Bytes},["lock","message"]),t.WitnessArgs=f({lock:t.BytesOpt,inputType:t.BytesOpt,outputType:t.BytesOpt},["lock","inputType","outputType"]),t.ScriptOpt=u(t.Script),t.UncleBlockVec=s(t.UncleBlock),t.CellDepVec=s(t.CellDep),t.CellInputVec=s(t.CellInput),t.CellOutput=f({capacity:i.Uint64,lock:t.Script,type_:t.ScriptOpt},["capacity","lock","type_"]),t.CellOutputVec=s(t.CellOutput),t.RawTransaction=f({version:i.Uint32,cellDeps:t.CellDepVec,headerDeps:t.Byte32Vec,inputs:t.CellInputVec,outputs:t.CellOutputVec,outputsData:t.BytesVec},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]),t.Transaction=f({raw:t.RawTransaction,witnesses:t.BytesVec},["raw","witnesses"]),t.TransactionVec=s(t.Transaction),t.Block=f({header:t.Header,uncles:t.UncleBlockVec,transactions:t.TransactionVec,proposals:t.ProposalShortIdVec},["header","uncles","transactions","proposals"]),t.BlockV1=f({header:t.Header,uncles:t.UncleBlockVec,transactions:t.TransactionVec,proposals:t.ProposalShortIdVec,extension:t.Bytes},["header","uncles","transactions","proposals","extension"])},47830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BTCTimeUnlock=t.BTCTimeLockConfig=t.BTCTimeLock=t.RGBPPUnlock=t.Uint16=t.ExtraCommitmentData=t.RGBPPLock=t.RGBPPConfig=void 0;const n=r(30464),i=r(13926),o=r(59763),{array:s,vector:a,union:u,option:c,struct:f,table:l}=n.molecule;(0,n.createBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify});function d(e){return(0,n.createFixedBytesCodec)({pack:n.bytes.bytify,unpack:n.bytes.hexify,byteLength:e})}const h=d(1);t.RGBPPConfig=f({btcLcTypeHash:o.Byte32,btcTimeLockTypeHash:o.Byte32},["btcLcTypeHash","btcTimeLockTypeHash"]),t.RGBPPLock=f({outIndex:i.Uint32,btcTxid:o.Byte32},["outIndex","btcTxid"]),t.ExtraCommitmentData=f({inputLen:h,outputLen:h},["inputLen","outputLen"]),t.Uint16=d(2),t.RGBPPUnlock=l({version:t.Uint16,extraData:t.ExtraCommitmentData,btcTx:o.Bytes,btcTxProof:o.Bytes},["version","extraData","btcTx","btcTxProof"]),t.BTCTimeLock=l({lockScript:o.Script,after:i.Uint32,btcTxid:o.Byte32},["lockScript","after","btcTxid"]),t.BTCTimeLockConfig=f({btcLcTypeHash:o.Byte32},["btcLcTypeHash"]),t.BTCTimeUnlock=l({btcTxProof:o.Bytes},["btcTxProof"])},65732:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genCreateClusterCkbVirtualTx=void 0;const i=r(57049),o=r(10090),s=r(70213),a=r(83910),u=r(727),c=r(5785),f=r(60720);t.genCreateClusterCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,rgbppLockArgs:t,clusterData:r,isMainnet:n,witnessLockPlaceholderSize:l,ckbFeeRate:d,btcTestnetType:h}){const p=(0,s.genRgbppLockScript)(t,n,h),y=yield e.getCells({lock:p});if(!y||0===y.length)throw new c.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");const g=y[0],b=[{previousOutput:g.outPoint,since:"0x0"}],m=(0,u.generateClusterId)(b[0],0),v=[Object.assign(Object.assign({},g.output),{lock:(0,s.genRgbppLockScript)((0,s.buildPreLockArgs)(1),n,h),type:Object.assign(Object.assign({},(0,a.getClusterTypeScript)(n)),{args:m})})],_=[(0,f.bytesToHex)((0,i.packRawClusterData)(r))],w=[...yield(0,o.fetchTypeIdCellDeps)(n,{rgbpp:!0},h),(0,a.getClusterTypeDep)(n)],S=(0,u.generateClusterCreateCoBuild)(v[0],_[0]),E={version:"0x0",cellDeps:w,headerDeps:[],inputs:b,outputs:v,outputsData:_,witnesses:[a.RGBPP_WITNESS_PLACEHOLDER,S]};let A=BigInt(g.output.capacity);const x=(0,f.getTransactionSize)(E)+(null!=l?l:a.RGBPP_TX_WITNESS_MAX_SIZE);A-=(0,o.calculateTransactionFee)(x,d),E.outputs[E.outputs.length-1].capacity=(0,o.append0x)(A.toString(16));const k=Object.assign({},E);return{ckbRawTx:E,commitment:(0,s.calculateCommitment)(k),clusterId:m,needPaymasterCell:!1}}))},28742:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65732),t),i(r(89451),t),i(r(19678),t)},19678:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.genLeapSporeFromCkbToBtcRawTx=t.buildSporeBtcTimeCellsSpentTx=t.genLeapSporeFromBtcToCkbVirtualTx=void 0;const o=r(10090),s=r(70213),a=r(83910),u=r(727),c=r(5785),f=r(60720),l=r(60875),d=r(2292);t.genLeapSporeFromBtcToCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,sporeRgbppLockArgs:t,sporeTypeBytes:r,toCkbAddress:n,isMainnet:i,witnessLockPlaceholderSize:c,ckbFeeRate:l,btcTestnetType:d}){const h=Object.assign(Object.assign({},(0,a.getRgbppLockScript)(i,d)),{args:(0,o.append0x)(t)}),p=yield e.getCells({lock:h,isDataMustBeEmpty:!1});(0,u.throwErrorWhenSporeCellsInvalid)(p,r,i);const y=p[0],g=[{previousOutput:y.outPoint,since:"0x0"}],b=(0,f.addressToScript)(n),m=[Object.assign(Object.assign({},y.output),{lock:(0,s.genBtcTimeLockScript)(b,i,d)})],v=[y.outputData],_=[...yield(0,o.fetchTypeIdCellDeps)(i,{rgbpp:!0},d),(0,a.getSporeTypeDep)(i)],w=(0,u.generateSporeTransferCoBuild)([y],m),S={version:"0x0",cellDeps:_,headerDeps:[],inputs:g,outputs:m,outputsData:v,witnesses:[a.RGBPP_WITNESS_PLACEHOLDER,w]};let E=BigInt(y.output.capacity);const A=(0,f.getTransactionSize)(S)+(null!=c?c:a.RGBPP_TX_WITNESS_MAX_SIZE);E-=(0,o.calculateTransactionFee)(A,l),S.outputs[S.outputs.length-1].capacity=(0,o.append0x)(E.toString(16));const x=Object.assign({},S);return{ckbRawTx:S,commitment:(0,s.calculateCommitment)(x),sporeCell:y,needPaymasterCell:!1,sumInputsCapacity:y.output.capacity}}));t.buildSporeBtcTimeCellsSpentTx=e=>n(void 0,[e],void 0,(function*({btcTimeCells:e,btcAssetsApi:t,isMainnet:r,btcTestnetType:n}){var c,l,h,p;const y=e.sort(s.compareInputs),g=y.map((e=>({previousOutput:e.outPoint,since:"0x0"}))),b=y.map((e=>({lock:(0,s.lockScriptFromBtcTimeLockArgs)(e.output.lock.args),type:e.output.type,capacity:e.output.capacity}))),m=y.map((e=>e.outputData)),v=[...yield(0,o.fetchTypeIdCellDeps)(r,{btcTime:!0},n),(0,a.getSporeTypeDep)(r)],_=[],w=new Set,S=new Set;try{for(var E,A=!0,x=i(y);!(c=(E=yield x.next()).done);A=!0){p=E.value,A=!1;const e=p;if(w.has(e.output.lock.args)){_.push("0x");continue}w.add(e.output.lock.args);const r=yield t.getRgbppSpvProof((0,s.btcTxIdFromBtcTimeLockArgs)(e.output.lock.args),a.BTC_JUMP_CONFIRMATION_BLOCKS),{spvClient:n,proof:i}=(0,s.transformSpvProof)(r);S.has((0,f.serializeOutPoint)(n))||(v.push((0,s.buildSpvClientCellDep)(n)),S.add((0,f.serializeOutPoint)(n)));const u=(0,o.append0x)((0,f.serializeWitnessArgs)({lock:(0,d.buildBtcTimeUnlockWitness)(i),inputType:"",outputType:""}));_.push(u)}}catch(e){l={error:e}}finally{try{A||c||!(h=x.return)||(yield h.call(x))}finally{if(l)throw l.error}}const k=(0,u.generateSporeTransferCoBuild)(y,b);_.push(k);return{version:"0x0",cellDeps:v,headerDeps:[],inputs:g,outputs:b,outputsData:m,witnesses:_}}));t.genLeapSporeFromCkbToBtcRawTx=e=>n(void 0,[e],void 0,(function*({collector:e,sporeTypeBytes:t,fromCkbAddress:r,toRgbppLockArgs:n,isMainnet:i,witnessLockPlaceholderSize:s,ckbFeeRate:d,btcTestnetType:h}){const p=(0,f.addressToScript)(r),y=l.blockchain.Script.unpack(t),g=yield e.getCells({lock:p,type:y});if(!g||0===g.length)throw new c.NoRgbppLiveCellError("No spore rgbpp cells found with the spore rgbpp lock args and spore type script");const b=g[0],m=[{previousOutput:b.outPoint,since:"0x0"}],v=[Object.assign(Object.assign({},b.output),{lock:Object.assign(Object.assign({},(0,a.getRgbppLockScript)(i,h)),{args:(0,o.append0x)(n)})})],_=[b.outputData],w=[(0,a.getSporeTypeDep)(i)],S=(0,u.generateSporeTransferCoBuild)([b],v),E={version:"0x0",cellDeps:w,headerDeps:[],inputs:m,outputs:v,outputsData:_,witnesses:[a.RGBPP_WITNESS_PLACEHOLDER,S]};let A=BigInt(b.output.capacity);const x=(0,f.getTransactionSize)(E)+(null!=s?s:a.RGBPP_TX_WITNESS_MAX_SIZE);return A-=(0,o.calculateTransactionFee)(x,d),E.outputs[E.outputs.length-1].capacity=(0,o.append0x)(A.toString(16)),E}))},89451:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.genTransferSporeCkbVirtualTx=t.appendIssuerCellToSporesCreate=t.buildAppendingIssuerCellToSporesCreateTx=t.genCreateSporeCkbVirtualTx=void 0;const o=r(57049),s=r(10090),a=r(70213),u=r(83910),c=r(727),f=r(5785),l=r(60720),d=i(r(94976));t.genCreateSporeCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,clusterRgbppLockArgs:t,sporeDataList:r,isMainnet:n,btcTestnetType:i}){const d=(0,a.genRgbppLockScript)(t,n,i),h=yield e.getCells({lock:d,isDataMustBeEmpty:!1});if(!h||0===h.length)throw new f.NoRgbppLiveCellError("No cluster rgbpp cells found with the cluster rgbpp lock args");if(h.length>1)throw new f.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to multiple CKB cells");const p=h[0];if(!p.output.type||!(0,s.isClusterSporeTypeSupported)(p.output.type,n))throw new f.TypeAssetNotSupportedError("The type script asset is not supported now");const y=p.output.capacity,g=[{previousOutput:p.outPoint,since:"0x0"}],b={outPoint:p.outPoint,depType:"code"},m=r.map(((e,t)=>({lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(t+2),n,i),type:Object.assign(Object.assign({},(0,u.getSporeTypeScript)(n)),{args:(0,c.generateSporeId)(g[0],t+1)}),capacity:(0,s.append0x)((0,s.calculateRgbppSporeCellCapacity)(e).toString(16))}))),v=r.map((e=>(0,l.bytesToHex)((0,o.packRawSporeData)(e)))),_=[Object.assign(Object.assign({},p.output),{lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(1),n,i)}),...m],w=[p.outputData,...v],S=[...yield(0,s.fetchTypeIdCellDeps)(n,{rgbpp:!0},i),(0,u.getClusterTypeDep)(n),(0,u.getSporeTypeDep)(n),b],E=(0,c.generateSporeCreateCoBuild)({sporeOutputs:m,sporeOutputsData:v,clusterCell:p,clusterOutputCell:_[0]}),A=[u.RGBPP_WITNESS_PLACEHOLDER,E],x={version:"0x0",cellDeps:S,headerDeps:[],inputs:g,outputs:_,outputsData:w,witnesses:A},k=Object.assign({},x);return{ckbRawTx:x,commitment:(0,a.calculateCommitment)(k),sumInputsCapacity:y,clusterCell:p,needPaymasterCell:!1}}));t.buildAppendingIssuerCellToSporesCreateTx=e=>n(void 0,[e],void 0,(function*({issuerAddress:e,collector:t,ckbRawTx:r,sumInputsCapacity:n,witnessLockPlaceholderSize:i=u.SECP256K1_WITNESS_LOCK_SIZE,ckbFeeRate:o}){const a=r,c=a.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0)),d=(0,l.addressToScript)(e);let h=yield t.getCells({lock:d});if(!h||0===h.length)throw new f.NoLiveCellError("The issuer address has no empty cells");h=h.filter((e=>!e.output.type));let p=BigInt(n);const y=u.MAX_FEE;if(p<=c){const e=c-p+u.MIN_CAPACITY,{inputs:r,sumInputsCapacity:n}=t.collectInputs(h,e,y);a.inputs=[...a.inputs,...r],p+=n}let g=p-c;const b={lock:d,capacity:(0,s.append0x)(g.toString(16))};a.outputs=[...a.outputs,b],a.outputsData=[...a.outputsData,"0x"];const m=(0,l.getTransactionSize)(a)+i+37;return g-=(0,s.calculateTransactionFee)(m,o),a.outputs[a.outputs.length-1].capacity=(0,s.append0x)(g.toString(16)),a}));t.appendIssuerCellToSporesCreate=e=>n(void 0,[e],void 0,(function*({secp256k1PrivateKey:e,issuerAddress:r,collector:n,ckbRawTx:i,sumInputsCapacity:o,isMainnet:s,ckbFeeRate:a}){const c=i.inputs.length,f=yield(0,t.buildAppendingIssuerCellToSporesCreateTx)({issuerAddress:r,collector:n,ckbRawTx:i,sumInputsCapacity:o,ckbFeeRate:a});f.cellDeps=[...f.cellDeps,(0,u.getSecp256k1CellDep)(s)];const h=(0,l.addressToScript)(r),p=new Map;p.set((0,l.scriptToHash)(h),e);const y=c,g=f.inputs.map(((e,t)=>({outPoint:e.previousOutput,lock:t>=y?h:(0,u.getRgbppLockScript)(s)}))),b={lock:"",inputType:"",outputType:""},m=f.inputs.slice(c).map(((e,t)=>0===t?b:"0x")),v=f.witnesses.length-1;f.witnesses=[...f.witnesses.slice(0,v),...m,f.witnesses[v]];const _=(0,l.rawTransactionToHash)(f),w=(0,d.default)(p)({transactionHash:_,witnesses:f.witnesses,inputCells:g,skipMissingKeys:!0});return Object.assign(Object.assign({},f),{witnesses:w.map((e=>"string"!=typeof e?(0,l.serializeWitnessArgs)(e):e))})}));t.genTransferSporeCkbVirtualTx=e=>n(void 0,[e],void 0,(function*({collector:e,sporeRgbppLockArgs:t,sporeTypeBytes:r,isMainnet:n,witnessLockPlaceholderSize:i,ckbFeeRate:o,btcTestnetType:f}){const d=(0,a.genRgbppLockScript)(t,n,f),h=yield e.getCells({lock:d,isDataMustBeEmpty:!1});(0,c.throwErrorWhenSporeCellsInvalid)(h,r,n);const p=h[0],y=[{previousOutput:p.outPoint,since:"0x0"}],g=[Object.assign(Object.assign({},p.output),{lock:(0,a.genRgbppLockScript)((0,a.buildPreLockArgs)(1),n,f)})],b=[p.outputData],m=[...yield(0,s.fetchTypeIdCellDeps)(n,{rgbpp:!0},f),(0,u.getSporeTypeDep)(n)],v=(0,c.generateSporeTransferCoBuild)([p],g),_={version:"0x0",cellDeps:m,headerDeps:[],inputs:y,outputs:g,outputsData:b,witnesses:[u.RGBPP_WITNESS_PLACEHOLDER,v]};let w=BigInt(p.output.capacity);const S=(0,l.getTransactionSize)(_)+(null!=i?i:u.RGBPP_TX_WITNESS_MAX_SIZE);w-=(0,s.calculateTransactionFee)(S,o),_.outputs[_.outputs.length-1].capacity=(0,s.append0x)(w.toString(16));const E=Object.assign({},_);return{ckbRawTx:_,commitment:(0,a.calculateCommitment)(E),sporeCell:p,needPaymasterCell:!1,sumInputsCapacity:p.output.capacity}}))},85189:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},20601:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41462:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(20601),t),i(r(85189),t),i(r(70321),t),i(r(1497),t),i(r(90523),t)},70321:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90523:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},96642:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toCamelcase=void 0;const i=n(r(23472));t.toCamelcase=e=>{try{return(0,i.default)(e,{deep:!0})}catch(e){console.error(e)}return null}},78536:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTypeIdCellDeps=void 0;const o=i(r(86425)),s=r(83910),a=e=>o.default.get(e,{timeout:2e3});t.fetchTypeIdCellDeps=(e,t,r)=>n(void 0,void 0,void 0,(function*(){let i=(0,s.getRgbppLockDep)(e,r),o=(0,s.getBtcTimeLockDep)(e,r),u=(0,s.getXudtDep)(e),c=(0,s.getUniqueTypeDep)(e);const f=yield n(void 0,void 0,void 0,(function*(){try{return(yield Promise.any([a("https://raw.githubusercontent.com/ckb-cell/typeid-contract-cell-deps/main/deployment/cell-deps.json"),a("https://cdn.jsdelivr.net/gh/ckb-cell/typeid-contract-cell-deps@main/deployment/cell-deps.json")])).data}catch(e){}}));f&&("Signet"===r?(i=f.rgbpp.signet,o=f.btcTime.signet):(i=e?f.rgbpp.mainnet:f.rgbpp.testnet,o=e?f.btcTime.mainnet:f.btcTime.testnet),e||(u=f.xudt.testnet,c=f.unique.testnet));let l=[];return t.rgbpp&&(l=[...l,i,Object.assign(Object.assign({},i),{outPoint:Object.assign(Object.assign({},i.outPoint),{index:"0x1"})})]),t.btcTime&&(l=[...l,o,Object.assign(Object.assign({},o),{outPoint:Object.assign(Object.assign({},o.outPoint),{index:"0x1"})})]),t.xudt&&(l=[...l,u]),t.unique&&(l=[...l,c]),l}))},59767:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkCkbTxInputsCapacitySufficient=t.isScriptEqual=t.deduplicateList=t.calculateRgbppSporeCellCapacity=t.calculateRgbppClusterCellCapacity=t.generateUniqueTypeArgs=t.calculateRgbppTokenInfoCellCapacity=t.calculateXudtTokenInfoCellCapacity=t.calculateUdtCellCapacity=t.calculateRgbppCellCapacity=t.isLockArgsSizeExceeded=t.isTypeAssetSupported=t.isClusterSporeTypeSupported=t.isSporeTypeSupported=t.isUDTTypeSupported=t.calculateTransactionFee=void 0;const o=r(48412),s=r(57049),a=r(93339),u=r(83910),c=r(60720),f=r(70213),l=r(5785);t.calculateTransactionFee=(e,t)=>{const r=null!=t?t:BigInt(1100),n=(0,o.calculateTransactionFee)(BigInt(e),r);return BigInt(n)};t.isUDTTypeSupported=(e,t)=>(0,c.serializeScript)((0,u.getXudtTypeScript)(t))===(0,c.serializeScript)(Object.assign(Object.assign({},e),{args:""}));t.isSporeTypeSupported=(e,t)=>(0,c.serializeScript)((0,u.getSporeTypeScript)(t))===(0,c.serializeScript)(Object.assign(Object.assign({},e),{args:""}));t.isClusterSporeTypeSupported=(e,r)=>{const n=(0,c.serializeScript)(Object.assign(Object.assign({},e),{args:""})),i=(0,c.serializeScript)((0,u.getClusterTypeScript)(r));return(0,t.isSporeTypeSupported)(e,r)||i===n};t.isTypeAssetSupported=(e,r)=>(0,t.isUDTTypeSupported)(e,r)||(0,t.isClusterSporeTypeSupported)(e,r);t.isLockArgsSizeExceeded=e=>(0,a.remove0x)(e).length>52;t.calculateRgbppCellCapacity=e=>{const t=e?(0,a.remove0x)(e.args).length/2:32;return BigInt(69+(33+t)+8+16+95+1)*u.CKB_UNIT};t.calculateUdtCellCapacity=(e,t)=>{const r=(0,a.remove0x)(e.args).length/2,n=t?(0,a.remove0x)(t.args).length/2:32;return BigInt(33+r+(33+n)+8+16+1)*u.CKB_UNIT};t.calculateXudtTokenInfoCellCapacity=(e,t)=>{const r=(0,a.remove0x)(t.args).length/2+33,n=(0,a.remove0x)((0,f.encodeRgbppTokenInfo)(e)).length/2;return BigInt(r+53+8+n)*u.CKB_UNIT};t.calculateRgbppTokenInfoCellCapacity=(e,t)=>{const r=(0,f.genBtcTimeLockScript)(u.UNLOCKABLE_LOCK_SCRIPT,t),n=(0,a.remove0x)(r.args).length/2+33,i=(0,a.remove0x)((0,f.encodeRgbppTokenInfo)(e)).length/2;return BigInt(n+53+8+i)*u.CKB_UNIT};t.generateUniqueTypeArgs=(e,t)=>{const r=(0,c.hexToBytes)((0,c.serializeInput)(e)),n=(0,c.blake2b)(32,null,null,c.PERSONAL);return n.update(r),n.update((0,c.hexToBytes)(`0x${(0,a.u64ToLe)(BigInt(t))}`)),`0x${n.digest("hex").slice(0,40)}`};t.calculateRgbppClusterCellCapacity=e=>{const t=(0,s.packRawClusterData)(e).length;return BigInt(142+t+1)*u.CKB_UNIT};t.calculateRgbppSporeCellCapacity=e=>{const t=(0,s.packRawSporeData)(e).length;return BigInt(142+t+95+1)*u.CKB_UNIT};t.deduplicateList=e=>Array.from(new Set(e));t.isScriptEqual=(e,t)=>("string"==typeof e?(0,a.remove0x)(e):(0,a.remove0x)((0,c.serializeScript)(e)))===("string"==typeof t?(0,a.remove0x)(t):(0,a.remove0x)((0,c.serializeScript)(t)));t.checkCkbTxInputsCapacitySufficient=(e,t)=>n(void 0,void 0,void 0,(function*(){var r,n,o,s;let a=BigInt(0);try{for(var u,c=!0,f=i(e.inputs);!(r=(u=yield f.next()).done);c=!0){s=u.value,c=!1;const e=s,r=yield t.getLiveCell(e.previousOutput);if(!r)throw new l.NoLiveCellError("The cell with the specific out point is dead");a+=BigInt(r.output.capacity)}}catch(e){n={error:e}}finally{try{c||r||!(o=f.return)||(yield o.call(f))}finally{if(n)throw n.error}}return a>e.outputs.map((e=>BigInt(e.capacity))).reduce(((e,t)=>e+t),BigInt(0))}))},93339:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reverseHex=t.hexToUtf8=t.utf8ToHex=t.leToU128=t.u128ToLe=t.u64ToLe=t.leToU32=t.u32ToLeHex=t.u32ToLe=t.u32ToBe=t.u16ToLe=t.u8ToHex=t.append0x=t.remove0x=void 0;const n=r(60720);t.remove0x=e=>e.startsWith("0x")?e.substring(2):e;t.append0x=e=>(null==e?void 0:e.startsWith("0x"))?e:`0x${e}`;const i=e=>Array.prototype.map.call(new Uint8Array(e),(e=>("00"+e.toString(16)).slice(-2))).join("");t.u8ToHex=e=>{const t=new ArrayBuffer(1);return new DataView(t).setUint8(0,e),i(t)};t.u16ToLe=e=>{const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e,!0),i(t)};const o=(e,t)=>{const r=new ArrayBuffer(4);return new DataView(r).setUint32(0,Number(e),t),i(r)};t.u32ToBe=e=>o(e,!1);t.u32ToLe=e=>o(e,!0);t.u32ToLeHex=e=>{const r=(0,t.u32ToBe)(e),n=(0,t.reverseHex)(parseInt(r,16).toString(16));return(0,t.append0x)(parseInt(n,16).toString(16))};t.leToU32=e=>{const r=`0x${(0,n.hexToBytes)((0,t.append0x)(e)).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`;return parseInt(r,16)};t.u64ToLe=e=>{const r=e.toString(16).padStart(16,"0");return`${(0,t.u32ToLe)(`0x${r.slice(8)}`)}${(0,t.u32ToLe)(`0x${r.slice(0,8)}`)}`};t.u128ToLe=e=>{const r=e.toString(16).padStart(32,"0");return`${(0,t.u64ToLe)(BigInt(`0x${r.slice(16)}`))}${(0,t.u64ToLe)(BigInt(`0x${r.slice(0,16)}`))}`};t.leToU128=e=>{const r=`0x${(0,n.hexToBytes)((0,t.append0x)(e)).reduceRight(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}`;return BigInt(r)};t.utf8ToHex=e=>{let t=e.trim();return t.startsWith("0x")||(t=(0,n.bytesToHex)((new TextEncoder).encode(t))),t};t.hexToUtf8=e=>{let t=e.trim();try{t=(new TextDecoder).decode((0,n.hexToBytes)(t))}catch(e){console.error("hexToUtf8 error:",e)}return t};t.reverseHex=e=>(0,n.bytesToHex)((0,n.hexToBytes)((0,t.append0x)(e)).reverse())},10090:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96642),t),i(r(93339),t),i(r(59767),t),i(r(70213),t),i(r(727),t),i(r(78536),t)},70213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRgbppCapacitySufficientForChange=t.throwErrorWhenRgbppCellsInvalid=t.throwErrorWhenTxInputsExceeded=t.calculateRgbppTokenInfoSize=t.encodeRgbppTokenInfo=t.estimateWitnessSize=t.buildSpvClientCellDep=t.transformSpvProof=t.isRgbppLockOrBtcTimeLock=t.isBtcTimeLockCell=t.isRgbppLockCellIgnoreChain=t.isRgbppLockCell=t.replaceLockArgsWithRealBtcTxId=t.compareInputs=t.buildPreLockArgs=t.buildRgbppLockArgs=t.btcTxIdFromBtcTimeLockArgs=t.lockScriptFromBtcTimeLockArgs=t.calculateCommitment=t.genBtcTimeLockScript=t.genBtcTimeLockArgs=t.genRgbppLockScript=void 0;const n=r(71312),i=r(93339),o=r(83910),s=r(60720),a=r(47830),u=r(59763),c=r(60875),f=r(30464),l=r(96642),d=r(5785),h=r(59767);t.genRgbppLockScript=(e,t,r)=>Object.assign(Object.assign({},(0,o.getRgbppLockScript)(t,r)),{args:(0,i.append0x)(e)});t.genBtcTimeLockArgs=(e,t,r)=>{const n=c.blockchain.Byte32.pack((0,i.reverseHex)(t)),o=u.Script.unpack((0,s.serializeScript)(e));return(0,s.bytesToHex)(a.BTCTimeLock.pack({lockScript:o,after:r,btcTxid:n}))};t.genBtcTimeLockScript=(e,r,n)=>{const i=(0,t.genBtcTimeLockArgs)(e,o.RGBPP_TX_ID_PLACEHOLDER,o.BTC_JUMP_CONFIRMATION_BLOCKS);return Object.assign(Object.assign({},(0,o.getBtcTimeLockScript)(r,n)),{args:i})};t.calculateCommitment=e=>{const t=n.sha256.create();t.update((0,s.hexToBytes)((0,i.utf8ToHex)("RGB++")));t.update([0,0]);const{inputs:r,outputs:o,outputsData:a}=e;if(r.length>255||o.length>255)throw new d.InputsOrOutputsLenError("The inputs or outputs length of RGB++ CKB virtual tx cannot be greater than 255");t.update([r.length,o.length]);for(const e of r)t.update((0,s.hexToBytes)((0,s.serializeOutPoint)(e.previousOutput)));for(let e=0;e<o.length;e++){const r=o[e],n=a[e];t.update((0,s.hexToBytes)((0,s.serializeOutput)(r)));const u=(0,i.u32ToLe)((0,i.remove0x)(n).length/2);t.update((0,s.hexToBytes)((0,i.append0x)(u))),t.update((0,s.hexToBytes)(n))}return(0,n.sha256)(t.array())};t.lockScriptFromBtcTimeLockArgs=e=>{const{lockScript:t}=a.BTCTimeLock.unpack((0,i.append0x)(e));return Object.assign(Object.assign({},t),{args:f.bytes.hexify(c.blockchain.Bytes.unpack(t.args))})};t.btcTxIdFromBtcTimeLockArgs=e=>{const t=a.BTCTimeLock.unpack((0,i.append0x)(e));return(0,i.reverseHex)((0,i.append0x)(t.btcTxid))};t.buildRgbppLockArgs=(e,t)=>`0x${(0,i.u32ToLe)(e)}${(0,i.remove0x)((0,i.reverseHex)(t))}`;t.buildPreLockArgs=e=>(0,t.buildRgbppLockArgs)(e,o.RGBPP_TX_ID_PLACEHOLDER);t.compareInputs=(e,t)=>e.output.lock.args<t.output.lock.args?-1:e.output.lock.args>t.output.lock.args?1:0;t.replaceLockArgsWithRealBtcTxId=(e,t)=>{const r=(0,i.remove0x)(e).length;if(r<72)throw new Error("Rgbpp lock args or BTC time lock args length is invalid");return`0x${(0,i.remove0x)(e).substring(0,r-64)}${(0,i.remove0x)((0,i.reverseHex)(t))}`};const p=["Testnet3","Signet"],y=(e,t)=>e.codeHash===t.codeHash&&e.hashType===t.hashType;t.isRgbppLockCell=(e,t)=>t?y(e.lock,(0,o.getRgbppLockScript)(t)):p.some((r=>y(e.lock,(0,o.getRgbppLockScript)(t,r))));t.isRgbppLockCellIgnoreChain=e=>(0,t.isRgbppLockCell)(e,!0)||(0,t.isRgbppLockCell)(e,!1);t.isBtcTimeLockCell=(e,t)=>t?y(e.lock,(0,o.getBtcTimeLockScript)(t)):p.some((r=>y(e.lock,(0,o.getBtcTimeLockScript)(t,r))));t.isRgbppLockOrBtcTimeLock=(e,t)=>t?y(e,(0,o.getRgbppLockScript)(t))||y(e,(0,o.getBtcTimeLockScript)(t)):p.flatMap((e=>[(0,o.getRgbppLockScript)(t,e),(0,o.getBtcTimeLockScript)(t,e)])).some((t=>y(t,e)));t.transformSpvProof=e=>(0,l.toCamelcase)(e);t.buildSpvClientCellDep=e=>({outPoint:e,depType:"code"});t.estimateWitnessSize=e=>{const t=new Set(e).size;return o.RGBPP_TX_WITNESS_MAX_SIZE*t};t.encodeRgbppTokenInfo=e=>{const t=(0,i.u8ToHex)(e.decimal),r=(0,i.remove0x)((0,i.utf8ToHex)(e.name)),n=(0,i.u8ToHex)(r.length/2),o=(0,i.remove0x)((0,i.utf8ToHex)(e.symbol));return`0x${t}${n}${r}${(0,i.u8ToHex)(o.length/2)}${o}`};t.calculateRgbppTokenInfoSize=e=>{const r=(0,t.encodeRgbppTokenInfo)(e);return BigInt((0,i.remove0x)(r).length/2)};t.throwErrorWhenTxInputsExceeded=e=>{if(e>o.RGBPP_TX_INPUTS_MAX_LENGTH)throw new d.RgbppCkbTxInputsExceededError(`Please ensure the tx inputs do not exceed ${o.RGBPP_TX_INPUTS_MAX_LENGTH}`)};t.throwErrorWhenRgbppCellsInvalid=(e,t,r)=>{if(!e||0===e.length)throw new d.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");const n=e.filter((e=>!!e.output.type));if(0===n.length)throw new d.NoRgbppLiveCellError("No rgbpp cells found with the rgbpp lock args");if(n.some((e=>e.output.type&&!(0,h.isUDTTypeSupported)(e.output.type,r))))throw new d.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to xUDT and other type cells at the same time");if(!n.some((e=>(0,h.isScriptEqual)(e.output.type,t))))throw new d.NoRgbppLiveCellError("No rgbpp cells found with the xudt type script and the rgbpp lock args")};t.isRgbppCapacitySufficientForChange=(e,t)=>e>t+((0,h.calculateRgbppCellCapacity)()-o.CKB_UNIT)},727:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwErrorWhenSporeCellsInvalid=t.generateSporeTransferCoBuild=t.generateSporeCreateCoBuild=t.generateClusterCreateCoBuild=t.generateSporeId=t.generateClusterId=void 0;const n=r(60720),i=r(13972),o=r(93339),s=r(5785),a=r(59767);t.generateClusterId=(e,t)=>{const r=(0,n.hexToBytes)((0,n.serializeInput)(e)),i=(0,n.blake2b)(32,null,null,n.PERSONAL);return i.update(r),i.update((0,n.hexToBytes)(`0x${(0,o.u64ToLe)(BigInt(t))}`)),`0x${i.digest("hex")}`};t.generateSporeId=(e,r)=>(0,t.generateClusterId)(e,r);t.generateClusterCreateCoBuild=(e,t)=>{const r={cellOutput:e,data:t},{actions:n}=(0,i.assembleCreateClusterAction)(r);return(0,i.assembleCobuildWitnessLayout)(n)};t.generateSporeCreateCoBuild=({sporeOutputs:e,sporeOutputsData:t,clusterCell:r,clusterOutputCell:n})=>{if(e.length!==t.length)throw new Error("The length of spore outputs and spore cell data are not same");let o=[];const s={cellOutput:r.output,data:r.outputData},a={cellOutput:n,data:r.outputData},{actions:u}=(0,i.assembleTransferClusterAction)(s,a);o=o.concat(u);for(let r=0;r<e.length;r++){const n={cellOutput:e[r],data:t[r]},{actions:s}=(0,i.assembleCreateSporeAction)(n);o=o.concat(s)}return(0,i.assembleCobuildWitnessLayout)(o)};t.generateSporeTransferCoBuild=(e,t)=>{if(e.length!==t.length)throw new Error("The length of spore input cells and spore output cells are not same");let r=[];for(let n=0;n<e.length;n++){const o=e[n],s="outputData"in o?o.outputData:o.data.content,a={cellOutput:e[n].output,data:s},u={cellOutput:t[n],data:s},{actions:c}=(0,i.assembleTransferSporeAction)(a,u);r=r.concat(c)}return(0,i.assembleCobuildWitnessLayout)(r)};t.throwErrorWhenSporeCellsInvalid=(e,t,r)=>{if(!e||0===e.length)throw new s.NoRgbppLiveCellError("No spore rgbpp cells found with the spore rgbpp lock args");if(e.length>1)throw new s.RgbppUtxoBindMultiTypeAssetsError("The BTC UTXO must not be bound to multiple CKB cells");const n=e[0];if(!n.output.type)throw new s.RgbppSporeTypeMismatchError("The cell with the rgbpp lock args has no spore asset");if(!(0,a.isSporeTypeSupported)(n.output.type,r))throw new s.RgbppSporeTypeMismatchError("The cell type is not the supported spore type script");if(!(0,a.isScriptEqual)(n.output.type,t))throw new s.RgbppSporeTypeMismatchError("The spore cell type with the rgbpp lock args does not match")}},22495:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessArgs=t.UncleBlockVec=t.UncleBlock=t.TransactionVec=t.Transaction=t.ScriptOpt=t.Script=t.RawTransaction=t.RawHeader=t.ProposalShortIdVec=t.ProposalShortId=t.OutPoint=t.Header=t.HashType=t.DepType=t.CellbaseWitness=t.CellOutputVec=t.CellOutput=t.CellInputVec=t.CellInput=t.CellDepVec=t.CellDep=t.BytesVec=t.BytesOptVec=t.BytesOpt=t.Bytes=t.Byte32Vec=t.Byte32=t.BlockV1=t.Block=t.BaseHeader=void 0,t.WitnessArgsOf=A,t.createFixedHexBytesCodec=b,t.deTransformHeaderCodecType=te,t.deTransformTransactionCodecType=Z,t.transformHeaderCodecType=ee,t.transformTransactionCodecType=J;var n=r(30464),i=r(70071);function o(e){return{...e,unpack:t=>i.BI.from(e.unpack(t)).toHexString()}}const s=o(n.number.Uint8),a=o(n.number.Uint32LE),u=o(n.number.Uint64LE),c=o(n.number.Uint128LE),{byteVecOf:f,option:l,table:d,vector:h,struct:p}=n.molecule,{bytify:y,hexify:g}=n.bytes;function b(e){return(0,n.createFixedBytesCodec)({byteLength:e,pack:e=>y(e),unpack:e=>g(e)})}const m=f({pack:y,unpack:g});t.Bytes=m;const v=l(m);t.BytesOpt=v;const _=h(m);t.BytesVec=_;const w=h(v);t.BytesOptVec=w;const S=b(32);t.Byte32=S;const E=h(S);function A(e){return d({lock:l(f(e.lock)),inputType:l(f(e.inputType)),outputType:l(f(e.outputType))},["lock","inputType","outputType"])}t.Byte32Vec=E;const x=(0,n.createBytesCodec)({pack:y,unpack:g}),k=A({lock:x,inputType:x,outputType:x});t.WitnessArgs=k;const I=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("type"===e)return n.number.Uint8.pack(1);if("data"===e)return n.number.Uint8.pack(0);if("data1"===e)return n.number.Uint8.pack(2);if("data2"===e)return n.number.Uint8.pack(4);throw new Error(`Invalid hash type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(1===t)return"type";if(0===t)return"data";if(2===t)return"data1";if(4===t)return"data2";throw new Error(`Invalid hash type: ${t}`)}});t.HashType=I;const T=(0,n.createFixedBytesCodec)({byteLength:1,pack:e=>{if("code"===e)return s.pack(0);if("depGroup"===e)return s.pack(1);throw new Error(`Invalid dep type: ${e}`)},unpack:e=>{const t=n.number.Uint8.unpack(e);if(0===t)return"code";if(1===t)return"depGroup";throw new Error(`Invalid dep type: ${t}`)}});t.DepType=T;const C=d({codeHash:S,hashType:I,args:m},["codeHash","hashType","args"]);t.Script=C;const O=l(C);t.ScriptOpt=O;const P=p({txHash:S,index:a},["txHash","index"]);t.OutPoint=P;const M=p({since:u,previousOutput:P},["since","previousOutput"]);t.CellInput=M;const B=h(M);t.CellInputVec=B;const D=d({capacity:u,lock:C,type:O},["capacity","lock","type"]);t.CellOutput=D;const R=h(D);t.CellOutputVec=R;const j=p({outPoint:P,depType:T},["outPoint","depType"]);t.CellDep=j;const L=h(j);t.CellDepVec=L;const N=d({version:a,cellDeps:L,headerDeps:E,inputs:B,outputs:R,outputsData:_},["version","cellDeps","headerDeps","inputs","outputs","outputsData"]);t.RawTransaction=N;const U=d({raw:N,witnesses:_},["raw","witnesses"]),H=(0,n.createBytesCodec)({pack:e=>U.pack(J(e)),unpack:e=>Z(U.unpack(e))});t.Transaction=H;const F=h(H);t.TransactionVec=F;const z=p({version:a,compactTarget:a,timestamp:u,number:u,epoch:u,parentHash:S,transactionsRoot:S,proposalsHash:S,extraHash:S,dao:S},["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"]);t.RawHeader=z;const q=p({raw:z,nonce:c},["raw","nonce"]);t.BaseHeader=q;const K=(0,n.createBytesCodec)({pack:e=>q.pack(ee(e)),unpack:e=>te(q.unpack(e))});t.Header=K;const V=b(10);t.ProposalShortId=V;const W=h(V);t.ProposalShortIdVec=W;const $=d({header:K,proposals:W},["header","proposals"]);t.UncleBlock=$;const Q=h($);t.UncleBlockVec=Q;const G=d({header:K,uncles:Q,transactions:F,proposals:W},["header","uncles","transactions","proposals"]);t.Block=G;const X=d({header:K,uncles:Q,transactions:F,proposals:W,extension:m},["header","uncles","transactions","proposals","extension"]);t.BlockV1=X;const Y=d({lock:C,message:m},["lock","message"]);function J(e){return{raw:{version:e.version,cellDeps:e.cellDeps,headerDeps:e.headerDeps,inputs:e.inputs,outputs:e.outputs,outputsData:e.outputsData},witnesses:e.witnesses}}function Z(e){return{cellDeps:e.raw.cellDeps.map((e=>({outPoint:{txHash:e.outPoint.txHash,index:e.outPoint.index},depType:e.depType}))),headerDeps:e.raw.headerDeps,inputs:e.raw.inputs.map((e=>({previousOutput:{txHash:e.previousOutput.txHash,index:e.previousOutput.index},since:e.since}))),outputs:e.raw.outputs.map((e=>({capacity:e.capacity,lock:e.lock,type:e.type}))),outputsData:e.raw.outputsData,version:e.raw.version,witnesses:e.witnesses}}function ee(e){return{raw:{timestamp:e.timestamp,number:e.number,epoch:e.epoch,compactTarget:Number(e.compactTarget),dao:e.dao,parentHash:e.parentHash,proposalsHash:e.proposalsHash,transactionsRoot:e.transactionsRoot,extraHash:e.extraHash,version:e.version},nonce:e.nonce}}function te(e){return{timestamp:e.raw.timestamp,number:e.raw.number,epoch:e.raw.epoch,compactTarget:e.raw.compactTarget,dao:e.raw.dao,parentHash:e.raw.parentHash,proposalsHash:e.raw.proposalsHash,transactionsRoot:e.raw.transactionsRoot,extraHash:e.raw.extraHash,version:e.raw.version,nonce:e.nonce,hash:""}}t.CellbaseWitness=Y},52986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCellMatchQueryOptions=function(e,{lock:t,type:r,argsLen:s=-1,data:a="any",fromBlock:u,toBlock:c}){let f=null,l=null;t&&!o(t)?f={script:t,argsLen:s}:t&&(f=t,t.argsLen||(f.argsLen=s));r&&"empty"===r?l=r:r&&"object"==typeof r&&!o(r)?l={script:r,argsLen:s}:r&&"object"==typeof r&&o(r)&&(l=r,r.argsLen||(l.argsLen=s));if(f&&f.script&&-1===f.argsLen&&!new n.ScriptValue(e.cellOutput.lock,{validate:!1}).equals(new n.ScriptValue(f.script,{validate:!1})))return!1;if(f&&f.script&&"any"===f.argsLen){const t=e.cellOutput.lock;if(t.codeHash!==f.script.codeHash||t.hashType!==f.script.hashType||!t.args.startsWith(f.script.args))return!1}if(f&&f.script&&"number"==typeof f.argsLen&&f.argsLen>=0){const t=2*f.argsLen+2,r=f.script.args.length,n=Math.min(t,r),i=e.cellOutput.lock;if(i.args.length!==t)return!1;if(i.codeHash!==f.script.codeHash||i.hashType!==f.script.hashType||i.args.slice(0,n)!==f.script.args.slice(0,n))return!1}if(l&&"empty"===l&&e.cellOutput.type)return!1;if(l&&"object"==typeof l&&(!e.cellOutput.type||!new n.ScriptValue(e.cellOutput.type,{validate:!1}).equals(new n.ScriptValue(l.script,{validate:!1}))))return!1;if(a&&"any"!==a&&e.data!==a)return!1;if(u&&e.blockNumber&&i.BI.from(e.blockNumber).lt(i.BI.from(u)))return!1;if(c&&e.blockNumber&&i.BI.from(e.blockNumber).gt(i.BI.from(c)))return!1;return!0},t.isScriptWrapper=o;var n=r(48233),i=r(70071);function o(e){return null!==e&&void 0!==e.script}},60875:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={values:!0,utils:!0,since:!0,helpers:!0,indexer:!0,logger:!0,blockchain:!0};t.values=t.utils=t.since=t.logger=t.indexer=t.helpers=t.blockchain=void 0;var i=p(r(48233));t.values=i;var o=p(r(50646));t.utils=o;var s=p(r(58525));t.since=s;var a=p(r(52986));t.helpers=a;var u=p(r(26704));t.indexer=u,Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=p(r(72395));t.logger=c;var f=p(r(29365));t.blockchain=f;var l=r(46970);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var d=r(22495);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}))},26704:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TransactionCollector=t.Indexer=void 0;var n=r(32932),i=r(50646),o=r(52986);t.Indexer=class{};class s{constructor(e,{lock:t,type:r,argsLen:s=-1,fromBlock:a,toBlock:u,order:c="asc",skip:f}={},{skipMissing:l=!1,includeStatus:d=!0}={}){if(!(t||r&&"empty"!==r))throw new Error("Either lock or type script must be provided!");if(t&&!(0,o.isScriptWrapper)(t)?(n.validators.ValidateScript(t),this.lock={script:t,ioType:"both",argsLen:s}):t&&t.script&&(n.validators.ValidateScript(t.script),this.lock=t,t.argsLen||(this.lock.argsLen=s),t.ioType||(this.lock.ioType="both")),"empty"===r?this.type=r:r&&!(0,o.isScriptWrapper)(r)?(n.validators.ValidateScript(r),this.type={script:r,ioType:"both",argsLen:s}):r&&r.script&&(n.validators.ValidateScript(r.script),this.type=r,r.argsLen||(this.type.argsLen=s),r.ioType||(this.type.ioType="both")),a&&(0,i.assertHexadecimal)("fromBlock",a),u&&(0,i.assertHexadecimal)("toBlock",u),"asc"!==c&&"desc"!==c)throw new Error("Order must be either asc or desc!");this.indexer=e,this.skipMissing=l,this.includeStatus=d,this.fromBlock=a,this.toBlock=u,this.order=c,this.skip=f,this.rpc=e.rpc}async getTransactionHashes(){throw new Error("Not implement!")}async count(){return(await this.getTransactionHashes()).length}async*collect(){const e=await this.getTransactionHashes();for(const t of e){const e=await this.rpc.get_transaction(t);if(!this.skipMissing&&!e)throw new Error(`Transaction ${t} is missing!`);this.includeStatus?yield e:yield e.transaction}}}t.TransactionCollector=s;var a={TransactionCollector:s};t.default=a},72395:(e,t)=>{"use strict";function r(e,t){const r=`[${e}] ${t}`;return"error"===e||"warn"===e?console.warn(r):void console.log(`[${e}] ${t}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLogger=r,t.deprecated=function(e){r("deprecated",e)}},46970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},58525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAbsoluteEpochSince=a,t.generateHeaderEpoch=u,t.generateSince=o,t.maximumAbsoluteEpochSince=function(...e){const t=e.map((e=>c(e))),r=Math.max(...t.map((e=>e.number))),i=t.filter((e=>e.number===r));let o=i[0];for(let e=1;e<i.length;++e){const t=i[e];n.BI.from(t.index).mul(o.length).gte(n.BI.from(o.index).mul(t.length))&&(o=t)}return a(o)},t.parseAbsoluteEpochSince=c,t.parseEpoch=s,t.parseSince=function(e){const t=i(e);return"epochNumber"===t.type?t:{...t,value:t.value.toBigInt()}},t.parseSinceCompatible=i,t.validateAbsoluteEpochSince=f,t.validateSince=function(e,t,r){const{relative:o,type:a,value:u}=i(e);if(o){if("epochNumber"===a){const e=s(t.epoch),i=s(r.epoch),o={number:n.BI.from(u.number).add(i.number),index:n.BI.from(u.index).mul(i.length).add(n.BI.from(i.index).mul(u.length)),length:n.BI.from(u.length).mul(i.length)};return 0===u.length&&0!==i.length?(o.index=n.BI.from(i.index),o.length=n.BI.from(i.length)):0===i.length&&0!==u.length&&(o.index=n.BI.from(u.index),o.length=n.BI.from(u.length)),!n.BI.from(o.length).eq(0)&&n.BI.from(o.index).gte(o.length)&&(o.number=o.index.div(o.length).add(o.number),o.index=o.index.mod(o.length)),n.BI.from(o.number).lt(e.number)||n.BI.from(o.number).eq(e.number)&&n.BI.from(o.index).mul(e.length).lte(n.BI.from(e.index).mul(o.length))}if("blockNumber"===a)return n.BI.from(u).add(r.blockNumber).lte(t.blockNumber);if("blockTimestamp"===a){if(!t.median_timestamp||!r.median_timestamp)throw new Error("Must provide median_timestamp!");return n.BI.from(u).mul(1e3).add(r.median_timestamp).lte(t.median_timestamp)}}else{if("epochNumber"===a)return f(e,t.epoch);if("blockNumber"===a)return n.BI.from(u).lte(t.blockNumber);if("blockTimestamp"===a){if(!t.median_timestamp)throw new Error("Must provide tip median_timestamp!");return n.BI.from(u).mul(1e3).lte(t.median_timestamp)}}return!1};var n=r(70071);function i(e){const t=n.BI.from(e),r=t.shr(56),i=r.shr(5).and("0b11");let o,s;if(i.eq(0))o="blockNumber",s=t.and("0xFFFFFFFFFFFFFF");else if(i.eq(1))o="epochNumber",s={length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()};else{if(!i.eq(2))throw new Error("Invalid metric flag!");o="blockTimestamp",s=t.and("0xFFFFFFFFFFFFFF")}return{relative:!r.and("0x80").eq(0),type:o,value:s}}function o({relative:e,type:t,value:r}){let i,o=n.BI.from(0);return e&&(o=o.add(128)),"epochNumber"===t?o=o.add(32):"blockTimestamp"===t&&(o=o.add(64)),i=(0,n.isBIish)(r)?n.BI.from(r):"object"==typeof r?u(r):n.BI.from(r),l(o.shl(56).add(i))}function s(e){const t=n.BI.from(e);return{length:t.shr(40).and(65535).toNumber(),index:t.shr(24).and(65535).toNumber(),number:t.and(16777215).toNumber()}}function a({length:e,index:t,number:r}){return o({relative:!1,type:"epochNumber",value:{length:e,index:t,number:r}})}function u({length:e,index:t,number:r}){return l(n.BI.from(e).shl(40).add(n.BI.from(t).shl(24)).add(r))}function c(e){const{relative:t,type:r,value:n}=i(e);if(!1!==t||"epochNumber"!==r)throw new Error("Since format error!");return n}function f(e,t){const r=i(e).value,o=s(t);return n.BI.from(r.number).lt(o.number)||n.BI.from(r.number).eq(o.number)&&n.BI.from(r.index).mul(o.length).lte(n.BI.from(o.index).mul(r.length))}function l(e){return"0x"+e.toString(16)}},50646:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.CKBHasher=void 0,t.assertHexString=function(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)},t.assertHexadecimal=E,t.ckbHash=g,t.computeScriptHash=function(e){return g(c.Script.pack(e))},t.deepCamel=k,t.deepCamelizeTransaction=function(e){return I(k(e))},t.generateTypeIdScript=function(e,t="0x0"){c.CellInput.pack(e),E("outputIndex",t);const r=function(e,t){const r=c.CellInput.pack(e),n=a.bytes.hexify(a.number.Uint64LE.pack(t)),i=new y;return i.update(r),i.update(n),i.digestHex()}(e,t);return{codeHash:A,hashType:"type",args:r}},t.hashCode=function(e){return(0,s.xxHash32)(e,0)},t.isDeepEqual=function(e,t){return(0,o.default)(e,t)},t.readBigUInt128LE=function(e){return S(e).toBigInt()},t.readBigUInt128LECompatible=S,t.readBigUInt64LE=function(e){return m(e).toBigInt()},t.readBigUInt64LECompatible=m,t.toBigUInt128LE=function(e){return w(e)},t.toBigUInt128LECompatible=w,t.toBigUInt64LE=function(e){return b(e)},t.toBigUInt64LECompatible=b;var i=l(r(72206)),o=l(r(8142)),s=r(52290),a=r(30464),u=r(70071),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(29365));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function l(e){return e&&e.__esModule?e:{default:e}}const{bytify:d,hexify:h,bytifyRawString:p}=a.bytes;class y{constructor(e={}){const{outLength:t=32}=e;this.outLength=t,this.hasher=(0,i.default)(t,void 0,void 0,p("ckb-default-hash"))}update(e){return this.hasher.update(d(e)),this}digestHex(){const e=new Uint8Array(this.outLength);return this.hasher.digest(e),h(e.buffer)}}function g(e){const t=new y;return t.update(a.bytes.bytify(e)),t.digestHex()}function b(e){e=u.BI.from(e);const t=n.alloc(8);return t.writeUInt32LE(e.and("0xffffffff").toNumber(),0),e=e.shr(32),t.writeUInt32LE(e.and("0xffffffff").toNumber(),4),`0x${t.toString("hex")}`}function m(e){const t=n.from(e.slice(2),"hex");return u.BI.from(t.readUInt32LE()).add(u.BI.from(t.readUInt32LE(4)).shl(32))}t.CKBHasher=y;const v=u.BI.from(0),_=u.BI.from("340282366920938463463374607431768211455");function w(e){if((e=u.BI.from(e)).lt(v))throw new Error(`u128 ${e} too small`);if(e.gt(_))throw new Error(`u128 ${e} too large`);const t=n.alloc(16);return t.writeUInt32LE(e.and(4294967295).toNumber(),0),e=e.shr(32),t.writeUInt32LE(e.and(4294967295).toNumber(),4),e=e.shr(32),t.writeUInt32LE(e.and(4294967295).toNumber(),8),e=e.shr(32),t.writeUInt32LE(e.and(4294967295).toNumber(),12),`0x${t.toString("hex")}`}function S(e){if(e.length<34||!e.startsWith("0x"))throw new Error("leHex format error");const t=n.from(e.slice(2,34),"hex");return u.BI.from(t.readUInt32LE(0)).shl(0).add(u.BI.from(t.readUInt32LE(4)).shl(32)).add(u.BI.from(t.readUInt32LE(8)).shl(64)).add(u.BI.from(t.readUInt32LE(12)).shl(96))}function E(e,t){if(!/^0x(0|[0-9a-fA-F]+)$/.test(t))throw new Error(`${e} must be a hexadecimal!`)}const A="0x00000000000000000000000000000000000000000000000000545950455f4944";function x(e){return e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_","")))}function k(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>k(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[x(r)]=k(n):t[x(r)]=n}return t}return e}function I(e){if("[object Array]"===Object.prototype.toString.call(e))return 0===e.length?e:e.map((e=>I(e)));const t={};if("[object Object]"===Object.prototype.toString.call(e)){for(const r in e){const n=e[r];"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?t[r]=I(n):t[r]="dep_group"===n?"depGroup":n}return t}return e}},48233:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionValue=t.ScriptValue=t.RawTransactionValue=t.OutPointValue=void 0;var i=r(52290),o=r(50646),s=r(30464),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(29365));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}const{hexify:c}=s.bytes;class f{constructor(e){this.buffer=e}equals(e){return c(this.buffer)===c(e.buffer)}hashCode(){return(0,i.xxHash32)(n.from(this.buffer),0)}hash(){return(0,o.ckbHash)(this.buffer)}}t.ScriptValue=class extends f{constructor(e,t={}){super(a.Script.pack(e))}};t.OutPointValue=class extends f{constructor(e,t={}){super(a.OutPoint.pack(e))}};t.RawTransactionValue=class extends f{constructor(e,t={}){super(a.RawTransaction.pack(e))}};t.TransactionValue=class extends f{constructor(e,t={}){super(a.Transaction.pack(e))}}},70071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ckbDecimals=t.BI=void 0,t.formatUnit=function(e,t){const r=d(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");const r="1"+Array(t).fill("0").join("");e=s.from(e);const n=e.isNegative();n&&(e=e.mul(l));const i=e.div(r).toString();let o=i;if(r.length>1){let t=e.mod(r).toString();for(;t.length<r.length-1;)t="0"+t;t=t.match(/^([0-9]*[1-9]|0)(0*)/)[1],o+="."+t}n&&(o="-"+o);return o}(e,r)},t.isBIish=o,t.parseUnit=function(e,t){const r=d(t);return function(e,t){if(!h(t))throw new Error("decimal size must be a non-negative integer");if(!e.match(/^-?\d+(\.\d{1,})?$/))throw new Error("invalid decimal string");const r="1"+Array(t).fill("0").join(""),n="-"===e.substring(0,1);n&&(e=e.substring(1));let i,o;const a=e.split(".");if(1===a.length)i=a[0],o="0";else{if(2!==a.length)throw new Error("too many decimal points (should not happen)");i=a[0],o=a[1]}for(;i.length>0&&"0"===i[0];)i=i.substring(1);""===i&&(i="0");for(;o.length>0&&"0"===o[o.length-1];)o=o.substring(0,o.length-1);if(o.length>r.length-1)throw new Error("decimal part exceeds max decimals");""===o&&(o="0");for(;o.length<r.length-1;)o+="0";const u=s.from(i),c=s.from(o);let f=u.mul(r).add(c);n&&(f=f.mul(l));return f}(e,r)},t.toJSBI=u;var n,i=(n=r(75951))&&n.__esModule?n:{default:n};function o(e){return null!==e&&("number"==typeof e&&e%1==0||"string"==typeof e&&(!!e.match(/^0x(0|[0-9a-fA-F]+)$/)||!!e.match(/^-?[0-9]+$/))||"bigint"==typeof e||s.isBI(e))}class s{constructor(e){this.jsbi=e,this._isBI=!0}add(e){return a(i.default.add(this.jsbi,u(e)))}sub(e){return a(i.default.subtract(this.jsbi,u(e)))}div(e){return a(i.default.divide(this.jsbi,u(e)))}mul(e){return a(i.default.multiply(this.jsbi,u(e)))}mod(e){return a(i.default.remainder(this.jsbi,u(e)))}abs(){return i.default.greaterThanOrEqual(this.jsbi,u(0))?a(this.jsbi):a(i.default.unaryMinus(this.jsbi))}pow(e){return a(i.default.exponentiate(this.jsbi,u(e)))}and(e){return a(i.default.bitwiseAnd(this.jsbi,u(e)))}or(e){return a(i.default.bitwiseOr(this.jsbi,u(e)))}xor(e){return a(i.default.bitwiseXor(this.jsbi,u(e)))}not(){return a(i.default.bitwiseNot(this.jsbi))}mask(e){const t=u(e);if(i.default.lessThan(t,u(0))||i.default.lessThan(this.jsbi,u(0)))throw new Error("mask works only with positive numbers");const r=u(this.jsbi.toString(2).length);if(i.default.lessThanOrEqual(r,t))return a(this.jsbi);{const e=i.default.leftShift(i.default.signedRightShift(this.jsbi,t),t);return a(i.default.bitwiseXor(this.jsbi,e))}}shl(e){return a(i.default.leftShift(this.jsbi,u(e)))}shr(e){return a(i.default.signedRightShift(this.jsbi,u(e)))}eq(e){return i.default.equal(this.jsbi,u(e))}lt(e){return i.default.lessThan(this.jsbi,u(e))}lte(e){return i.default.lessThanOrEqual(this.jsbi,u(e))}gt(e){return i.default.greaterThan(this.jsbi,u(e))}gte(e){return i.default.greaterThanOrEqual(this.jsbi,u(e))}isNegative(){return i.default.lessThan(this.jsbi,u(0))}isZero(){return i.default.equal(this.jsbi,u(0))}toNumber(){return i.default.toNumber(this.jsbi)}toBigInt(){try{return BigInt(this.jsbi.toString(10))}catch(e){throw new Error("this platform does not support BigInt")}}toString(e){return e=e||10,this.jsbi.toString(e)}toHexString(){return i.default.lessThan(this.jsbi,u(0))?"-0x"+i.default.unaryMinus(this.jsbi).toString(16):"0x"+this.jsbi.toString(16)}static from(e){if(e instanceof s)return e;if(o(e))return a(u(e));if(e instanceof i.default)return a(u(e.toString()));throw new Error(`invalid type: ${e} can't be converted into BI`)}static isBI(e){return function(e){return null!=e&&"object"==typeof e}(e)&&!!e._isBI}}function a(e){return new s(e)}function u(e){return"number"==typeof e||"string"==typeof e?i.default.BigInt(e):i.default.BigInt(e.toString())}t.BI=s;const c=["shannon","ckb"],f=8;t.ckbDecimals=f;const l=s.from(-1);function d(e){let t=0;if("string"==typeof e){if(-1===c.indexOf(e))throw new Error(`invalid unit name, supported names are ${c.join(", ")}`);"ckb"===e&&(t=f)}else{if(!h(e))throw new Error("unit of integer must be a non-negative integer");t=e}return t}function h(e){return Number.isInteger(e)&&e>=0}},41055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createBytesCodec=o,t.createFixedBytesCodec=function(e){const t=e.byteLength;return{__isFixedCodec__:!0,byteLength:t,...o({pack:r=>{const i=e.pack(r);return(0,n.assertBufferLength)(i,t),i},unpack:r=>((0,n.assertBufferLength)(r,t),e.unpack(r))})}},t.isFixedCodec=function(e){return(0,n.isObjectLike)(e)&&!!e.__isFixedCodec__};var n=r(28921),i=r(53971);function o(e){return{pack:t=>e.pack(t),unpack:t=>e.unpack((0,i.bytify)(t))}}},53971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytify=c,t.bytifyRawString=function(e){(0,n.assertUtf8String)(e);const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);r.setUint8(t,n)}return new Uint8Array(t)},t.concat=function(...e){const t=e.map(c),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);let i=0;return t.forEach((e=>{n.set(e,i),i+=e.length})),n},t.equal=function(e,t){const r=c(e),n=c(t);return function(e,t){if(e.length!==t.length)return!1;for(let r=e.length;-1<r;r-=1)if(e[r]!==t[r])return!1;return!0}(r,n)},t.hexify=function(e){let t="";const r=c(e);for(let e=0;e<r.length;e++)t+=f[r[e]];return"0x"+t};var n=r(28921);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0);function c(e){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return Uint8Array.from(e);if("string"==typeof e)return function(e){(0,n.assertHexString)(e);const t=Uint8Array.from({length:e.length/2-1});for(let r=2,n=0;r<e.length;r+=2,n++){const c=e.charCodeAt(r),f=e.charCodeAt(r+1),l=c<=o?c-i:c<=a?c-s+10:c-u+10,d=f<=o?f-i:f<=a?f-s+10:f-u+10;t[n]=l<<4|d}return t}(e);if(Array.isArray(e))return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(r<0||r>255||!Number.isInteger(r))throw new Error("invalid ArrayLike, all elements must be 0-255")}return Uint8Array.from(e)}(e);throw new Error(`Cannot convert ${e}`)}const f=Array.from({length:256}).map(((e,t)=>t.toString(16).padStart(2,"0")))},80754:(e,t)=>{"use strict";function r(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.CodecExecuteError=t.CodecBaseParseError=t.CODEC_OPTIONAL_PATH=void 0,t.isCodecExecuteError=function(e){return e instanceof Error&&e.name===o};const n="__lc_option__";t.CODEC_OPTIONAL_PATH=n;class i extends Error{constructor(e,t){super(e),this.expectedType=t}}t.CodecBaseParseError=i;const o="CodecExecuteError";class s extends Error{constructor(e){super(),r(this,"name",o),r(this,"keys",[]),this.origin=e}updateKey(e){this.keys.push(e),this.message=this.getPackErrorMessage()}getPackErrorMessage(){var e;const t=this.keys.reduceRight(((e,t,r)=>e+(t=t===n?0===r?"?":"?.":"number"==typeof t?`[${t}]`:`.${t}`)),"input");return`Expect type ${this.origin.expectedType} at ${t} but got error: ${this.origin.message}\n    ${null===(e=this.origin.stack)||void 0===e?void 0:e.replace(/Error:.+?\n/,"")}\n    `}}t.CodecExecuteError=s},96296:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createArrayCodec",{enumerable:!0,get:function(){return n.createArrayCodec}}),Object.defineProperty(t,"createNullableCodec",{enumerable:!0,get:function(){return n.createNullableCodec}}),Object.defineProperty(t,"createObjectCodec",{enumerable:!0,get:function(){return n.createObjectCodec}}),Object.defineProperty(t,"enhancePack",{enumerable:!0,get:function(){return n.enhancePack}});var n=r(4893)},4893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayCodec=function(e){return{pack:t=>t.map(((t,r)=>(0,n.trackCodeExecuteError)(r,(()=>e.pack(t))))),unpack:t=>t.map((t=>e.unpack(t)))}},t.createNullableCodec=function(e){return{pack:t=>null==t?t:(0,n.trackCodeExecuteError)(i.CODEC_OPTIONAL_PATH,(()=>e.pack(t))),unpack:t=>null==t?t:e.unpack(t)}},t.createObjectCodec=function(e){const t=Object.entries(e);return{pack:e=>{const r={};return t.forEach((([t,i])=>{Object.assign(r,{[t]:(0,n.trackCodeExecuteError)(t,(()=>i.pack(e[t])))})})),r},unpack:e=>{const r={};return t.forEach((([t,n])=>{Object.assign(r,{[t]:n.unpack(e[t])})})),r}}},t.enhancePack=function(e,t,r){return{pack:r=>t(e.pack(r)),unpack:t=>e.unpack(r(t))}};var n=r(28921),i=r(80754)},30464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={createBytesCodec:!0,createFixedBytesCodec:!0,isFixedCodec:!0,bytes:!0,number:!0,molecule:!0};t.bytes=void 0,Object.defineProperty(t,"createBytesCodec",{enumerable:!0,get:function(){return i.createBytesCodec}}),Object.defineProperty(t,"createFixedBytesCodec",{enumerable:!0,get:function(){return i.createFixedBytesCodec}}),Object.defineProperty(t,"isFixedCodec",{enumerable:!0,get:function(){return i.isFixedCodec}}),t.number=t.molecule=void 0;var i=r(41055),o=r(96296);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var s=f(r(53971));t.bytes=s;var a=f(r(632));t.number=a;var u=f(r(95901));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.molecule=u},32989:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteArrayOf=a,t.byteOf=function(e){return a({...e,byteLength:1})},t.byteVecOf=function(e){return(0,o.createBytesCodec)({pack(t){const r=e.pack(t),n=s.Uint32LE.pack(r.byteLength);return(0,i.concat)(n,r)},unpack(t){(0,n.assertMinBufferLength)(t,4);const r=s.Uint32LE.unpack(t.slice(0,4));return(0,n.assertBufferLength)(t.slice(4),r),e.unpack(t.slice(4))}})};var n=r(28921),i=r(53971),o=r(41055),s=r(632);function a(e){const t=e.byteLength;return(0,o.createFixedBytesCodec)({byteLength:t,pack:t=>e.pack(t),unpack:t=>e.unpack(t)})}},95901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"array",{enumerable:!0,get:function(){return i.array}}),Object.defineProperty(t,"byteArrayOf",{enumerable:!0,get:function(){return n.byteArrayOf}}),Object.defineProperty(t,"byteOf",{enumerable:!0,get:function(){return n.byteOf}}),Object.defineProperty(t,"byteVecOf",{enumerable:!0,get:function(){return n.byteVecOf}}),Object.defineProperty(t,"option",{enumerable:!0,get:function(){return i.option}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return i.struct}}),Object.defineProperty(t,"table",{enumerable:!0,get:function(){return i.table}}),Object.defineProperty(t,"union",{enumerable:!0,get:function(){return i.union}}),Object.defineProperty(t,"vector",{enumerable:!0,get:function(){return i.vector}});var n=r(32989),i=r(11263)},11263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.array=u,t.dynvec=d,t.fixvec=l,t.option=function(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createNullableCodec)(e);return null!=t?r.pack(t):Uint8Array.from([])},unpack(t){if(0!==t.byteLength)return e.unpack(t)}})},t.struct=function(e,t){f(e,t);const r=(0,a.createObjectCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:t.reduce(((t,r)=>t+e[r].byteLength),0),pack(e){const n=r.pack(e);return t.reduce(((e,t)=>(0,o.concat)(e,n[t])),Uint8Array.from([]))},unpack(r){const n={};let i=0;return t.forEach((t=>{const o=e[t],s=r.slice(i,i+o.byteLength);Object.assign(n,{[t]:o.unpack(s)}),i+=o.byteLength})),n}})},t.table=function(e,t){return f(e,t),(0,n.createBytesCodec)({pack(r){const n=4+4*t.length,s=(0,a.createObjectCodec)(e).pack(r),u=t.reduce(((e,t)=>{const r=s[t],n=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,n),body:(0,o.concat)(e.body,r),offset:e.offset+r.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:n}),c=i.Uint32LE.pack(u.header.byteLength+u.body.byteLength+4);return(0,o.concat)(c,u.header,u.body)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4));if(n!==r.byteLength)throw new Error(`Invalid buffer size, read from header: ${n}, actual: ${r.byteLength}`);if(n<=4||0===t.length)return{};{const o=t.map(((e,t)=>i.Uint32LE.unpack(r.slice(4+4*t,8+4*t))));o.push(n);const s={};for(let n=0;n<o.length-1;n++){const i=o[n],a=o[n+1],u=t[n],c=e[u],f=r.slice(i,a);Object.assign(s,{[u]:c.unpack(f)})}return s}}})},t.union=function(e,t){if(f(e,Array.isArray(t)?t:Object.keys(t)),!Array.isArray(t)){const e=Object.values(t);if(e.length!==new Set(e).size)throw new Error(`Duplicated id in union: ${e.join(", ")}`)}return(0,n.createBytesCodec)({pack(r){const n=Object.keys(e),a=r.type,u=`Union(${n.join(" | ")})`;if("string"!=typeof a)throw new s.CodecBaseParseError("Invalid type in union, type must be a string",u);const c=Array.isArray(t)?t.indexOf(a):t[a];if(c<0)throw new s.CodecBaseParseError(`Unknown union type: ${String(r.type)}`,u);const f=i.Uint32LE.pack(c),l=e[a].pack(r.value);return(0,o.concat)(f,l)},unpack(r){const n=i.Uint32LE.unpack(r.slice(0,4)),o=(()=>{if(Array.isArray(t))return t[n];const e=Object.entries(t).find((([,e])=>e===n));return null==e?void 0:e[0]})();if(!o)throw new Error(`Unknown union field id: ${n}, only ${t} are allowed`);return{type:o,value:e[o].unpack(r.slice(4))}}})},t.vector=function(e){if((0,n.isFixedCodec)(e))return l(e);return d(e)};var n=r(41055),i=r(632),o=r(53971),s=r(80754),a=r(96296);function u(e,t){const r=(0,a.createArrayCodec)(e);return(0,n.createFixedBytesCodec)({byteLength:e.byteLength*t,pack(e){const t=r.pack(e);return(0,o.concat)(...t)},unpack(t){const r=[],n=e.byteLength;for(let i=0;i<t.byteLength;i+=n)r.push(e.unpack(t.slice(i,i+n)));return r}})}function c(e,t){return e.filter((e=>!t.includes(e)))}function f(e,t){const r=Object.keys(e),n=c(r,t),i=c(t,r);if(n.length>0||i.length>0)throw new Error(`Invalid shape: missing fields ${n.join(", ")} or shape ${i.join(", ")}`)}function l(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createArrayCodec)(e);return(0,o.concat)(i.Uint32LE.pack(t.length),r.pack(t).reduce(((e,t)=>(0,o.concat)(e,t)),new ArrayBuffer(0)))},unpack(t){if(t.byteLength<4)throw new Error(`fixvec: buffer is too short, expected at least 4 bytes, got ${t.byteLength}`);const r=i.Uint32LE.unpack(t.slice(0,4));return u(e,r).unpack(t.slice(4))}})}function d(e){return(0,n.createBytesCodec)({pack(t){const r=(0,a.createArrayCodec)(e).pack(t).reduce(((e,t)=>{const r=i.Uint32LE.pack(e.offset);return{header:(0,o.concat)(e.header,r),body:(0,o.concat)(e.body,t),offset:e.offset+t.byteLength}}),{header:new ArrayBuffer(0),body:new ArrayBuffer(0),offset:4+4*t.length}),n=i.Uint32LE.pack(r.header.byteLength+r.body.byteLength+4);return(0,o.concat)(n,r.header,r.body)},unpack(t){const r=i.Uint32LE.unpack(t.slice(0,4));if(r!==t.byteLength)throw new Error(`Invalid buffer size, read from header: ${r}, actual: ${t.byteLength}`);if(r<=4)return[];{const n=i.Uint32LE.unpack(t.slice(4,8)),o=new Array((n-4)/4).fill(1).map(((e,r)=>i.Uint32LE.unpack(t.slice(4+4*r,8+4*r))));o.push(r);const s=[];for(let r=0;r<o.length-1;r++){const n=o[r],i=o[r+1],a=t.slice(n,i);s.push(e.unpack(a))}return s}}})}},632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21290);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},21290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BI",{enumerable:!0,get:function(){return n.BI}}),Object.defineProperty(t,"BIish",{enumerable:!0,get:function(){return n.BIish}}),t.Uint8=t.Uint64LE=t.Uint64BE=t.Uint64=t.Uint512LE=t.Uint512BE=t.Uint512=t.Uint32LE=t.Uint32BE=t.Uint32=t.Uint256LE=t.Uint256BE=t.Uint256=t.Uint16LE=t.Uint16BE=t.Uint16=t.Uint128LE=t.Uint128BE=t.Uint128=void 0;var n=r(70071),i=r(41055),o=r(80754);function s(e,t=!1){const r=a(e,t);return{__isFixedCodec__:!0,byteLength:e,pack:e=>r.pack(e),unpack:e=>r.unpack(e).toNumber()}}const a=(e,t=!1)=>{const r=n.BI.from(1).shl(8*e).sub(1);return(0,i.createFixedBytesCodec)({byteLength:e,pack(i){let s=t?"LE":"BE";e<=1&&(s="");const a=`Uint${8*e}${s}`;if("number"==typeof i&&!Number.isSafeInteger(i))throw new o.CodecBaseParseError(`${i} is not a safe integer`,a);let u=n.BI.from(i);!function(e,t,r,i){if((e=n.BI.from(e)).lt(t)||e.gt(r))throw new o.CodecBaseParseError(`Value must be between ${t.toString()} and ${r.toString()}, but got ${e.toString()}`,i)}(u,0,r,a);const c=new DataView(new ArrayBuffer(e));for(let r=0;r<e;r++)t?c.setUint8(r,u.and(255).toNumber()):c.setUint8(e-r-1,u.and(255).toNumber()),u=u.shr(8);return new Uint8Array(c.buffer)},unpack:r=>{const i=new DataView(Uint8Array.from(r).buffer);let o=n.BI.from(0);for(let r=0;r<e;r++)o=t?o.or(n.BI.from(i.getUint8(r)).shl(8*r)):o.shl(8).or(i.getUint8(r));return o}})},u=s(1);t.Uint8=u;const c=s(2,!0);t.Uint16LE=c;const f=s(2);t.Uint16BE=f;const l=c;t.Uint16=l;const d=s(4,!0);t.Uint32LE=d;const h=s(4);t.Uint32BE=h;const p=d;t.Uint32=p;const y=a(8,!0);t.Uint64LE=y;const g=a(8);t.Uint64BE=g;const b=y;t.Uint64=b;const m=a(16,!0);t.Uint128LE=m;const v=a(16);t.Uint128BE=v;const _=m;t.Uint128=_;const w=a(32,!0);t.Uint256LE=w;const S=a(32);t.Uint256BE=S;const E=w;t.Uint256=E;const A=a(64,!0);t.Uint512LE=A;const x=a(64);t.Uint512BE=x;const k=A;t.Uint512=k},28921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertBufferLength=function(e,t){if(e.byteLength!==t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be ${t}`)},t.assertHexDecimal=function(e,t){if(f(e),2===e.length)throw new Error("Invalid hex decimal length, should be at least 1 character, the '0x' is incorrect, should be '0x0'");const r=e.length;if("number"==typeof t&&r>2*t+2)throw new Error(`Invalid hex decimal length, should be less than ${t} bytes, got ${r/2-1} bytes`);l(e)},t.assertHexString=function(e,t){f(e);const r=e.length;if(r%2)throw new Error("Invalid hex string length, must be even!");if("number"==typeof t&&r!==2*t+2)throw new Error("Invalid hex string length, not match with byteLength!");l(e)},t.assertMinBufferLength=function(e,t){if(e.byteLength<t)throw new Error(`Invalid buffer length: ${e.byteLength}, should be at least ${t}`)},t.assertUtf8String=function(e){for(let t=0;t<e.length;t++){if(e.charCodeAt(t)>255)throw new Error("Invalid UTF-8 raw string!")}},t.isObjectLike=function(e){return!!e&&"object"==typeof e},t.trackCodeExecuteError=function(e,t){try{return t()}catch(t){const r=(0,n.isCodecExecuteError)(t)?t:new n.CodecExecuteError(t);throw r.updateKey(e),r}};var n=r(80754);const i="0".charCodeAt(0),o="9".charCodeAt(0),s="A".charCodeAt(0),a="F".charCodeAt(0),u="a".charCodeAt(0),c="f".charCodeAt(0);function f(e){if(!e||!e.startsWith("0x"))throw new Error("Invalid hex string")}function l(e){const t=e.length;for(let r=2;r<t;r++){const t=e[r].charCodeAt(0);if(!(t>=i&&t<=o||t>=u&&t<=c||t>=s&&t<=a))throw new Error(`Invalid hex character ${e[r]} in the string ${e}`)}}},32932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Reader",{enumerable:!0,get:function(){return n.Reader}}),t.validators=t.transformers=t.normalizers=t.VERSION=void 0;var n=r(72837),i=u(r(82356));t.normalizers=i;var o=u(r(5950));t.transformers=o;var s=u(r(1957));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}t.validators=s;t.VERSION="__development_build__"},82356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NormalizeBlock=function(e,{debugPath:t="block"}={}){return a(t,e,{header:f(m),uncles:p(f(v)),transactions:p(f(g)),proposals:p(s(10))})},t.NormalizeCellDep=h,t.NormalizeCellInput=l,t.NormalizeCellOutput=d,t.NormalizeCellbaseWitness=function(e,{debugPath:t="cellbase_witness"}={}){return a(t,e,{lock:f(u),message:s(-1)})},t.NormalizeHeader=m,t.NormalizeOutPoint=c,t.NormalizeRawHeader=b,t.NormalizeRawTransaction=y,t.NormalizeScript=u,t.NormalizeTransaction=g,t.NormalizeUncleBlock=v,t.NormalizeWitnessArgs=function(e,{debugPath:t="witness_args"}={}){const r={};e.lock&&(r.lock=s(-1)(`${t}.lock`,e.lock));e.inputType&&(r.inputType=s(-1)(`${t}.inputType`,e.inputType));e.outputType&&(r.outputType=s(-1)(`${t}.outputType`,e.outputType));return r};var n=r(70071),i=r(72837);function o(e){return function(t,r){if(!(r instanceof ArrayBuffer)){let i=n.BI.from(r).toString(16);if(i.length%2!=0&&(i="0"+i),i.length/2>e)throw new Error(`${t} is ${i.length/2} bytes long, expected length is ${e}!`);const o=new DataView(new ArrayBuffer(e));for(let e=0;e<i.length/2;e++){const t=i.length-2*(e+1);o.setUint8(e,parseInt(i.substr(t,2),16))}r=o.buffer}if(r.byteLength<e){const t=new Uint8Array(e);t.set(new Uint8Array(r),0),r=t.buffer}return r}}function s(e){return function(t,r){if(r=new i.Reader(r).toArrayBuffer(),e>0&&r.byteLength!==e)throw new Error(`${t} has invalid length ${r.byteLength}, required: ${e}`);return r}}function a(e,t,r){const n={};for(const[i,o]of Object.entries(r)){const r=t[i];if(null==r)throw new Error(`${e} is missing ${i}!`);n[i]=o(`${e}.${i}`,r)}return n}function u(e,{debugPath:t="script"}={}){return a(t,e,{codeHash:s(32),hashType:function(e,t){switch(t){case"data":return 0;case"type":return 1;case"data1":return 2;case"data2":return 4;case 0:case 1:case 2:case 4:return t;default:throw new Error(`${e}.hashType has invalid value: ${t}`)}},args:s(-1)})}function c(e,{debugPath:t="outPoint"}={}){return a(t,e,{txHash:s(32),index:o(4)})}function f(e){return function(t,r){return e(r,{debugPath:t})}}function l(e,{debugPath:t="cell_input"}={}){return a(t,e,{since:o(8),previousOutput:f(c)})}function d(e,{debugPath:t="cellOutput"}={}){const r=a(t,e,{capacity:o(8),lock:f(u)});return e.type&&(r.type_=u(e.type,{debugPath:`${t}.type`})),r}function h(e,{debugPath:t="cell_dep"}={}){return a(t,e,{outPoint:f(c),depType:function(e,t){switch(t){case"code":return 0;case"depGroup":return 1;case 0:case 1:return t;default:throw new Error(`${e}.depType has invalid value: ${t}`)}}})}function p(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function y(e,{debugPath:t="raw_transaction"}={}){return a(t,e,{version:o(4),cellDeps:p(f(h)),headerDeps:p(s(32)),inputs:p(f(l)),outputs:p(f(d)),outputsData:p(s(-1))})}function g(e,{debugPath:t="transaction"}={}){const r=y(e,{debugPath:`(raw)${t}`}),n=a(t,e,{witnesses:p(s(-1))});return n.raw=r,n}function b(e,{debugPath:t="raw_header"}={}){return a(t,e,{version:o(4),compactTarget:o(4),timestamp:o(8),number:o(8),epoch:o(8),parentHash:s(32),transactionsRoot:s(32),proposalsHash:s(32),extraHash:s(32),dao:s(32)})}function m(e,{debugPath:t="header"}={}){const r=b(e,{debugPath:`(raw)${t}`}),n=a(t,e,{nonce:o(16)});return n.raw=r,n}function v(e,{debugPath:t="uncle_block"}={}){return a(t,e,{header:f(m),proposals:p(s(10))})}},72837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Reader=void 0;class r{constructor(){this.__isByteLikeReader__=!0}static isReader(e){return null!=e&&(e instanceof r||!0===e.__isByteLikeReader__)}}class n extends r{constructor(e){super(),this.view=new DataView(e)}length(){return this.view.byteLength}indexAt(e){return this.view.getUint8(e)}toArrayBuffer(){return this.view.buffer}serializeJson(){return"0x"+Array.prototype.map.call(new Uint8Array(this.view.buffer),(e=>("00"+e.toString(16)).slice(-2))).join("")}}class i extends r{constructor(e){super(),this.string=e}length(){return this.string.length/2-1}indexAt(e){return parseInt(this.string.substr(2+2*e,2),16)}toArrayBuffer(){const e=new ArrayBuffer(this.length()),t=new DataView(e);for(let e=0;e<this.length();e++)t.setUint8(e,this.indexAt(e));return e}serializeJson(){return this.string}}class o extends r{constructor(e){if(super(),e instanceof i||e instanceof n)return e;if("string"==typeof e){if(!e.startsWith("0x")||e.length%2!=0)throw new Error("Hex string must start with 0x, and has even numbered length!");return new i(e)}if(e instanceof ArrayBuffer)return new n(e);if(e instanceof Uint8Array)return new n(Uint8Array.from(e).buffer);throw new Error("Reader can only accept hex string or ArrayBuffer!")}static from(e){return new o(e)}static fromRawString(e){const t=new ArrayBuffer(e.length),r=new DataView(t);for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>255)throw new Error("fromRawString can only accept UTF-8 raw string!");r.setUint8(t,n)}return new n(t)}}t.Reader=o},5950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformBlock=function(e,{validation:t=!0,debugPath:r="block"}={}){e=s(r,e,{header:c(y),uncles:h(c(g)),transactions:h(c(p)),proposals:h(o)}),t&&n.ValidateBlock(e,{debugPath:`(transformed) ${r}`});return e},t.TransformCellInput=f,t.TransformCellOutput=l,t.TransformCellbaseWitness=function(e,{validation:t=!0,debugPath:r="cellbase_witness"}={}){e=s(r,e,{lock:c(a),message:o}),t&&n.ValidateCellbaseWitness(e,{debugPath:`(transformed) ${r}`});return e},t.TransformHeader=y,t.TransformOutPoint=u,t.TransformRawHeader=function(e,{validation:t=!0,debugPath:r="raw_header"}={}){e=s(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o}),t&&n.ValidateRawHeader(e,{debugPath:`(transformed) ${r}`});return e},t.TransformRawTransaction=function(e,{validation:t=!0,debugPath:r="raw_transaction"}={}){e=s(r,e,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o)}),t&&n.ValidateRawTransaction(e,{debugPath:`(transformed) ${r}`});return e},t.TransformScript=a,t.TransformTransaction=p,t.TransformUncleBlock=g,t.TransformWitnessArgs=function(e,{validation:t=!0,debugPath:r="witness_args"}={}){e=s(r,e,{lock:o,inputType:o,outputType:o}),t&&n.ValidateWitnessArgs(e,{debugPath:`(transformed) ${r}`});return e};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}n.default=e,r&&r.set(e,n);return n}(r(1957));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function o(e,t){return t instanceof Object&&t.serializeJson instanceof Function?t.serializeJson.call(t):t}function s(e,t,r){if(!((t=o(0,t))instanceof Object))throw new Error(`Transformed ${e} is not an object!`);const n={};for(const[i,o]of Object.entries(r)){let r=t[i];if(!r){r=t[i.replace(/(_[a-z])/g,(e=>e.toUpperCase().replace("_","")))]}r&&(n[i]=o(`${e}.${i}`,r))}return n}function a(e,{validation:t=!0,debugPath:r="script"}={}){return e=s(r,e,{codeHash:o,hashType:o,args:o}),t&&n.ValidateScript(e,{debugPath:`(transformed) ${r}`}),e}function u(e,{validation:t=!0,debugPath:r="outPoint"}={}){return e=s(r,e,{txHash:o,index:o}),t&&n.ValidateOutPoint(e,{debugPath:`(transformed) ${r}`}),e}function c(e){return function(t,r){return e(r,{validation:!1,debugPath:t})}}function f(e,{validation:t=!0,debugPath:r="cell_input"}={}){return e=s(r,e,{since:o,previousOutput:c(u)}),t&&n.ValidateCellInput(e,{debugPath:`(transformed) ${r}`}),e}function l(e,{validation:t=!0,debugPath:r="cellOutput"}={}){return e=s(r,e,{capacity:o,lock:c(a),type:c(a)}),t&&n.ValidateCellOutput(e,{debugPath:`(transformed) ${r}`}),e}function d(e,{validation:t=!0,debugPath:r="cell_dep"}={}){return e=s(r,e,{outPoint:c(u),depType:o}),t&&n.ValidateCellDep(e,{debugPath:`(transformed) ${r}`}),e}function h(e){return function(t,r){return r.map(((r,n)=>e(`${t}[${n}]`,r)))}}function p(e,{validation:t=!0,debugPath:r="transaction"}={}){return e=s(r,e,{version:o,cellDeps:h(c(d)),headerDeps:h(o),inputs:h(c(f)),outputs:h(c(l)),outputsData:h(o),witnesses:h(o)}),t&&n.ValidateTransaction(e,{debugPath:`(transformed) ${r}`}),e}function y(e,{validation:t=!0,debugPath:r="header"}={}){return e=s(r,e,{version:o,compactTarget:o,timestamp:o,number:o,epoch:o,parentHash:o,transactionsRoot:o,proposalsHash:o,extraHash:o,dao:o,nonce:o}),t&&n.ValidateHeader(e,{debugPath:`(transformed) ${r}`}),e}function g(e,{validation:t=!0,debugPath:r="uncle_block"}={}){return e=s(r,e,{header:c(y),proposals:h(o)}),t&&n.ValidateUncleBlock(e,{debugPath:`(transformed) ${r}`}),e}},1957:(e,t)=>{"use strict";function r(e,t,r,n=[]){!function(e,t){if(!(t instanceof Object))throw new Error(`${e} is not an object!`)}(e,t);const i=Object.keys(t).sort(),o=r.length,s=r.length+n.length,a=`${e} does not have correct keys! Required keys: [${r.sort().join(", ")}], optional keys: [${n.sort().join(", ")}], actual keys: [${i.join(", ")}]`;if(i.length<o||i.length>s)throw new Error(a);let u=i.filter((e=>!r.includes(e)));if(i.length-u.length!==o)throw new Error(a);if(u.find((e=>!n.includes(e))))throw new Error(a)}function n(e,t){if(!/^0x([0-9a-fA-F][0-9a-fA-F])*$/.test(t))throw new Error(`${e} must be a hex string!`)}function i(e,t){if(n(e,t),66!==t.length)throw new Error(`${e} must be a hex string of 66 bytes long!`)}function o(e,t){if("0x0"!==t&&!/^0x[1-9a-fA-F][0-9a-fA-F]*$/.test(t))throw new Error(`${e} must be a hex integer!`)}function s(e,{nestedValidation:t=!0,debugPath:o="script"}={}){if(r(o,e,["codeHash","hashType","args"],[]),i(`${o}.codeHash`,e.codeHash),n(`${o}.args`,e.args),"data"!==e.hashType&&"type"!==e.hashType&&"data1"!==e.hashType&&"data2"!==e.hashType)throw new Error(`${o}.hashType must be either data or type!`)}function a(e,{nestedValidation:t=!0,debugPath:n="outPoint"}={}){r(n,e,["txHash","index"],[]),i(`${n}.txHash`,e.txHash),o(`${n}.index`,e.index)}function u(e,{nestedValidation:t=!0,debugPath:n="cellInput"}={}){r(n,e,["since","previousOutput"],[]),o(`${n}.since`,e.since),t&&a(e.previousOutput,{debugPath:`${n}.previousOutput`})}function c(e,{nestedValidation:t=!0,debugPath:n="cellOutput"}={}){r(n,e,["capacity","lock"],["type"]),o(`${n}.capacity`,e.capacity),t&&(s(e.lock,{debugPath:`${n}.lock`}),e.type&&s(e.type,{debugPath:`${n}.type`}))}function f(e,{nestedValidation:t=!0,debugPath:n="cellDep"}={}){if(r(n,e,["outPoint","depType"],[]),"code"!==e.depType&&"depGroup"!==e.depType)throw new Error(`${n}.depType must be either code or depGroup!`);t&&a(e.outPoint,{debugPath:`${n}.outPoint`})}function l(e,t,r,n){if(!Array.isArray(t))throw new Error(`${e} is not an array!`);if(n)for(let n=0;n<t.length;n++)r(`${e}[${n}]`,t[n])}function d(e,t){return function(r,n){e(n,{nestedValidation:t,debugPath:r})}}function h(e,t,r){o(`${e}.version`,t.version),l(`${e}.cellDeps`,t.cellDeps,d(f,r),r),l(`${e}.headerDeps`,t.headerDeps,i,r),l(`${e}.inputs`,t.inputs,d(u,r),r),l(`${e}.outputs`,t.outputs,d(c,r),r),l(`${e}.outputsData`,t.outputsData,n,r)}function p(e,{nestedValidation:t=!0,debugPath:i="transaction"}={}){r(i,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData","witnesses"],[]),h(i,e,t),l(`${i}.witnesses`,e.witnesses,n,t)}function y(e,{nestedValidation:t=!0,debugPath:i="header"}={}){if(r(i,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao","nonce"],[]),n(`${i}.nonce`,e.nonce),34!==e.nonce.length)throw new Error(`${i}.nonce must be a hex string of 34 bytes long!`)}function g(e,t){if(n(e,t),22!==t.length)throw new Error(`${e} must be a hex string of 22 bytes long!`)}function b(e,{nestedValidation:t=!0,debugPath:n="uncleBlock"}={}){r(n,e,["header","proposals"],[]),t&&y(e.header,{debugPath:`${n}.header`}),l(`${n}.proposals`,e.proposals,g,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateBlock=function(e,{nestedValidation:t=!0,debugPath:n="block"}={}){r(n,e,["header","uncles","transactions","proposals"],[]),t&&y(e.header,{debugPath:`${n}.header`});l(`${n}.uncles`,e.uncles,d(b,t),t),l(`${n}.transactions`,e.transactions,d(p,t),t),l(`${n}.proposals`,e.proposals,g,t)},t.ValidateCellDep=f,t.ValidateCellInput=u,t.ValidateCellOutput=c,t.ValidateCellbaseWitness=function(e,{nestedValidation:t=!0,debugPath:i="cellbaseWitness"}={}){r(i,e,["lock","message"],[]),n(`${i}.message`,e.message),t&&s(e.lock,{debugPath:`${i}.lock`})},t.ValidateHeader=y,t.ValidateOutPoint=a,t.ValidateRawHeader=function(e,{nestedValidation:t=!0,debugPath:n="rawHeader"}={}){r(n,e,["version","compactTarget","timestamp","number","epoch","parentHash","transactionsRoot","proposalsHash","extraHash","dao"],[]),function(e,t){o(`${e}.version`,t.version),o(`${e}.compactTarget`,t.compactTarget),o(`${e}.timestamp`,t.timestamp),o(`${e}.number`,t.number),o(`${e}.epoch`,t.epoch),i(`${e}.parentHash`,t.parentHash),i(`${e}.transactionsRoot`,t.transactionsRoot),i(`${e}.proposalsHash`,t.proposalsHash),i(`${e}.extraHash`,t.extraHash),i(`${e}.dao`,t.dao)}(n,e)},t.ValidateRawTransaction=function(e,{nestedValidation:t=!0,debugPath:n="rawTransaction"}={}){r(n,e,["version","cellDeps","headerDeps","inputs","outputs","outputsData"],[]),h(n,e,t)},t.ValidateScript=s,t.ValidateTransaction=p,t.ValidateUncleBlock=b,t.ValidateWitnessArgs=function(e,{nestedValidation:t=!0,debugPath:i="witnessArgs"}={}){r(i,e,[],["lock","inputType","outputType"]),e.lock&&n(`${i}.lock`,e.lock);e.inputType&&n(`${i}.inputType`,e.inputType);e.outputType&&n(`${i}.outputType`,e.outputType)}},34709:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BtcAssetsApiError=t.ErrorMessages=t.ErrorCodes=void 0,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ASSETS_API_RESPONSE_ERROR=1]="ASSETS_API_RESPONSE_ERROR",e[e.ASSETS_API_UNAUTHORIZED=2]="ASSETS_API_UNAUTHORIZED",e[e.ASSETS_API_INVALID_PARAM=3]="ASSETS_API_INVALID_PARAM",e[e.ASSETS_API_RESOURCE_NOT_FOUND=4]="ASSETS_API_RESOURCE_NOT_FOUND",e[e.ASSETS_API_RESPONSE_DECODE_ERROR=5]="ASSETS_API_RESPONSE_DECODE_ERROR"}(r||(t.ErrorCodes=r={})),t.ErrorMessages={[r.UNKNOWN]:"Unknown error",[r.ASSETS_API_UNAUTHORIZED]:"BtcAssetsAPI unauthorized, please check your token/origin",[r.ASSETS_API_INVALID_PARAM]:"Invalid param(s) was provided to the BtcAssetsAPI",[r.ASSETS_API_RESPONSE_ERROR]:"BtcAssetsAPI returned an error",[r.ASSETS_API_RESOURCE_NOT_FOUND]:"Resource not found on the BtcAssetsAPI",[r.ASSETS_API_RESPONSE_DECODE_ERROR]:"Failed to decode the response of BtcAssetsAPI"};class n extends Error{code=r.UNKNOWN;message;context;constructor(e){const i=e.message??t.ErrorMessages[e.code]??t.ErrorMessages[r.UNKNOWN];super(i),this.message=i,this.code=e.code,this.context=e.context,Object.setPrototypeOf(this,n.prototype)}static withComment(e,i,o){const s=t.ErrorMessages[e]??t.ErrorMessages[r.UNKNOWN];return new n({code:e,message:i?`${s}: ${i}`:void 0,context:o})}}t.BtcAssetsApiError=n},90375:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2541),t),i(r(34709),t),i(r(94866),t),i(r(64899),t)},68830:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BtcAssetsApiBase=void 0;const i=n(r(71086)),o=r(94866),s=r(34709);function a(e){try{return"string"==typeof e?JSON.parse(e):void 0}catch{return}}t.BtcAssetsApiBase=class{url;app;domain;origin;token;constructor(e){if(this.url=e.url,this.app=e.app,this.domain=e.domain,this.origin=e.origin,this.token=e.token,this.domain&&!(0,o.isDomain)(this.domain,!0))throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_INVALID_PARAM,"domain")}async request(e,t){const{requireToken:r=!0,allow404:n=!1,method:o="GET",headers:u,params:c,...f}=t??{};if(r&&!this.token&&(!this.app||!this.domain))throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_INVALID_PARAM,"app, domain");r&&!this.token&&await this.init();const l=(0,i.default)(c,(e=>void 0!==e)),d=c?"?"+new URLSearchParams(l).toString():"",h=`${this.url}${e}${d}`,p=await fetch(h,{method:o,headers:{authorization:this.token?`Bearer ${this.token}`:void 0,origin:this.origin,...u},...f});let y,g,b,m=!1;try{y=await p.text(),g=JSON.parse(y),m=g?.ok??p.ok??!1}catch{}const v=p.status,_={request:{url:h,params:c,body:a(f.body)},response:{status:v,data:g??y}};if(g||(b=y?`(${v}) ${y}`:`${v}`),g&&!m){const e=g.code??g.statusCode??g.error?.error?.code??p.status,t=g.message??("string"==typeof g.error?g.error:g.error?.error?.message);b=t?e?`(${e}) ${t}`:t:JSON.stringify(g)}if(200===v&&!g)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_RESPONSE_DECODE_ERROR,b,_);if(401===v)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_UNAUTHORIZED,b,_);if(404===v&&!n)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_RESOURCE_NOT_FOUND,b,_);if(200!==v&&404!==v&&!n)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_RESPONSE_ERROR,b,_);if(404!==v||!n)return g}async post(e,t){return this.request(e,{method:"POST",...t,headers:{"Content-Type":"application/json",...t?.headers}})}async generateToken(){if(!this.app||!this.domain)throw s.BtcAssetsApiError.withComment(s.ErrorCodes.ASSETS_API_INVALID_PARAM,"app, domain");return this.post("/token/generate",{requireToken:!1,body:JSON.stringify({app:this.app,domain:this.domain})})}async init(e){if(this.token&&!e)return;const t=await this.generateToken();this.token=t.token}}},64899:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(68830),t),i(r(56584),t)},56584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BtcAssetsApi=void 0;const n=r(68830);class i extends n.BtcAssetsApiBase{static fromToken(e,t,r){return new i({url:e,token:t,origin:r})}getBtcBlockchainInfo(){return this.request("/bitcoin/v1/info")}getBtcBlockByHash(e){return this.request(`/bitcoin/v1/block/${e}`)}getBtcBlockHeaderByHash(e){return this.request(`/bitcoin/v1/block/${e}/header`)}getBtcBlockHashByHeight(e){return this.request(`/bitcoin/v1/block/height/${e}`)}getBtcBlockTransactionIdsByHash(e){return this.request(`/bitcoin/v1/block/${e}/txids`)}getBtcRecommendedFeeRates(){return this.request("/bitcoin/v1/fees/recommended")}getBtcBalance(e,t){return this.request(`/bitcoin/v1/address/${e}/balance`,{params:t})}getBtcUtxos(e,t){return this.request(`/bitcoin/v1/address/${e}/unspent`,{params:t})}getBtcTransactions(e,t){return this.request(`/bitcoin/v1/address/${e}/txs`,{params:t})}getBtcTransaction(e){return this.request(`/bitcoin/v1/transaction/${e}`)}sendBtcTransaction(e){return this.post("/bitcoin/v1/transaction",{body:JSON.stringify({txhex:e})})}getRgbppPaymasterInfo(){return this.request("/rgbpp/v1/paymaster/info")}getRgbppTransactionHash(e){return this.request(`/rgbpp/v1/transaction/${e}`)}getRgbppTransactionState(e,t){return this.request(`/rgbpp/v1/transaction/${e}/job`,{params:t})}getRgbppAssetsByBtcTxId(e){return this.request(`/rgbpp/v1/assets/${e}`)}getRgbppAssetsByBtcUtxo(e,t){return this.request(`/rgbpp/v1/assets/${e}/${t}`)}getRgbppAssetsByBtcAddress(e,t){return this.request(`/rgbpp/v1/address/${e}/assets`,{params:t})}getRgbppBalanceByBtcAddress(e,t){return this.request(`/rgbpp/v1/address/${e}/balance`,{params:t})}getRgbppSpvProof(e,t){return this.request("/rgbpp/v1/btc-spv/proof",{params:{btc_txid:e,confirmations:t}})}sendRgbppCkbTransaction(e){return this.post("/rgbpp/v1/transaction/ckb-tx",{body:JSON.stringify(e)})}retryRgbppCkbTransaction(e){return this.post("/rgbpp/v1/transaction/retry",{body:JSON.stringify(e)})}}t.BtcAssetsApi=i},43784:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2541:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(43784),t),i(r(71802),t),i(r(44554),t)},44554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94866:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDomain=void 0,t.isDomain=function(e,t){return!(!t||"localhost"!==e)||/^(?:[-A-Za-z0-9]+\.)+[A-Za-z]{2,}$/.test(e)}},26480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCluster=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714),a=r(50752),u=r(30089);t.createCluster=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=n.BI.from(e.capacityMargin??1e8),f=e.maxTransactionSize??t.maxTransactionSize??!1;let l=n.helpers.TransactionSkeleton({cellProvider:r});const d=(0,s.injectNewClusterOutput)({txSkeleton:l,data:e.data,toLock:e.toLock,updateOutput:e.updateOutput,capacityMargin:c,config:t});l=d.txSkeleton;const h=await(0,o.injectCapacityAndPayFee)({txSkeleton:l,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){e=(0,s.injectNewClusterIds)({txSkeleton:e,outputIndices:[d.outputIndex],config:t});const r=l.get("outputs").get(d.outputIndex),n=(0,i.getSporeScript)(t,"Cluster",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,a.generateCreateClusterAction)({txSkeleton:e,outputIndex:d.outputIndex});e=(0,u.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});return l=h.txSkeleton,"number"==typeof f&&(0,o.assertTransactionSkeletonSize)(l,void 0,f),{txSkeleton:l,outputIndex:d.outputIndex}}},3333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferCluster=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);t.transferCluster=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=e.useCapacityMarginAsFee??!0;if(!u&&!e.fromInfos?.length)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacityMargin of the cluster");let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getClusterByOutPoint)(e.outPoint,t),l=(0,o.getSporeScript)(t,"Cluster",f.cellOutput.type),d=await(0,a.injectLiveClusterCell)({txSkeleton:c,cell:f,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t});c=d.txSkeleton;const h=(0,s.generateTransferClusterAction)({txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex});if(u){if(l.behaviors?.cobuild){c=(0,s.injectCommonCobuildProof)({txSkeleton:c,actions:h.actions}).txSkeleton}c=await(0,i.payFeeByOutput)({outputIndex:d.outputIndex,txSkeleton:c,config:t})}else{c=(await(0,i.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(l.behaviors?.cobuild){e=(0,s.injectCommonCobuildProof)({txSkeleton:e,actions:h.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},15148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714),u=r(31564);t.createClusterAgent=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=n.BI.from(e.capacityMargin??1e8);let f=n.helpers.TransactionSkeleton({cellProvider:r});const l=await(0,a.getClusterProxyByOutPoint)(e.clusterProxyOutPoint,t),d=await(0,a.injectNewClusterAgentOutput)({txSkeleton:f,clusterProxyCell:l,referenceType:e.referenceType,paymentAmount:e.paymentAmount,toLock:e.toLock,fromInfos:e.fromInfos,changeAddress:e.changeAddress,updateOutput:e.updateOutput,clusterProxy:e.clusterProxy,capacityMargin:c,config:t});f=d.txSkeleton;const h=await(0,i.injectCapacityAndPayFee)({txSkeleton:f,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){const r=f.get("outputs").get(d.outputIndex),n=(0,o.getSporeScript)(t,"ClusterAgent",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,s.generateCreateClusterAgentAction)({txSkeleton:e,clusterProxyId:(0,u.unpackToRawClusterProxyArgs)(l.cellOutput.type.args).id,outputIndex:d.outputIndex,reference:d.reference});e=(0,s.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});return f=h.txSkeleton,{txSkeleton:f,outputIndex:d.outputIndex,reference:d.reference}}},84302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meltClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);t.meltClusterAgent=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,a.getClusterAgentByOutPoint)(e.outPoint,t),f=(0,o.getSporeScript)(t,"ClusterAgent",c.cellOutput.type),l=await(0,a.injectLiveClusterAgentCell)({txSkeleton:u,cell:c,updateWitness:e.updateWitness,config:t});if(u=l.txSkeleton,f.behaviors?.cobuild){const e=(0,s.generateMeltClusterAgentAction)({txSkeleton:u,inputIndex:l.inputIndex});u=(0,s.injectCommonCobuildProof)({txSkeleton:u,actions:e.actions}).txSkeleton}const d=n.helpers.encodeToAddress(c.cellOutput.lock,{config:t.lumos});return u=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:e.changeAddress??d,txSkeleton:u,config:t})).txSkeleton,{txSkeleton:u,inputIndex:l.inputIndex}}},38819:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferClusterAgent=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);t.transferClusterAgent=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=e.useCapacityMarginAsFee??!0;if(!u&&!e.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot update capacityMargin of the cell");let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getClusterAgentByOutPoint)(e.outPoint,t),l=(0,o.getSporeScript)(t,"ClusterAgent",f.cellOutput.type),d=await(0,a.injectLiveClusterAgentCell)({txSkeleton:c,cell:f,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,since:e.since,config:t});c=d.txSkeleton;const h=(0,s.generateTransferClusterAgentAction)({txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex});if(u){if(l.behaviors?.cobuild){c=(0,s.injectCommonCobuildProof)({txSkeleton:c,actions:h.actions}).txSkeleton}c=await(0,i.payFeeByOutput)({txSkeleton:c,outputIndex:d.outputIndex,config:t})}else{c=(await(0,i.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(l.behaviors?.cobuild){e=(0,s.injectCommonCobuildProof)({txSkeleton:e,actions:h.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},71274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);t.createClusterProxy=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=n.BI.from(e.capacityMargin??1e8);let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,a.getClusterByOutPoint)(e.clusterOutPoint,t),l=await(0,a.injectNewClusterProxyOutput)({txSkeleton:c,clusterCell:f,toLock:e.toLock,fromInfos:e.fromInfos,minPayment:e.minPayment,changeAddress:e.changeAddress,updateOutput:e.updateOutput,cluster:e.cluster,capacityMargin:u,config:t});c=l.txSkeleton;const d=await(0,i.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){e=(0,a.injectNewClusterProxyIds)({outputIndices:[l.outputIndex],txSkeleton:e,config:t});const r=c.get("outputs").get(l.outputIndex),n=(0,o.getSporeScript)(t,"ClusterProxy",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,s.generateCreateClusterProxyAction)({txSkeleton:e,outputIndex:l.outputIndex,reference:l.reference});e=(0,s.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});return c=d.txSkeleton,{txSkeleton:c,outputIndex:l.outputIndex,reference:l.reference}}},98092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meltClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(18714);t.meltClusterProxy=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,a.getClusterProxyByOutPoint)(e.outPoint,t),f=(0,o.getSporeScript)(t,"ClusterProxy",c.cellOutput.type),l=await(0,a.injectLiveClusterProxyCell)({txSkeleton:u,cell:c,updateWitness:e.updateWitness,config:t});if(u=l.txSkeleton,f.behaviors?.cobuild){const e=(0,s.generateMeltClusterProxyAction)({txSkeleton:u,inputIndex:l.inputIndex});u=(0,s.injectCommonCobuildProof)({txSkeleton:u,actions:e.actions}).txSkeleton}const d=n.helpers.encodeToAddress(c.cellOutput.lock,{config:t.lumos});return u=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:e.changeAddress??d,txSkeleton:u,config:t})).txSkeleton,{txSkeleton:u,inputIndex:l.inputIndex}}},43557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferClusterProxy=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(13972),a=r(52271),u=r(93972);t.transferClusterProxy=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),c=e.useCapacityMarginAsFee??!0;if(!c&&!e.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(c&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot update capacityMargin of the cell");let f=n.helpers.TransactionSkeleton({cellProvider:r});const l=await(0,a.getClusterProxyByOutPoint)(e.outPoint,t),d=(0,o.getSporeScript)(t,"ClusterProxy",l.cellOutput.type),h=await(0,u.injectLiveClusterProxyCell)({txSkeleton:f,cell:l,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,since:e.since,config:t});f=h.txSkeleton;const p=(0,s.generateTransferClusterProxyAction)({txSkeleton:f,inputIndex:h.inputIndex,outputIndex:h.outputIndex});if(c){if(d.behaviors?.cobuild){f=(0,s.injectCommonCobuildProof)({txSkeleton:f,actions:p.actions}).txSkeleton}f=await(0,i.payFeeByOutput)({outputIndex:h.outputIndex,txSkeleton:f,config:t})}else{f=(await(0,i.injectCapacityAndPayFee)({txSkeleton:f,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(d.behaviors?.cobuild){e=(0,s.injectCommonCobuildProof)({txSkeleton:e,actions:p.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:f,inputIndex:h.inputIndex,outputIndex:h.outputIndex}}},50644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMutant=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714);t.createMutant=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),a=n.BI.from(e.capacityMargin??1e8),u=e.maxTransactionSize??t.maxTransactionSize??!1;let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=(0,s.injectNewMutantOutput)({txSkeleton:c,data:e.data,toLock:e.toLock,minPayment:e.minPayment,updateOutput:e.updateOutput,capacityMargin:a,config:t});return c=f.txSkeleton,c=(await(0,o.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,config:t})).txSkeleton,c=(0,s.injectNewMutantIds)({outputIndices:[f.outputIndex],txSkeleton:c,config:t}),"number"==typeof u&&(0,o.assertTransactionSkeletonSize)(c,void 0,u),{txSkeleton:c,outputIndex:f.outputIndex}}},39415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferMutant=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714);t.transferMutant=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),a=e.useCapacityMarginAsFee??!0;if(!a&&!e.fromInfos?.length)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(a&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacityMargin of the cell");let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,s.getMutantByOutPoint)(e.outPoint,t),f=await(0,s.injectLiveMutantCell)({txSkeleton:u,cell:c,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),minPayment:e.minPayment,capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t});if(u=f.txSkeleton,a)u=await(0,o.payFeeByOutput)({outputIndex:f.outputIndex,txSkeleton:u,config:t});else{u=(await(0,o.injectCapacityAndPayFee)({txSkeleton:u,changeAddress:e.changeAddress,fromInfos:e.fromInfos,feeRate:e.feeRate,config:t})).txSkeleton}return{txSkeleton:u,inputIndex:f.inputIndex,outputIndex:f.outputIndex}}},51760:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMultipleSpores=t.createSpore=void 0;const i=r(87144),o=r(3599),s=r(1828),a=r(36027),u=r(18714),c=r(37760),f=r(30089),l=r(24862),d=n(r(2543));t.createSpore=async function(e){const t=e.config??(0,s.getSporeConfig)(),r=new o.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=o.BI.from(e.capacityMargin??1e8),h=e.maxTransactionSize??t.maxTransactionSize??!1;let p,y=o.helpers.TransactionSkeleton({cellProvider:r});if(e.prefixInputs)for(const r of e.prefixInputs){const n=(0,l.encodeToAddress)(r.cellOutput.lock,{config:t.lumos}),o={script:r.cellOutput.lock};e.fromInfos.some((e=>{const r=(0,i.parseFromInfo)(e,{config:t.lumos});return d.default.isEqual(o,r.fromScript)}))||e.fromInfos.push(n);const s=await(0,a.setupCell)({txSkeleton:y,input:r,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,config:t.lumos});y=s.txSkeleton}e.prefixOutputs&&y.update("outputs",(t=>(e.prefixOutputs.forEach((e=>t.push(e))),t))),e.clusterAgentOutPoint&&(p=await(0,u.getClusterAgentByOutPoint)(e.clusterAgentOutPoint,t));const g=await(0,u.injectNewSporeOutput)({txSkeleton:y,data:e.data,toLock:e.toLock,fromInfos:e.fromInfos,extraOutputLocks:e.prefixOutputs?.map((e=>e.cellOutput.lock)),changeAddress:e.changeAddress,updateOutput:e.updateOutput,clusterAgent:e.clusterAgent,cluster:e.cluster,mutant:e.mutant,skipCheckContentType:e.skipCheckContentType,clusterAgentCell:p,capacityMargin:n,config:t});y=g.txSkeleton;const b=(0,a.createCapacitySnapshotFromTransactionSkeleton)(y);if(b.inputsCapacity.gt(b.outputsCapacity)){y=(0,u.injectNewSporeIds)({outputIndices:[g.outputIndex],txSkeleton:y,config:t});const r=y.get("outputs").get(g.outputIndex),n=(0,s.getSporeScript)(t,"Spore",r.cellOutput.type);if(n.behaviors?.cobuild){const e=(0,c.generateCreateSporeAction)({txSkeleton:y,reference:g.reference,outputIndex:g.outputIndex}),t=(0,f.injectCommonCobuildProof)({txSkeleton:y,actions:e.actions});y=t.txSkeleton}const i=o.helpers.encodeToAddress(r.cellOutput.lock,{config:t.lumos}),l=await(0,a.returnExceededCapacityAndPayFee)({txSkeleton:y,changeAddress:e.changeAddress??i,feeRate:e.feeRate,fromInfos:e.fromInfos,config:t});y=l.txSkeleton}else{const r=await(0,a.injectCapacityAndPayFee)({txSkeleton:y,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){e=(0,u.injectNewSporeIds)({outputIndices:[g.outputIndex],txSkeleton:e,config:t});const r=y.get("outputs").get(g.outputIndex),n=(0,s.getSporeScript)(t,"Spore",r.cellOutput.type);if(n.behaviors?.cobuild){const t=(0,c.generateCreateSporeAction)({txSkeleton:e,reference:g.reference,outputIndex:g.outputIndex});e=(0,f.injectCommonCobuildProof)({txSkeleton:e,actions:t.actions}).txSkeleton}return e},config:t});y=r.txSkeleton}return"number"==typeof h&&(0,a.assertTransactionSkeletonSize)(y,void 0,h),{txSkeleton:y,outputIndex:g.outputIndex,reference:g.reference,mutantReference:g.mutantReference}},t.createMultipleSpores=async function(e){const t=e.config??(0,s.getSporeConfig)(),r=new o.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=o.BI.from(e.capacityMargin??1e8);let h,p=o.helpers.TransactionSkeleton({cellProvider:r});e.fromCells&&p.update("inputs",(r=>{for(const n of e.fromCells){const o=(0,l.encodeToAddress)(n.cellOutput.lock,{config:t.lumos}),s={script:n.cellOutput.lock};e.fromInfos.some((e=>{const r=(0,i.parseFromInfo)(e,{config:t.lumos});return d.default.isEqual(s,r.fromScript)}))||e.fromInfos.push(o),r=r.push(n)}return r})),e.clusterAgentOutPoint&&(h=await(0,u.getClusterAgentByOutPoint)(e.clusterAgentOutPoint,t));const y=[];for(const r of e.sporeInfos){const i=await(0,u.injectNewSporeOutput)({txSkeleton:p,data:r.data,toLock:r.toLock,fromInfos:e.fromInfos,changeAddress:e.changeAddress,updateOutput:e.updateOutput,clusterAgent:e.clusterAgent,cluster:e.cluster,mutant:e.mutant,clusterAgentCell:h,capacityMargin:n,config:t});p=i.txSkeleton,y.push(i)}const g=y.map((e=>e.outputIndex)),b=await(0,a.injectCapacityAndPayFee)({txSkeleton:p,fromInfos:e.fromInfos,changeAddress:e.changeAddress,updateTxSkeletonAfterCollection(e){e=(0,u.injectNewSporeIds)({txSkeleton:e,outputIndices:g,config:t});const r=[];for(const n of y){const i=p.get("outputs").get(n.outputIndex),o=(0,s.getSporeScript)(t,"Spore",i.cellOutput.type);if(o.behaviors?.cobuild){const t=(0,c.generateCreateSporeAction)({txSkeleton:e,reference:n.reference,outputIndex:n.outputIndex});r.push(...t.actions)}}if(r.length){e=(0,f.injectCommonCobuildProof)({txSkeleton:e,actions:r}).txSkeleton}return e},config:t});return p=b.txSkeleton,{txSkeleton:p,outputIndices:g}}},72686:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.meltSpore=void 0;const n=r(3599),i=r(36027),o=r(1828),s=r(18714),a=r(13972);t.meltSpore=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);let u=n.helpers.TransactionSkeleton({cellProvider:r});const c=await(0,s.getSporeByOutPoint)(e.outPoint,t),f=await(0,s.injectLiveSporeCell)({txSkeleton:u,cell:c,updateWitness:e.updateWitness,defaultWitness:e.defaultWitness,since:e.since,config:t});u=f.txSkeleton;const l=(0,o.getSporeScript)(t,"Spore",c.cellOutput.type);if(l.behaviors?.cobuild){const e=(0,a.generateMeltSporeAction)({txSkeleton:u,inputIndex:f.inputIndex});u=(0,a.injectCommonCobuildProof)({txSkeleton:u,actions:e.actions}).txSkeleton}const d=n.helpers.encodeToAddress(c.cellOutput.lock,{config:t.lumos});return u=(await(0,i.returnExceededCapacityAndPayFee)({changeAddress:e.changeAddress??d,txSkeleton:u,config:t})).txSkeleton,{txSkeleton:u,inputIndex:f.inputIndex}}},69881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferSpore=void 0;const n=r(3599),i=r(1828),o=r(36027),s=r(18714),a=r(13972);t.transferSpore=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),u=e.useCapacityMarginAsFee??!0;if(!u&&!e.fromInfos)throw new Error("When useCapacityMarginAsFee is enabled, fromInfos is also required");if(u&&void 0!==e.capacityMargin)throw new Error("When useCapacityMarginAsFee is enabled, cannot set capacity margin of the spore");let c=n.helpers.TransactionSkeleton({cellProvider:r});const f=await(0,s.getSporeByOutPoint)(e.outPoint,t),l=(0,i.getSporeScript)(t,"Spore",f.cellOutput.type),d=await(0,s.injectLiveSporeCell)({txSkeleton:c,cell:f,addOutput:!0,updateOutput:t=>(t.cellOutput.lock=e.toLock,e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t});c=d.txSkeleton;const h=(0,a.generateTransferSporeAction)({txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex});if(u){if(l.behaviors?.cobuild){c=(0,a.injectCommonCobuildProof)({txSkeleton:c,actions:h.actions}).txSkeleton}c=await(0,o.payFeeByOutput)({outputIndex:d.outputIndex,txSkeleton:c,config:t})}else{c=(await(0,o.injectCapacityAndPayFee)({txSkeleton:c,fromInfos:e.fromInfos,changeAddress:e.changeAddress,feeRate:e.feeRate,updateTxSkeletonAfterCollection(e){if(l.behaviors?.cobuild){e=(0,a.injectCommonCobuildProof)({txSkeleton:e,actions:h.actions}).txSkeleton}return e},config:t})).txSkeleton}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},18714:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(26480),t),i(r(3333),t),i(r(51760),t),i(r(69881),t),i(r(72686),t),i(r(71274),t),i(r(43557),t),i(r(98092),t),i(r(15148),t),i(r(38819),t),i(r(84302),t),i(r(50644),t),i(r(39415),t),i(r(53675),t),i(r(23882),t),i(r(50636),t),i(r(15751),t),i(r(69737),t),i(r(97633),t),i(r(3096),t),i(r(4788),t),i(r(47431),t),i(r(20191),t),i(r(12518),t),i(r(93972),t),i(r(16143),t),i(r(52271),t),i(r(99839),t),i(r(8310),t),i(r(55629),t),i(r(65871),t),i(r(75595),t),i(r(47178),t),i(r(12834),t),i(r(20012),t),i(r(49639),t)},69737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterById=t.getClusterByOutPoint=t.getClusterByType=void 0;const n=r(3599),i=r(36027),o=r(1828);async function s(e,t){t=t??(0,o.getSporeConfig)();const r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);if(!(0,i.isTypeId)(e.args))throw new Error(`Target Cluster Id is invalid: ${e.args}`);const s=await(0,i.getCellByType)({type:e,indexer:r});if(void 0===s)throw new Error("Cannot find Cluster by Type because target cell does not exist");const a=s.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(t,a,"Cluster"))throw new Error("Cannot find Cluster by Type because target cell is not a supported version of Cluster");return s}t.getClusterByType=s,t.getClusterByOutPoint=async function(e,t){t=t??(0,o.getSporeConfig)();const r=new n.RPC(t.ckbNodeUrl),s=await(0,i.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!s.cell)throw new Error("Cannot find Cluster by OutPoint because target cell was not found");if("live"!==s.status)throw new Error("Cannot find Cluster by OutPoint because target cell is not lived");const a=s.cell.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(t,a,"Cluster"))throw new Error("Cannot find Cluster by OutPoint because target cell is not a supported version of Cluster");return s.cell},t.getClusterById=async function(e,t){if(t=t??(0,o.getSporeConfig)(),!(0,i.isTypeId)(e))throw new Error(`Target ClusterId is invalid: ${e}`);const r=((0,o.getSporeScriptCategory)(t,"Cluster").versions??[]).map((e=>e.script));for(const n of r)try{return await s({...n,args:e},t)}catch(e){console.error("getClusterById error:",e)}throw new Error("Cannot find Cluster by Id because target cell does not exist or it's not a supported version of Cluster")}},50636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterCell=void 0;const n=r(24862),i=r(1828),o=r(36027);t.injectLiveClusterCell=async function(e){const t=e.cell,r=e.config??(0,i.getSporeConfig)();let s=e.txSkeleton;const a=t.cellOutput.type,u=(0,i.getSporeScript)(r,"Cluster",a);if(!a||!u)throw new Error("Cannot inject Cluster because target cell is not a supported version of Cluster");const c=await(0,o.setupCell)({txSkeleton:s,input:e.cell,config:r.lumos,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since});if(s=c.txSkeleton,e.addOutput){const e=s.get("outputs").get(c.outputIndex);(0,o.assetCellMinimalCapacity)(e),s=s.update("fixedEntries",(e=>e.push({field:"outputs",index:c.outputIndex})))}return s=(0,n.addCellDep)(s,u.cellDep),{txSkeleton:s,inputIndex:c.inputIndex,outputIndex:c.outputIndex}}},15751:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterReference=void 0;const n=r(33089),i=r(1828),o=r(36027),s=r(50636);t.injectLiveClusterReference=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=e.cell;let a,u=e.txSkeleton;const c=await(0,o.referenceCellOrLockProxy)({txSkeleton:u,cell:r,inputLocks:e.inputLocks,outputLocks:e.outputLocks,referenceCell:async n=>(a=await(0,s.injectLiveClusterCell)({txSkeleton:n,cell:r,addOutput:!0,updateOutput:e.updateOutput,updateWitness:e.updateWitness,capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,since:e.since,config:t}),a.txSkeleton),async referenceLockProxy(e){const o=r.cellOutput.type,s=(0,i.getSporeScript)(t,"Cluster",o);if(!s.behaviors?.lockProxy)throw new Error("Cannot reference Cluster because target Cluster does not supported lockProxy");return e=(0,n.addCellDep)(e,s.cellDep)}});return u=c.txSkeleton,{txSkeleton:u,referenceType:c.referencedCell?"cell":"lockProxy",cluster:c.referencedCell&&void 0!==a?{inputIndex:a.inputIndex,outputIndex:a.outputIndex}:void 0}}},23882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterIds=void 0;const n=r(36027),i=r(1828);t.injectNewClusterIds=function(e){const t=e.config??(0,i.getSporeConfig)();let r=e.txSkeleton;const o=r.get("inputs").get(0);if(!o)throw new Error("Cannot generate Cluster Id because Transaction.inputs[0] does not exist");let s=r.get("outputs"),a=(0,n.generateTypeIdsByOutputs)(o,s.toArray(),(e=>!!e.cellOutput.type&&(0,i.isSporeScriptSupported)(t,e.cellOutput.type,"Cluster")));if(e.outputIndices&&(a=a.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),a.length!==e.outputIndices.length))throw new Error("Cannot generate Cluster Id because clusterOutputIndices cannot be fully handled");for(const[e,t]of a){const r=s.get(e);if(!r)throw new Error(`Cannot generate Cluster Id because Transaction.outputs[${e}] does not exist`);r.cellOutput.type.args=t,s=s.set(e,r)}return r.set("outputs",s)}},53675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterOutput=void 0;const n=r(71313),i=r(24862),o=r(31564),s=r(1828),a=r(36027),u=r(23882);t.injectNewClusterOutput=function(e){const t=e.config??(0,s.getSporeConfig)();let r=e.txSkeleton;if(void 0!==e.data.mutantId){const t=n.bytes.bytify(e.data.mutantId);if(32!==t.byteLength)throw new Error(`Invalid Mutant Id length, expected 32, actually: ${t.byteLength}`)}const c=(0,s.getSporeScript)(t,"Cluster"),f=(0,o.packRawClusterData)(e.data,c.behaviors?.clusterDataVersion);let l=(0,a.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...c.script,args:"0x"+"0".repeat(64)}},data:n.bytes.hexify(f)});const d=r.get("outputs").size;r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(l=(0,a.setAbsoluteCapacityMargin)(l,e.capacityMargin)),e.updateOutput instanceof Function&&(l=e.updateOutput(l)),t.push(l)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:d})));const h=r.get("inputs").first();if(h&&(r=(0,u.injectNewClusterIds)({outputIndices:[d],txSkeleton:r,config:t})),r=(0,i.addCellDep)(r,c.cellDep),void 0!==e.data.mutantId){const e=(0,s.getSporeScript)(t,"Mutant");r=(0,i.addCellDep)(r,e.cellDep)}return{txSkeleton:r,outputIndex:d,hasId:void 0!==h}}},65871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterAgentByOutPoint=void 0;const n=r(3599),i=r(36027),o=r(1828);t.getClusterAgentByOutPoint=async function(e,t){t=t??(0,o.getSporeConfig)();const r=new n.RPC(t.ckbNodeUrl),s=await(0,i.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!s.cell)throw new Error("Cannot find ClusterAgent by OutPoint because target cell was not found");if("live"!==s.status)throw new Error("Cannot find ClusterAgent by OutPoint because target cell is not lived");const a=s.cell.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(t,a,"ClusterAgent"))throw new Error("Cannot find ClusterAgent by OutPoint because target cell is not a supported version of ClusterAgent");return s.cell}},8310:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterAgentCell=void 0;const n=r(33089),i=r(1828),o=r(36027);t.injectLiveClusterAgentCell=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=e.cell;let s=e.txSkeleton;const a=r.cellOutput.type,u=(0,i.getSporeScript)(t,"ClusterAgent",a);if(!a||!u)throw new Error("Cannot inject ClusterAgent because target cell is not a supported version of ClusterAgent");const c=await(0,o.setupCell)({txSkeleton:s,input:r,config:t.lumos,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since});if(s=c.txSkeleton,e.addOutput){const e=s.get("outputs").get(c.outputIndex);(0,o.assetCellMinimalCapacity)(e),s=s.update("fixedEntries",(e=>e.push({field:"outputs",index:c.outputIndex})))}return s=(0,n.addCellDep)(s,u.cellDep),{txSkeleton:s,inputIndex:c.inputIndex,outputIndex:c.outputIndex}}},55629:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterAgentReference=void 0;const n=r(33089),i=r(36027),o=r(1828),s=r(8310);t.injectLiveClusterAgentReference=async function(e){const t=e.config??(0,o.getSporeConfig)();let r=e.txSkeleton;const a=e.cell;if(!a.outPoint)throw new Error("Cannot inject ClusterAgent as reference because target cell has no OutPoint");let u;const c=await(0,i.referenceCellOrLockProxy)({txSkeleton:r,cell:a,inputLocks:e.inputLocks,outputLocks:e.outputLocks,referenceCell:async r=>(u=await(0,s.injectLiveClusterAgentCell)({txSkeleton:r,cell:a,addOutput:!0,updateOutput:e.updateOutput,updateWitness:e.updateWitness,capacityMargin:e.capacityMargin,defaultWitness:e.defaultWitness,since:e.since,config:t}),u.txSkeleton),referenceLockProxy(e){const r=a.cellOutput.type,i=(0,o.getSporeScript)(t,"ClusterAgent",r);if(!i.behaviors?.lockProxy)throw new Error("Cannot reference ClusterAgent because target cell does not supported lockProxy");return e=(0,n.addCellDep)(e,i.cellDep)}});return r=c.txSkeleton,{txSkeleton:r,referenceType:c.referencedCell?"cell":"lockProxy",clusterAgent:c.referencedCell&&void 0!==u?{inputIndex:u.inputIndex,outputIndex:u.outputIndex}:void 0}}},99839:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterAgentOutput=void 0;const n=r(33089),i=r(31564),o=r(36027),s=r(1828),a=r(16143);t.injectNewClusterAgentOutput=async function(e){const t=e.config??(0,s.getSporeConfig)();let r=e.txSkeleton;const u=e.clusterProxyCell,c=u.cellOutput.type;if(!c||!(0,s.isSporeScriptSupported)(t,c,"ClusterProxy"))throw new Error("Cannot reference ClusterProxy because target cell is not a supported version of ClusterProxy");const f=await(0,a.injectLiveClusterProxyReference)({txSkeleton:r,cell:u,referenceType:e.referenceType,paymentAmount:e.paymentAmount,capacityMargin:e.clusterProxy?.capacityMargin,updateWitness:e.clusterProxy?.updateWitness,updateOutput:e.clusterProxy?.updateOutput,config:t});r=f.txSkeleton;const l=(0,s.getSporeScript)(t,"ClusterAgent"),d=u.data;let h=(0,o.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...l.script,args:d}},data:(0,i.packRawClusterAgentDataToHash)(c)});const p=r.get("outputs").size;return r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(h=(0,o.setAbsoluteCapacityMargin)(h,e.capacityMargin)),e.updateOutput instanceof Function&&(h=e.updateOutput(h)),t.push(h)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:p}))),r=(0,n.addCellDep)(r,l.cellDep),{txSkeleton:r,outputIndex:p,reference:{referenceType:f.referenceType,clusterProxy:f.clusterProxy,payment:f.payment}}}},52271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClusterProxyById=t.getClusterProxyByOutPoint=t.getClusterProxyByType=void 0;const n=r(71313),i=r(3599),o=r(36027),s=r(1828),a=r(31564);async function u(e,t){t=t??(0,s.getSporeConfig)();const r=new i.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=await(0,o.getCellByType)({type:e,indexer:r});if(void 0===n)throw new Error("Cannot find ClusterProxy by Type because target cell does not exist");const a=n.cellOutput.type;if(!a||!(0,s.isSporeScriptSupported)(t,a,"ClusterProxy"))throw new Error("Cannot find ClusterProxy by Type because target cell is not a supported version of ClusterProxy");return n}t.getClusterProxyByType=u,t.getClusterProxyByOutPoint=async function(e,t){t=t??(0,s.getSporeConfig)();const r=new i.RPC(t.ckbNodeUrl),n=await(0,o.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!n.cell)throw new Error("Cannot find ClusterProxy by OutPoint because target cell was not found");if("live"!==n.status)throw new Error("Cannot find ClusterProxy by OutPoint because target cell is not lived");const a=n.cell.cellOutput.type;if(!a||!(0,s.isSporeScriptSupported)(t,a,"ClusterProxy"))throw new Error("Cannot find ClusterProxy by OutPoint because target cell is not a supported version of ClusterProxy");return n.cell},t.getClusterProxyById=async function(e,t){t=t??(0,s.getSporeConfig)();const r=((0,s.getSporeScriptCategory)(t,"ClusterProxy").versions??[]).map((e=>e.script)),i=n.bytes.hexify((0,a.packRawClusterProxyArgs)({id:e}));for(const e of r)try{return await u({...e,args:i},t)}catch(e){console.error("getClusterProxyById error:",e)}throw new Error("Cannot find ClusterProxy by ID because target cell does not exist or it's not a supported version of ClusterProxy")}},93972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterProxyCell=void 0;const n=r(33089),i=r(1828),o=r(36027);t.injectLiveClusterProxyCell=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=e.cell;let s=e.txSkeleton;const a=r.cellOutput.type,u=(0,i.getSporeScript)(t,"ClusterProxy",a);if(!a||!u)throw new Error("Cannot inject ClusterProxy because target cell is not a supported version of ClusterProxy");const c=await(0,o.setupCell)({txSkeleton:s,input:r,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since,config:t.lumos});if(s=c.txSkeleton,e.addOutput){const e=s.get("outputs").get(c.outputIndex);(0,o.assetCellMinimalCapacity)(e),s=s.update("fixedEntries",(e=>e.push({field:"outputs",index:c.outputIndex})))}return s=(0,n.addCellDep)(s,u.cellDep),{txSkeleton:s,inputIndex:c.inputIndex,outputIndex:c.outputIndex}}},16143:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveClusterProxyReference=void 0;const n=r(3599),i=r(33089),o=r(36027),s=r(1828),a=r(93972),u=r(31564);t.injectLiveClusterProxyReference=async function(e){const t=e.config??(0,s.getSporeConfig)(),r="payment"===e.referenceType;let c=e.txSkeleton;const f=e.cell;if(!f.outPoint)throw new Error("Cannot inject ClusterProxy as reference because target cell has no OutPoint");const l=f.cellOutput.type,d=(0,s.getSporeScript)(t,"ClusterProxy",l);if(!l||!d)throw new Error("Cannot inject ClusterProxy because target cell is not a supported version of ClusterProxy");let h,p;if(r){const t=(0,u.unpackToRawClusterProxyArgs)(l.args),r=void 0!==t.minPayment?t.minPayment:n.BI.from(0);if(r.lte(0))throw new Error("Cannot pay to reference ClusterProxy because minPayment is undefined");const i=(0,o.minimalCellCapacityByLock)(f.cellOutput.lock),s=r.gt(i)?r:i,a=n.BI.from(e.paymentAmount?e.paymentAmount instanceof Function?e.paymentAmount(s):e.paymentAmount:s);if(a.lt(s))throw new Error(`Cannot pay to reference ClusterProxy because paymentAmount is too low, required: ${s.toString()}, actual: ${a.toString()}`);const d={cellOutput:{capacity:a.toHexString(),lock:f.cellOutput.lock},data:"0x"};(0,o.assetCellMinimalCapacity)(d),c=c.update("outputs",(e=>(h=e.size,e.push(d)))),c=c.update("fixedEntries",(e=>e.push({field:"outputs",index:h})))}return r||(p=await(0,a.injectLiveClusterProxyCell)({txSkeleton:c,cell:f,updateOutput:e.updateOutput,updateWitness:e.updateWitness,capacityMargin:e.capacityMargin,addOutput:!0,config:t}),c=p.txSkeleton,c=c.update("fixedEntries",(e=>e.push({field:"outputs",index:p.outputIndex})))),c=(0,i.addCellDep)(c,d.cellDep),c=(0,i.addCellDep)(c,{outPoint:f.outPoint,depType:"code"}),{txSkeleton:c,referenceType:r?"payment":"cell",clusterProxy:!r&&p?{inputIndex:p.inputIndex,outputIndex:p.outputIndex}:void 0,payment:r?{outputIndex:h}:void 0}}},12518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterProxyIds=void 0;const n=r(71313),i=r(36027),o=r(31564),s=r(1828);t.injectNewClusterProxyIds=function(e){const t=e.config??(0,s.getSporeConfig)();let r=e.txSkeleton;const a=r.get("inputs").get(0);if(!a)throw new Error("Cannot generate ClusterProxy Id because Transaction.inputs[0] does not exist");let u=r.get("outputs"),c=(0,i.generateTypeIdsByOutputs)(a,u.toArray(),(e=>!!e.cellOutput.type&&(0,s.isSporeScriptSupported)(t,e.cellOutput.type,"ClusterProxy")));if(e.outputIndices&&(c=c.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),c.length!==e.outputIndices.length))throw new Error("Cannot generate ClusterProxy Id because outputIndices cannot be fully handled");for(const[e,t]of c){const r=u.get(e);if(!r)throw new Error(`Cannot generate ClusterProxy Id because Transaction.outputs[${e}] does not exist`);const i=(0,o.unpackToRawClusterProxyArgs)(r.cellOutput.type.args),s=(0,o.packRawClusterProxyArgs)({id:t,minPayment:i.minPayment});r.cellOutput.type.args=n.bytes.hexify(s),u=u.set(e,r)}return r.set("outputs",u)}},20191:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewClusterProxyOutput=void 0;const n=r(71313),i=r(33089),o=r(31564),s=r(36027),a=r(36027),u=r(1828),c=r(15751),f=r(12518);t.injectNewClusterProxyOutput=async function(e){const t=e.config??(0,u.getSporeConfig)();let r=e.txSkeleton;const l=e.clusterCell,d=l.cellOutput.type;if(!d||!(0,u.isSporeScriptSupported)(t,d,"Cluster"))throw new Error("Cannot reference Cluster because target cell is not a supported version of Cluster");const h=await(0,c.injectLiveClusterReference)({txSkeleton:r,cell:l,inputLocks:(0,s.composeInputLocks)({fromInfos:e.fromInfos,config:t.lumos}),outputLocks:(0,s.composeOutputLocks)({outputLocks:[e.toLock],fromInfos:e.fromInfos,changeAddress:e.changeAddress,config:t.lumos}),updateOutput:e.cluster?.updateOutput,updateWitness:e.cluster?.updateWitness,capacityMargin:e.cluster?.capacityMargin,config:t});r=h.txSkeleton;const p=(0,u.getSporeScript)(t,"ClusterProxy");let y=(0,a.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...p.script,args:n.bytes.hexify((0,o.packRawClusterProxyArgs)({id:"0x"+"0".repeat(64),minPayment:e.minPayment}))}},data:d.args});const g=r.get("outputs").size;r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(y=(0,a.setAbsoluteCapacityMargin)(y,e.capacityMargin)),e.updateOutput instanceof Function&&(y=e.updateOutput(y)),t.push(y)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:g})));const b=r.get("inputs").first();return b&&(r=(0,f.injectNewClusterProxyIds)({outputIndices:[g],txSkeleton:r,config:t})),r=(0,i.addCellDep)(r,p.cellDep),{txSkeleton:r,outputIndex:g,hasId:void 0!==b,reference:{referenceType:h.referenceType,cluster:h.cluster}}}},49639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMutantById=t.getMutantByOutPoint=t.getMutantByType=void 0;const n=r(71313),i=r(3599),o=r(31564),s=r(36027),a=r(1828);async function u(e,t){t=t??(0,a.getSporeConfig)();const r=new i.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl),n=await(0,s.getCellByType)({type:e,indexer:r});if(void 0===n)throw new Error("Cannot find Mutant by Type because target cell does not exist");const o=n.cellOutput.type;if(!o||!(0,a.isSporeScriptSupported)(t,o,"Mutant"))throw new Error("Cannot find Mutant by Type because target cell is not a supported version of Mutant");return n}t.getMutantByType=u,t.getMutantByOutPoint=async function(e,t){t=t??(0,a.getSporeConfig)();const r=new i.RPC(t.ckbNodeUrl),n=await(0,s.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!n.cell)throw new Error("Cannot find Mutant by OutPoint because target cell was not found");if("live"!==n.status)throw new Error("Cannot find Mutant by OutPoint because target cell is not lived");const o=n.cell.cellOutput.type;if(!o||!(0,a.isSporeScriptSupported)(t,o,"Mutant"))throw new Error("Cannot find Mutant by OutPoint because target cell is not a supported version of Mutant");return n.cell},t.getMutantById=async function(e,t){t=t??(0,a.getSporeConfig)();const r=((0,a.getSporeScriptCategory)(t,"Mutant").versions??[]).map((e=>e.script)),i=n.bytes.hexify((0,o.packRawMutantArgs)({id:e}));for(const e of r)try{return await u({...e,args:i},t)}catch(e){console.error("getMutantById error:",e)}throw new Error("Cannot find Mutant by ID because target cell does not exist or it's not a supported version of Mutant")}},12834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveMutantCell=void 0;const n=r(71313),i=r(3599),o=r(33089),s=r(1828),a=r(36027),u=r(31564);t.injectLiveMutantCell=async function(e){const t=e.cell,r=e.config??(0,s.getSporeConfig)();let c=e.txSkeleton;const f=t.cellOutput.type,l=(0,s.getSporeScript)(r,"Mutant",f);if(!f||!l)throw new Error("Cannot inject Mutant because target cell is not a supported version of Mutant");const d=await(0,a.setupCell)({txSkeleton:c,input:e.cell,config:r.lumos,addOutput:e.addOutput,updateOutput(t){if(void 0!==e.minPayment){const r=(0,u.unpackToRawMutantArgs)(t.cellOutput.type.args),o=(0,u.packRawMutantArgs)({...r,minPayment:i.BI.from(e.minPayment)});t.cellOutput.type.args=n.bytes.hexify(o)}return void 0!==e.capacityMargin&&(t=(0,a.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t},defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,since:e.since});if(c=d.txSkeleton,e.addOutput){const e=c.get("outputs").get(d.outputIndex);(0,a.assetCellMinimalCapacity)(e),c=c.update("fixedEntries",(e=>e.push({field:"outputs",index:d.outputIndex})))}return c=(0,o.addCellDep)(c,l.cellDep),{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},20012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveMutantReferences=void 0;const n=r(3599),i=r(33089),o=r(31564),s=r(36027),a=r(1828),u=r(49639);t.injectLiveMutantReferences=async function(e){const t=e.config??(0,a.getSporeConfig)();let r=e.txSkeleton;const c=Array.isArray(e.mutantIds)?e.mutantIds:[e.mutantIds],f=await Promise.all(c.map((e=>(0,u.getMutantById)(e,t)))),l=[],d=f.reduce(((e,t)=>{const r=t.cellOutput.lock,i=n.utils.computeScriptHash(r);void 0===e[i]&&(e[i]={cell:t,lock:r,minPayment:n.BI.from(0),minLockCapacity:(0,s.minimalCellCapacityByLock)(r)});const a=(0,o.unpackToRawMutantArgs)(t.cellOutput.type.args),u=void 0!==a.minPayment?a.minPayment:n.BI.from(0);return e[i].minPayment=e[i].minPayment.add(u),e}),{});for(const t of Object.values(d)){if(t.minPayment.eq(0))continue;const i=t.minPayment.gt(t.minLockCapacity)?t.minPayment:t.minLockCapacity,o=n.BI.from(e.paymentAmount?e.paymentAmount(i,t.lock,t.cell):i);if(o.lt(i))throw new Error(`Cannot pay to reference Mutant because paymentAmount is too low, required: ${i.toString()}, actual: ${o.toString()}`);const s=r.get("outputs").size;r=r.update("outputs",(e=>(l.push(s),e.push({cellOutput:{capacity:o.toHexString(),lock:t.lock},data:"0x"})))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:s})))}const h=(0,a.getSporeScript)(t,"Mutant");r=(0,i.addCellDep)(r,h.cellDep);const p=(0,a.getSporeScript)(t,"Lua");r=(0,i.addCellDep)(r,p.cellDep);for(const e of f)r=(0,i.addCellDep)(r,{outPoint:e.outPoint,depType:"code"});return{txSkeleton:r,referenceType:l.length>0?"payment":"none",payment:l.length>0?{outputIndices:l}:void 0}}},47178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewMutantIds=void 0;const n=r(71313),i=r(36027),o=r(31564),s=r(1828);t.injectNewMutantIds=function(e){const t=e.config??(0,s.getSporeConfig)();let r=e.txSkeleton;const a=r.get("inputs").get(0);if(!a)throw new Error("Cannot generate Mutant Id because Transaction.inputs[0] does not exist");let u=r.get("outputs"),c=(0,i.generateTypeIdsByOutputs)(a,u.toArray(),(e=>!!e.cellOutput.type&&(0,s.isSporeScriptSupported)(t,e.cellOutput.type,"Mutant")));if(e.outputIndices&&(c=c.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),c.length!==e.outputIndices.length))throw new Error("Cannot generate Mutant Id because outputIndices cannot be fully handled");for(const[e,t]of c){const r=u.get(e);if(!r)throw new Error(`Cannot generate Mutant Id because Transaction.outputs[${e}] does not exist`);const i=(0,o.unpackToRawMutantArgs)(r.cellOutput.type.args),s=(0,o.packRawMutantArgs)({id:t,minPayment:i.minPayment});r.cellOutput.type.args=n.bytes.hexify(s),u=u.set(e,r)}return r.set("outputs",u)}},75595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewMutantOutput=void 0;const n=r(71313),i=r(3599),o=r(33089),s=r(31564),a=r(1828),u=r(36027),c=r(47178);t.injectNewMutantOutput=function(e){const t=e.config??(0,a.getSporeConfig)();let r=e.txSkeleton;const f=(0,a.getSporeScript)(t,"Mutant");let l=(0,u.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...f.script,args:n.bytes.hexify((0,s.packRawMutantArgs)({id:"0x"+"0".repeat(64),minPayment:void 0!==e.minPayment?i.BI.from(e.minPayment):void 0}))}},data:n.bytes.hexify(e.data)});const d=r.get("outputs").size;r=r.update("outputs",(t=>(void 0!==e.capacityMargin&&(l=(0,u.setAbsoluteCapacityMargin)(l,e.capacityMargin)),e.updateOutput instanceof Function&&(l=e.updateOutput(l)),t.push(l)))),r=r.update("fixedEntries",(e=>e.push({field:"outputs",index:d})));const h=r.get("inputs").first();h&&(r=(0,c.injectNewMutantIds)({outputIndices:[d],txSkeleton:r,config:t}));const p=(0,a.getSporeScript)(t,"Lua");return r=(0,o.addCellDep)(r,p.cellDep),r=(0,o.addCellDep)(r,f.cellDep),{txSkeleton:r,outputIndex:d,hasId:void 0!==h}}},47431:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeById=t.getSporeByOutPoint=t.getSporeByType=void 0;const n=r(3599),i=r(36027),o=r(1828);async function s(e,t){t=t??(0,o.getSporeConfig)();const r=new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl);if(!(0,i.isTypeId)(e.args))throw new Error(`Target Spore ID is invalid: ${e.args}`);const s=await(0,i.getCellByType)({type:e,indexer:r});if(void 0===s)throw new Error("Cannot find Spore by Type because target cell does not exist");const a=s.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(t,a,"Spore"))throw new Error("Cannot find spore by Type because target cell type is not a supported version of Spore");return s}t.getSporeByType=s,t.getSporeByOutPoint=async function(e,t){t=t??(0,o.getSporeConfig)();const r=new n.RPC(t.ckbNodeUrl),s=await(0,i.getCellWithStatusByOutPoint)({outPoint:e,rpc:r});if(!s.cell)throw new Error("Cannot find spore by OutPoint because target cell was not found");if("live"!==s.status)throw new Error("Cannot find spore by OutPoint because target cell is not lived");const a=s.cell.cellOutput.type;if(!a||!(0,o.isSporeScriptSupported)(t,a,"Spore"))throw new Error("Cannot find spore by OutPoint because target cell type is not a supported version of Spore");return s.cell},t.getSporeById=async function(e,t){if(t=t??(0,o.getSporeConfig)(),!(0,i.isTypeId)(e))throw new Error("Cannot find spore because target SporeId is not valid");const r=((0,o.getSporeScriptCategory)(t,"Spore").versions??[]).map((e=>e.script));for(const n of r)try{return await s({...n,args:e},t)}catch{}throw new Error("Cannot find spore by SporeId because target cell does not exist or it's not a supported version of Spore")}},3096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectLiveSporeCell=void 0;const n=r(3599),i=r(24862),o=r(36027),s=r(1828),a=r(31564),u=r(49639);t.injectLiveSporeCell=async function(e){const t=e.config??(0,s.getSporeConfig)(),r=e.cell;let c=e.txSkeleton;const f=r.cellOutput.type,l=(0,s.getSporeScript)(t,"Spore",f);if(!f||!l)throw new Error("Cannot inject live spore because target cell type is not a supported version of Spore");const d=await(0,o.setupCell)({txSkeleton:c,input:r,addOutput:e.addOutput,updateOutput:t=>(void 0!==e.capacityMargin&&(t=(0,o.setAbsoluteCapacityMargin)(t,e.capacityMargin)),e.updateOutput instanceof Function&&(t=e.updateOutput(t)),t),defaultWitness:e.defaultWitness,updateWitness:e.updateWitness,config:t.lumos,since:e.since});c=d.txSkeleton,e.addOutput&&(c=c.update("fixedEntries",(e=>e.push({field:"outputs",index:d.outputIndex}))));let h=l.cellDep;if(l.behaviors?.dynamicCelldep){const e=await(0,o.getCellByType)({type:l.behaviors?.dynamicCelldep,indexer:new n.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl)});e&&(h={outPoint:e.outPoint,depType:"code"})}c=(0,i.addCellDep)(c,h);const p=(0,a.unpackToRawSporeData)(r.data);if((0,o.isContentTypeValid)(p.contentType)){const e=(0,o.decodeContentType)(p.contentType);if(void 0!==e.parameters.mutant){const r=(0,s.getSporeScript)(t,"Mutant");c=(0,i.addCellDep)(c,r.cellDep);const n=e.parameters.mutant,o=Array.isArray(n)?n:[n],a=await Promise.all(o.map((e=>(0,u.getMutantById)(e,t))));for(const e of a)c=(0,i.addCellDep)(c,{outPoint:e.outPoint,depType:"code"})}}return{txSkeleton:c,inputIndex:d.inputIndex,outputIndex:d.outputIndex}}},4788:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewSporeIds=void 0;const n=r(36027),i=r(1828);t.injectNewSporeIds=function(e){const t=e.config??(0,i.getSporeConfig)();let r=e.txSkeleton;const o=r.get("inputs").get(0);if(!o)throw new Error("Cannot generate Spore Id because Transaction.inputs[0] does not exist");let s=r.get("outputs"),a=(0,n.generateTypeIdsByOutputs)(o,s.toArray(),(e=>!!e.cellOutput.type&&(0,i.isSporeScriptSupported)(t,e.cellOutput.type,"Spore")));if(e.outputIndices&&(a=a.filter((([t])=>e.outputIndices.findIndex((e=>e===t))>=0)),a.length!==e.outputIndices.length))throw new Error("Cannot generate Spore Id because sporeOutputIndices cannot be fully handled");for(const[e,t]of a){const r=s.get(e);if(!r)throw new Error(`Cannot generate Spore Id because Transaction.outputs[${e}] does not exist`);r.cellOutput.type.args=t,s=s.set(e,r)}return r.set("outputs",s)}},97633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectNewSporeOutput=void 0;const n=r(71313),i=r(3599),o=r(24862),s=r(31564),a=r(1828),u=r(36027),c=r(36027),f=r(36027),l=r(69737),d=r(15751),h=r(55629),p=r(20012),y=r(4788);t.injectNewSporeOutput=async function(e){const t=e.config??(0,a.getSporeConfig)(),r=e.data;let g=e.txSkeleton;const b=!!r.clusterId&&!e.clusterAgentCell,m=!!r.clusterId&&!!e.clusterAgentCell;let v;const _=r.clusterId?await(0,l.getClusterById)(r.clusterId,t):void 0;let w;if(b&&(v=await(0,d.injectLiveClusterReference)({txSkeleton:g,cell:_,inputLocks:(0,f.composeInputLocks)({fromInfos:e.fromInfos,config:t.lumos}),outputLocks:(0,f.composeOutputLocks)({outputLocks:e.extraOutputLocks?e.extraOutputLocks.concat([e.toLock]):[e.toLock],fromInfos:e.fromInfos,changeAddress:e.changeAddress,config:t.lumos}),capacityMargin:e.cluster?.capacityMargin,updateOutput:e.cluster?.updateOutput,updateWitness:e.cluster?.updateWitness,defaultWitness:e.cluster?.defaultWitness,since:e.cluster?.since,config:t}),g=v.txSkeleton),m){w=await(0,h.injectLiveClusterAgentReference)({txSkeleton:g,cell:e.clusterAgentCell,inputLocks:(0,f.composeInputLocks)({fromInfos:e.fromInfos,config:t.lumos}),outputLocks:(0,f.composeOutputLocks)({outputLocks:[e.toLock],fromInfos:e.fromInfos,changeAddress:e.changeAddress,config:t.lumos}),capacityMargin:e.clusterAgent?.capacityMargin,updateOutput:e.clusterAgent?.updateOutput,updateWitness:e.clusterAgent?.updateWitness,defaultWitness:e.clusterAgent?.defaultWitness,since:e.clusterAgent?.since,config:t}),g=w.txSkeleton;const r=_.cellOutput.type,n=(0,a.getSporeScript)(t,"Cluster",r);if(!r||!n)throw new Error("Cannot reference Cluster because target cell is not a supported version of Cluster");g=(0,o.addCellDep)(g,n.cellDep),g=(0,o.addCellDep)(g,{outPoint:_.outPoint,depType:"code"})}const S=(0,u.setContentTypeParameters)(r.contentType,r.contentTypeParameters??{}),E=e.skipCheckContentType??!1;if(!E&&!(0,f.isContentTypeValid)(S))throw new Error(`Spore has specified an invalid data.contentType: ${S}`);const A=(0,a.getSporeScript)(t,"Spore");let x=(0,c.correctCellMinimalCapacity)({cellOutput:{capacity:"0x0",lock:e.toLock,type:{...A.script,args:"0x"+"0".repeat(64)}},data:n.bytes.hexify((0,s.packRawSporeData)({contentType:S,content:r.content,clusterId:r.clusterId}))});const k=g.get("outputs").size;g=g.update("outputs",(t=>(void 0!==e.capacityMargin&&(x=(0,c.setAbsoluteCapacityMargin)(x,e.capacityMargin)),e.updateOutput instanceof Function&&(x=e.updateOutput(x)),t.push(x)))),g=g.update("fixedEntries",(e=>e.push({field:"outputs",index:k})));const I=g.get("inputs").first();let T;if(void 0!==I&&(g=(0,y.injectNewSporeIds)({outputIndices:[k],txSkeleton:g,config:t})),!E){const r=(0,f.decodeContentType)(S);void 0!==r.parameters.mutant&&(T=await(0,p.injectLiveMutantReferences)({txSkeleton:g,mutantIds:r.parameters.mutant,paymentAmount:e.mutant?.paymentAmount,config:t}),g=T.txSkeleton)}let C=A.cellDep;if(A.behaviors?.dynamicCelldep){const e=await(0,u.getCellByType)({type:A.behaviors?.dynamicCelldep,indexer:new i.Indexer(t.ckbIndexerUrl,t.ckbNodeUrl)});e&&(C={outPoint:e.outPoint,depType:"code"})}return g=(0,o.addCellDep)(g,C),{txSkeleton:g,outputIndex:k,hasId:void 0!==I,reference:{referenceTarget:b?"cluster":m?"clusterAgent":"none",referenceType:b?v.referenceType:m?w.referenceType:void 0,cluster:v?.cluster,clusterAgent:w?.clusterAgent},mutantReference:T?{referenceType:T.referenceType,payment:T.payment}:void 0}}},50752:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateClusterBuildingPacket=t.generateCreateClusterAction=t.assembleCreateClusterAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(e){const t=[],r=[],a=e.cellOutput.type,c=n.utils.computeScriptHash(a),f=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:c});r.push(f);const l=o.SporeAction.pack({type:"CreateCluster",value:{clusterId:a.args,dataHash:n.utils.ckbHash(e.data),to:{type:"Script",value:e.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(f)),scriptHash:c,data:i.bytes.hexify(l)}),{actions:t,scriptInfos:r}}function f(e){return c(e.txSkeleton.get("outputs").get(e.outputIndex))}t.assembleCreateClusterAction=c,t.generateCreateClusterAction=f,t.generateCreateClusterBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},74941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateReferenceClusterAction=void 0;const n=r(78261);t.generateReferenceClusterAction=function(e){if("lockProxy"===e.referenceType)return{actions:[],scriptInfos:[]};if(!e.cluster)throw new Error("Cannot generate TransferCluster Action without cluster info");return(0,n.generateTransferClusterAction)({txSkeleton:e.txSkeleton,inputIndex:e.cluster.inputIndex,outputIndex:e.cluster.outputIndex})}},78261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferClusterBuildingPacket=t.generateTransferClusterAction=t.assembleTransferClusterAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(e,t){const r=[],a=[],c=t.cellOutput.type,f=n.utils.computeScriptHash(c),l=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:f});a.push(l);const d=o.SporeAction.pack({type:"TransferCluster",value:{clusterId:c.args,from:{type:"Script",value:e.cellOutput.lock},to:{type:"Script",value:t.cellOutput.lock}}});return r.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(l)),scriptHash:f,data:i.bytes.hexify(d)}),{actions:r,scriptInfos:a}}function f(e){let t=e.txSkeleton;return c(t.get("inputs").get(e.inputIndex),t.get("outputs").get(e.outputIndex))}t.assembleTransferClusterAction=c,t.generateTransferClusterAction=f,t.generateTransferClusterBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},11228:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateClusterAgentBuildingPacket=t.generateCreateClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(52293);function f(e){const t=[],r=[];let a=e.txSkeleton;const f=a.get("outputs").get(e.outputIndex),l=f.cellOutput.type,d=n.utils.computeScriptHash(l),h=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:d});r.push(h);const p=o.SporeAction.pack({type:"CreateClusterAgent",value:{clusterId:l.args,clusterProxyId:e.clusterProxyId,to:{type:"Script",value:f.cellOutput.lock}}});t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(h)),scriptHash:d,data:i.bytes.hexify(p)});const y=(0,c.generateReferenceClusterProxyAction)({txSkeleton:a,referenceType:e.reference.referenceType,clusterProxy:e.reference.clusterProxy});return t.push(...y.actions),r.push(...y.scriptInfos),{actions:t,scriptInfos:r}}t.generateCreateClusterAgentAction=f,t.generateCreateClusterAgentBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},86078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeltClusterAgentBuildingPacket=t.generateMeltClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(e){const t=[],r=[];const a=e.txSkeleton.get("inputs").get(e.inputIndex),c=a.cellOutput.type,f=n.utils.computeScriptHash(c),l=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:f});r.push(l);const d=o.SporeAction.pack({type:"MeltClusterAgent",value:{clusterId:a.cellOutput.type.args,from:{type:"Script",value:a.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(l)),scriptHash:f,data:i.bytes.hexify(d)}),{actions:t,scriptInfos:r}}t.generateMeltClusterAgentAction=c,t.generateMeltClusterAgentBuildingPacket=function(e){let t=e.txSkeleton;const r=c(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},40653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateReferenceClusterAgentAction=void 0;const n=r(58227);t.generateReferenceClusterAgentAction=function(e){if("lockProxy"===e.referenceType)return{actions:[],scriptInfos:[]};if(!e.clusterAgent)throw new Error("Cannot generate TransferClusterAgent Action without clusterAgent info");return(0,n.generateTransferClusterAgentAction)({txSkeleton:e.txSkeleton,inputIndex:e.clusterAgent.inputIndex,outputIndex:e.clusterAgent.outputIndex})}},58227:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferClusterAgentBuildingPacket=t.generateTransferClusterAgentAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(e){const t=[],r=[];let a=e.txSkeleton;const c=a.get("inputs").get(e.inputIndex),f=a.get("outputs").get(e.outputIndex),l=f.cellOutput.type,d=n.utils.computeScriptHash(l),h=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:d});r.push(h);const p=o.SporeAction.pack({type:"TransferClusterAgent",value:{clusterId:l.args.slice(0,66),from:{type:"Script",value:c.cellOutput.lock},to:{type:"Script",value:f.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(h)),scriptHash:d,data:i.bytes.hexify(p)}),{actions:t,scriptInfos:r}}t.generateTransferClusterAgentAction=c,t.generateTransferClusterAgentBuildingPacket=function(e){let t=e.txSkeleton;const r=c(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},74746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateClusterProxyBuildingPacket=t.generateCreateClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(74941),f=r(31564);function l(e){const t=[],r=[];let a=e.txSkeleton;const l=a.get("outputs").get(e.outputIndex),d=l.cellOutput.type,h=n.utils.computeScriptHash(d),p=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:h});r.push(p);const y=o.SporeAction.pack({type:"CreateClusterProxy",value:{clusterId:l.data,clusterProxyId:(0,f.unpackToRawClusterProxyArgs)(d.args).id,to:{type:"Script",value:l.cellOutput.lock}}});t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(p)),scriptHash:h,data:i.bytes.hexify(y)});const g=(0,c.generateReferenceClusterAction)({txSkeleton:a,referenceType:e.reference.referenceType,cluster:e.reference.cluster});return t.push(...g.actions),r.push(...g.scriptInfos),{actions:t,scriptInfos:r}}t.generateCreateClusterProxyAction=l,t.generateCreateClusterProxyBuildingPacket=function(e){let t=e.txSkeleton;const r=l(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},5244:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeltClusterProxyBuildingPacket=t.generateMeltClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(31564);function f(e){const t=[],r=[];const a=e.txSkeleton.get("inputs").get(e.inputIndex),f=a.cellOutput.type,l=n.utils.computeScriptHash(f),d=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:l});r.push(d);const h=o.SporeAction.pack({type:"MeltClusterProxy",value:{clusterId:a.data,clusterProxyId:(0,c.unpackToRawClusterProxyArgs)(f.args).id,from:{type:"Script",value:a.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(d)),scriptHash:l,data:i.bytes.hexify(h)}),{actions:t,scriptInfos:r}}t.generateMeltClusterProxyAction=f,t.generateMeltClusterProxyBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},52293:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateReferenceClusterProxyAction=void 0;const n=r(85781);t.generateReferenceClusterProxyAction=function(e){if("payment"===e.referenceType)return{actions:[],scriptInfos:[]};if(!e.clusterProxy)throw new Error("Cannot generate TransferClusterProxy Action without clusterProxy info");return(0,n.generateTransferClusterProxyAction)({txSkeleton:e.txSkeleton,inputIndex:e.clusterProxy.inputIndex,outputIndex:e.clusterProxy.outputIndex})}},85781:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferClusterProxyBuildingPacket=t.generateTransferClusterProxyAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(31564);function f(e){const t=[],r=[];let a=e.txSkeleton;const f=a.get("inputs").get(e.inputIndex),l=a.get("outputs").get(e.outputIndex),d=l.cellOutput.type,h=n.utils.computeScriptHash(d),p=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:h});r.push(p);const y=o.SporeAction.pack({type:"TransferClusterProxy",value:{clusterId:l.data,clusterProxyId:(0,c.unpackToRawClusterProxyArgs)(d.args).id,from:{type:"Script",value:f.cellOutput.lock},to:{type:"Script",value:l.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(p)),scriptHash:h,data:i.bytes.hexify(y)}),{actions:t,scriptInfos:r}}t.generateTransferClusterProxyAction=f,t.generateTransferClusterProxyBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},37760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCreateSporeBuildingPacket=t.generateCreateSporeAction=t.assembleCreateSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654),c=r(74941),f=r(40653);function l(e){const t=[],r=[],a=e.cellOutput.type,c=n.utils.computeScriptHash(a),f=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:c});r.push(f);const l=o.SporeAction.pack({type:"CreateSpore",value:{sporeId:a.args,dataHash:n.utils.ckbHash(e.data),to:{type:"Script",value:e.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(f)),scriptHash:c,data:i.bytes.hexify(l)}),{actions:t,scriptInfos:r}}function d(e){let t=e.txSkeleton;const r=t.get("outputs").get(e.outputIndex);let{actions:n,scriptInfos:i}=l(r);if("clusterAgent"===e.reference.referenceTarget){const r=(0,f.generateReferenceClusterAgentAction)({txSkeleton:t,referenceType:e.reference.referenceType,clusterAgent:e.reference.clusterAgent});n.push(...r.actions),i.push(...r.scriptInfos)}if("cluster"===e.reference.referenceTarget){const r=(0,c.generateReferenceClusterAction)({txSkeleton:t,referenceType:e.reference.referenceType,cluster:e.reference.cluster});n.push(...r.actions),i.push(...r.scriptInfos)}return{actions:n,scriptInfos:i}}t.assembleCreateSporeAction=l,t.generateCreateSporeAction=d,t.generateCreateSporeBuildingPacket=function(e){let t=e.txSkeleton;const r=d(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},3902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeltSporeBuildingPacket=t.generateMeltSporeAction=t.assembleMeltSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(e){const t=[],r=[],a=e.cellOutput.type,c=n.utils.computeScriptHash(a),f=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:c});r.push(f);const l=o.SporeAction.pack({type:"MeltSpore",value:{sporeId:a.args,from:{type:"Script",value:e.cellOutput.lock}}});return t.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(f)),scriptHash:c,data:i.bytes.hexify(l)}),{actions:t,scriptInfos:r}}function f(e){return c(e.txSkeleton.get("inputs").get(e.inputIndex))}t.assembleMeltSporeAction=c,t.generateMeltSporeAction=f,t.generateMeltSporeBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:t.get("outputs").size-1})}},61545:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTransferSporeBuildingPacket=t.generateTransferSporeAction=t.assembleTransferSporeAction=void 0;const n=r(3599),i=r(71313),o=r(20462),s=r(75945),a=r(62638),u=r(17654);function c(e,t){const r=[],a=[],c=t.cellOutput.type,f=n.utils.computeScriptHash(c),l=(0,u.createSporeScriptInfoFromTemplate)({scriptHash:f});a.push(l);const d=o.SporeAction.pack({type:"TransferSpore",value:{sporeId:c.args,from:{type:"Script",value:e.cellOutput.lock},to:{type:"Script",value:t.cellOutput.lock}}});return r.push({scriptInfoHash:n.utils.ckbHash(s.ScriptInfo.pack(l)),scriptHash:f,data:i.bytes.hexify(d)}),{actions:r,scriptInfos:a}}function f(e){let t=e.txSkeleton;return c(t.get("inputs").get(e.inputIndex),t.get("outputs").get(e.outputIndex))}t.assembleTransferSporeAction=c,t.generateTransferSporeAction=f,t.generateTransferSporeBuildingPacket=function(e){let t=e.txSkeleton;const r=f(e);return(0,a.createRawBuildingPacket)({txSkeleton:t,actions:r.actions,scriptInfos:r.scriptInfos,changeOutput:e.useCapacityMarginAsFee?e.outputIndex:t.get("outputs").size-1})}},62638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRawBuildingPacket=void 0;const n=r(3599),i=r(16043);t.createRawBuildingPacket=function(e){const t=e.txSkeleton;return{type:"BuildingPacketV1",value:{message:{actions:e.actions??[]},payload:n.helpers.createTransactionFromSkeleton(t),resolvedInputs:(0,i.inputCellsToResolvedInputs)(t.get("inputs")),changeOutput:e.changeOutput??t.get("outputs").size-1,scriptInfos:e.scriptInfos??[],lockActions:[]}}}},16043:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvedInputsToInputCells=t.inputCellsToResolvedInputs=void 0,t.inputCellsToResolvedInputs=function(e,t){return t instanceof Function&&(e=e.filter(t)),e.reduce(((e,t)=>(e.outputs.push(t.cellOutput),e.outputsData.push(t.data),e)),{outputs:[],outputsData:[]})},t.resolvedInputsToInputCells=function(e,t){return e.map(((e,r)=>({cellOutput:t.outputs[r],data:t.outputsData[r],outPoint:e.previousOutput})))}},17654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSporeScriptInfoFromTemplate=t.sporeScriptInfoTemplate=t.sporeScriptInfoSchema=t.sporeScriptInfoMessageType=void 0,t.sporeScriptInfoMessageType="SporeAction",t.sporeScriptInfoSchema="\narray Byte32 [byte; 32];\nvector Bytes <byte>;\n\ntable Script {\n    code_hash: Byte32,\n    hash_type: byte,\n    args: Bytes,\n}\n\nunion Address {\n    Script,\n}\n\n/* Actions for Spore */\n\ntable MintSpore {\n    spore_id: Byte32,\n    to: Address,\n    data_hash: Byte32,\n}\n\ntable TransferSpore {\n    spore_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnSpore {\n    spore_id: Byte32,\n    from: Address,\n}\n\n/* Actions for Cluster */\n\ntable MintCluster {\n    cluster_id: Byte32,\n    to: Address,\n    data_hash: Byte32,\n}\n\ntable TransferCluster {\n    cluster_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\n/* Actions for Cluster/Proxy */\n\ntable MintProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    to: Address,\n}\n\ntable TransferProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnProxy {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    from: Address,\n}\n\n/* Actions for Cluster/Agent */\n\ntable MintAgent {\n    cluster_id: Byte32,\n    proxy_id: Byte32,\n    to: Address,\n}\n\ntable TransferAgent {\n    cluster_id: Byte32,\n    from: Address,\n    to: Address,\n}\n\ntable BurnAgent {\n    cluster_id: Byte32,\n    from: Address,\n}\n\n/* Action in ScriptInfo */\n\nunion SporeAction {\n    MintSpore,\n    TransferSpore,\n    BurnSpore,\n\n    MintCluster,\n    TransferCluster,\n\n    MintProxy,\n    TransferProxy,\n    BurnProxy,\n\n    MintAgent,\n    TransferAgent,\n    BurnAgent,\n}\n",t.sporeScriptInfoTemplate={name:"spore",url:"https://spore.pro",schema:t.sporeScriptInfoSchema,messageType:t.sporeScriptInfoMessageType},t.createSporeScriptInfoFromTemplate=function(e){return{...t.sporeScriptInfoTemplate,scriptHash:e.scriptHash}}},30089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectCommonCobuildProof=t.assembleCobuildWitnessLayout=t.unpackWitness=t.getWitnessType=void 0;const n=r(41600),i=r(71313),o=r(24888);function s(e){return i.bytes.hexify(o.WitnessLayout.pack({type:"SighashAll",value:{seal:"0x",message:{actions:e}}}))}t.getWitnessType=function(e){const t=i.bytes.bytify(e??[]);if(t.length>4){const e=i.number.Uint32LE.unpack(t.slice(0,4));if(!(e>=o.WitnessLayoutFieldTags.SighashAll))return"WitnessArgs";for(const[t,r]of Object.entries(o.WitnessLayoutFieldTags))if(r===e)return t}throw new Error("Unknown witness format")},t.unpackWitness=function(e){const t=i.bytes.bytify(e??[]);if(t.length>4){const e=i.number.Uint32LE.unpack(t.slice(0,4));try{return e>=o.WitnessLayoutFieldTags.SighashAll?o.WitnessLayout.unpack(t):{type:"WitnessArgs",value:n.blockchain.WitnessArgs.unpack(t)}}catch(e){}}throw new Error("Unknown witness format")},t.assembleCobuildWitnessLayout=s,t.injectCommonCobuildProof=function(e){let t=e.txSkeleton;if(t.get("inputs").size>0){let r;return t=t.update("witnesses",(t=>{r=t.size;const n=s(e.actions);return t.push(n)})),{txSkeleton:t,witnessIndex:r}}throw new Error("Cannot inject CobuildProof into a Transaction without witnesses")}},75945:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BuildingPacket=t.BuildingPacketV1=t.ScriptInfoVec=t.ScriptInfo=t.ResolvedInputs=t.Message=t.ActionVec=t.Action=void 0;const n=r(71313),i=r(41600),o=r(31564);t.Action=n.molecule.table({scriptInfoHash:o.Hash,scriptHash:o.Hash,data:i.blockchain.Bytes},["scriptInfoHash","scriptHash","data"]),t.ActionVec=n.molecule.vector(t.Action),t.Message=n.molecule.table({actions:t.ActionVec},["actions"]),t.ResolvedInputs=n.molecule.table({outputs:i.blockchain.CellOutputVec,outputsData:i.blockchain.BytesVec},["outputs","outputsData"]),t.ScriptInfo=n.molecule.table({name:o.RawString,url:o.RawString,scriptHash:o.Hash,schema:o.RawString,messageType:o.RawString},["name","url","scriptHash","schema","messageType"]),t.ScriptInfoVec=n.molecule.vector(t.ScriptInfo),t.BuildingPacketV1=n.molecule.table({message:t.Message,payload:i.blockchain.Transaction,resolvedInputs:t.ResolvedInputs,changeOutput:o.Uint32Opt,scriptInfos:t.ScriptInfoVec,lockActions:t.ActionVec},["message","payload","resolvedInputs","changeOutput","scriptInfos","lockActions"]),t.BuildingPacket=n.molecule.union({BuildingPacketV1:t.BuildingPacketV1},["BuildingPacketV1"])},20462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SporeAction=t.MeltClusterAgent=t.TransferClusterAgent=t.CreateClusterAgent=t.MeltClusterProxy=t.TransferClusterProxy=t.CreateClusterProxy=t.TransferCluster=t.CreateCluster=t.MeltSpore=t.TransferSpore=t.CreateSpore=t.Address=void 0;const n=r(71313),i=r(41600),o=r(31564);t.Address=n.molecule.union({Script:i.blockchain.Script},["Script"]),t.CreateSpore=n.molecule.table({sporeId:o.Hash,to:t.Address,dataHash:o.Hash},["sporeId","to","dataHash"]),t.TransferSpore=n.molecule.table({sporeId:o.Hash,from:t.Address,to:t.Address},["sporeId","from","to"]),t.MeltSpore=n.molecule.table({sporeId:o.Hash,from:t.Address},["sporeId","from"]),t.CreateCluster=n.molecule.table({clusterId:o.Hash,to:t.Address,dataHash:o.Hash},["clusterId","to","dataHash"]),t.TransferCluster=n.molecule.table({clusterId:o.Hash,from:t.Address,to:t.Address},["clusterId","from","to"]),t.CreateClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,to:t.Address},["clusterId","clusterProxyId","to"]),t.TransferClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,from:t.Address,to:t.Address},["clusterId","clusterProxyId","from","to"]),t.MeltClusterProxy=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,from:t.Address},["clusterId","clusterProxyId","from"]),t.CreateClusterAgent=n.molecule.table({clusterId:o.Hash,clusterProxyId:o.Hash,to:t.Address},["clusterId","clusterProxyId","to"]),t.TransferClusterAgent=n.molecule.table({clusterId:o.Hash,from:t.Address,to:t.Address},["clusterId","from","to"]),t.MeltClusterAgent=n.molecule.table({clusterId:o.Hash,from:t.Address},["clusterId","from"]),t.SporeAction=n.molecule.union({CreateSpore:t.CreateSpore,TransferSpore:t.TransferSpore,MeltSpore:t.MeltSpore,CreateCluster:t.CreateCluster,TransferCluster:t.TransferCluster,CreateClusterProxy:t.CreateClusterProxy,TransferClusterProxy:t.TransferClusterProxy,MeltClusterProxy:t.MeltClusterProxy,CreateClusterAgent:t.CreateClusterAgent,TransferClusterAgent:t.TransferClusterAgent,MeltClusterAgent:t.MeltClusterAgent},["CreateSpore","TransferSpore","MeltSpore","CreateCluster","TransferCluster","CreateClusterProxy","TransferClusterProxy","MeltClusterProxy","CreateClusterAgent","TransferClusterAgent","MeltClusterAgent"])},24888:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WitnessLayout=t.WitnessLayoutFieldTags=t.OtxStart=t.Otx=t.SighashAllOnly=t.SighashAll=void 0;const n=r(41600),i=r(71313),o=r(75945);t.SighashAll=i.molecule.table({seal:n.blockchain.Bytes,message:o.Message},["seal","message"]),t.SighashAllOnly=i.molecule.table({seal:n.blockchain.Bytes},["seal"]),t.Otx=i.molecule.table({},[]),t.OtxStart=i.molecule.table({},[]),t.WitnessLayoutFieldTags={SighashAll:4278190081,SighashAllOnly:4278190082,Otx:4278190083,OtxStart:4278190084},t.WitnessLayout=i.molecule.union({SighashAll:t.SighashAll,SighashAllOnly:t.SighashAllOnly,Otx:t.Otx,OtxStart:t.OtxStart},t.WitnessLayoutFieldTags)},13972:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(62638),t),i(r(16043),t),i(r(17654),t),i(r(30089),t),i(r(75945),t),i(r(24888),t),i(r(20462),t),i(r(37760),t),i(r(61545),t),i(r(3902),t),i(r(50752),t),i(r(78261),t),i(r(74941),t),i(r(74746),t),i(r(85781),t),i(r(52293),t),i(r(5244),t),i(r(11228),t),i(r(58227),t),i(r(40653),t),i(r(86078),t)},75930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawClusterDataV2=t.unpackToRawClusterDataV1=t.unpackToRawClusterData=t.packRawClusterDataV2=t.packRawClusterDataV1=t.packRawClusterData=t.ClusterDataV2=t.ClusterDataV1=void 0;const n=r(41600),i=r(71313),o=r(36027),s=r(71313);function a(e){return t.ClusterDataV1.pack({name:(0,o.bytifyRawString)(e.name),description:(0,o.bytifyRawString)(e.description)})}function u(e){return t.ClusterDataV2.pack({name:(0,o.bytifyRawString)(e.name),description:(0,o.bytifyRawString)(e.description),mutantId:e.mutantId})}function c(e){const r=t.ClusterDataV1.unpack(e);return{name:(0,o.bufferToRawString)(r.name),description:(0,o.bufferToRawString)(r.description)}}function f(e){const r=t.ClusterDataV2.unpack(e);return{name:(0,o.bufferToRawString)(r.name),description:(0,o.bufferToRawString)(r.description),mutantId:r.mutantId}}t.ClusterDataV1=i.molecule.table({name:n.blockchain.Bytes,description:n.blockchain.Bytes},["name","description"]),t.ClusterDataV2=i.molecule.table({name:n.blockchain.Bytes,description:n.blockchain.Bytes,mutantId:n.blockchain.BytesOpt},["name","description","mutantId"]),t.packRawClusterData=function(e,t){if(!t)return u(e);switch(t){case"v1":return a(e);case"v2":return u(e);default:throw new Error(`Unsupported ClusterData version: ${t}`)}},t.packRawClusterDataV1=a,t.packRawClusterDataV2=u,t.unpackToRawClusterData=function(e,t){if(t)switch(t){case"v1":return c(e);case"v2":return f(e);default:throw new Error(`Unsupported ClusterData version: ${t}`)}try{return f(e)}catch{try{return c(e)}catch{throw new Error(`Cannot unpack ClusterData, no matching molecule: ${s.bytes.hexify(e)}`)}}},t.unpackToRawClusterDataV1=c,t.unpackToRawClusterDataV2=f},83557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packRawClusterAgentData=t.packRawClusterAgentDataToHash=void 0;const n=r(3599),i=r(71313);function o(e){return n.utils.computeScriptHash(e)}t.packRawClusterAgentDataToHash=o,t.packRawClusterAgentData=function(e){const t=o(e);return i.bytes.bytify(t)}},42820:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawClusterProxyArgs=t.packRawClusterProxyArgs=t.ClusterProxyArgsExact=t.ClusterProxyArgsPower=void 0;const n=r(92900),i=r(41600),o=r(71313),s=r(17733);t.ClusterProxyArgsPower=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=s.Uint8Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=s.Uint8Opt.unpack(e.slice(32,33));return{id:t,minPayment:"number"==typeof r?n.BI.from(r):void 0}}}),t.ClusterProxyArgsExact=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=s.Uint64Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=s.Uint64Opt.unpack(e.slice(32,40));return{id:t,minPayment:(n.BI.isBI(r),r)}}}),t.packRawClusterProxyArgs=function(e,r){switch(r){case"power":return t.ClusterProxyArgsPower.pack(e);case"exact":case void 0:return t.ClusterProxyArgsExact.pack(e);default:throw new Error(`Unsupported ClusterProxy version: ${r}`)}},t.unpackToRawClusterProxyArgs=function(e,r){switch(r){case"power":return t.ClusterProxyArgsPower.unpack(e);case"exact":case void 0:return t.ClusterProxyArgsExact.unpack(e);default:throw new Error(`Unsupported ClusterProxy version: ${r}`)}}},31564:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17733),t),i(r(49657),t),i(r(75930),t),i(r(42820),t),i(r(83557),t),i(r(47745),t)},47745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawMutantArgs=t.packRawMutantArgs=t.MutantArgsExact=t.MutantArgsPower=void 0;const n=r(92900),i=r(41600),o=r(71313),s=r(17733);t.MutantArgsPower=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=s.Uint8Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=s.Uint8Opt.unpack(e.slice(32,33));return{id:t,minPayment:"number"==typeof r?n.BI.from(r):void 0}}}),t.MutantArgsExact=(0,o.createBytesCodec)({pack(e){const t=i.blockchain.Byte32.pack(e.id),r=s.Uint64Opt.pack(e.minPayment),n=new Uint8Array(t.length+r.length);return n.set(t,0),n.set(r,t.length),n},unpack(e){const t=i.blockchain.Byte32.unpack(e.slice(0,32)),r=s.Uint64Opt.unpack(e.slice(32,40));return{id:t,minPayment:(n.BI.isBI(r),r)}}}),t.packRawMutantArgs=function(e,r){switch(r){case"power":return t.MutantArgsPower.pack(e);case"exact":case void 0:return t.MutantArgsExact.pack(e);default:throw new Error(`Unsupported Mutant version: ${r}`)}},t.unpackToRawMutantArgs=function(e,r){switch(r){case"power":return t.MutantArgsPower.unpack(e);case"exact":case void 0:return t.MutantArgsExact.unpack(e);default:throw new Error(`Unsupported Mutant version: ${r}`)}}},49657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackToRawSporeData=t.packRawSporeData=t.SporeData=void 0;const n=r(41600),i=r(71313),o=r(36027);t.SporeData=i.molecule.table({contentType:n.blockchain.Bytes,content:n.blockchain.Bytes,clusterId:n.blockchain.BytesOpt},["contentType","content","clusterId"]),t.packRawSporeData=function(e){return t.SporeData.pack({contentType:(0,o.bytifyRawString)(e.contentType),content:e.content,clusterId:e.clusterId})},t.unpackToRawSporeData=function(e){const r=t.SporeData.unpack(e);return{contentType:(0,o.bufferToRawString)(r.contentType),content:r.content,clusterId:r.clusterId}}},17733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawString=t.Hash=t.Uint64Opt=t.Uint32Opt=t.Uint8Opt=t.ScriptId=void 0;const n=r(41600),i=r(71313),o=r(36027);t.ScriptId=i.molecule.struct({codeHash:n.blockchain.Byte32,hashType:n.blockchain.HashType},["codeHash","hashType"]),t.Uint8Opt=i.molecule.option(i.number.Uint8),t.Uint32Opt=i.molecule.option(i.number.Uint32LE),t.Uint64Opt=i.molecule.option(i.number.Uint64LE),t.Hash=n.blockchain.Byte32,t.RawString=i.molecule.byteVecOf({pack:e=>(0,o.bytifyRawString)(e),unpack:e=>(0,o.bufferToRawString)(e)})},74762:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeCacheScriptByCodeHash=t.getSporeCacheScriptsByTags=t.getSporeCacheScriptsByTag=t.createSporeConfigCache=t.getSporeConfigCache=t.setSporeConfigCache=void 0;const i=n(r(88055)),o=r(45358),s=new Map;function a(e){const t=u(e);s.set(t.hash,t)}function u(e){const t=(0,o.getSporeConfigHash)(e),r={},n={},s={},a={};for(const t in e.scripts){const o=e.scripts[t],u={},c={};for(const e of o.versions){const n={name:t,...(0,i.default)(e)};r[e.script.codeHash]=n;const o=e.tags.sort();for(const e of o)void 0===u[e]&&(u[e]=[]),u[e].push(n);const s=o.join(",");c[s]||(c[s]=[]),c[s].push(n)}n[t]=u,s[t]=c,a[t]={}}return{hash:t,config:e,scriptsByTag:n,scriptsByTags:s,scriptsByCodeHash:r,queryRecordsByTags:a}}function c(e,t,r){const n=e.scriptsByTag[t]?.[r];if(Array.isArray(n))return n}t.setSporeConfigCache=a,t.getSporeConfigCache=function(e){const t=(0,o.getSporeConfigHash)(e);return s.has(t)||a(e),s.get(t)},t.createSporeConfigCache=u,t.getSporeCacheScriptsByTag=c,t.getSporeCacheScriptsByTags=function(e,t,r){if(1===r.length)return c(e,t,r[0]);const n=e.queryRecordsByTags[t],i=r.sort(),o=i.join(",");if(n&&o in n)return n[o];const s=e.scriptsByTags[t];if(!s)return;const a=i.join(",.*"),u=new RegExp(`${a}.*`,"g"),f=Object.entries(s).filter((([e])=>u.test(e)));if(f){const e=f.reduce(((e,[t,r])=>(e.push(...r),e)),[]);return n[o]=e,e}},t.getSporeCacheScriptByCodeHash=function(e,t,r){const n=e.scriptsByCodeHash[t];if(!r||n.name===r)return n}},51896:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.forkSporeConfig=t.getSporeConfig=t.setSporeConfig=void 0;const i=n(r(88055));let o=r(85256).predefinedSporeConfigs.Aggron4;t.setSporeConfig=function(e){o=e},t.getSporeConfig=function(){return o},t.forkSporeConfig=function(e,t){const r={...(e=(0,i.default)(e)).scripts,...t.scripts};return{...e,...t,scripts:r}}},45358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSporeConfigHash=void 0;const n=r(41600),i=r(36027),o=new Map;t.getSporeConfigHash=function(e){const t=JSON.stringify(e,null,0);if(o.has(t))return o.get(t);const r=n.utils.ckbHash((0,i.bytifyRawString)(t));return o.set(t,r),r}},1828:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12833),t),i(r(45358),t),i(r(74762),t),i(r(51896),t),i(r(93633),t),i(r(85256),t)},85256:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.predefinedSporeConfigs=void 0;const n=r(14105),i={lumos:n.predefined.AGGRON4,ckbNodeUrl:"https://testnet.ckb.dev/rpc",ckbIndexerUrl:"https://testnet.ckb.dev/indexer",maxTransactionSize:512e3,defaultTags:["preview"],scripts:{Spore:{versions:[{tags:["v2","did"],script:{codeHash:"0x0b1f412fbae26853ff7d082d422c2bdd9e2ff94ee8aaec11240a5b34cc6e890f",hashType:"type"},cellDep:{outPoint:{txHash:"0x29d0123dda05cb92452a46df609e9bd08e066d62f0c3953fe34935dc10edfdcc",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,dynamicCelldep:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x80f0d4bf6b3951911aa6b98cc609d477a8a10b903b35cfd528d098e95c36f680"}}},{tags:["v2","preview"],script:{codeHash:"0x685a60219309029d01310311dba953d67029170ca4848a4ff638e57002130a0d",hashType:"data1"},cellDep:{outPoint:{txHash:"0x5e8d2a517d50fd4bb4d01737a7952a1f1d35c8afc77240695bb569cd7d9d5a1f",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}},{tags:["v1","latest"],script:{codeHash:"0xbbad126377d45f90a8ee120da988a2d7332c78ba8fd679aab478a19d6c133494",hashType:"data1"},cellDep:{outPoint:{txHash:"0xfd694382e621f175ddf81ce91ce2ecf8bfc027d53d7d31b8438f7d26fc37fd19",index:"0x0"},depType:"code"}}]},Cluster:{versions:[{tags:["v2","preview"],script:{codeHash:"0x0bbe768b519d8ea7b96d58f1182eb7e6ef96c541fbd9526975077ee09f049058",hashType:"data1"},cellDep:{outPoint:{txHash:"0xcebb174d6e300e26074aea2f5dbd7f694bb4fe3de52b6dfe205e54f90164510a",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}},{tags:["v1","latest"],script:{codeHash:"0x598d793defef36e2eeba54a9b45130e4ca92822e1d193671f490950c3b856080",hashType:"data1"},cellDep:{outPoint:{txHash:"0x49551a20dfe39231e7db49431d26c9c08ceec96a29024eef3acc936deeb2ca76",index:"0x0"},depType:"code"}}]},ClusterProxy:{versions:[{tags:["v2","preview"],script:{codeHash:"0x4349889bda064adab8f49f7dd8810d217917f7df28e9b2a1df0b74442399670a",hashType:"data1"},cellDep:{outPoint:{txHash:"0xc5a41d58155b11ecd87a5a49fdcb6e83bd6684d3b72b2f3686f081945461c156",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},ClusterAgent:{versions:[{tags:["v2","preview"],script:{codeHash:"0x923e997654b2697ee3f77052cb884e98f28799a4270fd412c3edb8f3987ca622",hashType:"data1"},cellDep:{outPoint:{txHash:"0x52210232292d10c51b48e72a2cea60d8f0a08c2680a97a8ee7ca0a39379f0036",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Mutant:{versions:[{tags:["v2","preview"],script:{codeHash:"0x5ff1a403458b436ea4b2ceb72f1fa70a6507968493315b646f5302661cb68e57",hashType:"data1"},cellDep:{outPoint:{txHash:"0x9b2098e5b6f575b2fd34ffd0212bc1c96e1f9e86fcdb146511849c174dfe0d02",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Lua:{versions:[{tags:["v2","preview"],script:{codeHash:"0xed08faee8c29b7a7c29bd9d495b4b93cc207bd70ca93f7b356f39c677e7ab0fc",hashType:"data1"},cellDep:{outPoint:{txHash:"0x8fb7170a58d631250dabd0f323a833f4ad2cfdd0189f45497e62beb8409e7a0c",index:"0x0"},depType:"code"}}]}}},o={lumos:n.predefined.LINA,ckbNodeUrl:"https://mainnet.ckb.dev/rpc",ckbIndexerUrl:"https://mainnet.ckb.dev/indexer",maxTransactionSize:512e3,defaultTags:["latest"],scripts:{Spore:{versions:[{tags:["v2","did"],script:{codeHash:"0xcfba73b58b6f30e70caed8a999748781b164ef9a1e218424a6fb55ebf641cb33",hashType:"type"},cellDep:{outPoint:{txHash:"0x18dda0f02036305b423b85cce276a40417faed044b2ee9220284215f38734daa",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,dynamicCelldep:{codeHash:"0x00000000000000000000000000000000000000000000000000545950455f4944",hashType:"type",args:"0x62312cd846659e188b05da11dc3f080b083c27371ea701d6026e11e713e0e3de"}}},{tags:["v2","latest"],script:{codeHash:"0x4a4dce1df3dffff7f8b2cd7dff7303df3b6150c9788cb75dcf6747247132b9f5",hashType:"data1"},cellDep:{outPoint:{txHash:"0x96b198fb5ddbd1eed57ed667068f1f1e55d07907b4c0dbd38675a69ea1b69824",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]},Cluster:{versions:[{tags:["v2","latest"],script:{codeHash:"0x7366a61534fa7c7e6225ecc0d828ea3b5366adec2b58206f2ee84995fe030075",hashType:"data1"},cellDep:{outPoint:{txHash:"0xe464b7fb9311c5e2820e61c99afc615d6b98bdefbe318c34868c010cbd0dc938",index:"0x0"},depType:"code"},behaviors:{lockProxy:!0,cobuild:!0}}]}}};t.predefinedSporeConfigs={Aggron4:i,Testnet:i,Mainnet:o}},93633:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSporeScriptSupported=t.isSporeScriptCategorySupported=t.getSporeScriptByTags=t.getSporeScriptByScriptId=t.getLatestSporeScript=t.getSporeScript=t.getSporeScriptCategory=void 0;const n=r(74762);function i(e,t){const r=e.scripts[t];if(!r||!r.versions.length)throw new Error(`"${t}" script is not defined in the SporeConfig`);return r.versions[0]}function o(e,t,r){const i=e.scripts[t];if(!i||!i.versions.length)throw new Error(`"${t}" script is not defined in the SporeConfig`);const o=(0,n.getSporeConfigCache)(e),s=(0,n.getSporeCacheScriptByCodeHash)(o,r.codeHash,t);if(!s)throw new Error(`Specific "${t}" script is not defined in the SporeConfig, codeHash: ${r.codeHash}`);return s}function s(e,t,r){const i=e.scripts[t];if(!i||!i.versions.length)throw new Error(`"${t}" script is not defined in the SporeConfig`);const o=(0,n.getSporeConfigCache)(e),s=(0,n.getSporeCacheScriptsByTags)(o,t,r);if(!s||!s.length)throw new Error(`Specific tags of the "${t}" script is not defined in the SporeConfig: [${r.join(", ")}]`);return s[0]}t.getSporeScriptCategory=function(e,t){const r=e.scripts[t];if(!r)throw new Error(`"${t}" script is not defined in the SporeConfig`);return r},t.getSporeScript=function(e,t,r){return r&&"object"==typeof r&&"codeHash"in r&&"hashType"in r?o(e,t,r):r&&Array.isArray(r)?s(e,t,r):e.defaultTags?s(e,t,e.defaultTags):i(e,t)},t.getLatestSporeScript=i,t.getSporeScriptByScriptId=o,t.getSporeScriptByTags=s,t.isSporeScriptCategorySupported=function(e,t){return void 0!==e.scripts[t]},t.isSporeScriptSupported=function(e,t,r){const i=(0,n.getSporeConfigCache)(e);return void 0!==(0,n.getSporeCacheScriptByCodeHash)(i,t.codeHash,r)}},12833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},47127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromInfoToAddress=t.isAddressValid=void 0;const n=r(3599),i=r(35945);function o(e,t){try{return n.helpers.parseAddress(e,{config:t}),!0}catch{return!1}}t.isAddressValid=o,t.fromInfoToAddress=function(e,t){if("string"==typeof e&&o(e))return e;const r=(0,i.parseFromInfo)(e,{config:t});return n.helpers.encodeToAddress(r.fromScript,{config:t})}},24021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToRawString=t.bytifyRawString=void 0;const n=r(71313),i=new TextEncoder,o=new TextDecoder;t.bytifyRawString=function(e){return i.encode(e)},t.bufferToRawString=function(e,t){const r=n.bytes.bytify(e);return o.decode(r,t)}},98299:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnExceededCapacity=t.injectNeededCapacity=t.calculateNeededCapacity=t.correctChangeCellCapacity=t.createCapacitySnapshot=t.createCapacitySnapshotFromTransactionSkeleton=t.getCellsTotalCapacity=t.setAbsoluteCapacityMargin=t.getCellCapacityMargin=t.assetCellMinimalCapacity=t.correctCellMinimalCapacity=t.minimalCellCapacityByLock=void 0;const i=n(r(88055)),o=r(3599),s=r(35945),a=r(47127),u=r(90888);function c(e){return o.helpers.minimalCellCapacityCompatible({cellOutput:{capacity:"0x0",lock:e},data:"0x"})}function f(e){const t=o.helpers.minimalCellCapacityCompatible(e);return o.BI.from(e.cellOutput.capacity).sub(t)}function l(e){return e.reduce(((e,t)=>e.add(t.cellOutput.capacity)),o.BI.from(0))}function d(e){return h(e.get("inputs").toArray(),e.get("outputs").toArray())}function h(e,t){const r=l(e),n=l(t),i=r.sub(n),o=n.sub(r);return{inputsLength:e.length,outputsLength:t.length,inputsCapacity:r,outputsCapacity:n,inputsRemainCapacity:i,outputsRemainCapacity:o}}function p(e){const t=d(e.txSkeleton),r=o.helpers.parseAddress(e.changeAddress,{config:e.config}),n=o.BI.from(e.extraCapacity??0),i=c(r).add(n);let s=t.inputsRemainCapacity,a=t.outputsRemainCapacity.add(n);const u=a.lte(0)&&s.gt(0),f=s.lt(i);return u&&f&&(a=i,s=o.BI.from(0)),a.lt(0)&&(a=o.BI.from(0)),s.lt(0)&&(s=o.BI.from(0)),{snapshot:t,neededCapacity:a,exceedCapacity:s}}function y(e){let t=e.txSkeleton;const r=d(t);let n=!1,i=!1,s=-1,a=o.BI.from(0);if(r.inputsRemainCapacity.lte(0))return{txSkeleton:t,returnedChange:n,createdChangeCell:i,changeCellOutputIndex:s,unreturnedCapacity:a};n=!0;const c=o.helpers.parseAddress(e.changeAddress,{config:e.config}),f=t.get("fixedEntries").filter((({field:e})=>"outputs"===e)).map((({index:e})=>e)),l=t.get("outputs").findLastIndex(((e,t)=>!f.includes(t)&&((0,u.isScriptValueEquals)(e.cellOutput.lock,c)&&void 0===e.cellOutput.type)));if(l>-1)s=l,t=t.update("outputs",(e=>{const t=e.get(l);return t.cellOutput.capacity=o.BI.from(t.cellOutput.capacity).add(r.inputsRemainCapacity).toHexString(),e.set(l,t)}));else{const e={cellOutput:{capacity:r.inputsRemainCapacity.toHexString(),lock:c},data:"0x"},n=o.helpers.minimalCellCapacityCompatible(e);r.inputsRemainCapacity.lt(n)?a=r.inputsRemainCapacity:(i=!0,t=t.update("outputs",(t=>(s=t.size,t.push(e)))))}return{txSkeleton:t,returnedChange:n,createdChangeCell:i,changeCellOutputIndex:s,unreturnedCapacity:a}}t.minimalCellCapacityByLock=c,t.correctCellMinimalCapacity=function(e){const t=o.helpers.minimalCellCapacityCompatible(e);return t.eq(e.cellOutput.capacity)||(e.cellOutput.capacity=t.toHexString()),e},t.assetCellMinimalCapacity=function(e){const t=o.helpers.minimalCellCapacityCompatible(e);if(t.gt(e.cellOutput.capacity)){const r=t.toString(),n=o.BI.from(e.cellOutput.capacity).toString();throw new Error(`Target cell required capacity of ${r}, but declared ${n}`)}},t.getCellCapacityMargin=f,t.setAbsoluteCapacityMargin=function(e,t){const r=f(e=(0,i.default)(e)),n=t instanceof Function?t(e,r):t,s=o.helpers.minimalCellCapacityCompatible(e);return e.cellOutput.capacity=s.add(n).toHexString(),e},t.getCellsTotalCapacity=l,t.createCapacitySnapshotFromTransactionSkeleton=d,t.createCapacitySnapshot=h,t.correctChangeCellCapacity=function(e){let t=e.txSkeleton;const r=d(t);if(r.inputsRemainCapacity.gt(0)){const n=e.changeOutputIndex??t.get("outputs").size-1;t=t.update("outputs",(e=>{const t=e.get(n);if(!t)throw new Error("Cannot correct change cell capacity because Transaction.outputs is empty");const i=o.BI.from(t.cellOutput.capacity);return t.cellOutput.capacity=i.add(r.inputsRemainCapacity).toHexString(),e}))}return t},t.calculateNeededCapacity=p,t.injectNeededCapacity=async function(e){let t=e.txSkeleton;const r=e.config,n=(0,a.fromInfoToAddress)(e.changeAddress??e.fromInfos[0],r),i=p({extraCapacity:e.extraCapacity,changeAddress:n,txSkeleton:t,config:r}),o=i.snapshot;let u;if(i.neededCapacity.gt(0)&&(t=await s.common.injectCapacity(t,e.fromInfos,i.neededCapacity,e.changeAddress,void 0,{enableDeductCapacity:e.enableDeductCapacity,config:e.config}),u=d(t)),i.neededCapacity.lte(0)&&i.exceedCapacity.gt(0)){const e=y({txSkeleton:t,changeAddress:n,config:r});e.returnedChange&&(t=e.txSkeleton)}return{txSkeleton:t,before:o,after:u}},t.returnExceededCapacity=y},58963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCellIndexByScriptFromTransactionSkeleton=t.groupCells=t.setupCell=t.getCellWithStatusByOutPoint=t.getCellByType=t.getCellByLock=void 0;const n=r(71313),i=r(35945),o=r(31564),s=r(90888);t.getCellByLock=async function(e){const t=e.indexer.collector({lock:e.lock});for await(const r of t.collect()){if(e.has_type&&r.cellOutput.type)return r;if(!e.has_type&&!r.cellOutput.type)return r}},t.getCellByType=async function(e){const t=e.indexer.collector({type:e.type});for await(const e of t.collect())return e},t.getCellWithStatusByOutPoint=async function(e){const t=await e.rpc.getLiveCell(e.outPoint,!0);return{cell:t.cell?{cellOutput:t.cell.output,data:t.cell.data.content,outPoint:e.outPoint}:void 0,status:t.status}},t.setupCell=async function(e){const t=e.addOutput??!1;let r=e.txSkeleton;r=await i.common.setupInputCell(r,e.input,e.fromInfo,{defaultWitness:e.defaultWitness,config:e.config,since:e.since}),t||(r=r.update("outputs",(e=>e.remove(e.size-1))));const n=r.get("inputs").size-1,o=t?r.get("outputs").size-1:-1;return t&&e.updateOutput instanceof Function&&(r=r.update("outputs",(t=>{const r=t.last();if(!r)throw new Error("Cannot update output because the added output could not be found");return t.set(o,e.updateOutput(r))}))),e.updateWitness&&(r=r.update("witnesses",(t=>{if(e.updateWitness instanceof Function){const r=t.get(n);if(!r)throw new Error(`Cannot update Transaction.witnesses[${n}] because it's undefined`);return t.set(n,e.updateWitness(r))}return"string"==typeof e.updateWitness?t.set(n,e.updateWitness):t}))),{txSkeleton:r,inputIndex:n,outputIndex:o}},t.groupCells=function(e){const t={};for(let r=0;r<e.length;r++){const i=e[r],s=i.cellOutput.type?n.bytes.hexify(o.ScriptId.pack(i.cellOutput.type)):"null";void 0===t[s]&&(t[s]=[]),t[s].push({index:r,cell:i})}return t},t.findCellIndexByScriptFromTransactionSkeleton=function(e){if(!["inputs","outputs"].includes(e.source))throw new Error('Can only find cell from the following source: "inputs" | "outputs"');if(!["lock","type"].includes(e.scriptName))throw new Error('Can only find cell from the following scriptType: "lock" | "type"');return e.txSkeleton.get(e.source).findIndex((t=>!!t.cellOutput[e.scriptName]&&(0,s.isScriptValueEquals)(t.cellOutput[e.scriptName],e.script)))}},29582:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCellDepIndexByTypeFromTransactionSkeleton=void 0;const n=r(3599),i=r(1828),o=r(58963),s=r(90888);t.findCellDepIndexByTypeFromTransactionSkeleton=async function(e){const t=e.config??(0,i.getSporeConfig)(),r=new n.RPC(t.ckbNodeUrl),a=e.txSkeleton.get("cellDeps");for await(const[t,n]of a.toArray().entries()){const i=await(0,o.getCellWithStatusByOutPoint)({outPoint:n.outPoint,rpc:r});if(i.cell?.cellOutput.type&&(0,s.isScriptValueEquals)(i.cell.cellOutput.type,e.type))return t}return-1}},43614:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeMutantParameter=t.setContentTypeParameters=t.decodeContentType=t.encodeContentType=t.isContentTypeValid=void 0;const n=r(74567);function i(e){const t=Object.entries(e.parameters||{}).map((([e,t])=>{if("mutant"!==e&&"mutant[]"!==e||([e,t]=s(e,t)),Array.isArray(t)&&(t=t.map(((t,r)=>{if("string"!=typeof t){if(!(t.toString instanceof Function))throw new Error(`ContentType parameter "${e}" has a property that cannot be converted to string`);t=t.toString()}return t}))),!Array.isArray(t)&&"string"!=typeof t){if(!(t.toString instanceof Function))throw new Error(`ContentType parameter "${e}" cannot be converted to string`);t=t.toString()}return[e,t]}));return(0,n.serializeMimeType)({type:e.type,subtype:e.subtype,parameters:new Map(t)},{arrayParameters:!0})}function o(e){let t=null;try{t=(0,n.parseMimeType)(e,{arrayParameters:!0})}catch{}if(!t)throw new Error(`Cannot decode ContentType: ${e}`);const r=Object.fromEntries(t.parameters);return r.mutant&&Array.isArray(r.mutant)&&(r.mutant=r.mutant.map((e=>e.startsWith("0x")?e:"0x"+e))),{type:t.type,subtype:t.subtype,mediaType:`${t.type}/${t.subtype}`,parameters:r}}function s(e,t){if("mutant[]"===e&&(e="mutant"),!Array.isArray(t))throw new Error("ContentType parameter mutant should be an array");return t=t.map(((t,r)=>{if("string"!=typeof t){if(!(t.toString instanceof Function))throw new Error(`ContentType parameter "${e}" has a property that cannot be converted to string`);t=t.toString()}if(t.startsWith("0x")&&(t=t.slice(2)),64!==t.length)throw new Error(`ContentType parameter mutant[${r}] should have a length of 32 bytes: ${t}`);return t})),[e,t]}t.isContentTypeValid=function(e){try{const t=o(e);return i(t)===e}catch{return!1}},t.encodeContentType=i,t.decodeContentType=o,t.setContentTypeParameters=function(e,t){const r=o(e);for(const[e,n]of Object.entries(t))r.parameters[e]=n;return i(r)},t.encodeMutantParameter=s},25447:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.returnExceededCapacityAndPayFee=t.injectCapacityAndPayFee=t.payFeeByOutput=t.payFeeThroughCollection=t.calculateFeeByTransactionSkeleton=t.calculateFeeByTransaction=t.calculateFee=t.getMinFeeRate=void 0;const n=r(35945),i=r(3599),o=r(1828),s=r(98299),a=r(98299),u=r(51103);async function c(e){e="string"==typeof e?new i.RPC(e):e;const t=await e.txPoolInfo();return i.BI.from(t.minFeeRate)}function f(e,t){const r=i.BI.from(1e3),n=i.BI.from(e).mul(t),o=n.div(r);return o.mul(r).lt(n)?o.add(1):i.BI.from(o)}function l(e,t){return f((0,u.getTransactionSize)(e),t)}function d(e,t){return l(i.helpers.createTransactionFromSkeleton(e),t)}async function h(e){const t=e.config??(0,o.getSporeConfig)(),r=e.feeRate??await c(t.ckbNodeUrl);let i=0,s=e.txSkeleton,a=(0,u.getTransactionSkeletonSize)(s);for(;a>i;){i=a;const o=f(i,r);s=await n.common.injectCapacity(e.txSkeleton,e.fromInfos,o,e.changeAddress,e.tipHeader,{config:t.lumos,enableDeductCapacity:e.enableDeductCapacity,useLocktimeCellsFirst:e.useLocktimeCellsFirst}),e.updateTxSkeletonAfterCollection&&(s=await e.updateTxSkeletonAfterCollection(s)),a=(0,u.getTransactionSkeletonSize)(s)}return s}async function p(e){const t=e.config??(0,o.getSporeConfig)(),r=e.feeRate??await c(t.ckbNodeUrl);let n=e.txSkeleton,s=n.get("outputs");const a=s.get(e.outputIndex);if(!a)throw new Error(`Cannot pay fee by Transaction.outputs[${e.outputIndex}] because it does not exist`);const u=i.helpers.minimalCellCapacityCompatible(a),f=i.BI.from(a.cellOutput.capacity),l=f.sub(u),h=d(n,r);if(l.lt(h))throw new Error(`Cannot pay fee by Transaction.outputs[${e.outputIndex}] due to insufficient capacity`);return a.cellOutput.capacity=f.sub(h).toHexString(),s=s.set(e.outputIndex,a),n.set("outputs",s)}t.getMinFeeRate=c,t.calculateFee=f,t.calculateFeeByTransaction=l,t.calculateFeeByTransactionSkeleton=d,t.payFeeThroughCollection=h,t.payFeeByOutput=p,t.injectCapacityAndPayFee=async function(e){const t=e.config??(0,o.getSporeConfig)(),r=await(0,s.injectNeededCapacity)({...e,config:t.lumos}),n=await h({...e,txSkeleton:r.txSkeleton});return{txSkeleton:n,before:r.before,after:(0,a.createCapacitySnapshotFromTransactionSkeleton)(n)}},t.returnExceededCapacityAndPayFee=async function(e){let t=e.txSkeleton;const r=e.config??(0,o.getSporeConfig)(),a=(0,s.returnExceededCapacity)({txSkeleton:t,config:r.lumos,changeAddress:e.changeAddress});if(t=a.txSkeleton,!a.returnedChange)throw new Error("Cannot pay fee with change cell because no change was returned");if(a.unreturnedCapacity.gt(0)){if(void 0===e.fromInfos)throw new Error("Cannot pay fee with change cell because fromInfos is required");const o=d(t,e.feeRate??await c(r.ckbNodeUrl));t=await n.common.injectCapacity(t,e.fromInfos,1,e.changeAddress,void 0,{enableDeductCapacity:!1,config:e.config?.lumos}),t=t.update("outputs",(e=>(e.update(-1,(e=>{if(e){const t=i.BI.from(e.cellOutput.capacity);e.cellOutput.capacity=t.add(a.unreturnedCapacity).sub(o).toHexString()}return e})),e)))}else t=await p({outputIndex:a.changeCellOutputIndex,txSkeleton:t,feeRate:e.feeRate,config:r});return{txSkeleton:t,createdChangeCell:a.createdChangeCell,changeCellOutputIndex:a.changeCellOutputIndex}}},36027:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(24021),t),i(r(54388),t),i(r(58963),t),i(r(29582),t),i(r(90888),t),i(r(47127),t),i(r(41446),t),i(r(98299),t),i(r(51103),t),i(r(29488),t),i(r(25447),t),i(r(74567),t),i(r(43614),t),i(r(53818),t),i(r(91218),t)},91218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.referenceCellOrLockProxy=void 0;const n=r(33089),i=r(90888);t.referenceCellOrLockProxy=async function(e){const t=e.addCellToCellDeps??!0;let r=e.txSkeleton;const o=e.cell,s=o.cellOutput.lock;if(!o.outPoint)throw new Error("Cannot reference cell because target cell has no OutPoint");const a=e.inputLocks.some((e=>(0,i.isScriptValueEquals)(s,e))),u=e.outputLocks.some((e=>(0,i.isScriptValueEquals)(s,e))),c=a&&u,f=!a||!u;return console.log("referencedLockProxy = ",c),c&&(r=await e.referenceLockProxy(r)),f&&(r=await e.referenceCell(r)),t&&(r=(0,n.addCellDep)(r,{outPoint:o.outPoint,depType:"code"})),{txSkeleton:r,referencedCell:f,referencedLockProxy:c}}},74567:(e,t)=>{"use strict";function r(e){return e.replace(/^[ \t\n\r]+/u,"").replace(/[ \t\n\r]+$/u,"")}function n(e){return e.replace(/[ \t\n\r]+$/u,"")}function i(e){return" "===e||"\t"===e||"\n"===e||"\r"===e}function o(e){return/^[-!#$%&'*+.^_`|~A-Za-z0-9]*$/u.test(e)}function s(e){return/^[\t\u0020-\u007E\u0080-\u00FF]*$/u.test(e)}function a(e){return e.replace(/[A-Z]/gu,(e=>e.toLowerCase()))}function u(e,t){let r="";for(t++;;){for(;t<e.length&&'"'!==e[t]&&"\\"!==e[t];)r+=e[t],++t;if(t>=e.length)break;const n=e[t];if(++t,"\\"!==n)break;if(t>=e.length){r+="\\";break}r+=e[t],++t}return[r,t]}Object.defineProperty(t,"__esModule",{value:!0}),t.collectAnHTTPQuotedString=t.asciiLowercase=t.solelyContainsHTTPQuotedStringTokenCodePoints=t.solelyContainsExtendedHTTPTokenCodePoints=t.solelyContainsHTTPTokenCodePoints=t.isHTTPWhitespaceChar=t.removeTrailingHTTPWhitespace=t.removeLeadingAndTrailingHTTPWhitespace=t.serializeMimeType=t.parseMimeType=void 0,t.parseMimeType=function(e,t){const c=t?.arrayParameters??!1;e=r(e);let f=0,l="";for(;f<e.length&&"/"!==e[f];)l+=e[f],++f;if(0===l.length||!o(l))return null;if(f>=e.length)return null;++f;let d="";for(;f<e.length&&";"!==e[f];)d+=e[f],++f;if(d=n(d),0===d.length||!o(d))return null;const h={type:a(l),subtype:a(d),parameters:new Map};for(;f<e.length;){for(++f;i(e[f]);)++f;let t="";for(;f<e.length&&";"!==e[f]&&"="!==e[f];)t+=e[f],++f;if(t=a(t),f<e.length){if(";"===e[f])continue;++f}let r=null;if('"'===e[f])for([r,f]=u(e,f);f<e.length&&";"!==e[f];)++f;else{for(r="";f<e.length&&";"!==e[f];)r+=e[f],++f;if(r=n(r),""===r)continue}const l=t.length>0,d=t.endsWith("[]");if(!l||d&&!c)continue;const p=l&&d&&c;p&&(t=t.slice(0,-2));const y=!h.parameters.has(t),g=o(t),b=s(r);l&&g&&b&&y&&(p&&(r=r.split(",")),h.parameters.set(t,r))}return h},t.serializeMimeType=function(e,t){const r=t?.arrayParameters??!1;let n=`${e.type}/${e.subtype}`;if(0===e.parameters.size)return n;for(let[t,i]of e.parameters){if(!r&&Array.isArray(i))throw new Error("Array parameter value is not supported");Array.isArray(i)&&(t=t.endsWith("[]")?t:`${t}[]`,i=i.join(",")),n+=";",n+=t,n+="=",o(i)&&0!==i.length||(i=i.replace(/(["\\])/gu,"\\$1"),i=`"${i}"`),n+=i}return n},t.removeLeadingAndTrailingHTTPWhitespace=r,t.removeTrailingHTTPWhitespace=n,t.isHTTPWhitespaceChar=i,t.solelyContainsHTTPTokenCodePoints=o,t.solelyContainsExtendedHTTPTokenCodePoints=function(e){return/^[-!#$%&'*+.^_`|~\[\]A-Za-z0-9]*$/u.test(e)},t.solelyContainsHTTPQuotedStringTokenCodePoints=s,t.asciiLowercase=a,t.collectAnHTTPQuotedString=u},53818:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isMultipartContentAsBytesValid=t.isMultipartContentValid=t.readArrayBufferStream=t.encodeMultipartContent=t.decodeMultipartContentFromStream=t.decodeMultipartContentFromBytes=t.decodeMultipartContent=void 0;const s=r(71313),a=o(r(56750)),u=r(24021);async function c(e,t){return f((0,u.bytifyRawString)(e.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")),t)}async function f(e,t){return l(new Blob([s.bytes.bytify(e)]).stream(),t)}async function l(e,t){return async function e(t){const r=[];for await(const n of t)if(n.parts){const t=await e(n.parts);r.push({...n,parts:t})}else r.push({headers:n.headers,body:n.body});return r}((0,a.default)(e,t))}async function d(e){const t=e.getReader(),r=[],n=[];let i=0;for(;;){const e=await t.read();if(e.done)break;r.push(e.value);const o=(0,u.bufferToRawString)(e.value);i+=o.length,n.push(o)}const o=await new Blob(r).arrayBuffer();return{buffer:o,bufferChunks:r,rawStringChunks:n,byteLength:o.byteLength,codeUnitLength:i}}t.decodeMultipartContent=c,t.decodeMultipartContentFromBytes=f,t.decodeMultipartContentFromStream=l,t.encodeMultipartContent=async function(e,t){const r=(0,a.encodeMultipartMessage)(e,t);return{stream:r,...await d(r)}},t.readArrayBufferStream=d,t.isMultipartContentValid=async function(e,t){try{return await c(e,t),!0}catch{return!1}},t.isMultipartContentAsBytesValid=async function(e,t){try{return await f(e,t),!0}catch{return!1}}},54388:(e,t)=>{"use strict";function r(e){return new Promise((t=>{setTimeout((()=>t()),e)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.waitForMilliseconds=t.retryWork=void 0,t.retryWork=function(e){const t=e.interval instanceof Function,n=t?100:e.interval??100,i=e.delay??0,o=e.retry??3,s=e.onError??(()=>!0),a=e.onComplete??(()=>!0);return new Promise((async u=>{const c=Date.now(),f=[];let l,d=0,h=!1,p=!1;i>0&&await r(i),await async function r(){try{l=await e.getter(),a(l)?p=!0:d++}catch(e){f.push(e),await s(e)?d++:h=!0}if(p)return u({success:!0,result:l,errors:f,retries:d,duration:Date.now()-c});if(h||d>=o)return u({success:!1,result:void 0,errors:f,retries:d,duration:Date.now()-c});const i=t?e.interval({retries:d}):n;setTimeout((()=>r()),i)}()}))},t.waitForMilliseconds=r},90888:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.composeOutputLocks=t.composeInputLocks=t.getChangeLock=t.isScriptIdEquals=t.isScriptValueEquals=void 0;const i=n(r(88055)),o=r(3599),s=r(35945);function a(e,t){return e.codeHash===t.codeHash&&e.hashType===t.hashType&&e.args===t.args}t.isScriptValueEquals=a,t.isScriptIdEquals=function(e,t){return e.codeHash===t.codeHash&&e.hashType===t.hashType},t.getChangeLock=function(e,t,r){const n=(0,s.parseFromInfo)(e[0],{config:r});return(t?o.helpers.parseAddress(t,{config:r}):void 0)??n.fromScript},t.composeInputLocks=function(e){const t=e.config;return[...Array.isArray(e.inputLocks)?(0,i.default)(e.inputLocks):[],...e.fromInfos.map((e=>(0,s.parseFromInfo)(e,{config:t}).fromScript))]},t.composeOutputLocks=function(e){const t=e.config,r=Array.isArray(e.outputLocks)?(0,i.default)(e.outputLocks):[];let n;return n=e.changeAddress?o.helpers.parseAddress(e.changeAddress,{config:t}):(0,s.parseFromInfo)(e.fromInfos[0],{config:t}).fromScript,r.findIndex((e=>a(e,n)))<0&&r.push(n),r}},51103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitForTransaction=t.waitForTransactionRetryWork=t.assertTransactionSkeletonSize=t.assetTransactionSize=t.isTransactionSkeletonSizeInRange=t.isTransactionSizeInRange=t.getTransactionSkeletonSize=t.getTransactionSize=void 0;const n=r(41600),i=r(3599),o=r(54388);function s(e){return 4+n.blockchain.Transaction.pack(e).buffer.byteLength}function a(e,t,r){const n=s(e);return n<=(t??0)||n>(r??1/0)}function u(e,t,r){t=t??0,r=r??1/0;const n=s(e);if(n<=t)throw new Error(`Expected the transaction size to be > ${t}, actual size: ${n}`);if(n>r)throw new Error(`Expected the transaction size to be <= ${r}, actual size: ${n}`)}async function c(e,t){return await(0,o.retryWork)({getter:()=>t.getTransaction(e),retry:6,interval:({retries:e})=>1e3*Math.pow(2,e),onComplete(t){switch(t.txStatus.status){case"rejected":throw new Error(`Transaction rejected: ${e}, reason: ${t.txStatus.reason}`);case"committed":return!0;default:return!1}}})}t.getTransactionSize=s,t.getTransactionSkeletonSize=function(e){return s(i.helpers.createTransactionFromSkeleton(e))},t.isTransactionSizeInRange=a,t.isTransactionSkeletonSizeInRange=function(e,t,r){return a(i.helpers.createTransactionFromSkeleton(e),t,r)},t.assetTransactionSize=u,t.assertTransactionSkeletonSize=function(e,t,r){u(i.helpers.createTransactionFromSkeleton(e),t,r)},t.waitForTransactionRetryWork=c,t.waitForTransaction=async function(e,t){const r=await c(e,t);if(r.success)return r.result;throw new Error(`Failed to wait for transaction: ${e}, reason: ${r.errors[r.errors.length-1]}`)}},41446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTypeIdLengthMatch=t.isTypeId=t.generateTypeIdsByOutputs=t.generateTypeIdGroup=t.generateTypeId=void 0;const n=r(3599),i=r(71313);function o(e,t){if(!e.outPoint)throw new Error("Cannot generate TypeId because Transaction.inputs[0] has no OutPoint");return n.utils.generateTypeIdScript({previousOutput:e.outPoint,since:"0x0"},n.BI.from(t).toHexString()).args}t.generateTypeId=o,t.generateTypeIdGroup=function(e,t,r){const n=[];for(let i=0;i<t.length;i++){if(r(t[i])){const t=n.length;n.push([i,o(e,t)])}}return n},t.generateTypeIdsByOutputs=function(e,t,r){const n=[];for(let s=0;s<t.length;s++)i=t[s],r instanceof Function&&!r(i)||n.push([s,o(e,s)]);var i;return n},t.isTypeId=function(e){try{return 32===i.bytes.bytify(e).byteLength}catch{return!1}},t.isTypeIdLengthMatch=function(e){try{return i.bytes.bytify(e).byteLength>=32}catch{return!1}}},29488:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWitnessArgs=t.defaultEmptyWitnessArgs=void 0;const n=r(71313),i=r(41600);t.defaultEmptyWitnessArgs=n.bytes.hexify(i.blockchain.WitnessArgs.pack({})),t.updateWitnessArgs=function(e,r,o){return e=e&&"0x"!==e?e:t.defaultEmptyWitnessArgs,n.bytes.hexify(i.blockchain.WitnessArgs.pack({...i.blockchain.WitnessArgs.unpack(e),[r]:o}))}},57049:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(31564),t),i(r(1828),t),i(r(36027),t),i(r(18714),t),i(r(13972),t)},25568:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},87568:(e,t,r)=>{var n=t;n.bignum=r(39404),n.define=r(47363).define,n.base=r(9673),n.constants=r(22153),n.decoders=r(22853),n.encoders=r(24669)},47363:(e,t,r)=>{var n=r(87568),i=r(56698);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=r(68961).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},47227:(e,t,r)=>{var n=r(56698),i=r(9673).Reporter,o=r(48287).Buffer;function s(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof a||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,i),t.t=s,s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(e){var t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.d=a,a.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},9673:(e,t,r)=>{var n=t;n.Reporter=r(89220).a,n.DecoderBuffer=r(47227).t,n.EncoderBuffer=r(47227).d,n.Node=r(90993)},90993:(e,t,r)=>{var n=r(9673).Reporter,i=r(9673).EncoderBuffer,o=r(9673).DecoderBuffer,s=r(43349),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function c(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=c;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};f.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},c.prototype._wrap=function(){var e=this._baseState;u.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},c.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){c.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}})),c.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){var u=null;if(null!==r.explicit?u=r.explicit:null!==r.implicit?u=r.implicit:null!==r.tag&&(u=r.tag),null!==u||r.any){if(s=this._peekTag(e,u,r.any),e.isError(s))return s}else{var c=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(c)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){var f=this._decodeTag(e,r.explicit);if(e.isError(f))return f;e=f}var l=e.offset;if(null===r.use&&null===r.choice){if(r.any)c=e.save();var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(c):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),l,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var h=new o(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(h,t)}}return r.obj&&s&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,i),i},c.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},c.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(o){var s=e.save(),a=r.choice[o];try{var u=a._decode(e,t);if(e.isError(u))return!1;n={type:o,value:u},i=!0}catch(t){return e.restore(s),!1}return!0}),this),i?n:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},c.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var s=null,a=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)s=this._getUse(i.contains,r)._encode(e,t),a=!0;else if(i.children)s=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),u))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(s=this._encodePrimitive(i.tag,e),a=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,f=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,a,f,s))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},89220:(e,t,r)=>{var n=r(56698);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.a=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof o;if(t=n?e:new o(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},74598:(e,t,r)=>{var n=r(22153);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},22153:(e,t,r)=>{var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},n.der=r(74598)},62010:(e,t,r)=>{var n=r(56698),i=r(87568),o=i.base,s=i.bignum,a=i.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function f(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=a.tagClass[r>>6],i=!(32&r);if(31&~r)r&=31;else{var o=r;for(r=0;!(128&~o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}return{cls:n,primitive:i,tag:r,tagStr:a.tag[r]}}function l(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var o=0;o<i;o++){n<<=8;var s=e.readUInt8(r);if(e.isError(s))return s;n|=s}return n}e.exports=u,u.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(c,o.Node),c.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=f(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},c.prototype._decodeTag=function(e,t,r){var n=f(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=l(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var r=f(e,t);if(e.isError(r))return r;var n,i=l(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},c.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=r.decode(e,"der",n);if(e.isError(s)&&o)break;i.push(s)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<n.length/2;o++)i+=String.fromCharCode(n.readUInt16BE(2*o));return i}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,r){for(var n,i=[],o=0;!e.isEmpty();){var s=e.readUInt8();o<<=7,o|=127&s,128&s||(i.push(o),o=0)}128&s&&i.push(o);var a=i[0]/40|0,u=i[0]%40;if(n=r?i:[a,u].concat(i.slice(1)),t){var c=t[n.join(" ")];void 0===c&&(c=t[n.join(".")]),void 0!==c&&(n=c)}return n},c.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),u=0|r.slice(10,12);n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,u,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var r=e.raw(),n=new s(r);return t&&(n=t[n.toString(10)]||n),n},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},22853:(e,t,r)=>{var n=t;n.der=r(62010),n.pem=r(58903)},58903:(e,t,r)=>{var n=r(56698),i=r(48287).Buffer,o=r(62010);function s(e){o.call(this,e),this.enc="pem"}n(s,o),e.exports=s,s.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,u=-1,c=0;c<r.length;c++){var f=r[c].match(s);if(null!==f&&f[2]===n){if(-1!==a){if("END"!==f[1])break;u=c;break}if("BEGIN"!==f[1])break;a=c}}if(-1===a||-1===u)throw new Error("PEM section not found for: "+n);var l=r.slice(a+1,u).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(l,"base64");return o.prototype.decode.call(this,d,t)}},70082:(e,t,r)=>{var n=r(56698),i=r(48287).Buffer,o=r(87568),s=o.base,a=o.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){s.Node.call(this,"der",e)}function f(e){return e<10?"0"+e:e}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,s.Node),c.prototype._encodeComposite=function(e,t,r,n){var o,s=function(e,t,r,n){var i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(i>=31)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6,i}(e,t,r,this.reporter);if(n.length<128)return(o=new i(2))[0]=s,o[1]=n.length,this._createEncoderBuffer([o,n]);for(var u=1,c=n.length;c>=256;c>>=8)u++;(o=new i(2+u))[0]=s,o[1]=128|u;c=1+u;for(var f=n.length;f>0;c--,f>>=8)o[c]=255&f;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(n=0;n<e.length;n++){var s=e[n];for(o++;s>=128;s>>=7)o++}var a=new i(o),u=a.length-1;for(n=e.length-1;n>=0;n--){s=e[n];for(a[u--]=127&s;(s>>=7)>0;)a[u--]=128|127&s}return this._createEncoderBuffer(a)},c.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[f(n.getFullYear()),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[f(n.getFullYear()%100),f(n.getUTCMonth()+1),f(n.getUTCDate()),f(n.getUTCHours()),f(n.getUTCMinutes()),f(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new i(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var s=e;s>=256;s>>=8)n++;for(s=(o=new Array(n)).length-1;s>=0;s--)o[s]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},24669:(e,t,r)=>{var n=t;n.der=r(70082),n.pem=r(90735)},90735:(e,t,r)=>{var n=r(56698),i=r(70082);function o(e){i.call(this,e),this.enc="pem"}n(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],o=0;o<r.length;o+=64)n.push(r.slice(o,o+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},35682:(e,t,r)=>{const n=r(36209),i=r(10943),o=r(51847),s=r(86679),a=r(65435),u=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function c(e){switch(e){case"ascii":return n;case"base64":return i;case"hex":return o;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a;default:throw new Error(`Unknown encoding: ${e}`)}}function f(e){return e instanceof Uint8Array}function l(e,t,r){return"string"==typeof e?function(e,t){const r=c(t),n=new Uint8Array(r.byteLength(e));return r.write(n,e,0,n.byteLength),n}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,r){return new Uint8Array(e,t,r)}(e,t,r)}function d(e,t,r,n,i){if(0===e.byteLength)return-1;if("string"==typeof r?(n=r,r=0):void 0===r?r=i?0:e.length-1:r<0&&(r+=e.byteLength),r>=e.byteLength){if(i)return-1;r=e.byteLength-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t)t=l(t,n);else if("number"==typeof t)return t&=255,i?e.indexOf(t,r):e.lastIndexOf(t,r);if(0===t.byteLength)return-1;if(i){let n=-1;for(let i=r;i<e.byteLength;i++)if(e[i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.byteLength)return n}else-1!==n&&(i-=i-n),n=-1}else{r+t.byteLength>e.byteLength&&(r=e.byteLength-t.byteLength);for(let n=r;n>=0;n--){let r=!0;for(let i=0;i<t.byteLength;i++)if(e[n+i]!==t[i]){r=!1;break}if(r)return n}}return-1}function h(e,t,r,n){return d(e,t,r,n,!0)}function p(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}e.exports=t={isBuffer:f,isEncoding:function(e){try{return c(e),!0}catch{return!1}},alloc:function(e,r,n){const i=new Uint8Array(e);return void 0!==r&&t.fill(i,r,0,i.byteLength,n),i},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return c(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4){if(e.getUint32(n,u)!==t.getUint32(n,u))break}for(;n<r;n++){const r=e.getUint8(n),i=t.getUint8(n);if(r<i)return-1;if(r>i)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const r=new Uint8Array(t);let n=0;for(const t of e){if(n+t.byteLength>r.byteLength){const e=t.subarray(0,r.byteLength-n);return r.set(e,n),r}r.set(t,n),n+=t.byteLength}return r},copy:function(e,t,r=0,n=0,i=e.byteLength){if(i>0&&i<n)return 0;if(i===n)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),i>e.byteLength&&(i=e.byteLength),t.byteLength-r<i-n&&(i=t.length-r+n);const o=i-n;return e===t?t.copyWithin(r,n,i):t.set(e.subarray(n,i),r),o},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(let i=r-r%4;n<i;n+=4)if(e.getUint32(n,u)!==t.getUint32(n,u))return!1;for(;n<r;n++)if(e.getUint8(n)!==t.getUint8(n))return!1;return!0},fill:function(e,t,r,n,i){if("string"==typeof t?"string"==typeof r?(i=r,r=0,n=e.byteLength):"string"==typeof n&&(i=n,n=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),r<0||e.byteLength<r||e.byteLength<n)throw new RangeError("Out of range index");if(void 0===r&&(r=0),void 0===n&&(n=e.byteLength),n<=r)return e;if(t||(t=0),"number"==typeof t)for(let i=r;i<n;++i)e[i]=t;else{const o=(t=f(t)?t:l(t,i)).byteLength;for(let i=0;i<n-r;++i)e[i+r]=t[i%o]}return e},from:l,includes:function(e,t,r,n){return-1!==h(e,t,r,n)},indexOf:h,lastIndexOf:function(e,t,r,n){return d(e,t,r,n,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)p(e,r,r+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)p(e,r,r+3),p(e,r+1,r+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)p(e,r,r+7),p(e,r+1,r+6),p(e,r+2,r+5),p(e,r+3,r+4);return e},toBuffer:function(e){return e},toString:function(e,t,r=0,n=e.byteLength){const i=e.byteLength;return r>=i||n<=r?"":(r<0&&(r=0),n>i&&(n=i),(0!==r||n<i)&&(e=e.subarray(r,n)),c(t).toString(e))},write:function(e,t,r,n,i){return void 0===r?i="utf8":void 0===n&&"string"==typeof r?(i=r,r=void 0):void 0===i&&"string"==typeof n&&(i=n,n=void 0),c(i).write(e,t,r,n)},writeDoubleLE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),r+8},writeFloatLE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),r+4},writeUInt32LE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(r,t,!0),r+4},writeInt32LE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(r,t,!0),r+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}},36209:e=>{function t(e){return e.length}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r},write:function(e,r,n=0,i=t(r)){const o=Math.min(i,e.byteLength-n);for(let t=0;t<o;t++)e[n+t]=r.charCodeAt(t);return o}}},10943:e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256);for(let e=0;e<64;e++)r[t.charCodeAt(e)]=e;function n(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}r[45]=62,r[95]=63,e.exports={byteLength:n,toString:function(e){const r=e.byteLength;let n="";for(let i=0;i<r;i+=3)n+=t[e[i]>>2]+t[(3&e[i])<<4|e[i+1]>>4]+t[(15&e[i+1])<<2|e[i+2]>>6]+t[63&e[i+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(e,t,i=0,o=n(t)){const s=Math.min(o,e.byteLength-i);for(let n=0,i=0;i<s;n+=4){const o=r[t.charCodeAt(n)],s=r[t.charCodeAt(n+1)],a=r[t.charCodeAt(n+2)],u=r[t.charCodeAt(n+3)];e[i++]=o<<2|s>>4,e[i++]=(15&s)<<4|a>>2,e[i++]=(3&a)<<6|63&u}return s}}},51847:e=>{function t(e){return e.length>>>1}function r(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(let i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r},write:function(e,n,i=0,o=t(n)){const s=Math.min(o,e.byteLength-i);for(let t=0;t<s;t++){const o=r(n.charCodeAt(2*t)),s=r(n.charCodeAt(2*t+1));if(void 0===o||void 0===s)return e.subarray(0,t);e[i+t]=o<<4|s}return s}}},65435:e=>{function t(e){return 2*e.length}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;let r="";for(let n=0;n<t-1;n+=2)r+=String.fromCharCode(e[n]+256*e[n+1]);return r},write:function(e,r,n=0,i=t(r)){const o=Math.min(i,e.byteLength-n);let s=o;for(let t=0;t<r.length&&!((s-=2)<0);++t){const i=r.charCodeAt(t),o=i>>8,s=i%256;e[n+2*t]=s,e[n+2*t+1]=o}return o}}},86679:e=>{function t(e){let t=0;for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const n=e.charCodeAt(r+1);if(n>=56320&&n<=57343){t+=4,r++;continue}}t+=i<=127?1:i<=2047?2:3}return t}let r,n;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;r=function(t){return e.decode(t)}}else r=function(e){const t=e.byteLength;let r="",n=0;for(;n<t;){let i=e[n];if(i<=127){r+=String.fromCharCode(i),n++;continue}let o=0,s=0;if(i<=223?(o=1,s=31&i):i<=239?(o=2,s=15&i):i<=244&&(o=3,s=7&i),t-n-o>0){let t=0;for(;t<o;)i=e[n+t+1],s=s<<6|63&i,t+=1}else s=65533,o=t-n;r+=String.fromCodePoint(s),n+=o+1}return r};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;n=function(r,n,i=0,o=t(n)){const s=Math.min(o,r.byteLength-i);return e.encodeInto(n,r.subarray(i,i+s)),s}}else n=function(e,r,n=0,i=t(r)){const o=Math.min(i,e.byteLength-n);e=e.subarray(n,n+o);let s=0,a=0;for(;s<r.length;){const t=r.codePointAt(s);if(t<=127){e[a++]=t,s++;continue}let n=0,i=0;for(t<=2047?(n=6,i=192):t<=65535?(n=12,i=224):t<=2097151&&(n=18,i=240),e[a++]=i|t>>n,n-=6;n>=0;)e[a++]=128|t>>n&63,n-=6;s+=t>=65536?2:1}return o};e.exports={byteLength:t,toString:r,write:n}},95364:(e,t,r)=>{"use strict";var n=r(92861).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===u;)i++,r++;for(var s=(e.length-r)*c+1>>>0,f=new Uint8Array(s);r<e.length;){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,h=s-1;(0!==l||d<o)&&-1!==h;h--,d++)l+=a*f[h]>>>0,f[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=d,r++}for(var p=s-o;p!==s&&0===f[p];)p++;var y=n.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var g=i;p!==s;)y[g++]=f[p++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var c=(s-o)*f+1>>>0,l=new Uint8Array(c);o!==s;){for(var d=t[o],h=0,p=c-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=256*l[p]>>>0,l[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,o++}for(var y=c-i;y!==c&&0===l[y];)y++;for(var g=u.repeat(r);y<c;++y)g+=e.charAt(l[y]);return g},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],u=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,u)),f=0,l=u>0?s-4:s;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===u&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[f++]=255&t);1===u&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},22343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let e=0;e<32;e++){const t=r.charAt(e);n[t]=e}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let n=0;n<e.length;++n)for(i=i<<t|e[n],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const u=(e=s).lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;const c=e.slice(0,u),f=e.slice(u+1);if(f.length<6)return"Data too short";let l=o(c);if("string"==typeof l)return l;const d=[];for(let e=0;e<f.length;++e){const t=f.charAt(e),r=n[t];if(void 0===r)return"Unknown character "+t;l=i(l)^r,e+6>=f.length||d.push(r)}return l!==t?"Invalid checksum for "+e:{prefix:c,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=s(e,t);if("object"==typeof r)return r},decode:function(e,t){const r=s(e,t);if("object"==typeof r)return r;throw new Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"==typeof a)throw new Error(a);let u=e+"1";for(let e=0;e<n.length;++e){const t=n[e];if(t>>5)throw new Error("Non 5-bit word");a=i(a)^t,u+=r.charAt(t)}for(let e=0;e<6;++e)a=i(a);a^=t;for(let e=0;e<6;++e){u+=r.charAt(a>>5*(5-e)&31)}return u},toWords:a,fromWordsUnsafe:u,fromWords:c}}t.bech32=f("bech32"),t.bech32m=f("bech32m")},64863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(91457);function i(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function o(e){return e.globalMap.unsignedTx}function s(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}t.combine=function(e){const t=e[0],r=n.psbtToKeyVals(t),a=e.slice(1);if(0===a.length)throw new Error("Combine: Nothing to combine");const u=o(t);if(void 0===u)throw new Error("Combine: Self missing transaction");const c=s(r.globalKeyVals),f=r.inputKeyVals.map(s),l=r.outputKeyVals.map(s);for(const e of a){const t=o(e);if(void 0===t||!t.toBuffer().equals(u.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const a=n.psbtToKeyVals(e);s(a.globalKeyVals).forEach(i(c,r.globalKeyVals,a.globalKeyVals));a.inputKeyVals.map(s).forEach(((e,t)=>e.forEach(i(f[t],r.inputKeyVals[t],a.inputKeyVals[t]))));a.outputKeyVals.map(s).forEach(((e,t)=>e.forEach(i(l[t],r.outputKeyVals[t],a.outputKeyVals[t]))))}return n.psbtFromKeyVals(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},4834:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const t of(n=e.value.length/4-1,[...Array(n).keys()])){const n=e.value.readUInt32LE(4*t+4),i=!!(2147483648&n),o=2147483647&n;r.path+="/"+o.toString(10)+(i?"'":"")}var n;return r},t.encode=function(e){const t=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([t,e.extendedPubkey]),o=e.path.split("/"),s=n.allocUnsafe(4*o.length);e.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:r,value:s}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,i=e.path;return n.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"==typeof i&&!!i.match(/^m(\/\d+'?)*$/)},t.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}},4213:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.encode=function(e){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}},22706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(99080),i=r(4834),o=r(4213),s=r(76605),a=r(71795),u=r(4431),c=r(66907),f=r(95949),l=r(59344),d=r(72760),h=r(81695),p=r(98454),y=r(19034),g=r(82926),b=r(77851),m=r(97545),v=r(22412),_=r(54307),w=r(87636),S=r(22223),E=r(75578),A={unsignedTx:o,globalXpub:i,checkPubkey:v.makeChecker([])};t.globals=A;const x={nonWitnessUtxo:u,partialSig:c,sighashType:l,finalScriptSig:s,finalScriptWitness:a,porCommitment:f,witnessUtxo:g,bip32Derivation:m.makeConverter(n.InputTypes.BIP32_DERIVATION),redeemScript:_.makeConverter(n.InputTypes.REDEEM_SCRIPT),witnessScript:E.makeConverter(n.InputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([n.InputTypes.PARTIAL_SIG,n.InputTypes.BIP32_DERIVATION]),tapKeySig:d,tapScriptSig:y,tapLeafScript:h,tapBip32Derivation:w.makeConverter(n.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:S.makeConverter(n.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:p};t.inputs=x;const k={bip32Derivation:m.makeConverter(n.OutputTypes.BIP32_DERIVATION),redeemScript:_.makeConverter(n.OutputTypes.REDEEM_SCRIPT),witnessScript:E.makeConverter(n.OutputTypes.WITNESS_SCRIPT),checkPubkey:v.makeChecker([n.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:w.makeConverter(n.OutputTypes.TAP_BIP32_DERIVATION),tapTree:b,tapInternalKey:S.makeConverter(n.OutputTypes.TAP_INTERNAL_KEY)};t.outputs=k},76605:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}},71795:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}},4431:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}},66907:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!n.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}},95949:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}},59344:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"==typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}},72760:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);function o(e){return n.isBuffer(e)&&(64===e.length||65===e.length)}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_KEY_SIG]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig}},81695:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_LEAF_SCRIPT]),r=n.from([e.leafVersion]);return{key:n.concat([t,e.controlBlock]),value:n.concat([e.script,r])}},t.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.check=function(e){return n.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32==0&&(254&e.controlBlock[0])===e.leafVersion&&n.isBuffer(e.script)},t.canAddToArray=function(e,t,r){const n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.controlBlock.equals(t.controlBlock))).length)}},98454:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);function o(e){return n.isBuffer(e)&&32===e.length}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_MERKLE_ROOT]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot}},19034:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080);t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_SCRIPT_SIG]);return{key:n.concat([t,e.pubkey,e.leafHash]),value:e.signature}},t.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.leafHash)&&n.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash))).length)}},82926:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080),o=r(78133),s=r(40394);t.decode=function(e){if(e.key[0]!==i.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=o.readUInt64LE(e.value,0);let r=8;const n=s.decode(e.value,r);r+=s.encodingLength(n);const a=e.value.slice(r);if(a.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:a,value:t}},t.encode=function(e){const{script:t,value:r}=e,a=s.encodingLength(t.length),u=n.allocUnsafe(8+a+t.length);return o.writeUInt64LE(u,r,0),s.encode(t.length,u,8),t.copy(u,8+a),{key:n.from([i.InputTypes.WITNESS_UTXO]),value:u}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return n.isBuffer(e.script)&&"number"==typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}},77851:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(99080),o=r(40394);t.decode=function(e){if(e.key[0]!==i.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],i=e.value[t++],s=o.decode(e.value,t);t+=o.encodingLength(s),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+s)}),t+=s}return{leaves:r}},t.encode=function(e){const t=n.from([i.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map((e=>[n.of(e.depth,e.leafVersion),o.encode(e.script.length),e.script])));return{key:t,value:n.concat(r)}},t.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&n.isBuffer(e.script)))},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree}},97545:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];t.makeConverter=function(e,t=i){return{decode:function(r){if(r.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!t(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const e of(o=r.value.length/4-1,[...Array(o).keys()])){const t=r.value.readUInt32LE(4*e+4),n=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(n?"'":"")}var o;return i},encode:function(t){const r=n.from([e]),i=n.concat([r,t.pubkey]),o=t.path.split("/"),s=n.allocUnsafe(4*o.length);t.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:i,value:s}},check:function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.masterFingerprint)&&"string"==typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}},22412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}},54307:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}},87636:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(40394),o=r(97545),s=e=>32===e.length;t.makeConverter=function(e){const t=o.makeConverter(e,s);return{decode:function(e){const r=i.decode(e.value),n=i.encodingLength(r),o=t.decode({key:e.key,value:e.value.slice(n+32*r)}),s=new Array(r);for(let t=0,i=n;t<r;t++,i+=32)s[t]=e.value.slice(i,i+32);return Object.assign({},o,{leafHashes:s})},encode:function(e){const r=t.encode(e),o=i.encodingLength(e.leafHashes.length),s=n.allocUnsafe(o);i.encode(e.leafHashes.length,s);const a=n.concat([s,...e.leafHashes,r.value]);return Object.assign({},r,{value:a})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((e=>n.isBuffer(e)&&32===e.length))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}}},22223:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}}},75578:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}},78133:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(40394);function o(e){const t=e.key.length,r=e.value.length,o=i.encodingLength(t),s=i.encodingLength(r),a=n.allocUnsafe(o+t+s+r);return i.encode(t,a,0),e.key.copy(a,o),i.encode(r,a,o+t),e.value.copy(a,o+t+s),a}function s(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){const t=e.map(o);return t.push(n.from([0])),n.concat(t)},t.keyValToBuffer=o,t.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,s(n+r,9007199254740991),n+r},t.writeUInt64LE=function(e,t,r){return s(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}},40394:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=9007199254740991;function o(e){if(e<0||e>i||e%1!=0)throw new RangeError("value out of range")}function s(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=function e(t,r,i){if(o(t),r||(r=n.allocUnsafe(s(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),t<253?(r.writeUInt8(t,i),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(t,i+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(t,i+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,i),r.writeUInt32LE(t>>>0,i+1),r.writeUInt32LE(t/4294967296|0,i+5),Object.assign(e,{bytes:9})),r},t.decode=function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const i=t.readUInt8(r);if(i<253)return Object.assign(e,{bytes:1}),i;if(253===i)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===i)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});const n=t.readUInt32LE(r+1),i=4294967296*t.readUInt32LE(r+5)+n;return o(i),i}},t.encodingLength=s},76263:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(22706),o=r(78133),s=r(40394),a=r(99080);function u(e,t,r){if(!t.equals(n.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function c(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const s={unsignedTx:e};let c=0;for(const e of t)switch(e.key[0]){case a.GlobalTypes.UNSIGNED_TX:if(u("global",e.key,a.GlobalTypes.UNSIGNED_TX),c>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");c++;break;case a.GlobalTypes.GLOBAL_XPUB:void 0===s.globalXpub&&(s.globalXpub=[]),s.globalXpub.push(i.globals.globalXpub.decode(e));break;default:s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(e)}const f=r.length,l=n.length,d=[],h=[];for(const e of o.range(f)){const t={};for(const n of r[e])switch(i.inputs.checkPubkey(n),n.key[0]){case a.InputTypes.NON_WITNESS_UTXO:if(u("input",n.key,a.InputTypes.NON_WITNESS_UTXO),void 0!==t.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");t.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(n);break;case a.InputTypes.WITNESS_UTXO:if(u("input",n.key,a.InputTypes.WITNESS_UTXO),void 0!==t.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");t.witnessUtxo=i.inputs.witnessUtxo.decode(n);break;case a.InputTypes.PARTIAL_SIG:void 0===t.partialSig&&(t.partialSig=[]),t.partialSig.push(i.inputs.partialSig.decode(n));break;case a.InputTypes.SIGHASH_TYPE:if(u("input",n.key,a.InputTypes.SIGHASH_TYPE),void 0!==t.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");t.sighashType=i.inputs.sighashType.decode(n);break;case a.InputTypes.REDEEM_SCRIPT:if(u("input",n.key,a.InputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");t.redeemScript=i.inputs.redeemScript.decode(n);break;case a.InputTypes.WITNESS_SCRIPT:if(u("input",n.key,a.InputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");t.witnessScript=i.inputs.witnessScript.decode(n);break;case a.InputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.inputs.bip32Derivation.decode(n));break;case a.InputTypes.FINAL_SCRIPTSIG:u("input",n.key,a.InputTypes.FINAL_SCRIPTSIG),t.finalScriptSig=i.inputs.finalScriptSig.decode(n);break;case a.InputTypes.FINAL_SCRIPTWITNESS:u("input",n.key,a.InputTypes.FINAL_SCRIPTWITNESS),t.finalScriptWitness=i.inputs.finalScriptWitness.decode(n);break;case a.InputTypes.POR_COMMITMENT:u("input",n.key,a.InputTypes.POR_COMMITMENT),t.porCommitment=i.inputs.porCommitment.decode(n);break;case a.InputTypes.TAP_KEY_SIG:u("input",n.key,a.InputTypes.TAP_KEY_SIG),t.tapKeySig=i.inputs.tapKeySig.decode(n);break;case a.InputTypes.TAP_SCRIPT_SIG:void 0===t.tapScriptSig&&(t.tapScriptSig=[]),t.tapScriptSig.push(i.inputs.tapScriptSig.decode(n));break;case a.InputTypes.TAP_LEAF_SCRIPT:void 0===t.tapLeafScript&&(t.tapLeafScript=[]),t.tapLeafScript.push(i.inputs.tapLeafScript.decode(n));break;case a.InputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(i.inputs.tapBip32Derivation.decode(n));break;case a.InputTypes.TAP_INTERNAL_KEY:u("input",n.key,a.InputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=i.inputs.tapInternalKey.decode(n);break;case a.InputTypes.TAP_MERKLE_ROOT:u("input",n.key,a.InputTypes.TAP_MERKLE_ROOT),t.tapMerkleRoot=i.inputs.tapMerkleRoot.decode(n);break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(n)}d.push(t)}for(const e of o.range(l)){const t={};for(const r of n[e])switch(i.outputs.checkPubkey(r),r.key[0]){case a.OutputTypes.REDEEM_SCRIPT:if(u("output",r.key,a.OutputTypes.REDEEM_SCRIPT),void 0!==t.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");t.redeemScript=i.outputs.redeemScript.decode(r);break;case a.OutputTypes.WITNESS_SCRIPT:if(u("output",r.key,a.OutputTypes.WITNESS_SCRIPT),void 0!==t.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");t.witnessScript=i.outputs.witnessScript.decode(r);break;case a.OutputTypes.BIP32_DERIVATION:void 0===t.bip32Derivation&&(t.bip32Derivation=[]),t.bip32Derivation.push(i.outputs.bip32Derivation.decode(r));break;case a.OutputTypes.TAP_INTERNAL_KEY:u("output",r.key,a.OutputTypes.TAP_INTERNAL_KEY),t.tapInternalKey=i.outputs.tapInternalKey.decode(r);break;case a.OutputTypes.TAP_TREE:u("output",r.key,a.OutputTypes.TAP_TREE),t.tapTree=i.outputs.tapTree.decode(r);break;case a.OutputTypes.TAP_BIP32_DERIVATION:void 0===t.tapBip32Derivation&&(t.tapBip32Derivation=[]),t.tapBip32Derivation.push(i.outputs.tapBip32Derivation.decode(r));break;default:t.unknownKeyVals||(t.unknownKeyVals=[]),t.unknownKeyVals.push(r)}h.push(t)}return{globalMap:s,inputs:d,outputs:h}}t.psbtFromBuffer=function(e,t){let r=0;function n(){const t=s.decode(e,r);r+=s.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function u(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const f=[],l={};for(;!u();){const e=i(),t=e.key.toString("hex");if(l[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);l[t]=1,f.push(e)}const d=f.filter((e=>e.key[0]===a.GlobalTypes.UNSIGNED_TX));if(1!==d.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const h=t(d[0].value),{inputCount:p,outputCount:y}=h.getInputOutputCounts(),g=[],b=[];for(const e of o.range(p)){const t={},r=[];for(;!u();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each input: input index "+e+" key "+o);t[o]=1,r.push(n)}g.push(r)}for(const e of o.range(y)){const t={},r=[];for(;!u();){const n=i(),o=n.key.toString("hex");if(t[o])throw new Error("Format Error: Keys must be unique for each output: output index "+e+" key "+o);t[o]=1,r.push(n)}b.push(r)}return c(h,{globalMapKeyVals:f,inputKeyVals:g,outputKeyVals:b})},t.checkKeyBuffer=u,t.psbtFromKeyVals=c},91457:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(76263)),n(r(238))},238:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(22706),o=r(78133);t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:i,inputKeyVals:s,outputKeyVals:a}=u({globalMap:e,inputs:t,outputs:r}),c=o.keyValsToBuffer(i),f=e=>0===e.length?[n.from([0])]:e.map(o.keyValsToBuffer),l=f(s),d=f(a),h=n.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),n.concat([h,c].concat(l,d))};const s=(e,t)=>e.key.compare(t.key);function a(e,t){const r=new Set,n=Object.entries(e).reduce(((e,[n,i])=>{if("unknownKeyVals"===n)return e;const o=t[n];if(void 0===o)return e;const s=(Array.isArray(i)?i:[i]).map(o.encode);return s.map((e=>e.key.toString("hex"))).forEach((e=>{if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(s)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!r.has(e.key.toString("hex")))):[];return n.concat(i).sort(s)}function u({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:a(e,i.globals),inputKeyVals:t.map((e=>a(e,i.inputs))),outputKeyVals:r.map((e=>a(e,i.outputs)))}}t.psbtToKeyVals=u},1614:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(64863),o=r(91457),s=r(99080),a=r(45080);t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=o.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return a.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=a.checkForInput(this.inputs,e);return a.updateInput(t,r),this}updateOutput(e,t){const r=a.checkForOutput(this.outputs,e);return a.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return a.checkHasKey(e,this.globalMap.unknownKeyVals,a.getEnumLength(s.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=a.checkForInput(this.inputs,e);return a.checkHasKey(t,r.unknownKeyVals,a.getEnumLength(s.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=a.checkForOutput(this.outputs,e);return a.checkHasKey(t,r.unknownKeyVals,a.getEnumLength(s.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),a.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToOutput(r,e))),a.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=a.checkForInput(this.inputs,e);a.inputCheckUncleanFinalized(e,t);for(const e of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(e)||delete t[e];return this}combine(...e){const t=i.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},99080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},45080:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r(22706);function o(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function s(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r}function a(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function u(e){return(t,r)=>{for(const n of Object.keys(t)){const o=t[n],{canAdd:s,canAddToArray:u,check:c,expected:f}=i[e+"s"][n]||{};if(c)if(!!u){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(c)||a(e,n,f,o);const t=r[n]||[],i=new Set;if(!o.every((e=>u(t,e,i))))throw new Error("Can not add duplicate data to array");r[n]=t.concat(o)}else{if(c(o)||a(e,n,f,o),!s(r,o))throw new Error(`Can not add duplicate data to ${e}`);r[n]=o}}}}t.checkForInput=o,t.checkForOutput=s,t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&s}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=u("global"),t.updateInput=u("input"),t.updateOutput=u("output"),t.addInputAttributes=function(e,r){const n=o(e,e.length-1);t.updateInput(r,n)},t.addOutputAttributes=function(e,r){const n=s(e,e.length-1);t.updateOutput(r,n)},t.defaultVersionSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}},70057:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const i=r(50622),o=r(30885),s=r(67038),a=r(98116),u=r(22343),c=r(91889),f=40,l=2,d=16,h=2,p=80,y="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function g(e){const t=n.from(c.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function b(e){let t,r;try{t=u.bech32.decode(e)}catch(e){}if(t){if(r=t.words[0],0!==r)throw new TypeError(e+" uses wrong encoding")}else if(t=u.bech32m.decode(e),r=t.words[0],0===r)throw new TypeError(e+" uses wrong encoding");const i=u.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:n.from(i)}}function m(e,t,r){const n=u.bech32.toWords(e);return n.unshift(t),0===t?u.bech32.encode(r,n):u.bech32m.encode(r,n)}t.fromBase58Check=g,t.fromBech32=b,t.toBase58Check=function(e,t){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),c.encode(r)},t.toBech32=m,t.fromOutputScript=function(e,t){t=t||i.bitcoin;try{return o.p2pkh({output:e,network:t}).address}catch(e){}try{return o.p2sh({output:e,network:t}).address}catch(e){}try{return o.p2wpkh({output:e,network:t}).address}catch(e){}try{return o.p2wsh({output:e,network:t}).address}catch(e){}try{return o.p2tr({output:e,network:t}).address}catch(e){}try{return function(e,t){const r=e.slice(2);if(r.length<l||r.length>f)throw new TypeError("Invalid program length for segwit address");const n=e[0]-p;if(n<h||n>d)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(y),m(r,n,t.bech32)}(e,t)}catch(e){}throw new Error(s.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let r,n;t=t||i.bitcoin;try{r=g(e)}catch(e){}if(r){if(r.version===t.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{n=b(e)}catch(e){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return o.p2wpkh({hash:n.data}).output;if(32===n.data.length)return o.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return o.p2tr({pubkey:n.data}).output}else if(n.version>=h&&n.version<=d&&n.data.length>=l&&n.data.length<=f)return console.warn(y),s.compile([n.version+p,n.data])}}throw new Error(e+" has no matching Script")}},13966:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;const t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;const r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},t.decode=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");const t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");const r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},t.encode=function(e,t){const r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}},41696:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const i=r(30606),o=r(91944),s=r(31015),a=r(22021),u=r(98116),{typeforce:c}=u,f=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class d{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const t=new i.BufferReader(e),r=new d;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;const n=()=>{const e=a.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},o=t.readVarInt();r.transactions=[];for(let e=0;e<o;++e){const e=n();r.transactions.push(e)}const s=r.getWitnessCommit();return s&&(r.witnessCommit=s),r}static fromHex(e){return d.fromBuffer(n.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,i=n.alloc(32,0);return i.writeUIntBE(r,29-t,3),i}static calculateMerkleRoot(e,t){if(c([{getHash:u.Function}],e),0===e.length)throw f;if(t&&!h(e))throw l;const r=e.map((e=>e.getHash(t))),i=(0,s.fastMerkleRoot)(r,o.hash256);return t?o.hash256(n.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!h(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(n.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof n&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof n&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"==typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"==typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+i.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return o.hash256(this.toBuffer(!0))}getId(){return(0,i.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=n.allocUnsafe(this.byteLength(e)),r=new i.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(i.varuint.encode(this.transactions.length,t,r.offset),r.offset+=i.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,i.reverseBuffer)(this.getHash()),t=d.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw f;const e=d.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw f;if(!this.hasWitnessCommit())throw l;const e=d.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function h(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=d},30606:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const i=r(98116),{typeforce:o}=i,s=r(68469);function a(e,t){if("number"!=typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function u(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,a(n+r,9007199254740991),n+r}function c(e,t,r){return a(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.varuint=s,t.readUInt64LE=u,t.writeUInt64LE=c,t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){const t=n.allocUnsafe(e.length);return e.copy(t),t};class f{static withCapacity(e){return new f(n.alloc(e))}constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=c(this.buffer,e,this.offset)}writeVarInt(e){s.encode(e,this.buffer,this.offset),this.offset+=s.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=f;t.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=u(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=s.decode(this.buffer,this.offset);return this.offset+=s.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}},91944:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const i=r(93238),o=r(31549),s=r(22623);function a(e){return n.from((0,s.sha256)(Uint8Array.from(e)))}t.ripemd160=function(e){return n.from((0,i.ripemd160)(Uint8Array.from(e)))},t.sha1=function(e){return n.from((0,o.sha1)(Uint8Array.from(e)))},t.sha256=a,t.hash160=function(e){return n.from((0,i.ripemd160)((0,s.sha256)(Uint8Array.from(e))))},t.hash256=function(e){return n.from((0,s.sha256)((0,s.sha256)(Uint8Array.from(e))))},t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":n.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":n.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":n.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:n.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:n.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:n.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:n.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":n.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":n.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},t.taggedHash=function(e,r){return a(n.concat([t.TAGGED_HASH_PREFIXES[e],r]))}},60916:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const i={};t.initEccLib=function(e){var t;e?e!==i.eccLib&&(s("function"==typeof(t=e).isXOnlyPoint),s(t.isXOnlyPoint(o("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),s(t.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),s(t.isXOnlyPoint(o("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),s(t.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000001"))),s(!t.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000000"))),s(!t.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),s("function"==typeof t.xOnlyPointAddTweak),a.forEach((e=>{const r=t.xOnlyPointAddTweak(o(e.pubkey),o(e.tweak));null===e.result?s(null===r):(s(null!==r),s(r.parity===e.parity),s(n.from(r.xOnlyPubkey).equals(o(e.result))))})),i.eccLib=e):i.eccLib=e},t.getEccLib=function(){if(!i.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return i.eccLib};const o=e=>n.from(e,"hex");function s(e){if(!e)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},21757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initEccLib=t.Transaction=t.opcodes=t.Psbt=t.Block=t.script=t.payments=t.networks=t.crypto=t.address=void 0;const n=r(70057);t.address=n;const i=r(91944);t.crypto=i;const o=r(50622);t.networks=o;const s=r(30885);t.payments=s;const a=r(67038);t.script=a;var u=r(41696);Object.defineProperty(t,"Block",{enumerable:!0,get:function(){return u.Block}});var c=r(59646);Object.defineProperty(t,"Psbt",{enumerable:!0,get:function(){return c.Psbt}});var f=r(68417);Object.defineProperty(t,"opcodes",{enumerable:!0,get:function(){return f.OPS}});var l=r(22021);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return l.Transaction}});var d=r(60916);Object.defineProperty(t,"initEccLib",{enumerable:!0,get:function(){return d.initEccLib}})},31015:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!=typeof t)throw TypeError("Expected digest Function");let r=e.length;const i=e.concat();for(;r>1;){let e=0;for(let o=0;o<r;o+=2,++e){const s=i[o],a=o+1===r?s:i[o+1],u=n.concat([s,a]);i[e]=t(u)}r=e}return i[0]}},50622:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},68417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;const n={};t.REVERSE_OPS=n;for(const e of Object.keys(r)){n[r[e]]=e}},82218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const n=r(48287),i=r(60916),o=r(91944),s=r(30606),a=r(98116);t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;function u(e){const r=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",n.Buffer.concat([n.Buffer.from([r]),l(e.output)]))}function c(e,t){return o.taggedHash("TapTweak",n.Buffer.concat(t?[e,t]:[e]))}function f(e,t){return o.taggedHash("TapBranch",n.Buffer.concat([e,t]))}function l(e){const t=s.varuint.encodingLength(e.length),r=n.Buffer.allocUnsafe(t);return s.varuint.encode(e.length,r),n.Buffer.concat([r,e])}t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const r=(e.length-33)/32;let n=t;for(let t=0;t<r;t++){const r=e.slice(33+32*t,65+32*t);n=n.compare(r)<0?f(n,r):f(r,n)}return n},t.toHashTree=function e(t){if((0,a.isTapleaf)(t))return{hash:u(t)};const r=[e(t[0]),e(t[1])];r.sort(((e,t)=>e.hash.compare(t.hash)));const[n,i]=r;return{hash:f(n.hash,i.hash),left:n,right:i}},t.findScriptPath=function e(t,r){if("left"in(n=t)&&"right"in n){const n=e(t.left,r);if(void 0!==n)return[...n,t.right.hash];const i=e(t.right,r);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(r))return[];var n},t.tapleafHash=u,t.tapTweakHash=c,t.tweakKey=function(e,t){if(!n.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const r=c(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,r);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:n.Buffer.from(o.xOnlyPubkey)}:null}},55472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const n=r(50622),i=r(67038),o=r(98116),s=r(97883),a=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const r={name:"embed",network:e.network||n.bitcoin};if(s.prop(r,"output",(()=>{if(e.data)return i.compile([a.OP_RETURN].concat(e.data))})),s.prop(r,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==a.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!(0,o.stacksEqual)(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)}},30885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const n=r(55472);Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r(91395);Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=r(4930);Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const s=r(23504);Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return s.p2pkh}});const a=r(8368);Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return a.p2sh}});const u=r(77027);Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});const c=r(79041);Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return c.p2wsh}});const f=r(25501);Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return f.p2tr}})},97883:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},91395:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const n=r(50622),i=r(67038),o=r(98116),s=r(97883),a=i.OPS,u=a.OP_RESERVED;t.p2ms=function(e,t){if(!(e.input||e.output||e.pubkeys&&void 0!==e.m||e.signatures))throw new TypeError("Not enough data");function r(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===a.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const c={network:e.network||n.bitcoin};let f=[],l=!1;function d(e){l||(l=!0,f=i.decompile(e),c.m=f[0]-u,c.n=f[f.length-2]-u,c.pubkeys=f.slice(1,-2))}if(s.prop(c,"output",(()=>{if(e.m&&c.n&&e.pubkeys)return i.compile([].concat(u+e.m,e.pubkeys,u+c.n,a.OP_CHECKMULTISIG))})),s.prop(c,"m",(()=>{if(c.output)return d(c.output),c.m})),s.prop(c,"n",(()=>{if(c.pubkeys)return c.pubkeys.length})),s.prop(c,"pubkeys",(()=>{if(e.output)return d(e.output),c.pubkeys})),s.prop(c,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),s.prop(c,"input",(()=>{if(e.signatures)return i.compile([a.OP_0].concat(e.signatures))})),s.prop(c,"witness",(()=>{if(c.input)return[]})),s.prop(c,"name",(()=>{if(c.m&&c.n)return`p2ms(${c.m} of ${c.n})`})),t.validate){if(e.output){if(d(e.output),!o.typeforce.Number(f[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(f[f.length-2]))throw new TypeError("Output is invalid");if(f[f.length-1]!==a.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(c.m<=0||c.n>16||c.m>c.n||c.n!==f.length-3)throw new TypeError("Output is invalid");if(!c.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==c.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==c.n)throw new TypeError("n mismatch");if(e.pubkeys&&!(0,o.stacksEqual)(e.pubkeys,c.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(c.n=e.pubkeys.length,c.n<c.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<c.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>c.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==a.OP_0)throw new TypeError("Input is invalid");if(0===c.signatures.length||!c.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!(0,o.stacksEqual)(e.signatures,c.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(c,e)}},4930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const n=r(50622),i=r(67038),o=r(98116),s=r(97883),a=i.OPS;t.p2pk=function(e,t){if(!(e.input||e.output||e.pubkey||e.input||e.signature))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const r=s.value((()=>i.decompile(e.input))),u={name:"p2pk",network:e.network||n.bitcoin};if(s.prop(u,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,a.OP_CHECKSIG])})),s.prop(u,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),s.prop(u,"signature",(()=>{if(e.input)return r()[0]})),s.prop(u,"input",(()=>{if(e.signature)return i.compile([e.signature])})),s.prop(u,"witness",(()=>{if(u.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==a.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(u.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(u.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(u.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,e)}},23504:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(91889),f=s.OPS;t.p2pkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);const r=u.value((()=>{const t=n.from(c.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),l=u.value((()=>s.decompile(e.input))),d=e.network||o.bitcoin,h={name:"p2pkh",network:d};if(u.prop(h,"address",(()=>{if(!h.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(d.pubKeyHash,0),h.hash.copy(e,1),c.encode(e)})),u.prop(h,"hash",(()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||h.pubkey?i.hash160(e.pubkey||h.pubkey):void 0)),u.prop(h,"output",(()=>{if(h.hash)return s.compile([f.OP_DUP,f.OP_HASH160,h.hash,f.OP_EQUALVERIFY,f.OP_CHECKSIG])})),u.prop(h,"pubkey",(()=>{if(e.input)return l()[1]})),u.prop(h,"signature",(()=>{if(e.input)return l()[0]})),u.prop(h,"input",(()=>{if(e.pubkey&&e.signature)return s.compile([e.signature,e.pubkey])})),u.prop(h,"witness",(()=>{if(h.input)return[]})),t.validate){let t=n.from([]);if(e.address){if(r().version!==d.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==f.OP_DUP||e.output[1]!==f.OP_HASH160||20!==e.output[2]||e.output[23]!==f.OP_EQUALVERIFY||e.output[24]!==f.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=l();if(2!==r.length)throw new TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=i.hash160(r[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}},8368:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(91889),f=s.OPS;t.p2sh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.input))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||o.bitcoin);const l={network:r},d=u.value((()=>{const t=n.from(c.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),h=u.value((()=>s.decompile(e.input))),p=u.value((()=>{const t=h(),i=t[t.length-1];return{network:r,output:i===f.OP_FALSE?n.from([]):i,input:s.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(u.prop(l,"address",(()=>{if(!l.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(l.network.scriptHash,0),l.hash.copy(e,1),c.encode(e)})),u.prop(l,"hash",(()=>e.output?e.output.slice(2,22):e.address?d().hash:l.redeem&&l.redeem.output?i.hash160(l.redeem.output):void 0)),u.prop(l,"output",(()=>{if(l.hash)return s.compile([f.OP_HASH160,l.hash,f.OP_EQUAL])})),u.prop(l,"redeem",(()=>{if(e.input)return p()})),u.prop(l,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return s.compile([].concat(s.decompile(e.redeem.input),e.redeem.output))})),u.prop(l,"witness",(()=>l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0)),u.prop(l,"name",(()=>{const e=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&e.push(l.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(d().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==d().hash.length)throw new TypeError("Invalid address");t=d().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==f.OP_HASH160||20!==e.output[1]||e.output[22]!==f.OP_EQUAL)throw new TypeError("Output is invalid");const r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}const o=e=>{if(e.output){const r=s.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");if(e.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=s.decompile(e.input);if(!s.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=h();if(!e||e.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");o(p())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const t=p();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}o(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!(0,a.stacksEqual)(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}},25501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const n=r(48287),i=r(50622),o=r(67038),s=r(98116),a=r(60916),u=r(82218),c=r(97883),f=r(22343),l=r(70057),d=o.OPS;t.p2tr=function(e,t){if(!(e.address||e.output||e.pubkey||e.internalPubkey||e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(34)),internalPubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),pubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),signature:s.typeforce.maybe(s.typeforce.anyOf(s.typeforce.BufferN(64),s.typeforce.BufferN(65))),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer)),scriptTree:s.typeforce.maybe(s.isTaptree),redeem:s.typeforce.maybe({output:s.typeforce.maybe(s.typeforce.Buffer),redeemVersion:s.typeforce.maybe(s.typeforce.Number),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),redeemVersion:s.typeforce.maybe(s.typeforce.Number)},e);const r=c.value((()=>(0,l.fromBech32)(e.address))),h=c.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),p=c.value((()=>e.scriptTree?(0,u.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),y=e.network||i.bitcoin,g={name:"p2tr",network:y};if(c.prop(g,"address",(()=>{if(!g.pubkey)return;const e=f.bech32m.toWords(g.pubkey);return e.unshift(1),f.bech32m.encode(y.bech32,e)})),c.prop(g,"hash",(()=>{const e=p();if(e)return e.hash;const t=h();if(t&&t.length>1){const e=t[t.length-1],r=e[0]&s.TAPLEAF_VERSION_MASK,n=t[t.length-2],i=(0,u.tapleafHash)({output:n,version:r});return(0,u.rootHashFromPath)(e,i)}return null})),c.prop(g,"output",(()=>{if(g.pubkey)return o.compile([d.OP_1,g.pubkey])})),c.prop(g,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:u.LEAF_VERSION_TAPSCRIPT)),c.prop(g,"redeem",(()=>{const e=h();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&s.TAPLEAF_VERSION_MASK}})),c.prop(g,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return r().data;if(g.internalPubkey){const e=(0,u.tweakKey)(g.internalPubkey,g.hash);if(e)return e.x}})),c.prop(g,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=h();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),c.prop(g,"signature",(()=>{if(e.signature)return e.signature;const t=h();return t&&1===t.length?t[0]:void 0})),c.prop(g,"witness",(()=>{if(e.witness)return e.witness;const t=p();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const r=(0,u.tapleafHash)({output:e.redeem.output,version:g.redeemVersion}),i=(0,u.findScriptPath)(t,r);if(!i)return;const o=(0,u.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const s=n.Buffer.concat([n.Buffer.from([g.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,s]}return e.signature?[e.signature]:void 0})),t.validate){let t=n.Buffer.from([]);if(e.address){if(y&&y.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==d.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const r=(0,u.tweakKey)(e.internalPubkey,g.hash);if(t.length>0&&!t.equals(r.x))throw new TypeError("Pubkey mismatch");t=r.x}if(t&&t.length&&!(0,a.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=p();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,u.tapleafHash)({output:e.redeem.output,version:g.redeemVersion});if(!(0,u.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const c=h();if(e.redeem&&g.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==g.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(g.redeem.output&&!e.redeem.output.equals(g.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&g.redeem.witness&&!(0,s.stacksEqual)(e.redeem.witness,g.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(1===c.length){if(e.signature&&!e.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{const r=c[c.length-1];if(r.length<33)throw new TypeError(`The control-block length is too small. Got ${r.length}, expected min 33.`);if((r.length-33)%32!=0)throw new TypeError(`The control-block length of ${r.length} is incorrect!`);const n=(r.length-33)/32;if(n>128)throw new TypeError(`The script path is too long. Got ${n}, expected max 128.`);const i=r.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,a.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=r[0]&s.TAPLEAF_VERSION_MASK,f=c[c.length-2],l=(0,u.tapleafHash)({output:f,version:o}),d=(0,u.rootHashFromPath)(r,l),h=(0,u.tweakKey)(i,d);if(!h)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(h.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(h.parity!==(1&r[0]))throw new Error("Incorrect parity")}}return Object.assign(g,e)}},77027:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(22343),f=s.OPS,l=n.alloc(0);t.p2wpkh=function(e,t){if(!(e.address||e.hash||e.output||e.pubkey||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const r=u.value((()=>{const t=c.bech32.decode(e.address),r=t.words.shift(),i=c.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),d=e.network||o.bitcoin,h={name:"p2wpkh",network:d};if(u.prop(h,"address",(()=>{if(!h.hash)return;const e=c.bech32.toWords(h.hash);return e.unshift(0),c.bech32.encode(d.bech32,e)})),u.prop(h,"hash",(()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||h.pubkey?i.hash160(e.pubkey||h.pubkey):void 0)),u.prop(h,"output",(()=>{if(h.hash)return s.compile([f.OP_0,h.hash])})),u.prop(h,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),u.prop(h,"signature",(()=>{if(e.witness)return e.witness[0]})),u.prop(h,"input",(()=>{if(h.witness)return l})),u.prop(h,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=n.from([]);if(e.address){if(d&&d.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==f.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!s.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=i.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(h,e)}},79041:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const i=r(91944),o=r(50622),s=r(67038),a=r(98116),u=r(97883),c=r(22343),f=s.OPS,l=n.alloc(0);function d(e){return!(!n.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}t.p2wsh=function(e,t){if(!(e.address||e.hash||e.output||e.redeem||e.witness))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const r=u.value((()=>{const t=c.bech32.decode(e.address),r=t.words.shift(),i=c.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),h=u.value((()=>s.decompile(e.redeem.input)));let p=e.network;p||(p=e.redeem&&e.redeem.network||o.bitcoin);const y={network:p};if(u.prop(y,"address",(()=>{if(!y.hash)return;const e=c.bech32.toWords(y.hash);return e.unshift(0),c.bech32.encode(p.bech32,e)})),u.prop(y,"hash",(()=>e.output?e.output.slice(2):e.address?r().data:y.redeem&&y.redeem.output?i.sha256(y.redeem.output):void 0)),u.prop(y,"output",(()=>{if(y.hash)return s.compile([f.OP_0,y.hash])})),u.prop(y,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:l,witness:e.witness.slice(0,-1)}})),u.prop(y,"input",(()=>{if(y.witness)return l})),u.prop(y,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=s.toStack(h());return y.redeem=Object.assign({witness:t},e.redeem),y.redeem.input=l,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),u.prop(y,"name",(()=>{const e=["p2wsh"];return void 0!==y.redeem&&void 0!==y.redeem.name&&e.push(y.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(r().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==p)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const r=s.decompile(e.redeem.output);if(!r||r.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!s.isPushOnly(h()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!(0,a.stacksEqual)(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&h().some(d)||e.redeem.output&&(s.decompile(e.redeem.output)||[]).some(d))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(d)||(s.decompile(t)||[]).some(d))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(y,e)}},59646:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const i=r(1614),o=r(40394),s=r(45080),a=r(70057),u=r(30606),c=r(50622),f=r(30885),l=r(82218),d=r(67038),h=r(22021),p=r(60477),y=r(34929),g={network:c.bitcoin,maximumFeeRate:5e3};class b{static fromBase64(e,t={}){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=i.Psbt.fromBuffer(e,m),n=new b(t,r);var o,s;return o=n.__CACHE.__TX,s=n.__CACHE,o.ins.forEach((e=>{I(s,e)})),n}constructor(e={},t=new i.Psbt(new v)){this.data=t,this.opts=Object.assign({},g,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,u.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,a.fromOutputScript)(e.script,this.opts.network)}catch(e){}return{script:(0,u.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=b.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){A(e),this.opts.maximumFeeRate=e}setVersion(e){A(e),x(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){A(e),x(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){A(t),x(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,p.checkTaprootInputFields)(e,e,"addInput"),x(this.data.inputs,"addInput"),e.witnessScript&&Q(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);I(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&F(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");x(this.data.inputs,"addOutput");const{address:t}=e;if("string"==typeof t){const{network:r}=this.opts,n=(0,a.toOutputScript)(t,r);e=Object.assign({},e,{script:n})}(0,p.checkTaprootOutputFields)(e,e,"addOutput");const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(S))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return z(this.data.inputs,r,t,!0),r}getFeeRate(){return P("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return P("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,s.checkForInput)(this.data.inputs,0),X(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const r=(0,s.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(r)?this._finalizeTaprootInput(e,r,void 0,t):this._finalizeInput(e,r,t)}finalizeTaprootInput(e,t,r=p.tapScriptFinalizer){const n=(0,s.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(n))return this._finalizeTaprootInput(e,n,t,r);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,r=M){const{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=q(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||(0,y.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(e,t,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=d.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:a,finalScriptWitness:u}=r(e,t,n,s,i,o);if(a&&this.data.updateInput(e,{finalScriptSig:a}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!a&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,r,n=p.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const r=f.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),n=(0,y.witnessStackToScriptWitness)(r.witness);this.data.updateInput(e,{finalScriptWitness:n})}else{const{finalScriptWitness:i}=n(e,t,r);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,s.checkForInput)(this.data.inputs,e),r=$(K(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=d.decompile(e);if(!t)return;const r=t[t.length-1];if(!n.isBuffer(r)||W(r)||(i=r,d.isCanonicalScriptSignature(i)))return;var i;if(!d.decompile(r))return;return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=H(e),r=t[t.length-1];if(W(r))return;if(!d.decompile(r))return;return r}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+G(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=K(r,t,n),{meaningfulScript:o}=$(i,r,"input",t.redeemScript,t.witnessScript);return(0,y.pubkeyInScript)(e,o)}(t,(0,s.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=(0,s.checkForInput)(this.data.inputs,e),n=E(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=$(i,r,"output",t.redeemScript,t.witnessScript);return(0,y.pubkeyInScript)(e,o)}(t,(0,s.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=(0,s.checkForOutput)(this.data.outputs,e),n=E(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(e){(0,s.checkForInput)(this.data.inputs,0);return X(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e];return(0,p.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(e,t,r):this._validateSignaturesOfInput(e,t,r)}_validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const o=r?i.filter((e=>e.pubkey.equals(r))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const s=[];let a,u,c;for(const r of o){const i=d.signature.decode(r.signature),{hash:o,script:f}=c!==i.hashType?D(e,Object.assign({},n,{sighashType:i.hashType}),this.__CACHE,!0):{hash:a,script:u};c=i.hashType,a=o,u=f,k(r.pubkey,f,"verify"),s.push(t(r.pubkey,o,i.signature))}return s.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).tapKeySig,o=(n||{}).tapScriptSig;if(!n&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!=typeof t)throw new Error("Need validator function to validate signatures");const s=(r=r&&(0,p.toXOnly)(r))?L(e,n,this.data.inputs,r,this.__CACHE):function(e,t,r,n){const i=[];if(t.tapInternalKey){const r=R(e,t,n);r&&i.push(r)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}const o=i.map((i=>L(e,t,r,i,n)));return o.flat()}(e,n,this.data.inputs,this.__CACHE);if(!s.length)throw new Error("No signatures for this pubkey");const a=s.find((e=>!e.leafHash));let u=0;if(i&&a){if(!t(a.pubkey,a.hash,j(i)))return!1;u++}if(o)for(const e of o){const r=s.find((t=>e.pubkey.equals(t.pubkey)));if(r){if(!t(e.pubkey,r.hash,j(e.signature)))return!1;u++}}return u>0}signAllInputsHD(e,t=[h.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of X(this.data.inputs.length))try{this.signInputHD(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[h.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const r of X(this.data.inputs.length))o.push(this.signInputHDAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[h.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return U(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[h.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=U(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of X(this.data.inputs.length))try{this.signInput(n,e,t),r.push(!0)}catch(e){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[r]of this.data.inputs.entries())o.push(this.signInputAsync(r,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,s.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(n)?this._signTaprootInput(e,n,t,void 0,r):this._signInput(e,t,r)}signTaprootInput(e,t,r,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,s.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(i))return this._signTaprootInput(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,r=[h.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=B(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:d.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,r,n,i=[h.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),s=o.filter((e=>!e.leafHash)).map((e=>(0,p.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType)))[0],a=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return s&&this.data.updateInput(e,{tapKeySig:s}),a.length&&this.data.updateInput(e,{tapScriptSig:a}),this}signInputAsync(e,t,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,s.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(n)?this._signTaprootInputAsync(e,n,t,void 0,r):this._signInputAsync(e,t,r)}))}signTaprootInputAsync(e,t,r,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,s.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,r=[h.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=B(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:d.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}async _signTaprootInputAsync(e,t,r,n,i=[h.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),s=[],a=o.filter((e=>!e.leafHash))[0];if(a){const e=Promise.resolve(r.signSchnorr(a.hash)).then((e=>({tapKeySig:(0,p.serializeTaprootSignature)(e,t.sighashType)})));s.push(e)}const u=o.filter((e=>!!e.leafHash));if(u.length){const e=u.map((e=>Promise.resolve(r.signSchnorr(e.hash)).then((n=>({tapScriptSig:[{pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(n,t.sighashType),leafHash:e.leafHash}]})))));s.push(...e)}return Promise.all(s).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,r,n,i){if("function"!=typeof r.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=L(e,t,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${r.publicKey.toString("hex")}`);return o}toBuffer(){return _(this.__CACHE),this.data.toBuffer()}toHex(){return _(this.__CACHE),this.data.toHex()}toBase64(){return _(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&Q(t.witnessScript),(0,p.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&F(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const r=this.data.outputs[e];return(0,p.checkTaprootOutputFields)(r,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=b;const m=e=>new v(e);class v{constructor(e=n.from([2,0,0,0,0,0,0,0,0,0])){this.tx=h.Transaction.fromBuffer(e),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!n.isBuffer(e.hash)&&"string"!=typeof e.hash||"number"!=typeof e.index)throw new Error("Error adding input.");const t="string"==typeof e.hash?(0,u.reverseBuffer)(n.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!n.isBuffer(e.script)||"number"!=typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function _(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function w(e,t,r){if(!t)return!1;let n;if(n=r?r.map((e=>{const r=function(e){if(65===e.length){const t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}(e);return t.find((e=>e.pubkey.equals(r)))})).filter((e=>!!e)):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function S(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function E(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function A(e){if("number"!=typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function x(e,t){e.forEach((e=>{if((0,p.isTaprootInput)(e)?(0,p.checkTaprootInputForSigs)(e,t):(0,y.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function k(e,t,r){if(!(0,y.pubkeyInScript)(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function I(e,t){const r=(0,u.reverseBuffer)(n.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function T(e,t){return(r,n,i,o)=>{const s=e({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const C=T(f.p2sh,"Redeem script"),O=T(f.p2wsh,"Witness script");function P(e,t,r,n){if(!r.every(S))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),z(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function M(e,t,r,n,i,o){const s=G(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return w(1,e.partialSig);case"multisig":const r=f.p2ms({output:t});return w(r.m,e.partialSig,r.pubkeys);default:return!1}}(t,r,s))throw new Error(`Can not finalize input #${e}`);return function(e,t,r,n,i,o){let s,a;const u=function(e,t,r){let n;switch(t){case"multisig":const t=function(e,t){const r=f.p2ms({output:e});return r.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,r);n=f.p2ms({output:e,signatures:t});break;case"pubkey":n=f.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=f.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=f.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),c=o?f.p2wsh({redeem:u}):null,l=i?f.p2sh({redeem:c||u}):null;n?(a=c?(0,y.witnessStackToScriptWitness)(c.witness):(0,y.witnessStackToScriptWitness)(u.witness),l&&(s=l.input)):s=l?l.input:u.input;return{finalScriptSig:s,finalScriptWitness:a}}(r,s,t.partialSig,n,i,o)}function B(e,t,r,n,i){const o=(0,s.checkForInput)(e,t),{hash:a,sighashType:u,script:c}=D(t,o,n,!1,i);return k(r,c,"sign"),{hash:a,sighashType:u}}function D(e,t,r,n,i){const o=r.__TX,s=t.sighashType||h.Transaction.SIGHASH_ALL;let a,u;if(N(s,i),t.nonWitnessUtxo){const n=q(r,t,e),i=o.ins[e].hash,s=n.getHash();if(!i.equals(s))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const a=o.ins[e].index;u=n.outs[a]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");u=t.witnessUtxo}const{meaningfulScript:c,type:l}=$(u.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=o.hashForWitnessV0(e,c,u.value,s);else if((0,y.isP2WPKH)(c)){const t=f.p2pkh({hash:c.slice(2)}).output;a=o.hashForWitnessV0(e,t,u.value,s)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=o.hashForSignature(e,c,s)}return{script:c,sighashType:s,hash:a}}function R(e,t,r){const{script:n}=V(e,t,r);return(0,y.isP2TR)(n)?n.subarray(2,34):null}function j(e){return 64===e.length?e:e.subarray(0,64)}function L(e,t,r,i,o,s,a){const u=o.__TX,c=t.sighashType||h.Transaction.SIGHASH_DEFAULT;N(c,a);const f=r.map(((e,t)=>V(t,e,o))),d=f.map((e=>e.script)),g=f.map((e=>e.value)),b=[];if(t.tapInternalKey&&!s){const r=R(e,t,o)||n.from([]);if((0,p.toXOnly)(i).equals(r)){const t=u.hashForWitnessV1(e,d,g,c);b.push({pubkey:i,hash:t})}}const m=(t.tapLeafScript||[]).filter((e=>(0,y.pubkeyInScript)(i,e.script))).map((e=>{const t=(0,l.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!s||s.equals(e.hash))).map((t=>{const r=u.hashForWitnessV1(e,d,g,c,t.hash);return{pubkey:i,hash:r,leafHash:t.hash}}));return b.concat(m)}function N(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&h.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case h.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case h.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case h.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function U(e,t,r){const n=(0,s.checkForInput)(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function H(e){let t=0;function r(){const r=o.decode(e,t);return t+=o.decode.bytes,r}function n(){return n=r(),t+=n,e.slice(t-n,t);var n}return function(){const e=r(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function F(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=h.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function z(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=H(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=q(r,e,o),s=t.ins[o].index,a=n.outs[s];i+=a.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(s/a)}function q(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||F(e,t,r),n[r]}function K(e,t,r){const{script:n}=V(e,t,r);return n}function V(e,t,r){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const n=q(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}throw new Error("Can't find pubkey in input without Utxo data")}function W(e){return 33===e.length&&d.isCanonicalPubKey(e)}function $(e,t,r,n,i){const o=(0,y.isP2SHScript)(e),s=o&&n&&(0,y.isP2WSHScript)(n),a=(0,y.isP2WSHScript)(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return s?(u=i,C(t,e,n,r),O(t,n,i,r),Q(u)):a?(u=i,O(t,e,i,r),Q(u)):o?(u=n,C(t,e,n,r)):u=e,{meaningfulScript:u,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function Q(e){if((0,y.isP2WPKH)(e)||(0,y.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function G(e){return(0,y.isP2WPKH)(e)?"witnesspubkeyhash":(0,y.isP2PKH)(e)?"pubkeyhash":(0,y.isP2MS)(e)?"multisig":(0,y.isP2PK)(e)?"pubkey":"nonstandard"}function X(e){return[...Array(e).keys()]}},60477:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const i=r(98116),o=r(22021),s=r(34929),a=r(82218),u=r(30885),c=r(34929);function f(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,s.isP2TR)(e.witnessUtxo.script))}function l(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,s.isP2TR)(t))}function d(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const r of e)if(t=y(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function h(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||o.Transaction.SIGHASH_DEFAULT}}function p(e,t=[],r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,i.isTapleaf)(e)?(t.push({depth:r,leafVersion:e.version||a.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&p(e[0],t,r+1),e[1]&&p(e[1],t,r+1),t):[]}function y(e,t,r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if((0,i.isTapleaf)(t))return;const n=y(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];const o=y(e,t&&t[1],r+1);return o?[t&&t[0],o]:void 0}function g(e,t){if(!t)return!0;const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(0,a.rootHashFromPath)(e.controlBlock,r).equals(t)}function b(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,r){const n=function(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const n=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,r){const n=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&void 0!==t.find((e=>e.leafHash.equals(n)))}(t,e.tapScriptSig,r)));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}(t,e,r);try{const e=function(e,t){const r=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(r))).map((e=>function(e,t){return Object.assign({positionInScript:(0,s.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,n),r=e.concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,s.witnessStackToScriptWitness)(r)}}catch(t){throw new Error(`Can not finalize taproot input #${e}: ${t}`)}},t.serializeTaprootSignature=function(e,t){const r=t?n.from([t]):n.from([]);return n.concat([e,r])},t.isTaprootInput=f,t.isTaprootOutput=l,t.checkTaprootInputFields=function(e,t,r){!function(e,t,r){const n=f(e)&&b(t),i=b(e)&&f(t),o=e===t&&f(t)&&b(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t,r){if(t.tapMerkleRoot){const n=(t.tapLeafScript||[]).every((e=>g(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>g(e,t.tapMerkleRoot)));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot){if(!(t.tapLeafScript||[]).every((t=>g(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}}(e,t,r)},t.checkTaprootOutputFields=function(e,t,r){!function(e,t,r){const n=l(e)&&b(t),i=b(e)&&l(t),o=e===t&&l(t)&&b(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){const{script:t}=e,i=function(e,t){const r=t&&d(t.leaves),{output:n}=(0,u.p2tr)({internalPubkey:e,scriptTree:r});return n}(r,n);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const r=t.tapInternalKey,n=r&&(0,a.tweakKey)(r,t.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x},t.tapTreeToList=function(e){if(!(0,i.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return p(e)},t.tapTreeFromList=d,t.checkTaprootInputForSigs=function(e,t){return function(e){const t=[];e.tapKeySig&&t.push(e.tapKeySig);e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature)));if(!t.length){const r=function(e){if(!e)return;const t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);r&&t.push(r)}return t}(e).some((e=>(0,c.signatureBlocksAction)(e,h,t)))}},34929:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const i=r(40394),o=r(67038),s=r(22021),a=r(91944),u=r(30885);function c(e){return t=>{try{return e({output:t}),!0}catch(e){return!1}}}function f(e,t){const r=(0,a.hash160)(e),n=e.slice(1,33),i=o.decompile(t);if(null===i)throw new Error("Unknown script error");return i.findIndex((t=>"number"!=typeof t&&(t.equals(e)||t.equals(r)||t.equals(n))))}function l(e,t,r){const{hashType:n}=t(e),i=[];n&s.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&n){case s.Transaction.SIGHASH_ALL:break;case s.Transaction.SIGHASH_SINGLE:case s.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(r)}t.isP2MS=c(u.p2ms),t.isP2PK=c(u.p2pk),t.isP2PKH=c(u.p2pkh),t.isP2WPKH=c(u.p2wpkh),t.isP2WSHScript=c(u.p2wsh),t.isP2SHScript=c(u.p2sh),t.isP2TR=c(u.p2tr),t.witnessStackToScriptWitness=function(e){let t=n.allocUnsafe(0);function r(e){const r=t.length,o=i.encodingLength(e);t=n.concat([t,n.allocUnsafe(o)]),i.encode(e,t,r)}function o(e){r(e.length),function(e){t=n.concat([t,n.from(e)])}(e)}var s;return r((s=e).length),s.forEach(o),t},t.pubkeyPositionInScript=f,t.pubkeyInScript=function(e,t){return-1!==f(e,t)},t.checkInputForSig=function(e,t){return function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&o.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&o.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>n.isBuffer(e)&&o.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e).some((e=>l(e,o.signature.decode,t)))},t.signatureBlocksAction=l},34344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const n=r(68417);function i(e){return e<n.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(e,t,r){const o=i(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(n.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(n.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(n.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o},t.decode=function(e,t){const r=e.readUInt8(t);let i,o;if(r<n.OPS.OP_PUSHDATA1)i=r,o=1;else if(r===n.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;i=e.readUInt8(t+1),o=2}else if(r===n.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;i=e.readUInt16LE(t+1),o=3}else{if(t+5>e.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=e.readUInt32LE(t+1),o=5}return{opcode:r,number:i,size:o}}},67038:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const i=r(13966),o=r(68417);Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}});const s=r(34344),a=r(19464),u=r(41043),c=r(98116),{typeforce:f}=c,l=o.OPS.OP_RESERVED;function d(e){return c.Buffer(e)||function(e){return c.Number(e)&&(e===o.OPS.OP_0||e>=o.OPS.OP_1&&e<=o.OPS.OP_16||e===o.OPS.OP_1NEGATE)}(e)}function h(e){return c.Array(e)&&e.every(d)}function p(e){return 0===e.length?o.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?l+e[0]:129===e[0]?o.OPS.OP_1NEGATE:void 0:void 0}function y(e){return n.isBuffer(e)}function g(e){return n.isBuffer(e)}function b(e){if(y(e))return e;f(c.Array,e);const t=e.reduce(((e,t)=>g(t)?1===t.length&&void 0!==p(t)?e+1:e+s.encodingLength(t.length)+t.length:e+1),0),r=n.allocUnsafe(t);let i=0;if(e.forEach((e=>{if(g(e)){const t=p(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=s.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function m(e){if(t=e,c.Array(t))return e;var t;f(c.Buffer,e);const r=[];let n=0;for(;n<e.length;){const t=e[n];if(t>o.OPS.OP_0&&t<=o.OPS.OP_PUSHDATA4){const t=s.decode(e,n);if(null===t)return null;if(n+=t.size,n+t.number>e.length)return null;const i=e.slice(n,n+t.number);n+=t.number;const o=p(i);void 0!==o?r.push(o):r.push(i)}else r.push(t),n+=1}return r}function v(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=h,t.countNonPushOnlyOPs=function(e){return e.length-e.filter(d).length},t.compile=b,t.decompile=m,t.toASM=function(e){if(y(e)&&(e=m(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map((e=>{if(g(e)){const t=p(e);if(void 0===t)return e.toString("hex");e=t}return o.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return f(c.String,e),b(e.split(" ").map((e=>void 0!==o.OPS[e]?o.OPS[e]:(f(c.Hex,e),n.from(e,"hex")))))},t.toStack=function(e){return e=m(e),f(h,e),e.map((e=>g(e)?e:e===o.OPS.OP_0?n.allocUnsafe(0):a.encode(e-l)))},t.isCanonicalPubKey=function(e){return c.isPoint(e)},t.isDefinedHashType=v,t.isCanonicalScriptSignature=function(e){return!!n.isBuffer(e)&&(!!v(e[e.length-1])&&i.check(e.slice(0,-1)))},t.number=a,t.signature=u},19464:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&!(127&e[n-1]||!(n<=1)&&128&e[n-2]))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let t=0;t<n;++t)i|=e[t]<<8*t;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},t.encode=function(e){let t=Math.abs(e);const r=(i=t)>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0;var i;const o=n.allocUnsafe(r),s=e<0;for(let e=0;e<r;++e)o.writeUInt8(255&t,e),t>>=8;return 128&o[r-1]?o.writeUInt8(s?128:0,r-1):s&&(o[r-1]|=128),o}},41043:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const i=r(13966),o=r(67038),s=r(98116),{typeforce:a}=s,u=n.alloc(1,0);function c(e){let t=0;for(;0===e[t];)++t;return t===e.length?u:128&(e=e.slice(t))[0]?n.concat([u,e],1+e.length):e}function f(e){0===e[0]&&(e=e.slice(1));const t=n.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){const t=e.readUInt8(e.length-1);if(!(0,o.isDefinedHashType)(t))throw new Error("Invalid hashType "+t);const r=i.decode(e.slice(0,-1)),s=f(r.r),a=f(r.s);return{signature:n.concat([s,a],64),hashType:t}},t.encode=function(e,t){if(a({signature:s.BufferN(64),hashType:s.UInt8},{signature:e,hashType:t}),!(0,o.isDefinedHashType)(t))throw new Error("Invalid hashType "+t);const r=n.allocUnsafe(1);r.writeUInt8(t,0);const u=c(e.slice(0,32)),f=c(e.slice(32,64));return n.concat([i.encode(u,f),r])}},22021:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=r(30606),o=r(91944),s=r(67038),a=r(67038),u=r(98116),{typeforce:c}=u;function f(e){const t=e.length;return i.varuint.encodingLength(t)+t}const l=n.allocUnsafe(0),d=[],h=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),y=n.from("ffffffffffffffff","hex"),g={script:l,valueBuffer:y};class b{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){const r=new i.BufferReader(e),n=new b;n.version=r.readInt32();const o=r.readUInt8(),s=r.readUInt8();let a=!1;o===b.ADVANCED_TRANSACTION_MARKER&&s===b.ADVANCED_TRANSACTION_FLAG?a=!0:r.offset-=2;const u=r.readVarInt();for(let e=0;e<u;++e)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:d});const c=r.readVarInt();for(let e=0;e<c;++e)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(a){for(let e=0;e<u;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return b.fromBuffer(n.from(e,"hex"),!1)}static isCoinbaseHash(e){c(u.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&b.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return c(u.tuple(u.Hash256bit,u.UInt32,u.maybe(u.UInt32),u.maybe(u.Buffer)),arguments),u.Null(r)&&(r=b.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||l,sequence:r,witness:d})-1}addOutput(e,t){return c(u.tuple(u.Buffer,u.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+i.varuint.encodingLength(this.ins.length)+i.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+f(t.script)),0)+this.outs.reduce(((e,t)=>e+8+f(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return i.varuint.encodingLength(t)+e.reduce(((e,t)=>e+f(t)),0)}(t.witness)),0):0)}clone(){const e=new b;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,r){if(c(u.tuple(u.UInt32,u.Buffer,u.Number),arguments),e>=this.ins.length)return p;const i=s.compile(s.decompile(t).filter((e=>e!==a.OPS.OP_CODESEPARATOR))),f=this.clone();if((31&r)===b.SIGHASH_NONE)f.outs=[],f.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&r)===b.SIGHASH_SINGLE){if(e>=this.outs.length)return p;f.outs.length=e+1;for(let t=0;t<e;t++)f.outs[t]=g;f.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}r&b.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[e]],f.ins[0].script=i):(f.ins.forEach((e=>{e.script=l})),f.ins[e].script=i);const d=n.allocUnsafe(f.byteLength(!1)+4);return d.writeInt32LE(r,d.length-4),f.__toBuffer(d,0,!1),o.hash256(d)}hashForWitnessV1(e,t,r,s,a,d){if(c(u.tuple(u.UInt32,c.arrayOf(u.Buffer),c.arrayOf(u.Satoshi),u.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const h=s===b.SIGHASH_DEFAULT?b.SIGHASH_ALL:s&b.SIGHASH_OUTPUT_MASK,p=(s&b.SIGHASH_INPUT_MASK)===b.SIGHASH_ANYONECANPAY,y=h===b.SIGHASH_NONE,g=h===b.SIGHASH_SINGLE;let m=l,v=l,_=l,w=l,S=l;if(!p){let e=i.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),m=o.sha256(e.end()),e=i.BufferWriter.withCapacity(8*this.ins.length),r.forEach((t=>e.writeUInt64(t))),v=o.sha256(e.end()),e=i.BufferWriter.withCapacity(t.map(f).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),_=o.sha256(e.end()),e=i.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),w=o.sha256(e.end())}if(y||g){if(g&&e<this.outs.length){const t=this.outs[e],r=i.BufferWriter.withCapacity(8+f(t.script));r.writeUInt64(t.value),r.writeVarSlice(t.script),S=o.sha256(r.end())}}else{const e=this.outs.map((e=>8+f(e.script))).reduce(((e,t)=>e+t)),t=i.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),S=o.sha256(t.end())}const E=(a?2:0)+(d?1:0),A=174-(p?49:0)-(y?32:0)+(d?32:0)+(a?37:0),x=i.BufferWriter.withCapacity(A);if(x.writeUInt8(s),x.writeInt32(this.version),x.writeUInt32(this.locktime),x.writeSlice(m),x.writeSlice(v),x.writeSlice(_),x.writeSlice(w),y||g||x.writeSlice(S),x.writeUInt8(E),p){const n=this.ins[e];x.writeSlice(n.hash),x.writeUInt32(n.index),x.writeUInt64(r[e]),x.writeVarSlice(t[e]),x.writeUInt32(n.sequence)}else x.writeUInt32(e);if(d){const e=i.BufferWriter.withCapacity(f(d));e.writeVarSlice(d),x.writeSlice(o.sha256(e.end()))}return g&&x.writeSlice(S),a&&(x.writeSlice(a),x.writeUInt8(0),x.writeUInt32(4294967295)),o.taggedHash("TapSighash",n.concat([n.from([0]),x.end()]))}hashForWitnessV0(e,t,r,s){c(u.tuple(u.UInt32,u.Buffer,u.Satoshi,u.UInt32),arguments);let a,l=n.from([]),d=h,p=h,y=h;if(s&b.SIGHASH_ANYONECANPAY||(l=n.allocUnsafe(36*this.ins.length),a=new i.BufferWriter(l,0),this.ins.forEach((e=>{a.writeSlice(e.hash),a.writeUInt32(e.index)})),p=o.hash256(l)),s&b.SIGHASH_ANYONECANPAY||(31&s)===b.SIGHASH_SINGLE||(31&s)===b.SIGHASH_NONE||(l=n.allocUnsafe(4*this.ins.length),a=new i.BufferWriter(l,0),this.ins.forEach((e=>{a.writeUInt32(e.sequence)})),y=o.hash256(l)),(31&s)!==b.SIGHASH_SINGLE&&(31&s)!==b.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+f(t.script)),0);l=n.allocUnsafe(e),a=new i.BufferWriter(l,0),this.outs.forEach((e=>{a.writeUInt64(e.value),a.writeVarSlice(e.script)})),d=o.hash256(l)}else if((31&s)===b.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];l=n.allocUnsafe(8+f(t.script)),a=new i.BufferWriter(l,0),a.writeUInt64(t.value),a.writeVarSlice(t.script),d=o.hash256(l)}l=n.allocUnsafe(156+f(t)),a=new i.BufferWriter(l,0);const g=this.ins[e];return a.writeInt32(this.version),a.writeSlice(p),a.writeSlice(y),a.writeSlice(g.hash),a.writeUInt32(g.index),a.writeVarSlice(t),a.writeUInt64(r),a.writeUInt32(g.sequence),a.writeSlice(d),a.writeUInt32(this.locktime),a.writeUInt32(s),o.hash256(l)}getHash(e){return e&&this.isCoinbase()?n.alloc(32,0):o.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,i.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){c(u.tuple(u.Number,u.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){c(u.tuple(u.Number,[u.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=n.allocUnsafe(this.byteLength(r)));const o=new i.BufferWriter(e,t||0);o.writeInt32(this.version);const s=r&&this.hasWitnesses();return s&&(o.writeUInt8(b.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(b.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach((e=>{o.writeSlice(e.hash),o.writeUInt32(e.index),o.writeVarSlice(e.script),o.writeUInt32(e.sequence)})),o.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?o.writeUInt64(e.value):o.writeSlice(e.valueBuffer),o.writeVarSlice(e.script)})),s&&this.ins.forEach((e=>{o.writeVector(e.witness)})),o.writeUInt32(this.locktime),void 0!==t?e.slice(t,o.offset):e}}t.Transaction=b,b.DEFAULT_SEQUENCE=4294967295,b.SIGHASH_DEFAULT=0,b.SIGHASH_ALL=1,b.SIGHASH_NONE=2,b.SIGHASH_SINGLE=3,b.SIGHASH_ANYONECANPAY=128,b.SIGHASH_OUTPUT_MASK=3,b.SIGHASH_INPUT_MASK=128,b.ADVANCED_TRANSACTION_MARKER=0,b.ADVANCED_TRANSACTION_FLAG=1},98116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Satoshi=t.isPoint=t.stacksEqual=t.typeforce=void 0;const n=r(48287);t.typeforce=r(8676);const i=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.stacksEqual=function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))},t.isPoint=function(e){if(!n.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(i))return!1;if(r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const s=e.slice(33);return 0!==s.compare(i)&&(!(s.compare(o)>=0)&&(4===t&&65===e.length))};function s(e){return!(!e||!("output"in e))&&(!!n.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=s,t.isTaptree=function e(r){return(0,t.Array)(r)?2===r.length&&r.every((t=>e(t))):s(r)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},91892:e=>{var t=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,n=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),i=0,o=0;i<r;){var s=e[t.charCodeAt(i++)],a=e[t.charCodeAt(i++)],u=e[t.charCodeAt(i++)],c=e[t.charCodeAt(i++)];n[o++]=s<<2|a>>4,n[o++]=a<<4|u>>2,n[o++]=u<<6|c}return n}})(),r=((e,t)=>function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports})({"wasm-binary:./blake2b.wat"(e,r){r.exports=t("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}})(),n=WebAssembly.compile(r);e.exports=async e=>(await WebAssembly.instantiate(await n,e)).exports},51685:(e,t,r)=>{var n=r(86889),i=r(35682),o=null,s="undefined"!=typeof WebAssembly&&r(91892)().then((e=>{o=e})),a=64,u=[];e.exports=y;var c=e.exports.BYTES_MIN=16,f=e.exports.BYTES_MAX=64,l=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),d=e.exports.KEYBYTES_MAX=64,h=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),p=e.exports.PERSONALBYTES=16;function y(e,t,r,i,s){if(!(this instanceof y))return new y(e,t,r,i,s);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),!0!==s&&(n(e>=c,"digestLength must be at least "+c+", was given "+e),n(e<=f,"digestLength must be at most "+f+", was given "+e),null!=t&&(n(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),n(t.length>=l,"key must be at least "+l+", was given "+t.length),n(t.length<=d,"key must be at least "+d+", was given "+t.length)),null!=r&&(n(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),n(r.length===h,"salt must be exactly "+h+", was given "+r.length)),null!=i&&(n(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),n(i.length===p,"personal must be exactly "+p+", was given "+i.length))),u.length||(u.push(a),a+=216),this.digestLength=e,this.finalized=!1,this.pointer=u.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),i&&this._memory.set(i,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,a,a+t.length),this._memory[this.pointer+200]=128)}function g(){}y.prototype._realloc=function(e){o.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},y.prototype.update=function(e){return n(!1===this.finalized,"Hash instance finalized"),n(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+e.length>this._memory.length&&this._realloc(a+e.length),this._memory.set(e,a),o.blake2b_update(this.pointer,a,a+e.length),this},y.prototype.digest=function(e){if(n(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,u.push(this.pointer),o.blake2b_final(this.pointer),!e||"binary"===e)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof e)return i.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);n(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e},y.prototype.final=y.prototype.digest,y.WASM=o,y.SUPPORTED="undefined"!=typeof WebAssembly,y.ready=function(e){return e||(e=g),s?s.then((()=>e()),e):e(new Error("WebAssembly not supported"))},y.prototype.ready=y.ready,y.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},y.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)}},72206:(e,t,r)=>{var n=r(86889),i=r(51685);function o(e,t,r){var n=e[t]+e[r],i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function s(e,t,r,n){var i=e[t]+r;r<0&&(i+=4294967296);var o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function u(e,t,r,n,i,a){var u=d[i],c=d[i+1],f=d[a],h=d[a+1];o(l,e,t),s(l,e,u,c);var p=l[n]^l[e],y=l[n+1]^l[e+1];l[n]=y,l[n+1]=p,o(l,r,n),p=l[t]^l[r],y=l[t+1]^l[r+1],l[t]=p>>>24^y<<8,l[t+1]=y>>>24^p<<8,o(l,e,t),s(l,e,f,h),p=l[n]^l[e],y=l[n+1]^l[e+1],l[n]=p>>>16^y<<16,l[n+1]=y>>>16^p<<16,o(l,r,n),p=l[t]^l[r],y=l[t+1]^l[r+1],l[t]=y>>>31^p<<1,l[t+1]=p>>>31^y<<1}var c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),f=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),l=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){var r=0;for(r=0;r<16;r++)l[r]=e.h[r],l[r+16]=c[r];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)d[r]=a(e.b,4*r);for(r=0;r<12;r++)u(0,8,16,24,f[16*r+0],f[16*r+1]),u(2,10,18,26,f[16*r+2],f[16*r+3]),u(4,12,20,28,f[16*r+4],f[16*r+5]),u(6,14,22,30,f[16*r+6],f[16*r+7]),u(0,10,20,30,f[16*r+8],f[16*r+9]),u(2,12,22,24,f[16*r+10],f[16*r+11]),u(4,14,16,26,f[16*r+12],f[16*r+13]),u(6,8,18,28,f[16*r+14],f[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^l[r]^l[r+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function y(e,t,r,n){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(var i=0;i<16;i++)this.h[i]=c[i]^a(p,4*i);t&&(g(this,t),this.c=128)}function g(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function b(e){return e<16?"0"+e.toString(16):e.toString(16)}y.prototype.update=function(e){return n(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),g(this,e),this},y.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return n(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),n(t.length>=this.outlen,"out must have at least outlen bytes of space"),function(e,t){e.t+=e.c;for(;e.c<128;)e.b[e.c++]=0;h(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)}(this,t),"hex"===e?function(e){for(var t="",r=0;r<e.length;r++)t+=b(e[r]);return t}(t):t},y.prototype.final=y.prototype.digest,y.ready=function(e){i.ready((function(){e()}))};var m=y;e.exports=function(e,t,r,i,o){return!0!==o&&(n(e>=v,"outlen must be at least "+v+", was given "+e),n(e<=_,"outlen must be at most "+_+", was given "+e),null!=t&&(n(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),n(t.length>=w,"key must be at least "+w+", was given "+t.length),n(t.length<=S,"key must be at most "+S+", was given "+t.length)),null!=r&&(n(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),n(r.length===E,"salt must be exactly "+E+", was given "+r.length)),null!=i&&(n(i instanceof Uint8Array,"personal must be Uint8Array or Buffer"),n(i.length===A,"personal must be exactly "+A+", was given "+i.length))),new m(e,t,r,i)},e.exports.ready=function(e){i.ready((function(){e()}))},e.exports.WASM_SUPPORTED=i.SUPPORTED,e.exports.WASM_LOADED=!1;var v=e.exports.BYTES_MIN=16,_=e.exports.BYTES_MAX=64,w=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),S=e.exports.KEYBYTES_MAX=64,E=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),A=e.exports.PERSONALBYTES=16;i.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=i)}))},39404:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(47790).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],h=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(h).toString(e);r=(p=p.idivn(h)).isZero()?y+r:f[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,c=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,I=x>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,D=0|s[8],R=8191&D,j=D>>>13,L=0|s[9],N=8191&L,U=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,q=0|a[1],K=8191&q,V=q>>>13,W=0|a[2],$=8191&W,Q=W>>>13,G=0|a[3],X=8191&G,Y=G>>>13,J=0|a[4],Z=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,de=fe>>>13,he=0|a[9],pe=8191&he,ye=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var be=(c+(n=n+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,V)|0;var me=(c+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,$)|0))<<13)|0;c=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0;var ve=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _e=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,Q)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0;var we=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(j,F)|0,o=Math.imul(j,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,le)|0,o=o+Math.imul(y,de)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ye)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(b,le)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,Q))+Math.imul(U,$)|0,o=Math.imul(U,Q),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(_,le)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,le)|0,o=o+Math.imul(w,de)|0;var Ie=(c+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ye)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,X),i=(i=Math.imul(N,Y))+Math.imul(U,X)|0,o=Math.imul(U,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,de)|0;var Te=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Z),i=(i=Math.imul(N,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,de)|0;var Ce=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,de)|0;var Oe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(B,le)|0,o=o+Math.imul(B,de)|0;var Pe=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ye)|0)+Math.imul(O,pe)|0))<<13)|0;c=((o=o+Math.imul(O,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,ce))+Math.imul(U,ue)|0,o=Math.imul(U,ce),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,de)|0;var Me=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,le),i=(i=Math.imul(N,de))+Math.imul(U,le)|0,o=Math.imul(U,de);var Be=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(c+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return c=((o=Math.imul(U,ye))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ge,u[1]=be,u[2]=me,u[3]=ve,u[4]=_e,u[5]=we,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Ie,u[12]=Te,u[13]=Ce,u[14]=Oe,u[15]=Pe,u[16]=Me,u[17]=Be,u[18]=De,0!==c&&(u[19]=c,r.length++),r};function y(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):y(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},g.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;!(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},i(v,m),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,m),i(w,m),i(S,m),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return b[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,E),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},15037:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(73776);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},50462:(e,t,r)=>{var n=r(92861).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,i){for(var o,s,a,u,c=r[0],f=r[1],l=r[2],d=r[3],h=e[0]^t[0],p=e[1]^t[1],y=e[2]^t[2],g=e[3]^t[3],b=4,m=1;m<i;m++)o=c[h>>>24]^f[p>>>16&255]^l[y>>>8&255]^d[255&g]^t[b++],s=c[p>>>24]^f[y>>>16&255]^l[g>>>8&255]^d[255&h]^t[b++],a=c[y>>>24]^f[g>>>16&255]^l[h>>>8&255]^d[255&p]^t[b++],u=c[g>>>24]^f[h>>>16&255]^l[p>>>8&255]^d[255&y]^t[b++],h=o,p=s,y=a,g=u;return o=(n[h>>>24]<<24|n[p>>>16&255]<<16|n[y>>>8&255]<<8|n[255&g])^t[b++],s=(n[p>>>24]<<24|n[y>>>16&255]<<16|n[g>>>8&255]<<8|n[255&h])^t[b++],a=(n[y>>>24]<<24|n[g>>>16&255]<<16|n[h>>>8&255]<<8|n[255&p])^t[b++],u=(n[g>>>24]<<24|n[h>>>16&255]<<16|n[p>>>8&255]<<8|n[255&y])^t[b++],[o>>>=0,s>>>=0,a>>>=0,u>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,u=0;u<256;++u){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^255&c^99,r[s]=c,n[c]=s;var f=e[s],l=e[f],d=e[l],h=257*e[c]^16843008*c;i[0][s]=h<<24|h>>>8,i[1][s]=h<<16|h>>>16,i[2][s]=h<<8|h>>>24,i[3][s]=h,h=16843009*d^65537*l^257*f^16843008*s,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===s?s=a=1:(s=f^e[e[e[d^f]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var s=i[o-1];o%t==0?(s=s<<8|s>>>24,s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s],s^=a[o/t|0]<<24):t>6&&o%t==4&&(s=u.SBOX[s>>>24]<<24|u.SBOX[s>>>16&255]<<16|u.SBOX[s>>>8&255]<<8|u.SBOX[255&s]),i[o]=i[o-t]^s}for(var c=[],f=0;f<n;f++){var l=n-f,d=i[l-(f%4?0:4)];c[f]=f<4||l<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return s(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=n.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},92356:(e,t,r)=>{var n=r(50462),i=r(92861).Buffer,o=r(56168),s=r(56698),a=r(25892),u=r(30295),c=r(45122);function f(e,t,r,s){o.call(this);var u=i.alloc(4,0);this._cipher=new n.AES(t);var f=this._cipher.encryptBlock(u);this._ghash=new a(f),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new a(r),o=t.length,s=o%16;n.update(t),s&&(s=16-s,n.update(i.alloc(s,0))),n.update(i.alloc(8,0));var u=8*o,f=i.alloc(8);f.writeUIntBE(u,0,8),n.update(f),e._finID=n.state;var l=i.from(e._finID);return c(l),l}(this,r,f),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(f,o),f.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},f.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=f},1241:(e,t,r)=>{var n=r(25799),i=r(36171),o=r(3219);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},36171:(e,t,r)=>{var n=r(92356),i=r(92861).Buffer,o=r(530),s=r(50650),a=r(56168),u=r(50462),c=r(68078);function f(e,t,r){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function d(e,t,r){var a=o[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new s(a.module,t,r,!0):"auth"===a.type?new n(a.module,t,r,!0):new f(a.module,t,r)}r(56698)(f,a),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=i.concat([this.cache,e])},l.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=c(t,!1,r.key,r.iv);return d(e,n.key,n.iv)},t.createDecipheriv=d},25799:(e,t,r)=>{var n=r(530),i=r(92356),o=r(92861).Buffer,s=r(50650),a=r(56168),u=r(50462),c=r(68078);function f(e,t,r){a.call(this),this._cache=new d,this._cipher=new u.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(56698)(f,a),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var l=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,r){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,t,r):"auth"===a.type?new i(a.module,t,r):new f(a.module,t,r)}f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=c(t,!1,r.key,r.iv);return h(e,i.key,i.iv)}},25892:(e,t,r)=>{var n=r(92861).Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],s=-1;++s<128;){for(!!(this.state[~~(s/8)]&1<<7-s%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=!!(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=s},45122:e=>{e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},92884:(e,t,r)=>{var n=r(30295);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},46383:(e,t,r)=>{var n=r(92861).Buffer,i=r(30295);function o(e,t,r){var o=t.length,s=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:s]),s}t.encrypt=function(e,t,r){for(var i,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,o(e,t,r)]);break}i=e._cache.length,s=n.concat([s,o(e,t.slice(0,i),r)]),t=t.slice(i)}return s}},55264:(e,t,r)=>{var n=r(92861).Buffer;function i(e,t,r){for(var n,i,s=-1,a=0;++s<8;)n=t&1<<7-s?128:0,a+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=o(e._prev,r?n:i);return a}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},86975:(e,t,r)=>{var n=r(92861).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var o=t.length,s=n.allocUnsafe(o),a=-1;++a<o;)s[a]=i(e,t[a],r);return s}},63053:(e,t,r)=>{var n=r(30295),i=r(92861).Buffer,o=r(45122);function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var u=s(e),c=o+16*a;e._cache.writeUInt32BE(u[0],c+0),e._cache.writeUInt32BE(u[1],c+4),e._cache.writeUInt32BE(u[2],c+8),e._cache.writeUInt32BE(u[3],c+12)}var f=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,f)}},52632:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},530:(e,t,r)=>{var n={ECB:r(52632),CBC:r(92884),CFB:r(46383),CFB8:r(86975),CFB1:r(55264),OFB:r(46843),CTR:r(63053),GCM:r(63053)},i=r(3219);for(var o in i)i[o].module=n[i[o].mode];e.exports=i},46843:(e,t,r)=>{var n=r(48287).Buffer,i=r(30295);function o(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,o(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},50650:(e,t,r)=>{var n=r(50462),i=r(92861).Buffer,o=r(56168);function s(e,t,r,s){o.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=s,this._mode=e}r(56698)(s,o),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},30125:(e,t,r)=>{var n=r(84050),i=r(1241),o=r(530),s=r(32438),a=r(68078);function u(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var i=a(t,!1,r,n);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var i=a(t,!1,r,n);return c(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},84050:(e,t,r)=>{var n=r(56168),i=r(29560),o=r(56698),s=r(92861).Buffer,a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){n.call(this);var t,r=e.mode.toLowerCase(),i=a[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=s.concat([o,o.slice(0,8)]));var u=e.iv;s.isBuffer(u)||(u=s.from(u)),this._des=i.create({key:o,iv:u,type:t})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=u,o(u,n),u.prototype._update=function(e){return s.from(this._des.update(e))},u.prototype._final=function(){return s.from(this._des.final())}},32438:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},67332:(e,t,r)=>{var n=r(48287).Buffer,i=r(78893),o=r(53209);function s(e){var t,r=e.modulus.byteLength();do{t=new i(o(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,t){var r=function(e){var t=s(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),a=new i(e).mul(r.blinder).umod(t.modulus),u=a.toRed(i.mont(t.prime1)),c=a.toRed(i.mont(t.prime2)),f=t.coefficient,l=t.prime1,d=t.prime2,h=u.redPow(t.exponent1).fromRed(),p=c.redPow(t.exponent2).fromRed(),y=h.isub(p).imul(f).umod(l).imul(d);return p.iadd(y).imul(r.unblinder).umod(t.modulus).toArrayLike(n,"be",o)}a.getr=s,e.exports=a},78893:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(98285).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var y=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,I=x>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,D=0|s[8],R=8191&D,j=D>>>13,L=0|s[9],N=8191&L,U=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,q=0|a[1],K=8191&q,V=q>>>13,W=0|a[2],$=8191&W,Q=W>>>13,G=0|a[3],X=8191&G,Y=G>>>13,J=0|a[4],Z=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,de=fe>>>13,he=0|a[9],pe=8191&he,ye=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var be=(c+(n=n+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,V)|0;var me=(c+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,$)|0))<<13)|0;c=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0;var ve=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _e=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,Q)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0;var we=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(j,F)|0,o=Math.imul(j,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,le)|0,o=o+Math.imul(y,de)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ye)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(b,le)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,Q))+Math.imul(U,$)|0,o=Math.imul(U,Q),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(_,le)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,le)|0,o=o+Math.imul(w,de)|0;var Ie=(c+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ye)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,X),i=(i=Math.imul(N,Y))+Math.imul(U,X)|0,o=Math.imul(U,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,de)|0;var Te=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Z),i=(i=Math.imul(N,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,de)|0;var Ce=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,de)|0;var Oe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(B,le)|0,o=o+Math.imul(B,de)|0;var Pe=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ye)|0)+Math.imul(O,pe)|0))<<13)|0;c=((o=o+Math.imul(O,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,ce))+Math.imul(U,ue)|0,o=Math.imul(U,ce),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,de)|0;var Me=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,le),i=(i=Math.imul(N,de))+Math.imul(U,le)|0,o=Math.imul(U,de);var Be=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(c+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return c=((o=Math.imul(U,ye))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ge,u[1]=be,u[2]=me,u[3]=ve,u[4]=_e,u[5]=we,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Ie,u[12]=Te,u[13]=Ce,u[14]=Oe,u[15]=Pe,u[16]=Me,u[17]=Be,u[18]=De,0!==c&&(u[19]=c,r.length++),r};function b(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return b(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=y),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?y(this,e,t):r<1024?b(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;!(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(S,w),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,w),i(A,w),i(x,w),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return _[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},i(I,k),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},55715:(e,t,r)=>{"use strict";e.exports=r(62951)},20:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(47108),o=r(46737),s=r(56698),a=r(35359),u=r(74847),c=r(62951);function f(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new f(e)}function h(e){return new l(e)}Object.keys(c).forEach((function(e){c[e].id=n.from(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),s(f,o.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},f.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=a(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(l,o.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},l.prototype.verify=function(e,t,r){var i="string"==typeof t?n.from(t,r):t;this.end();var o=this._hash.digest();return u(i,o,e,this._signType,this._tag)},e.exports={Sign:d,Verify:h,createSign:d,createVerify:h}},35359:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(83507),o=r(67332),s=r(86729).ec,a=r(26162),u=r(78170),c=r(64589);function f(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var s=n.alloc(t.byteLength()-e.length);e=n.concat([s,e])}var a=r.length,u=function(e,t){e=l(e,t),e=e.mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),c=n.alloc(a);c.fill(1);var f=n.alloc(a);return f=i(o,f).update(c).update(n.from([0])).update(e).update(u).digest(),c=i(o,f).update(c).digest(),{k:f=i(o,f).update(c).update(n.from([1])).update(e).update(u).digest(),v:c=i(o,f).update(c).digest()}}function l(e,t){var r=new a(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function d(e,t,r){var o,s;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);s=l(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function h(e,t,r,n){return e.toRed(a.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var y=u(t);if(y.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=c[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new s(r).keyFromPrivate(t.privateKey),o=i.sign(e);return n.from(o.toDER())}(e,y)}if("dsa"===y.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){var i,o=t.params.priv_key,s=t.params.p,u=t.params.q,c=t.params.g,p=new a(0),y=l(e,u).mod(u),g=!1,b=f(o,u,e,r);for(;!1===g;)p=h(c,i=d(u,b,r),s,u),0===(g=i.invm(u).imul(y.add(o.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new a(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var r=e.length+t.length+4,i=[48,r,2,e.length];return i=i.concat(e,[2,t.length],t),n.from(i)}(p,g)}(e,y,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==t.padding&&1!==t.padding)throw new Error("illegal or unsupported padding mode");e=n.concat([p,e]);for(var g=y.modulus.byteLength(),b=[0,1];e.length+b.length+1<g;)b.push(255);b.push(0);for(var m=-1;++m<e.length;)b.push(e[m]);return o(b,y)},e.exports.getKey=f,e.exports.makeKey=d},74847:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(26162),o=r(86729).ec,s=r(78170),a=r(64589);function u(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}e.exports=function(e,t,r,c,f){var l=s(r);if("ec"===l.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,r){var n=a[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new o(n),s=r.data.subjectPrivateKey.data;return i.verify(t,e,s)}(e,t,l)}if("dsa"===l.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,o=r.data.q,a=r.data.g,c=r.data.pub_key,f=s.signature.decode(e,"der"),l=f.s,d=f.r;u(l,o),u(d,o);var h=i.mont(n),p=l.invm(o),y=a.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(c.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(n).mod(o);return 0===y.cmp(d)}(e,t,l)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");t=n.concat([f,t]);for(var d=l.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<d;)h.push(255),p+=1;h.push(0);for(var y=-1;++y<t.length;)h.push(t[y]);h=n.from(h);var g=i.mont(l.modulus);e=(e=new i(e).toRed(g)).redPow(new i(l.publicExponent)),e=n.from(e.fromRed().toArray());var b=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(b=1),y=-1;++y<d;)b|=e[y]^h[y];return 0===b}},26162:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(38664).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var y=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?y+r:d[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function y(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,d=f>>>13,h=0|s[1],p=8191&h,y=h>>>13,g=0|s[2],b=8191&g,m=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,I=x>>>13,T=0|s[6],C=8191&T,O=T>>>13,P=0|s[7],M=8191&P,B=P>>>13,D=0|s[8],R=8191&D,j=D>>>13,L=0|s[9],N=8191&L,U=L>>>13,H=0|a[0],F=8191&H,z=H>>>13,q=0|a[1],K=8191&q,V=q>>>13,W=0|a[2],$=8191&W,Q=W>>>13,G=0|a[3],X=8191&G,Y=G>>>13,J=0|a[4],Z=8191&J,ee=J>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,de=fe>>>13,he=0|a[9],pe=8191&he,ye=he>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(l,F))|0)+((8191&(i=(i=Math.imul(l,z))+Math.imul(d,F)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(p,F),i=(i=Math.imul(p,z))+Math.imul(y,F)|0,o=Math.imul(y,z);var be=(c+(n=n+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,V)|0)+Math.imul(d,K)|0))<<13)|0;c=((o=o+Math.imul(d,V)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(b,F),i=(i=Math.imul(b,z))+Math.imul(m,F)|0,o=Math.imul(m,z),n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,K)|0,o=o+Math.imul(y,V)|0;var me=(c+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(d,$)|0))<<13)|0;c=((o=o+Math.imul(d,Q)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(_,F),i=(i=Math.imul(_,z))+Math.imul(w,F)|0,o=Math.imul(w,z),n=n+Math.imul(b,K)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(m,K)|0,o=o+Math.imul(m,V)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,Q)|0;var ve=(c+(n=n+Math.imul(l,X)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,X)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(E,F),i=(i=Math.imul(E,z))+Math.imul(A,F)|0,o=Math.imul(A,z),n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,Q)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,Q)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Y)|0;var _e=(c+(n=n+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(k,F),i=(i=Math.imul(k,z))+Math.imul(I,F)|0,o=Math.imul(I,z),n=n+Math.imul(E,K)|0,i=(i=i+Math.imul(E,V)|0)+Math.imul(A,K)|0,o=o+Math.imul(A,V)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,Q)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,Q)|0,n=n+Math.imul(b,X)|0,i=(i=i+Math.imul(b,Y)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Y)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,ee)|0;var we=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,F),i=(i=Math.imul(C,z))+Math.imul(O,F)|0,o=Math.imul(O,z),n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(I,K)|0,o=o+Math.imul(I,V)|0,n=n+Math.imul(E,$)|0,i=(i=i+Math.imul(E,Q)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,Q)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(b,Z)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,F),i=(i=Math.imul(M,z))+Math.imul(B,F)|0,o=Math.imul(B,z),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(O,K)|0,o=o+Math.imul(O,V)|0,n=n+Math.imul(k,$)|0,i=(i=i+Math.imul(k,Q)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,Q)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,Y)|0,n=n+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(w,Z)|0,o=o+Math.imul(w,ee)|0,n=n+Math.imul(b,re)|0,i=(i=i+Math.imul(b,ne)|0)+Math.imul(m,re)|0,o=o+Math.imul(m,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,F),i=(i=Math.imul(R,z))+Math.imul(j,F)|0,o=Math.imul(j,z),n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,V)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,V)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,Q)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,Q)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(I,X)|0,o=o+Math.imul(I,Y)|0,n=n+Math.imul(E,Z)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Z)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(w,re)|0,o=o+Math.imul(w,ne)|0,n=n+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(N,F),i=(i=Math.imul(N,z))+Math.imul(U,F)|0,o=Math.imul(U,z),n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,V)|0)+Math.imul(j,K)|0,o=o+Math.imul(j,V)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,Q)|0,n=n+Math.imul(C,X)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Y)|0,n=n+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,n=n+Math.imul(b,ue)|0,i=(i=i+Math.imul(b,ce)|0)+Math.imul(m,ue)|0,o=o+Math.imul(m,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,le)|0,o=o+Math.imul(y,de)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ye)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(N,K),i=(i=Math.imul(N,V))+Math.imul(U,K)|0,o=Math.imul(U,V),n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,Q)|0,n=n+Math.imul(M,X)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(B,X)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(O,Z)|0,o=o+Math.imul(O,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(w,ue)|0,o=o+Math.imul(w,ce)|0,n=n+Math.imul(b,le)|0,i=(i=i+Math.imul(b,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(N,$),i=(i=Math.imul(N,Q))+Math.imul(U,$)|0,o=Math.imul(U,Q),n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Z)|0,o=o+Math.imul(B,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(_,le)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(w,le)|0,o=o+Math.imul(w,de)|0;var Ie=(c+(n=n+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ye)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(N,X),i=(i=Math.imul(N,Y))+Math.imul(U,X)|0,o=Math.imul(U,Y),n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(j,Z)|0,o=o+Math.imul(j,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,o=o+Math.imul(B,ne)|0,n=n+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,de)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,de)|0;var Te=(c+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(w,pe)|0))<<13)|0;c=((o=o+Math.imul(w,ye)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(N,Z),i=(i=Math.imul(N,ee))+Math.imul(U,Z)|0,o=Math.imul(U,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(j,re)|0,o=o+Math.imul(j,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,se)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(O,ue)|0,o=o+Math.imul(O,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,de)|0;var Ce=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ye)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(N,re),i=(i=Math.imul(N,ne))+Math.imul(U,re)|0,o=Math.imul(U,ne),n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(B,ue)|0,o=o+Math.imul(B,ce)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(O,le)|0,o=o+Math.imul(O,de)|0;var Oe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ye)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(N,oe),i=(i=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(j,ue)|0,o=o+Math.imul(j,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,de)|0)+Math.imul(B,le)|0,o=o+Math.imul(B,de)|0;var Pe=(c+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ye)|0)+Math.imul(O,pe)|0))<<13)|0;c=((o=o+Math.imul(O,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(N,ue),i=(i=Math.imul(N,ce))+Math.imul(U,ue)|0,o=Math.imul(U,ce),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,de)|0;var Me=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(N,le),i=(i=Math.imul(N,de))+Math.imul(U,le)|0,o=Math.imul(U,de);var Be=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(j,pe)|0))<<13)|0;c=((o=o+Math.imul(j,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863;var De=(c+(n=Math.imul(N,pe))|0)+((8191&(i=(i=Math.imul(N,ye))+Math.imul(U,pe)|0))<<13)|0;return c=((o=Math.imul(U,ye))+(i>>>13)|0)+(De>>>26)|0,De&=67108863,u[0]=ge,u[1]=be,u[2]=me,u[3]=ve,u[4]=_e,u[5]=we,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Ie,u[12]=Te,u[13]=Ce,u[14]=Oe,u[15]=Pe,u[16]=Me,u[17]=Be,u[18]=De,0!==c&&(u[19]=c,r.length++),r};function b(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;a=67108863&(d=d+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return b(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=y),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?y(this,e,t):r<1024?b(this,e,t):m(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},v.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,d=c,h=0;h<s;h++){var p=r[f+h],y=n[f+h],g=r[f+h+s],b=n[f+h+s],m=l*g-d*b;b=l*b+d*g,g=m,r[f+h]=p+g,n[f+h]=y+b,r[f+h+s]=p-g,n[f+h+s]=y-b,h!==a&&(m=u*l-c*d,d=u*d+c*l,l=m)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(!(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var h=0;h<n;h++){var p=a[h]*f[h]-u[h]*l[h];u[h]=a[h]*l[h]+u[h]*f[h],a[h]=p}return this.conjugate(a,u,n),this.transform(a,u,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var d=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,l);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=d)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&e.negative?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;!(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,y=1;!(r.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;!(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,d=1;!(r.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return!(1&this.words[0])},o.prototype.isOdd=function(){return!(1&~this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(S,w),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,w),i(A,w),i(x,w),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return _[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=s;0!==h.cmp(a);){for(var y=h,g=0;0!==y.cmp(a);g++)y=y.redSqr();n(g<p);var b=this.pow(l,new o(1).iushln(p-g-1));d=d.redMul(b),l=b.redSqr(),h=h.redMul(l),p=g}return d},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new I(e)},i(I,k),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},26248:(e,t,r)=>{"use strict";var n=r(33225),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var o=Object.create(r(15622));o.inherits=r(56698);var s=r(30206),a=r(7314);o.inherits(l,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var f=u[c];l.prototype[f]||(l.prototype[f]=a.prototype[f])}function l(e){if(!(this instanceof l))return new l(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},75242:(e,t,r)=>{"use strict";e.exports=o;var n=r(81816),i=Object.create(r(15622));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(56698),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},30206:(e,t,r)=>{"use strict";var n=r(65606),i=r(33225);e.exports=v;var o,s=r(64634);v.ReadableState=m;r(37007).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=r(5567),c=r(24116).Buffer,f=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l=Object.create(r(15622));l.inherits=r(56698);var d=r(92668),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,y=r(20672),g=r(36278);l.inherits(v,u);var b=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(o=o||r(26248));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(6427).I),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(o=o||r(26248),!(this instanceof v))return new v(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function _(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,A(e)}(e,s)):(i||(o=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof f||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):k(e,s)):w(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),k(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},v.prototype.unshift=function(e){return _(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=r(6427).I),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var S=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=S?e=S:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(x,e):x(e))}function x(e){h("emit readable"),e.emit("readable"),O(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(I,e,t))}function I(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function T(e){h("readable nexttick read 0"),e.read(0)}function C(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function M(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(B,t,e))}function B(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):A(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&M(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&M(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?f:v;function c(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",b),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",c),r.removeListener("end",f),r.removeListener("end",v),r.removeListener("data",y),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function f(){h("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,O(e))}}(r);e.on("drain",l);var d=!1;var p=!1;function y(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==D(o.pipes,e))&&!d&&(h("false write response, pause",o.awaitDrain),o.awaitDrain++,p=!0),r.pause())}function g(t){h("onerror",t),v(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",m),v()}function m(){h("onfinish"),e.removeListener("close",b),v()}function v(){h("unpipe"),r.unpipe(e)}return r.on("data",y),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",b),e.once("finish",m),e.emit("pipe",r),o.flowing||(h("pipe resume"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=D(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&A(this):i.nextTick(T,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(C,e,t))}(this,e)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<b.length;o++)e.on(b[o],this.emit.bind(this,b[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=P},81816:(e,t,r)=>{"use strict";e.exports=s;var n=r(26248),i=Object.create(r(15622));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(56698),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},7314:(e,t,r)=>{"use strict";var n=r(65606),i=r(33225);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=b;var s,a=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;b.WritableState=g;var u=Object.create(r(15622));u.inherits=r(56698);var c={deprecate:r(94643)},f=r(5567),l=r(24116).Buffer,d=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var h,p=r(36278);function y(){}function g(e,t){s=s||r(26248),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),E(e,t))}(e,r,n,t,o);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?a(v,e,r,s,o):v(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(s=s||r(26248),!(h.call(b,this)||this instanceof s))return new b(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function m(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),E(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,f),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===b&&(e&&e._writableState instanceof g)}})):h=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,l.isBuffer(n)||n instanceof d);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=y),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),o=!1),o}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,a,n,i,o);return u}(this,o,a,e,t,r)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||_(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}},20672:(e,t,r)=>{"use strict";var n=r(24116).Buffer,i=r(21638);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},36278:(e,t,r)=>{"use strict";var n=r(33225);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},5567:(e,t,r)=>{e.exports=r(37007).EventEmitter},24116:(e,t,r)=>{var n=r(48287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},46737:(e,t,r)=>{(t=e.exports=r(30206)).Stream=t,t.Readable=t,t.Writable=r(7314),t.Duplex=r(26248),t.Transform=r(81816),t.PassThrough=r(75242)},6427:(e,t,r)=>{"use strict";var n=r(88393).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=s(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=s(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},88393:(e,t,r)=>{var n=r(48287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},16763:(e,t,r)=>{var n=r(95364);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},59204:(e,t,r)=>{"use strict";var n=r(1191);e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),i=e(r),o=r.length+4,s=new Uint8Array(o);return s.set(r,0),s.set(i.subarray(0,4),r.length),n.encode(s,o)},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},91889:(e,t,r)=>{"use strict";var{sha256:n}=r(22623),i=r(59204);e.exports=i((function(e){return n(n(e))}))},91648:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=s*c[d]>>>0,c[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,r++}for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=c[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=t[i],d=0,h=u-1;(0!==l||d<n)&&-1!==h;h--,d++)l+=256*f[h]>>>0,f[h]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=d,i++}for(var p=u-n;p!==u&&0===f[p];)p++;for(var y=a.repeat(r);p<u;++p)y+=e.charAt(f[p]);return y},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},1191:(e,t,r)=>{const n=r(91648);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},30295:(e,t,r)=>{var n=r(48287).Buffer;e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new n(r),o=0;o<r;++o)i[o]=e[o]^t[o];return i}},48287:(e,t,r)=>{"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const n=r(67526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return h(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||X(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return $(e).length;default:if(i)return n?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(X(n))return s;e[r+s]=n}return s}function w(e,t,r,n){return Q(W(t,e.length-r),e,r,n)}function S(e,t,r,n){return Q(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return Q($(t),e,r,n)}function A(e,t,r,n){return Q(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(G(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)b(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==f[e]){o=c[e],s=f[e];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function O(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Y[e[n]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function M(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function R(e,t,r,n,i){z(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,o){return t=+t,r>>>=0,o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||K(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=J((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=J((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=J((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=J((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const U={};function H(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||K(t,e.length-(r+1))}(n,i,o)}function q(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}H("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),H("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),H("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=F(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function W(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!=e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},23472:(e,t,r)=>{"use strict";const n=r(48089),i=r(12729),o=r(87392),s=new o({maxSize:1e5}),a=e=>!("object"!=typeof e||null===e||e instanceof RegExp||e instanceof Error||e instanceof Date),u=(e,t)=>{if(!a(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:r,pascalCase:o,stopPaths:u,deep:c}=t,f=new Set(u),l=e=>(t,u)=>{if(c&&a(u)){const r=void 0===e?t:`${e}.${t}`;f.has(r)||(u=n(u,l(r)))}if(!r||!((e,t)=>e.some((e=>"string"==typeof e?e===t:(e.lastIndex=0,e.test(t)))))(r,t)){const e=o?`${t}_`:t;if(s.has(e))t=s.get(e);else{const r=i(t,{pascalCase:o,locale:!1});t.length<100&&s.set(e,r),t=r}}return[t,u]};return n(e,l(void 0))};e.exports=(e,t)=>Array.isArray(e)?Object.keys(e).map((r=>u(e[r],t))):u(e,t)},12729:e=>{"use strict";const t=/[\p{Lu}]/u,r=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),a=new RegExp(o.source+i.source,"gu"),u=new RegExp("\\d+"+i.source,"gu"),c=(e,i)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const o=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),c=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===e.length)return i.pascalCase?c(e):o(e);return e!==o(e)&&(e=((e,n,i)=>{let o=!1,s=!1,a=!1;for(let u=0;u<e.length;u++){const c=e[u];o&&t.test(c)?(e=e.slice(0,u)+"-"+e.slice(u),o=!1,a=s,s=!0,u++):s&&a&&r.test(c)?(e=e.slice(0,u-1)+"-"+e.slice(u-1),a=s,s=!1,o=!0):(o=n(c)===c&&i(c)!==c,a=s,s=i(c)===c&&n(c)!==c)}return e})(e,o,c)),e=e.replace(s,""),e=i.preserveConsecutiveUppercase?((e,t)=>(n.lastIndex=0,e.replace(n,(e=>t(e)))))(e,o):o(e),i.pascalCase&&(e=c(e.charAt(0))+e.slice(1)),((e,t)=>(a.lastIndex=0,u.lastIndex=0,e.replace(a,((e,r)=>t(r))).replace(u,(e=>t(e)))))(e,c)};e.exports=c,e.exports.default=c},56168:(e,t,r)=>{var n=r(92861).Buffer,i=r(88310).Transform,o=r(83141).I;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(56698)(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},15622:(e,t,r)=>{function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(48287).Buffer.isBuffer},61324:(e,t,r)=>{var n=r(48287).Buffer,i=r(86729),o=r(39404);e.exports=function(e){return new a(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function u(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var o=new n(r-i.length);o.fill(0),i=n.concat([o,i])}return t?i.toString(t):i}s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),u(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),u(r,e)},a.prototype.getPrivateKey=function(e){return u(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new o(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},47108:(e,t,r)=>{"use strict";var n=r(56698),i=r(88276),o=r(66011),s=r(62802),a=r(56168);function u(e){a.call(this,"digest"),this._hash=e}n(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(s(e))}},20320:(e,t,r)=>{var n=r(88276);e.exports=function(e){return(new n).update(e).digest()}},83507:(e,t,r)=>{"use strict";var n=r(56698),i=r(41800),o=r(56168),s=r(92861).Buffer,a=r(20320),u=r(66011),c=r(62802),f=s.alloc(128);function l(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new u:c(e)).update(t).digest():t.length<r&&(t=s.concat([t,f],r));for(var n=this._ipad=s.allocUnsafe(r),i=this._opad=s.allocUnsafe(r),a=0;a<r;a++)n[a]=54^t[a],i[a]=92^t[a];this._hash="rmd160"===e?new u:c(e),this._hash.update(n)}n(l,o),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new l("rmd160",t):"md5"===e?new i(a,t):new l(e,t)}},41800:(e,t,r)=>{"use strict";var n=r(56698),i=r(92861).Buffer,o=r(56168),s=i.alloc(128),a=64;function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=i.concat([t,s],a));for(var r=this._ipad=i.allocUnsafe(a),n=this._opad=i.allocUnsafe(a),u=0;u<a;u++)r[u]=54^t[u],n[u]=92^t[u];this._hash=[r]}n(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},74945:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=f(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=f(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var r,n,i=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},b.call(v.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];w.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(n,o){var s=new v(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new w(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",u)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=d,e.Request=v,e.Response=w),t.Headers=d,t.Request=v,t.Response=w,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},91565:(e,t,r)=>{"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(53209),t.createHash=t.Hash=r(47108),t.createHmac=t.Hmac=r(83507);var n=r(55715),i=Object.keys(n),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var s=r(78396);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=r(30125);t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var u=r(15380);t.DiffieHellmanGroup=u.DiffieHellmanGroup,t.createDiffieHellmanGroup=u.createDiffieHellmanGroup,t.getDiffieHellman=u.getDiffieHellman,t.createDiffieHellman=u.createDiffieHellman,t.DiffieHellman=u.DiffieHellman;var c=r(20);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=r(61324);var f=r(97168);t.publicEncrypt=f.publicEncrypt,t.privateEncrypt=f.privateEncrypt,t.publicDecrypt=f.publicDecrypt,t.privateDecrypt=f.privateDecrypt;var l=r(76983);t.randomFill=l.randomFill,t.randomFillSync=l.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},82229:e=>{e.exports=function e(t){Object.freeze(t);var r="function"==typeof t,n=Object.prototype.hasOwnProperty;return Object.getOwnPropertyNames(t).forEach((function(i){!n.call(t,i)||r&&("caller"===i||"callee"===i||"arguments"===i)||null===t[i]||"object"!=typeof t[i]&&"function"!=typeof t[i]||Object.isFrozen(t[i])||e(t[i])})),t}},29560:(e,t,r)=>{"use strict";t.utils=r(87626),t.Cipher=r(82808),t.DES=r(82211),t.CBC=r(3389),t.EDE=r(65279)},3389:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698),o={};function s(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(o),n=0;n<r.length;n++){var s=r[n];t.prototype[s]=o[s]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},o._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];o._update.call(this,s,0,r,n);for(a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},82808:(e,t,r)=>{"use strict";var n=r(43349);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},82211:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698),o=r(87626),s=r(82808);function a(){this.tmp=new Array(2),this.keys=null}function u(e){s.call(this,e);var t=new a;this._desState=t,this.deriveKeys(t,e.key)}i(u,s),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=c[s>>>1];r=o.r28shl(r,a),i=o.r28shl(i,a),o.pc2(r,i,e.keys,s)}},u.prototype._update=function(e,t,r,n){var i=this._desState,s=o.readUInt32BE(e,t),a=o.readUInt32BE(e,t+4);o.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],o.writeUInt32BE(r,s,n),o.writeUInt32BE(r,a,n+4)},u.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},u.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,r,n,i){for(var s=t,a=r,u=0;u<e.keys.length;u+=2){var c=e.keys[u],f=e.keys[u+1];o.expand(a,e.tmp,0),c^=e.tmp[0],f^=e.tmp[1];var l=o.substitute(c,f),d=a;a=(s^o.permute(l))>>>0,s=d}o.rip(a,s,n,i)},u.prototype._decrypt=function(e,t,r,n,i){for(var s=r,a=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],f=e.keys[u+1];o.expand(s,e.tmp,0),c^=e.tmp[0],f^=e.tmp[1];var l=o.substitute(c,f),d=s;s=(a^o.permute(l))>>>0,a=d}o.rip(s,a,n,i)}},65279:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698),o=r(82808),s=r(82211);function a(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:i}),s.create({type:"decrypt",key:r})]}function u(e){o.call(this,e);var t=new a(this.type,this.options.key);this._edeState=t}i(u,o),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=s.prototype._pad,u.prototype._unpad=s.prototype._unpad},87626:(e,t)=>{"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},t.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,s=0,a=r.length>>>1,u=0;u<a;u++)o<<=1,o|=e>>>r[u]&1;for(u=a;u<r.length;u++)s<<=1,s|=t>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=s>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,i=0;i<4;i++){r<<=4,r|=n[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){r<<=4,r|=n[256+64*i+(t>>>18-6*i&63)]}return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},15380:(e,t,r)=>{var n=r(48287).Buffer,i=r(4934),o=r(23241),s=r(14910);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new n(o[e].prime,"hex"),r=new n(o[e].gen,"hex");return new s(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,o,u){return n.isBuffer(r)||void 0===a[r]?e(t,"binary",r,o):(r=r||"binary",u=u||"binary",o=o||new n([2]),n.isBuffer(o)||(o=new n(o,u)),"number"==typeof t?new s(i(t,o),o,!0):(n.isBuffer(t)||(t=new n(t,r)),new s(t,o,!0)))}},14910:(e,t,r)=>{var n=r(48287).Buffer,i=r(39404),o=new(r(52244)),s=new i(24),a=new i(11),u=new i(10),c=new i(3),f=new i(7),l=r(4934),d=r(53209);function h(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=g;var y={};function g(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function b(e,t){var r=new n(e.toArray());return t?r.toString(t):r}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in y)return y[n];var i,d=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!o.test(e))return d+=1,d+="02"===r||"05"===r?8:4,y[n]=d,d;switch(o.test(e.shrn(1))||(d+=2),r){case"02":e.mod(s).cmp(a)&&(d+=8);break;case"05":(i=e.mod(u)).cmp(c)&&i.cmp(f)&&(d+=8);break;default:d+=4}return y[n]=d,d}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),o=this.getPrime();if(r.length<o.length){var s=new n(o.length-r.length);s.fill(0),r=n.concat([s,r])}return r},g.prototype.getPublicKey=function(e){return b(this._pub,e)},g.prototype.getPrivateKey=function(e){return b(this._priv,e)},g.prototype.getPrime=function(e){return b(this.__prime,e)},g.prototype.getGenerator=function(e){return b(this._gen,e)},g.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}},4934:(e,t,r)=>{var n=r(53209);e.exports=m,m.simpleSieve=g,m.fermatTest=b;var i=r(39404),o=new i(24),s=new(r(52244)),a=new i(1),u=new i(2),c=new i(5),f=(new i(16),new i(8),new i(10)),l=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function y(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}function g(e){for(var t=y(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function b(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function m(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;r.mod(f).cmp(l);)r.iadd(h)}else for(;r.mod(o).cmp(d);)r.iadd(h);if(g(p=r.shrn(1))&&g(r)&&b(p)&&b(r)&&s.test(p)&&s.test(r))return r}}},25170:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ECPairFactory=t.networks=void 0;const i=r(95249);t.networks=i;const o=r(90953),s=r(53209),a=r(57513),u=r(80709),c=o.typeforce.maybe(o.typeforce.compile({compressed:o.maybe(o.Boolean),network:o.maybe(o.Network)}));t.ECPairFactory=function(e){function t(t,r){if(o.typeforce(o.Buffer256bit,t),!e.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return o.typeforce(c,r),new f(t,void 0,r)}function r(t,r){return o.typeforce(e.isPoint,t),o.typeforce(c,r),new f(void 0,t,r)}(0,u.testEcc)(e);class f{__D;__Q;compressed;network;lowR;constructor(t,r,o){this.__D=t,this.__Q=r,this.lowR=!1,void 0===o&&(o={}),this.compressed=void 0===o.compressed||o.compressed,this.network=o.network||i.bitcoin,void 0!==r&&(this.__Q=n.from(e.pointCompress(r,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const t=e.pointFromScalar(this.__D,this.compressed);this.__Q=n.from(t)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return a.encode(this.network.wif,this.__D,this.compressed)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}sign(t,r){if(!this.__D)throw new Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return n.from(e.sign(t,this.__D));{let r=e.sign(t,this.__D);const i=n.alloc(32,0);let o=0;for(;r[0]>127;)o++,i.writeUIntLE(o,0,6),r=e.sign(t,this.__D,i);return n.from(r)}}signSchnorr(t){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return n.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}tweakFromPublicKey(t){const i=32===(o=this.publicKey).length?o:o.slice(1,33);var o;const s=e.xOnlyPointAddTweak(i,t);if(!s||null===s.xOnlyPubkey)throw new Error("Cannot tweak public key!");const a=n.from([0===s.parity?2:3]);return r(n.concat([a,s.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(r){const i=3===this.publicKey[0]||4===this.publicKey[0]&&!(1&~this.publicKey[64])?e.privateNegate(this.privateKey):this.privateKey,o=e.privateAdd(i,r);if(!o)throw new Error("Invalid tweaked private key!");return t(n.from(o),{network:this.network,compressed:this.compressed})}}return{isPoint:function(t){return e.isPoint(t)},fromPrivateKey:t,fromPublicKey:r,fromWIF:function(e,r){const n=a.decode(e),s=n.version;if(o.Array(r)){if(!(r=r.filter((e=>s===e.wif)).pop()))throw new Error("Unknown network version")}else if(r=r||i.bitcoin,s!==r.wif)throw new Error("Invalid network version");return t(n.privateKey,{compressed:n.compressed,network:r})},makeRandom:function(r){o.typeforce(c,r),void 0===r&&(r={});const n=r.rng||s;let i;do{i=n(32),o.typeforce(o.Buffer256bit,i)}while(!e.isPrivate(i));return t(i,r)}}}},38700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networks=t.ECPairFactory=t.default=void 0;var n=r(25170);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.ECPairFactory}}),Object.defineProperty(t,"ECPairFactory",{enumerable:!0,get:function(){return n.ECPairFactory}}),Object.defineProperty(t,"networks",{enumerable:!0,get:function(){return n.networks}})},95249:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.bitcoin=void 0,t.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},80709:(e,t,r)=>{"use strict";var n=r(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testEcc=void 0;const i=e=>n.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}t.testEcc=function(e){o(e.isPoint(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(!e.isPoint(i("030000000000000000000000000000000000000000000000000000000000000005"))),o(e.isPrivate(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(!e.isPrivate(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),o(n.from(e.privateAdd(i("0000000000000000000000000000000000000000000000000000000000000001"),i("0000000000000000000000000000000000000000000000000000000000000000"))).equals(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(null===e.privateAdd(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateAdd(i("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),i("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(i("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),o(n.from(e.privateNegate(i("0000000000000000000000000000000000000000000000000000000000000001"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(e.privateNegate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateNegate(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointFromScalar(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),o(null===e.xOnlyPointAddTweak(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(i("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),i("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));o(n.from(t.xOnlyPubkey).equals(i("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(i("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),i("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),o(n.from(t.xOnlyPubkey).equals(i("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===t.parity),o(n.from(e.sign(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),o(e.verify(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&o(n.from(e.signSchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),i("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&o(e.verifySchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},90953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=r(8676),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe},86729:(e,t,r)=>{"use strict";var n=t;n.version=r(1636).rE,n.utils=r(47011),n.rand=r(15037),n.curve=r(894),n.curves=r(60480),n.ec=r(57447),n.eddsa=r(8650)},36677:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.getNAF,s=i.getJSF,a=i.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,u,c=[];for(s=0;s<n.length;s+=r.step){u=0;for(var f=s+r.step-1;f>=s;f--)u=(u<<1)+n[f];c.push(u)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<c.length;s++)(u=c[s])===h?d=d.mixedAdd(r.points[s]):u===-h&&(d=d.mixedAdd(r.points[s].neg()));l=l.add(d)}return l.toP()},u.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&0===s[c];c--)f++;if(c>=0&&f++,u=u.dblp(f),c<0)break;var l=s[c];a(0!==l),u="affine"===e.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,r,n,i){var a,u,c,f=this._wnafT1,l=this._wnafT2,d=this._wnafT3,h=0;for(a=0;a<n;a++){var p=(c=t[a])._getNAFPoints(e);f[a]=p.wnd,l[a]=p.points}for(a=n-1;a>=1;a-=2){var y=a-1,g=a;if(1===f[y]&&1===f[g]){var b=[t[y],null,null,t[g]];0===t[y].y.cmp(t[g].y)?(b[1]=t[y].add(t[g]),b[2]=t[y].toJ().mixedAdd(t[g].neg())):0===t[y].y.cmp(t[g].y.redNeg())?(b[1]=t[y].toJ().mixedAdd(t[g]),b[2]=t[y].add(t[g].neg())):(b[1]=t[y].toJ().mixedAdd(t[g]),b[2]=t[y].toJ().mixedAdd(t[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[y],r[g]);for(h=Math.max(v[0].length,h),d[y]=new Array(h),d[g]=new Array(h),u=0;u<h;u++){var _=0|v[0][u],w=0|v[1][u];d[y][u]=m[3*(_+1)+(w+1)],d[g][u]=0,l[y]=b}}else d[y]=o(r[y],f[y],this._bitLength),d[g]=o(r[g],f[g],this._bitLength),h=Math.max(d[y].length,h),h=Math.max(d[g].length,h)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(a=h;a>=0;a--){for(var A=0;a>=0;){var x=!0;for(u=0;u<n;u++)E[u]=0|d[u][a],0!==E[u]&&(x=!1);if(!x)break;A++,a--}if(a>=0&&A++,S=S.dblp(A),a<0)break;for(u=0;u<n;u++){var k=E[u];0!==k&&(k>0?c=l[u][k-1>>1]:k<0&&(c=l[u][-k-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(a=0;a<n;a++)l[a]=null;return i?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},31298:(e,t,r)=>{"use strict";var n=r(47011),i=r(39404),o=r(56698),s=r(36677),a=n.assert;function u(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(c,s.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},c.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=s.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=s.redSub(a).redISub(u).redMul(o),t=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),d=s.redMul(a);return this.curve.point(c,f,d,l)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(t=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(t=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},894:(e,t,r)=>{"use strict";var n=t;n.base=r(36677),n.short=r(39188),n.mont=r(30370),n.edwards=r(31298)},30370:(e,t,r)=>{"use strict";var n=r(39404),i=r(56698),o=r(36677),s=r(47011);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new u(this,e,t)},a.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(e,t,r)=>{"use strict";var n=r(47011),i=r(39404),o=r(56698),s=r(36677),a=n.assert;function u(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,u,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),y=new i(0),g=new i(0),b=new i(1),m=0;0!==d.cmpn(0);){var v=h.div(d);c=h.sub(v.mul(d)),f=g.sub(v.mul(p));var _=b.sub(v.mul(y));if(!n&&c.cmp(l)<0)t=u.neg(),r=p,n=c.neg(),o=f;else if(n&&2==++m)break;u=c,h=d,d=c,g=p,p=f,b=y,y=_}s=c.neg(),a=f;var w=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(w)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},o(c,s.BasePoint),u.prototype.point=function(e,t,r){return new c(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),d=u.redSqr().redIAdd(f).redISub(l).redISub(l),h=u.redMul(l.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),d=a.redMul(f.redISub(l)).redISub(i.redMul(c)),h=this.z.redMul(s);return this.curve.jpoint(l,d,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),l=c.redSqr(),d=l.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(l),y=h.redSqr().redISub(p.redAdd(p)),g=p.redISub(y),b=h.redMul(g);b=b.redIAdd(b).redISub(d);var m=c.redMul(a);t+1<e&&(u=u.redMul(d)),o=y,a=m,c=b}return this.curve.jpoint(o,c.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(f).redISub(d);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=y.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var g=l.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=h.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=a.redMul(l).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=t.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,d,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},60480:(e,t,r)=>{"use strict";var n,i=t,o=r(77952),s=r(894),a=r(47011).assert;function u(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(74011)}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},57447:(e,t,r)=>{"use strict";var n=r(39404),i=r(32723),o=r(47011),s=r(60480),a=r(15037),u=o.assert,c=r(61200),f=r(28545);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(u(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new c(this,e)},l.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),u=e.toArray("be",s),c=new i({hash:this.hash,entropy:a,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new n(1)),d=0;;d++){var h=o.k?o.k(d):new n(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var y=p.getX(),g=y.umod(this.n);if(0!==g.cmpn(0)){var b=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==y.cmp(g)?2:0);return o.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),m^=1),new f({r:g,s:b,recoveryParam:m})}}}}}},l.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(e).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(e,t,r,i){u((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,c=t.s,l=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var h=t.r.invm(o),p=o.sub(s).mul(h).umod(o),y=c.mul(h).umod(o);return this.g.mulAdd(p,a,y)},l.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},61200:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function u(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function c(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=u(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=u(e,r);if(!1===s)return!1;var c=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=u(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var l=e.slice(r.place,f+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(c),this.s=new n(l),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=c(t),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},8650:(e,t,r)=>{"use strict";var n=r(77952),i=r(60480),o=r(47011),s=o.assert,a=o.parseBytes,u=r(46661),c=r(90220);function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},46661:(e,t,r)=>{"use strict";var n=r(47011),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},90220:(e,t,r)=>{"use strict";var n=r(39404),i=r(47011),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},74011:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(e,t,r)=>{"use strict";var n=t,i=r(39404),o=r(43349),s=r(64367);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,s=e.clone();for(n=0;n<i.length;n++){var a,u=s.andln(o-1);s.isOdd()?(a=u>(o>>1)-1?(o>>1)-u:u,s.isubn(a)):a=0,i[n]=a,s.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=1&u?3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u:0,r[0].push(s),a=1&c?3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?c:-c:0,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},37007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,s,c;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,c=f,console&&console.warn&&console.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)n(u,this,t);else{var c=u.length,f=p(u,c);for(r=0;r<c;++r)n(f[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},68078:(e,t,r)=>{var n=r(92861).Buffer,i=r(88276);e.exports=function(e,t,r,o){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=n.alloc(s),u=n.alloc(o||0),c=n.alloc(0);s>0||o>0;){var f=new i;f.update(c),f.update(e),t&&f.update(t),c=f.digest();var l=0;if(s>0){var d=a.length-s;l=Math.min(s,c.length),c.copy(a,d,0,l),s-=l}if(l<c.length&&o>0){var h=u.length-o,p=Math.min(o,c.length-l);c.copy(u,h,l,l+p),o-=p}}return c.fill(0),{key:a,iv:u}}},77952:(e,t,r)=>{var n=t;n.utils=r(67426),n.common=r(66166),n.sha=r(46229),n.ripemd=r(46784),n.hmac=r(28948),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},66166:(e,t,r)=>{"use strict";var n=r(67426),i=r(43349);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},28948:(e,t,r)=>{"use strict";var n=r(67426),i=r(43349);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},46784:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,c),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],m=r,v=n,_=i,w=c,S=f,E=0;E<80;E++){var A=s(o(u(r,l(E,n,i,c),e[p[E]+t],d(E)),g[E]),f);r=f,f=c,c=o(i,10),i=n,n=A,A=s(o(u(m,l(79-E,v,_,w),e[y[E]+t],h(E)),b[E]),S),m=S,S=w,w=o(_,10),_=v,v=A}A=a(this.h[1],i,w),this.h[1]=a(this.h[2],c,S),this.h[2]=a(this.h[3],f,m),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,_),this.h[0]=A},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(e,t,r)=>{"use strict";t.sha1=r(43917),t.sha224=r(47714),t.sha256=r(2287),t.sha384=r(21911),t.sha512=r(57766)},43917:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(66225),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,f),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],d=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),y=u(s(i,5),c(p,o,f,d),h,r[n],l[p]);h=d,d=f,f=s(o,30),o=i,i=y}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},47714:(e,t,r)=>{"use strict";var n=r(67426),i=r(2287);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},2287:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(66225),s=r(43349),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=o.ch32,l=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,y=o.g1_256,g=i.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}n.inherits(m,g),e.exports=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(y(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],g=this.h[2],b=this.h[3],m=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=c(w,h(m),f(m,v,_),this.k[n],r[n]),E=a(d(i),l(i,o,g));w=_,_=v,v=m,m=a(b,S),b=g,g=o,o=i,i=a(S,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],b),this.h[4]=a(this.h[4],m),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],_),this.h[7]=a(this.h[7],w)},m.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},21911:(e,t,r)=>{"use strict";var n=r(67426),i=r(57766);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},57766:(e,t,r)=>{"use strict";var n=r(67426),i=r(66166),o=r(43349),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,l=n.sum64_hi,d=n.sum64_lo,h=n.sum64_4_hi,p=n.sum64_4_lo,y=n.sum64_5_hi,g=n.sum64_5_lo,b=i.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}function _(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function A(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,b),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=O(r[n-4],r[n-3]),o=P(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=T(r[n-30],r[n-29]),c=C(r[n-30],r[n-29]),f=r[n-32],l=r[n-31];r[n]=h(i,o,s,a,u,c,f,l),r[n+1]=p(i,o,s,a,u,c,f,l)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],b=this.h[8],m=this.h[9],v=this.h[10],T=this.h[11],C=this.h[12],O=this.h[13],P=this.h[14],M=this.h[15];o(this.k.length===r.length);for(var B=0;B<r.length;B+=2){var D=P,R=M,j=k(b,m),L=I(b,m),N=_(b,m,v,T,C),U=w(b,m,v,T,C,O),H=this.k[B],F=this.k[B+1],z=r[B],q=r[B+1],K=y(D,R,j,L,N,U,H,F,z,q),V=g(D,R,j,L,N,U,H,F,z,q);D=A(n,i),R=x(n,i),j=S(n,i,s,a,u),L=E(n,i,s,a,u,c);var W=l(D,R,j,L),$=d(D,R,j,L);P=C,M=O,C=v,O=T,v=b,T=m,b=l(h,p,K,V),m=d(p,p,K,V),h=u,p=c,u=s,c=a,s=n,a=i,n=l(K,V,W,$),i=d(K,V,W,$)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,h,p),f(this.h,8,b,m),f(this.h,10,v,T),f(this.h,12,C,O),f(this.h,14,P,M)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},66225:(e,t,r)=>{"use strict";var n=r(67426).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},67426:(e,t,r)=>{"use strict";var n=r(43349),i=r(56698);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=u(i.toString(16))}return r},t.zero2=a,t.zero8=u,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,c){var f=0,l=t;return f+=(l=l+n>>>0)<t?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,e+r+i+s+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,c){return t+n+o+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},32723:(e,t,r)=>{"use strict";var n=r(77952),i=r(64367),o=r(43349);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},251:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=c}return(h?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+h]=255&s,h+=p,s/=256,c-=8);e[r+h-p]|=128*y}},49568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Collection:()=>x,Iterable:()=>Tn,List:()=>ur,Map:()=>Nt,OrderedMap:()=>Sr,OrderedSet:()=>fn,PairSorting:()=>yn,Range:()=>Wr,Record:()=>gn,Repeat:()=>En,Seq:()=>Y,Set:()=>Ur,Stack:()=>Tr,default:()=>Cn,fromJS:()=>An,get:()=>ut,getIn:()=>$r,has:()=>at,hasIn:()=>Gr,hash:()=>be,is:()=>he,isAssociative:()=>A,isCollection:()=>v,isImmutable:()=>B,isIndexed:()=>E,isKeyed:()=>w,isList:()=>ar,isMap:()=>fe,isOrdered:()=>R,isOrderedMap:()=>le,isOrderedSet:()=>Rr,isPlainObject:()=>it,isRecord:()=>M,isSeq:()=>O,isSet:()=>Dr,isStack:()=>Ir,isValueObject:()=>de,merge:()=>At,mergeDeep:()=>kt,mergeDeepWith:()=>It,mergeWith:()=>xt,remove:()=>ft,removeIn:()=>gt,set:()=>lt,setIn:()=>pt,update:()=>mt,updateIn:()=>dt,version:()=>In});var n="delete",i=5,o=1<<i,s=o-1,a={};function u(e){e&&(e.value=!0)}function c(){}function f(e){return void 0===e.size&&(e.size=e.__iterate(d)),e.size}function l(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?f(e)+t:t}function d(){return!0}function h(e,t,r){return(0===e&&!b(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function p(e,t){return g(e,t,0)}function y(e,t){return g(e,t,t)}function g(e,t,r){return void 0===e?r:b(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function b(e){return e<0||0===e&&1/e==-1/0}var m="@@__IMMUTABLE_ITERABLE__@@";function v(e){return Boolean(e&&e[m])}var _="@@__IMMUTABLE_KEYED__@@";function w(e){return Boolean(e&&e[_])}var S="@@__IMMUTABLE_INDEXED__@@";function E(e){return Boolean(e&&e[S])}function A(e){return w(e)||E(e)}var x=function(e){return v(e)?e:Y(e)},k=function(e){function t(e){return w(e)?e:J(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(x),I=function(e){function t(e){return E(e)?e:Z(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(x),T=function(e){function t(e){return v(e)&&!A(e)?e:ee(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(x);x.Keyed=k,x.Indexed=I,x.Set=T;var C="@@__IMMUTABLE_SEQ__@@";function O(e){return Boolean(e&&e[C])}var P="@@__IMMUTABLE_RECORD__@@";function M(e){return Boolean(e&&e[P])}function B(e){return v(e)||M(e)}var D="@@__IMMUTABLE_ORDERED__@@";function R(e){return Boolean(e&&e[D])}var j=0,L=1,N=2,U="function"==typeof Symbol&&Symbol.iterator,H="@@iterator",F=U||H,z=function(e){this.next=e};function q(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function K(){return{value:void 0,done:!0}}function V(e){return!!Array.isArray(e)||!!Q(e)}function W(e){return e&&"function"==typeof e.next}function $(e){var t=Q(e);return t&&t.call(e)}function Q(e){var t=e&&(U&&e[U]||e[H]);if("function"==typeof t)return t}z.prototype.toString=function(){return"[Iterator]"},z.KEYS=j,z.VALUES=L,z.ENTRIES=N,z.prototype.inspect=z.prototype.toSource=function(){return this.toString()},z.prototype[F]=function(){return this};var G=Object.prototype.hasOwnProperty;function X(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var Y=function(e){function t(e){return null==e?oe():B(e)?e.toSeq():function(e){var t=ue(e);if(t)return(n=Q(r=e))&&n===r.entries?t.fromEntrySeq():function(e){var t=Q(e);return t&&t===e.keys}(e)?t.toSetSeq():t;var r,n;if("object"==typeof e)return new re(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[t?n-++i:i++];if(!1===e(o[1],o[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,i=0;return new z((function(){if(i===n)return{value:void 0,done:!0};var o=r[t?n-++i:i++];return q(e,o[0],o[1])}))}return this.__iteratorUncached(e,t)},t}(x),J=function(e){function t(e){return null==e?oe().toKeyedSeq():v(e)?w(e)?e.toSeq():e.fromEntrySeq():M(e)?e.toSeq():se(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Y),Z=function(e){function t(e){return null==e?oe():v(e)?w(e)?e.entrySeq():e.toIndexedSeq():M(e)?e.toSeq().entrySeq():ae(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Y),ee=function(e){function t(e){return(v(e)&&!A(e)?e:Z(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Y);Y.isSeq=O,Y.Keyed=J,Y.Set=ee,Y.Indexed=Z,Y.prototype[C]=!0;var te=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[l(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,i=0;i!==n;){var o=t?n-++i:i++;if(!1===e(r[o],o,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,i=0;return new z((function(){if(i===n)return{value:void 0,done:!0};var o=t?n-++i:i++;return q(e,o,r[o])}))},t}(Z),re=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return G.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var s=n[t?i-++o:o++];if(!1===e(r[s],s,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length,o=0;return new z((function(){if(o===i)return{value:void 0,done:!0};var s=n[t?i-++o:o++];return q(e,s,r[s])}))},t}(J);re.prototype[D]=!0;var ne,ie=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=$(this._collection),n=0;if(W(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=$(this._collection);if(!W(r))return new z(K);var n=0;return new z((function(){var t=r.next();return t.done?t:q(e,n++,t.value)}))},t}(Z);function oe(){return ne||(ne=new te([]))}function se(e){var t=ue(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new re(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function ae(e){var t=ue(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ue(e){return X(e)?new te(e):V(e)?new ie(e):void 0}var ce="@@__IMMUTABLE_MAP__@@";function fe(e){return Boolean(e&&e[ce])}function le(e){return fe(e)&&R(e)}function de(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function he(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(de(e)&&de(t)&&e.equals(t))}var pe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function ye(e){return e>>>1&1073741824|3221225471&e}var ge=Object.prototype.valueOf;function be(e){if(null==e)return me(e);if("function"==typeof e.hashCode)return ye(e.hashCode(e));var t,r=(t=e).valueOf!==ge&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==r)return me(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return ye(t)}(r);case"string":return r.length>Te?function(e){var t=Pe[e];void 0===t&&(t=ve(e),Oe===Ce&&(Oe=0,Pe={}),Oe++,Pe[e]=t);return t}(r):ve(r);case"object":case"function":return function(e){var t;if(Ae&&void 0!==(t=Ee.get(e)))return t;if(t=e[Ie],void 0!==t)return t;if(!we){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ie]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=Se(),Ae)Ee.set(e,t);else{if(void 0!==_e&&!1===_e(e))throw new Error("Non-extensible objects are not allowed as keys.");if(we)Object.defineProperty(e,Ie,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Ie]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ie]=t}}return t}(r);case"symbol":return function(e){var t=xe[e];if(void 0!==t)return t;return t=Se(),xe[e]=t,t}(r);default:if("function"==typeof r.toString)return ve(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function me(e){return null===e?1108378658:1108378659}function ve(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return ye(t)}var _e=Object.isExtensible,we=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Se(){var e=++ke;return 1073741824&ke&&(ke=0),e}var Ee,Ae="function"==typeof WeakMap;Ae&&(Ee=new WeakMap);var xe=Object.create(null),ke=0,Ie="__immutablehash__";"function"==typeof Symbol&&(Ie=Symbol(Ie));var Te=16,Ce=255,Oe=0,Pe={},Me=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Ne(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=Le(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(J);Me.prototype[D]=!0;var Be=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&f(this),this._iter.__iterate((function(i){return e(i,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(L,t),i=0;return t&&f(this),new z((function(){var o=n.next();return o.done?o:q(e,t?r.size-++i:i++,o.value,o)}))},t}(Z),De=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new z((function(){var t=r.next();return t.done?t:q(e,t.value,t.value,t)}))},t}(ee),Re=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){Qe(t);var n=v(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new z((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Qe(n);var i=v(n);return q(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}}))},t}(J);function je(e){var t=Xe(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Ye,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===N){var n=e.__iterator(t,r);return new z((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===L?j:L,r)},t}function Le(e,t,r){var n=Xe(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var o=e.get(n,a);return o===a?i:t.call(r,o,n,e)},n.__iterateUncached=function(n,i){var o=this;return e.__iterate((function(e,i,s){return!1!==n(t.call(r,e,i,s),i,o)}),i)},n.__iteratorUncached=function(n,i){var o=e.__iterator(N,i);return new z((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return q(n,a,t.call(r,s[1],a,e),i)}))},n}function Ne(e,t){var r=this,n=Xe(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=je(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=Ye,n.__iterate=function(r,n){var i=this,o=0;return n&&f(e),e.__iterate((function(e,s){return r(e,t?s:n?i.size-++o:o++,i)}),!n)},n.__iterator=function(n,i){var o=0;i&&f(e);var s=e.__iterator(N,!i);return new z((function(){var e=s.next();if(e.done)return e;var a=e.value;return q(n,t?a[0]:i?r.size-++o:o++,a[1],e)}))},n}function Ue(e,t,r,n){var i=Xe(e);return n&&(i.has=function(n){var i=e.get(n,a);return i!==a&&!!t.call(r,i,n,e)},i.get=function(n,i){var o=e.get(n,a);return o!==a&&t.call(r,o,n,e)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return e.__iterate((function(e,o,u){if(t.call(r,e,o,u))return a++,i(e,n?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=e.__iterator(N,o),a=0;return new z((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],f=u[1];if(t.call(r,f,c,e))return q(i,n?c:a++,f,o)}}))},i}function He(e,t,r,n){var i=e.size;if(h(t,r,i))return e;var o=p(t,i),s=y(r,i);if(o!=o||s!=s)return He(e.toSeq().cacheResult(),t,r,n);var a,u=s-o;u==u&&(a=u<0?0:u);var c=Xe(e);return c.size=0===a?a:e.size&&a||void 0,!n&&O(e)&&a>=0&&(c.get=function(t,r){return(t=l(this,t))>=0&&t<a?e.get(t+o,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===a)return 0;if(r)return this.cacheResult().__iterate(t,r);var s=0,u=!0,c=0;return e.__iterate((function(e,r){if(!u||!(u=s++<o))return c++,!1!==t(e,n?r:c-1,i)&&c!==a})),c},c.__iteratorUncached=function(t,r){if(0!==a&&r)return this.cacheResult().__iterator(t,r);if(0===a)return new z(K);var i=e.__iterator(t,r),s=0,u=0;return new z((function(){for(;s++<o;)i.next();if(++u>a)return{value:void 0,done:!0};var e=i.next();return n||t===L||e.done?e:q(t,u-1,t===j?void 0:e.value[1],e)}))},c}function Fe(e,t,r,n){var i=Xe(e);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return e.__iterate((function(e,o,c){if(!a||!(a=t.call(r,e,o,c)))return u++,i(e,n?o:u-1,s)})),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=e.__iterator(N,o),u=!0,c=0;return new z((function(){var e,o,f;do{if((e=a.next()).done)return n||i===L?e:q(i,c++,i===j?void 0:e.value[1],e);var l=e.value;o=l[0],f=l[1],u&&(u=t.call(r,f,o,s))}while(u);return i===N?e:q(i,o,f,e)}))},i}function ze(e,t,r){var n=Xe(e);return n.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var s=0,a=!1;return function e(u,c){u.__iterate((function(o,u){return(!t||c<t)&&v(o)?e(o,c+1):(s++,!1===i(o,r?u:s-1,n)&&(a=!0)),!a}),o)}(e,0),s},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var o=e.__iterator(n,i),s=[],a=0;return new z((function(){for(;o;){var e=o.next();if(!1===e.done){var u=e.value;if(n===N&&(u=u[1]),t&&!(s.length<t)||!v(u))return r?e:q(n,a++,u,e);s.push(o),o=u.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}}))},n}function qe(e,t,r){t||(t=Je);var n=w(e),i=0,o=e.toSeq().map((function(t,n){return[n,t,i++,r?r(t,n,e):t]})).valueSeq().toArray();return o.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),n?J(o):E(e)?Z(o):ee(o)}function Ke(e,t,r){if(t||(t=Je),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return Ve(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return Ve(t,e,r)?r:e}))}function Ve(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function We(e,t,r,n){var i=Xe(e),o=new te(r).map((function(e){return e.size}));return i.size=n?o.max():o.min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(L,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map((function(e){return e=x(e),$(i?e.reverse():e)})),s=0,a=!1;return new z((function(){var r;return a||(r=o.map((function(e){return e.next()})),a=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),a?{value:void 0,done:!0}:q(e,s++,t.apply(null,r.map((function(e){return e.value}))))}))},i}function $e(e,t){return e===t?e:O(e)?t:e.constructor(t)}function Qe(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ge(e){return w(e)?k:E(e)?I:T}function Xe(e){return Object.create((w(e)?J:E(e)?Z:ee).prototype)}function Ye(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function Je(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ze(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function et(e,t){if(!e)throw new Error(t)}function tt(e){et(e!==1/0,"Cannot perform this action with an infinite size.")}function rt(e){if(X(e)&&"string"!=typeof e)return e;if(R(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Be.prototype.cacheResult=Me.prototype.cacheResult=De.prototype.cacheResult=Re.prototype.cacheResult=Ye;var nt=Object.prototype.toString;function it(e){if(!e||"object"!=typeof e||"[object Object]"!==nt.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function ot(e){return"object"==typeof e&&(B(e)||Array.isArray(e)||it(e))}function st(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function at(e,t){return B(e)?e.has(t):ot(e)&&G.call(e,t)}function ut(e,t,r){return B(e)?e.get(t,r):at(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function ct(e){if(Array.isArray(e))return Ze(e);var t={};for(var r in e)G.call(e,r)&&(t[r]=e[r]);return t}function ft(e,t){if(!ot(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(B(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!G.call(e,t))return e;var r=ct(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function lt(e,t,r){if(!ot(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(B(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(G.call(e,t)&&r===e[t])return e;var n=ct(e);return n[t]=r,n}function dt(e,t,r,n){n||(n=r,r=void 0);var i=ht(B(e),e,rt(t),0,r,n);return i===a?r:i}function ht(e,t,r,n,i,o){var s=t===a;if(n===r.length){var u=s?i:t,c=o(u);return c===u?t:c}if(!s&&!ot(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(st)+"]: "+t);var f=r[n],l=s?a:ut(t,f,a),d=ht(l===a?e:B(l),l,r,n+1,i,o);return d===l?t:d===a?ft(t,f):lt(s?e?Xt():{}:t,f,d)}function pt(e,t,r){return dt(e,t,a,(function(){return r}))}function yt(e,t){return pt(this,e,t)}function gt(e,t){return dt(e,t,(function(){return a}))}function bt(e){return gt(this,e)}function mt(e,t,r,n){return dt(e,[t],r,n)}function vt(e,t,r){return 1===arguments.length?e(this):mt(this,e,t,r)}function _t(e,t,r){return dt(this,e,t,r)}function wt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Et(this,e)}function St(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return Et(this,t,e)}function Et(e,t,r){for(var n=[],i=0;i<t.length;i++){var o=k(t[i]);0!==o.size&&n.push(o)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){mt(e,n,a,(function(e){return e===a?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},i=0;i<n.length;i++)n[i].forEach(t)})):e.constructor(n[0])}function At(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ct(e,t)}function xt(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Ct(t,r,e)}function kt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Tt(e,t)}function It(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Tt(t,r,e)}function Tt(e,t,r){return Ct(e,t,function(e){function t(r,n,i){return ot(r)&&ot(n)&&(o=n,s=Y(r),a=Y(o),E(s)===E(a)&&w(s)===w(a))?Ct(r,[n],t):e?e(r,n,i):n;var o,s,a}return t}(r))}function Ct(e,t,r){if(!ot(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(B(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,o=n?I:k,s=n?function(t){i===e&&(i=ct(i)),i.push(t)}:function(t,n){var o=G.call(i,n),s=o&&r?r(i[n],t,n):t;o&&s===i[n]||(i===e&&(i=ct(i)),i[n]=s)},a=0;a<t.length;a++)o(t[a]).forEach(s);return i}function Ot(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Tt(this,e)}function Pt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Tt(this,t,e)}function Mt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return dt(this,e,Xt(),(function(e){return Ct(e,t)}))}function Bt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return dt(this,e,Xt(),(function(e){return Tt(e,t)}))}function Dt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Rt(){return this.__ownerID?this:this.__ensureOwner(new c)}function jt(){return this.__ensureOwner()}function Lt(){return this.__altered}var Nt=function(e){function t(t){return null==t?Xt():fe(t)&&!R(t)?t:Xt().withMutations((function(r){var n=e(t);tt(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Xt().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Yt(this,e,t)},t.prototype.remove=function(e){return Yt(this,e,a)},t.prototype.deleteAll=function(e){var t=x(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Xt()},t.prototype.sort=function(e){return Sr(qe(this,e))},t.prototype.sortBy=function(e,t){return Sr(qe(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(i,o){n.set(o,e.call(t,i,o,r))}))}))},t.prototype.__iterator=function(e,t){return new Wt(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Gt(this.size,this._root,e,this.__hash):0===this.size?Xt():(this.__ownerID=e,this.__altered=!1,this)},t}(k);Nt.isMap=fe;var Ut=Nt.prototype;Ut[ce]=!0,Ut[n]=Ut.remove,Ut.removeAll=Ut.deleteAll,Ut.setIn=yt,Ut.removeIn=Ut.deleteIn=bt,Ut.update=vt,Ut.updateIn=_t,Ut.merge=Ut.concat=wt,Ut.mergeWith=St,Ut.mergeDeep=Ot,Ut.mergeDeepWith=Pt,Ut.mergeIn=Mt,Ut.mergeDeepIn=Bt,Ut.withMutations=Dt,Ut.wasAltered=Lt,Ut.asImmutable=jt,Ut["@@transducer/init"]=Ut.asMutable=Rt,Ut["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Ut["@@transducer/result"]=function(e){return e.asImmutable()};var Ht=function(e,t){this.ownerID=e,this.entries=t};Ht.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(he(r,i[o][0]))return i[o][1];return n},Ht.prototype.update=function(e,t,r,n,i,o,s){for(var f=i===a,l=this.entries,d=0,h=l.length;d<h&&!he(n,l[d][0]);d++);var p=d<h;if(p?l[d][1]===i:f)return this;if(u(s),(f||!p)&&u(o),!f||1!==l.length){if(!p&&!f&&l.length>=nr)return function(e,t,r,n){e||(e=new c);for(var i=new Kt(e,be(r),[r,n]),o=0;o<t.length;o++){var s=t[o];i=i.update(e,0,void 0,s[0],s[1])}return i}(e,l,n,i);var y=e&&e===this.ownerID,g=y?l:Ze(l);return p?f?d===h-1?g.pop():g[d]=g.pop():g[d]=[n,i]:g.push([n,i]),y?(this.entries=g,this):new Ht(e,g)}};var Ft=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};Ft.prototype.get=function(e,t,r,n){void 0===t&&(t=be(r));var o=1<<((0===e?t:t>>>e)&s),a=this.bitmap;return a&o?this.nodes[tr(a&o-1)].get(e+i,t,r,n):n},Ft.prototype.update=function(e,t,r,n,u,c,f){void 0===r&&(r=be(n));var l=(0===t?r:r>>>t)&s,d=1<<l,h=this.bitmap,p=!!(h&d);if(!p&&u===a)return this;var y=tr(h&d-1),g=this.nodes,b=p?g[y]:void 0,m=Jt(b,e,t+i,r,n,u,c,f);if(m===b)return this;if(!p&&m&&g.length>=ir)return function(e,t,r,n,i){for(var s=0,a=new Array(o),u=0;0!==r;u++,r>>>=1)a[u]=1&r?t[s++]:void 0;return a[n]=i,new zt(e,s+1,a)}(e,g,h,l,m);if(p&&!m&&2===g.length&&Zt(g[1^y]))return g[1^y];if(p&&m&&1===g.length&&Zt(m))return m;var v=e&&e===this.ownerID,_=p?m?h:h^d:h|d,w=p?m?rr(g,y,m,v):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),o=0,s=0;s<n;s++)s===t&&(o=1),i[s]=e[s+o];return i}(g,y,v):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var o=new Array(i),s=0,a=0;a<i;a++)a===t?(o[a]=r,s=-1):o[a]=e[a+s];return o}(g,y,m,v);return v?(this.bitmap=_,this.nodes=w,this):new Ft(e,_,w)};var zt=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};zt.prototype.get=function(e,t,r,n){void 0===t&&(t=be(r));var o=(0===e?t:t>>>e)&s,a=this.nodes[o];return a?a.get(e+i,t,r,n):n},zt.prototype.update=function(e,t,r,n,o,u,c){void 0===r&&(r=be(n));var f=(0===t?r:r>>>t)&s,l=o===a,d=this.nodes,h=d[f];if(l&&!h)return this;var p=Jt(h,e,t+i,r,n,o,u,c);if(p===h)return this;var y=this.count;if(h){if(!p&&--y<or)return function(e,t,r,n){for(var i=0,o=0,s=new Array(r),a=0,u=1,c=t.length;a<c;a++,u<<=1){var f=t[a];void 0!==f&&a!==n&&(i|=u,s[o++]=f)}return new Ft(e,i,s)}(e,d,y,f)}else y++;var g=e&&e===this.ownerID,b=rr(d,f,p,g);return g?(this.count=y,this.nodes=b,this):new zt(e,y,b)};var qt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};qt.prototype.get=function(e,t,r,n){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(he(r,i[o][0]))return i[o][1];return n},qt.prototype.update=function(e,t,r,n,i,o,s){void 0===r&&(r=be(n));var c=i===a;if(r!==this.keyHash)return c?this:(u(s),u(o),er(this,e,t,r,[n,i]));for(var f=this.entries,l=0,d=f.length;l<d&&!he(n,f[l][0]);l++);var h=l<d;if(h?f[l][1]===i:c)return this;if(u(s),(c||!h)&&u(o),c&&2===d)return new Kt(e,this.keyHash,f[1^l]);var p=e&&e===this.ownerID,y=p?f:Ze(f);return h?c?l===d-1?y.pop():y[l]=y.pop():y[l]=[n,i]:y.push([n,i]),p?(this.entries=y,this):new qt(e,this.keyHash,y)};var Kt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};Kt.prototype.get=function(e,t,r,n){return he(r,this.entry[0])?this.entry[1]:n},Kt.prototype.update=function(e,t,r,n,i,o,s){var c=i===a,f=he(n,this.entry[0]);return(f?i===this.entry[1]:c)?this:(u(s),c?void u(o):f?e&&e===this.ownerID?(this.entry[1]=i,this):new Kt(e,this.keyHash,[n,i]):(u(o),er(this,e,t,be(n),[n,i])))},Ht.prototype.iterate=qt.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Ft.prototype.iterate=zt.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&!1===o.iterate(e,t))return!1}},Kt.prototype.iterate=function(e,t){return e(this.entry)};var Vt,Wt=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Qt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,i=void 0;if(r.entry){if(0===n)return $t(e,r.entry)}else if(r.entries){if(n<=(i=r.entries.length-1))return $t(e,r.entries[this._reverse?i-n:n])}else if(n<=(i=r.nodes.length-1)){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return $t(e,o.entry);t=this._stack=Qt(o,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(z);function $t(e,t){return q(e,t[0],t[1])}function Qt(e,t){return{node:e,index:0,__prev:t}}function Gt(e,t,r,n){var i=Object.create(Ut);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Xt(){return Vt||(Vt=Gt(0))}function Yt(e,t,r){var n,i;if(e._root){var o={value:!1},s={value:!1};if(n=Jt(e._root,e.__ownerID,0,void 0,t,r,o,s),!s.value)return e;i=e.size+(o.value?r===a?-1:1:0)}else{if(r===a)return e;i=1,n=new Ht(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Gt(i,n):Xt()}function Jt(e,t,r,n,i,o,s,c){return e?e.update(t,r,n,i,o,s,c):o===a?e:(u(c),u(s),new Kt(t,n,[i,o]))}function Zt(e){return e.constructor===Kt||e.constructor===qt}function er(e,t,r,n,o){if(e.keyHash===n)return new qt(t,n,[e.entry,o]);var a,u=(0===r?e.keyHash:e.keyHash>>>r)&s,c=(0===r?n:n>>>r)&s,f=u===c?[er(e,t,r+i,n,o)]:(a=new Kt(t,n,o),u<c?[e,a]:[a,e]);return new Ft(t,1<<u|1<<c,f)}function tr(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function rr(e,t,r,n){var i=n?e:Ze(e);return i[t]=r,i}var nr=o/4,ir=o/2,or=o/4,sr="@@__IMMUTABLE_LIST__@@";function ar(e){return Boolean(e&&e[sr])}var ur=function(e){function t(t){var r=yr();if(null==t)return r;if(ar(t))return t;var n=e(t),s=n.size;return 0===s?r:(tt(s),s>0&&s<o?pr(0,s,i,null,new fr(n.toArray())):r.withMutations((function(e){e.setSize(s),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=l(this,e))>=0&&e<this.size){var r=mr(this,e+=this._origin);return r&&r.array[e&s]}return t},t.prototype.set=function(e,t){return function(e,t,r){if(t=l(e,t),t!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?vr(e,t).set(0,r):vr(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,i=e._root,o={value:!1};t>=_r(e._capacity)?n=gr(n,e.__ownerID,0,t,r,o):i=gr(i,e.__ownerID,e._level,t,r,o);if(!o.value)return e;if(e.__ownerID)return e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return pr(e._origin,e._capacity,e._level,i,n)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=i,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):yr()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){vr(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return vr(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){vr(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return vr(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var i=t[n],o=e("string"!=typeof i&&V(i)?i:[i]);0!==o.size&&r.push(o)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return vr(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var i=0;i<r.size;i++)n.set(i,e.call(t,n.get(i),i,r))}))},t.prototype.slice=function(e,t){var r=this.size;return h(e,t,r)?this:vr(this,p(e,r),y(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=hr(this,t);return new z((function(){var i=n();return i===dr?{value:void 0,done:!0}:q(e,t?--r:r++,i)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,i=hr(this,t);(r=i())!==dr&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?pr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?yr():(this.__ownerID=e,this.__altered=!1,this)},t}(I);ur.isList=ar;var cr=ur.prototype;cr[sr]=!0,cr[n]=cr.remove,cr.merge=cr.concat,cr.setIn=yt,cr.deleteIn=cr.removeIn=bt,cr.update=vt,cr.updateIn=_t,cr.mergeIn=Mt,cr.mergeDeepIn=Bt,cr.withMutations=Dt,cr.wasAltered=Lt,cr.asImmutable=jt,cr["@@transducer/init"]=cr.asMutable=Rt,cr["@@transducer/step"]=function(e,t){return e.push(t)},cr["@@transducer/result"]=function(e){return e.asImmutable()};var fr=function(e,t){this.array=e,this.ownerID=t};fr.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&s;if(n>=this.array.length)return new fr([],e);var o,a=0===n;if(t>0){var u=this.array[n];if((o=u&&u.removeBefore(e,t-i,r))===u&&a)return this}if(a&&!o)return this;var c=br(this,e);if(!a)for(var f=0;f<n;f++)c.array[f]=void 0;return o&&(c.array[n]=o),c},fr.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&s;if(o>=this.array.length)return this;if(t>0){var a=this.array[o];if((n=a&&a.removeAfter(e,t-i,r))===a&&o===this.array.length-1)return this}var u=br(this,e);return u.array.splice(o+1),n&&(u.array[o]=n),u};var lr,dr={};function hr(e,t){var r=e._origin,n=e._capacity,s=_r(n),a=e._tail;return u(e._root,e._level,0);function u(e,c,f){return 0===c?function(e,i){var u=i===s?a&&a.array:e&&e.array,c=i>r?0:r-i,f=n-i;f>o&&(f=o);return function(){if(c===f)return dr;var e=t?--f:c++;return u&&u[e]}}(e,f):function(e,s,a){var c,f=e&&e.array,l=a>r?0:r-a>>s,d=1+(n-a>>s);d>o&&(d=o);return function(){for(;;){if(c){var e=c();if(e!==dr)return e;c=null}if(l===d)return dr;var r=t?--d:l++;c=u(f&&f[r],s-i,a+(r<<s))}}}(e,c,f)}}function pr(e,t,r,n,i,o,s){var a=Object.create(cr);return a.size=t-e,a._origin=e,a._capacity=t,a._level=r,a._root=n,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function yr(){return lr||(lr=pr(0,0,i))}function gr(e,t,r,n,o,a){var c,f=n>>>r&s,l=e&&f<e.array.length;if(!l&&void 0===o)return e;if(r>0){var d=e&&e.array[f],h=gr(d,t,r-i,n,o,a);return h===d?e:((c=br(e,t)).array[f]=h,c)}return l&&e.array[f]===o?e:(a&&u(a),c=br(e,t),void 0===o&&f===c.array.length-1?c.array.pop():c.array[f]=o,c)}function br(e,t){return t&&e&&t===e.ownerID?e:new fr(e?e.array.slice():[],t)}function mr(e,t){if(t>=_r(e._capacity))return e._tail;if(t<1<<e._level+i){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&s],n-=i;return r}}function vr(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new c,o=e._origin,a=e._capacity,u=o+t,f=void 0===r?a:r<0?a+r:o+r;if(u===o&&f===a)return e;if(u>=f)return e.clear();for(var l=e._level,d=e._root,h=0;u+h<0;)d=new fr(d&&d.array.length?[void 0,d]:[],n),h+=1<<(l+=i);h&&(u+=h,o+=h,f+=h,a+=h);for(var p=_r(a),y=_r(f);y>=1<<l+i;)d=new fr(d&&d.array.length?[d]:[],n),l+=i;var g=e._tail,b=y<p?mr(e,f-1):y>p?new fr([],n):g;if(g&&y>p&&u<a&&g.array.length){for(var m=d=br(d,n),v=l;v>i;v-=i){var _=p>>>v&s;m=m.array[_]=br(m.array[_],n)}m.array[p>>>i&s]=g}if(f<a&&(b=b&&b.removeAfter(n,0,f)),u>=y)u-=y,f-=y,l=i,d=null,b=b&&b.removeBefore(n,0,u);else if(u>o||y<p){for(h=0;d;){var w=u>>>l&s;if(w!==y>>>l&s)break;w&&(h+=(1<<l)*w),l-=i,d=d.array[w]}d&&u>o&&(d=d.removeBefore(n,l,u-h)),d&&y<p&&(d=d.removeAfter(n,l,y-h)),h&&(u-=h,f-=h)}return e.__ownerID?(e.size=f-u,e._origin=u,e._capacity=f,e._level=l,e._root=d,e._tail=b,e.__hash=void 0,e.__altered=!0,e):pr(u,f,l,d,b)}function _r(e){return e<o?0:e-1>>>i<<i}var wr,Sr=function(e){function t(e){return null==e?Ar():le(e)?e:Ar().withMutations((function(t){var r=k(e);tt(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ar()},t.prototype.set=function(e,t){return xr(this,e,t)},t.prototype.remove=function(e){return xr(this,e,a)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?Er(t,r,e,this.__hash):0===this.size?Ar():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(Nt);function Er(e,t,r,n){var i=Object.create(Sr.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Ar(){return wr||(wr=Er(Xt(),yr()))}function xr(e,t,r){var n,i,s=e._map,u=e._list,c=s.get(t),f=void 0!==c;if(r===a){if(!f)return e;u.size>=o&&u.size>=2*s.size?(n=(i=u.filter((function(e,t){return void 0!==e&&c!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=i.__ownerID=e.__ownerID)):(n=s.remove(t),i=c===u.size-1?u.pop():u.set(c,void 0))}else if(f){if(r===u.get(c)[1])return e;n=s,i=u.set(c,[t,r])}else n=s.set(t,u.size),i=u.set(u.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=i,e.__hash=void 0,e.__altered=!0,e):Er(n,i)}Sr.isOrderedMap=le,Sr.prototype[D]=!0,Sr.prototype[n]=Sr.prototype.remove;var kr="@@__IMMUTABLE_STACK__@@";function Ir(e){return Boolean(e&&e[kr])}var Tr=function(e){function t(e){return null==e?Mr():Ir(e)?e:Mr().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=l(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Pr(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Ir(t))return t;tt(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):Pr(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mr()},t.prototype.slice=function(t,r){if(h(t,r,this.size))return this;var n=p(t,this.size);if(y(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pr(i,o)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pr(this.size,this._head,e,this.__hash):0===this.size?Mr():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new te(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,i=this._head;i&&!1!==e(i.value,n++,this);)i=i.next;return n},t.prototype.__iterator=function(e,t){if(t)return new te(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new z((function(){if(n){var t=n.value;return n=n.next,q(e,r++,t)}return{value:void 0,done:!0}}))},t}(I);Tr.isStack=Ir;var Cr,Or=Tr.prototype;function Pr(e,t,r,n){var i=Object.create(Or);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Mr(){return Cr||(Cr=Pr(0))}Or[kr]=!0,Or.shift=Or.pop,Or.unshift=Or.push,Or.unshiftAll=Or.pushAll,Or.withMutations=Dt,Or.wasAltered=Lt,Or.asImmutable=jt,Or["@@transducer/init"]=Or.asMutable=Rt,Or["@@transducer/step"]=function(e,t){return e.unshift(t)},Or["@@transducer/result"]=function(e){return e.asImmutable()};var Br="@@__IMMUTABLE_SET__@@";function Dr(e){return Boolean(e&&e[Br])}function Rr(e){return Dr(e)&&R(e)}function jr(e,t){if(e===t)return!0;if(!v(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||w(e)!==w(t)||E(e)!==E(t)||R(e)!==R(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!A(e);if(R(e)){var n=e.entries();return t.every((function(e,t){var i=n.next().value;return i&&he(i[1],e)&&(r||he(i[0],t))}))&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var o=e;e=t,t=o}var s=!0,u=t.__iterate((function(t,n){if(r?!e.has(t):i?!he(t,e.get(n,a)):!he(e.get(n,a),t))return s=!1,!1}));return s&&e.size===u}function Lr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Nr(e){if(!e||"object"!=typeof e)return e;if(!v(e)){if(!ot(e))return e;e=Y(e)}if(w(e)){var t={};return e.__iterate((function(e,r){t[r]=Nr(e)})),t}var r=[];return e.__iterate((function(e){r.push(Nr(e))})),r}var Ur=function(e){function t(t){return null==t?Kr():Dr(t)&&!R(t)?t:Kr().withMutations((function(r){var n=e(t);tt(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(k(e).keySeq())},t.intersect=function(e){return(e=x(e).toArray()).length?Fr.intersect.apply(t(e.pop()),e):Kr()},t.union=function(e){return(e=x(e).toArray()).length?Fr.union.apply(t(e.pop()),e):Kr()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return zr(this,this._map.set(e,e))},t.prototype.remove=function(e){return zr(this,this._map.remove(e))},t.prototype.clear=function(){return zr(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,i=zr(this,this._map.mapEntries((function(i){var o=i[1],s=e.call(t,o,o,r);return s!==o&&(n=!0),[s,s]}),t));return n?i:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)"string"==typeof t[n]?r.add(t[n]):e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return fn(qe(this,e))},t.prototype.sortBy=function(e,t){return fn(qe(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(T);Ur.isSet=Dr;var Hr,Fr=Ur.prototype;function zr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function qr(e,t){var r=Object.create(Fr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Kr(){return Hr||(Hr=qr(Xt()))}Fr[Br]=!0,Fr[n]=Fr.remove,Fr.merge=Fr.concat=Fr.union,Fr.withMutations=Dt,Fr.asImmutable=jt,Fr["@@transducer/init"]=Fr.asMutable=Rt,Fr["@@transducer/step"]=function(e,t){return e.add(t)},Fr["@@transducer/result"]=function(e){return e.asImmutable()},Fr.__empty=Kr,Fr.__make=qr;var Vr,Wr=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(et(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(Vr)return Vr;Vr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+l(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return h(e,r,this.size)?this:(e=p(e,this.size),(r=y(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==e(i,t?r-++o:o++,this);)i+=t?-n:n;return o},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,o=0;return new z((function(){if(o===r)return{value:void 0,done:!0};var s=i;return i+=t?-n:n,q(e,t?r-++o:o++,s)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:jr(this,e)},t}(Z);function $r(e,t,r){for(var n=rt(t),i=0;i!==n.length;)if((e=ut(e,n[i++],a))===a)return r;return e}function Qr(e,t){return $r(this,e,t)}function Gr(e,t){return $r(e,t,a)!==a}function Xr(){tt(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}x.isIterable=v,x.isKeyed=w,x.isIndexed=E,x.isAssociative=A,x.isOrdered=R,x.Iterator=z,Lr(x,{toArray:function(){tt(this.size);var e=new Array(this.size||0),t=w(this),r=0;return this.__iterate((function(n,i){e[r++]=t?[i,n]:n})),e},toIndexedSeq:function(){return new Be(this)},toJS:function(){return Nr(this)},toKeyedSeq:function(){return new Me(this,!0)},toMap:function(){return Nt(this.toKeyedSeq())},toObject:Xr,toOrderedMap:function(){return Sr(this.toKeyedSeq())},toOrderedSet:function(){return fn(w(this)?this.valueSeq():this)},toSet:function(){return Ur(w(this)?this.valueSeq():this)},toSetSeq:function(){return new De(this)},toSeq:function(){return E(this)?this.toIndexedSeq():w(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Tr(w(this)?this.valueSeq():this)},toList:function(){return ur(w(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return $e(this,function(e,t){var r=w(e),n=[e].concat(t).map((function(e){return v(e)?r&&(e=k(e)):e=r?se(e):ae(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var i=n[0];if(i===e||r&&w(i)||E(e)&&E(i))return i}var o=new te(n);return r?o=o.toKeyedSeq():E(e)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),o}(this,e))},includes:function(e){return this.some((function(t){return he(t,e)}))},entries:function(){return this.__iterator(N)},every:function(e,t){tt(this.size);var r=!0;return this.__iterate((function(n,i,o){if(!e.call(t,n,i,o))return r=!1,!1})),r},filter:function(e,t){return $e(this,Ue(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=w(e),i=[[],[]];e.__iterate((function(o,s){i[t.call(r,o,s,e)?1:0].push(n?[s,o]:o)}));var o=Ge(e);return i.map((function(t){return $e(e,o(t))}))}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return tt(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){tt(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(j)},map:function(e,t){return $e(this,Le(this,e,t))},reduce:function(e,t,r){return tn(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return tn(this,e,t,r,arguments.length<2,!0)},reverse:function(){return $e(this,Ne(this,!0))},slice:function(e,t){return $e(this,He(this,e,t,!0))},some:function(e,t){tt(this.size);var r=!1;return this.__iterate((function(n,i,o){if(e.call(t,n,i,o))return r=!0,!1})),r},sort:function(e){return $e(this,qe(this,e))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return f(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Nt().asMutable();return e.__iterate((function(i,o){n.update(t.call(r,i,o,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return jr(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(nn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(on(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(d,null,e)},flatMap:function(e,t){return $e(this,function(e,t,r){var n=Ge(e);return e.toSeq().map((function(i,o){return n(t.call(r,i,o,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return $e(this,ze(this,e,!0))},fromEntrySeq:function(){return new Re(this)},get:function(e,t){return this.find((function(t,r){return he(r,e)}),void 0,t)},getIn:Qr,groupBy:function(e,t){return function(e,t,r){var n=w(e),i=(R(e)?Sr():Nt()).asMutable();e.__iterate((function(o,s){i.update(t.call(r,o,s,e),(function(e){return(e=e||[]).push(n?[s,o]:o),e}))}));var o=Ge(e);return i.map((function(t){return $e(e,o(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,a)!==a},hasIn:function(e){return Gr(this,e)},isSubset:function(e){return e="function"==typeof e.includes?e:x(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:x(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return he(t,e)}))},keySeq:function(){return this.toSeq().map(rn).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ke(this,e)},maxBy:function(e,t){return Ke(this,t,e)},min:function(e){return Ke(this,e?sn(e):un)},minBy:function(e,t){return Ke(this,t?sn(t):un,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return $e(this,Fe(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(on(e),t)},sortBy:function(e,t){return $e(this,qe(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return $e(this,function(e,t,r){var n=Xe(e);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var s=0;return e.__iterate((function(e,i,a){return t.call(r,e,i,a)&&++s&&n(e,i,o)})),s},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var s=e.__iterator(N,i),a=!0;return new z((function(){if(!a)return{value:void 0,done:!0};var e=s.next();if(e.done)return e;var i=e.value,u=i[0],c=i[1];return t.call(r,c,u,o)?n===N?e:q(n,u,c,e):(a=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(on(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=R(e),r=w(e),n=t?1:0;return function(e,t){return t=pe(t,3432918353),t=pe(t<<15|t>>>-15,461845907),t=pe(t<<13|t>>>-13,5),t=t+3864292196^e,t=pe(t^t>>>16,2246822507),t=pe(t^t>>>13,3266489909),t=ye(t^t>>>16),t}(e.__iterate(r?t?function(e,t){n=31*n+cn(be(e),be(t))|0}:function(e,t){n=n+cn(be(e),be(t))|0}:t?function(e){n=31*n+be(e)|0}:function(e){n=n+be(e)|0}),n)}(this))}});var Yr=x.prototype;Yr[m]=!0,Yr[F]=Yr.values,Yr.toJSON=Yr.toArray,Yr.__toStringMapper=st,Yr.inspect=Yr.toSource=function(){return this.toString()},Yr.chain=Yr.flatMap,Yr.contains=Yr.includes,Lr(k,{flip:function(){return $e(this,je(this))},mapEntries:function(e,t){var r=this,n=0;return $e(this,this.toSeq().map((function(i,o){return e.call(t,[o,i],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return $e(this,this.toSeq().flip().map((function(n,i){return e.call(t,n,i,r)})).flip())}});var Jr=k.prototype;Jr[_]=!0,Jr[F]=Yr.entries,Jr.toJSON=Xr,Jr.__toStringMapper=function(e,t){return st(t)+": "+st(e)},Lr(I,{toKeyedSeq:function(){return new Me(this,!1)},filter:function(e,t){return $e(this,Ue(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return $e(this,Ne(this,!1))},slice:function(e,t){return $e(this,He(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=p(e,e<0?this.count():this.size);var n=this.slice(0,e);return $e(this,1===r?n:n.concat(Ze(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return $e(this,ze(this,e,!1))},get:function(e,t){return(e=l(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=l(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return $e(this,function(e,t){var r=Xe(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return e.__iterate((function(e){return(!o||!1!==r(t,o++,i))&&!1!==r(e,o++,i)}),n),o},r.__iteratorUncached=function(r,n){var i,o=e.__iterator(L,n),s=0;return new z((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?q(r,s++,t):q(r,s++,i.value,i)}))},r}(this,e))},interleave:function(){var e=[this].concat(Ze(arguments)),t=We(this.toSeq(),Z.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),$e(this,r)},keySeq:function(){return Wr(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return $e(this,Fe(this,e,t,!1))},zip:function(){return $e(this,We(this,an,[this].concat(Ze(arguments))))},zipAll:function(){return $e(this,We(this,an,[this].concat(Ze(arguments)),!0))},zipWith:function(e){var t=Ze(arguments);return t[0]=this,$e(this,We(this,e,t))}});var Zr=I.prototype;Zr[S]=!0,Zr[D]=!0,Lr(T,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var en=T.prototype;function tn(e,t,r,n,i,o){return tt(e.size),e.__iterate((function(e,o,s){i?(i=!1,r=e):r=t.call(n,r,e,o,s)}),o),r}function rn(e,t){return t}function nn(e,t){return[t,e]}function on(e){return function(){return!e.apply(this,arguments)}}function sn(e){return function(){return-e.apply(this,arguments)}}function an(){return Ze(arguments)}function un(e,t){return e<t?1:e>t?-1:0}function cn(e,t){return e^t+2654435769+(e<<6)+(e>>2)}en.has=Yr.includes,en.contains=en.includes,en.keys=en.values,Lr(J,Jr),Lr(Z,Zr),Lr(ee,en);var fn=function(e){function t(e){return null==e?pn():Rr(e)?e:pn().withMutations((function(t){var r=T(e);tt(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(k(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Ur);fn.isOrderedSet=Rr;var ln,dn=fn.prototype;function hn(e,t){var r=Object.create(dn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function pn(){return ln||(ln=hn(Ar()))}dn[D]=!0,dn.zip=Zr.zip,dn.zipWith=Zr.zipWith,dn.zipAll=Zr.zipAll,dn.__empty=pn,dn.__make=hn;var yn={LeftThenRight:-1,RightThenLeft:1};var gn=function(e,t){var r;!function(e){if(M(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(B(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(o){var s=this;if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var a=Object.keys(e),u=i._indices={};i._name=t,i._keys=a,i._defaultValues=e;for(var c=0;c<a.length;c++){var f=a[c];u[f]=c,i[f]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+vn(this)+' with property "'+f+'" since that property name is part of the Record API.'):wn(i,f)}}return this.__ownerID=void 0,this._values=ur().withMutations((function(e){e.setSize(s._keys.length),k(o).forEach((function(t,r){e.set(s._indices[r],t===s._defaultValues[r]?void 0:t)}))})),this},i=n.prototype=Object.create(bn);return i.constructor=n,t&&(n.displayName=t),n};gn.prototype.toString=function(){for(var e,t=vn(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)t+=(n?", ":"")+(e=r[n])+": "+st(this.get(e));return t+" }"},gn.prototype.equals=function(e){return this===e||M(e)&&_n(this).equals(_n(e))},gn.prototype.hashCode=function(){return _n(this).hashCode()},gn.prototype.has=function(e){return this._indices.hasOwnProperty(e)},gn.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},gn.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return mn(this,r)}return this},gn.prototype.remove=function(e){return this.set(e)},gn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:mn(this,e)},gn.prototype.wasAltered=function(){return this._values.wasAltered()},gn.prototype.toSeq=function(){return _n(this)},gn.prototype.toJS=function(){return Nr(this)},gn.prototype.entries=function(){return this.__iterator(N)},gn.prototype.__iterator=function(e,t){return _n(this).__iterator(e,t)},gn.prototype.__iterate=function(e,t){return _n(this).__iterate(e,t)},gn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?mn(this,t,e):(this.__ownerID=e,this._values=t,this)},gn.isRecord=M,gn.getDescriptiveName=vn;var bn=gn.prototype;function mn(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function vn(e){return e.constructor.displayName||e.constructor.name||"Record"}function _n(e){return se(e._keys.map((function(t){return[t,e.get(t)]})))}function wn(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){et(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}bn[P]=!0,bn[n]=bn.remove,bn.deleteIn=bn.removeIn=bt,bn.getIn=Qr,bn.hasIn=Yr.hasIn,bn.merge=wt,bn.mergeWith=St,bn.mergeIn=Mt,bn.mergeDeep=Ot,bn.mergeDeepWith=Pt,bn.mergeDeepIn=Bt,bn.setIn=yt,bn.update=vt,bn.updateIn=_t,bn.withMutations=Dt,bn.asMutable=Rt,bn.asImmutable=jt,bn[F]=bn.entries,bn.toJSON=bn.toObject=Yr.toObject,bn.inspect=bn.toSource=function(){return this.toString()};var Sn,En=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(Sn)return Sn;Sn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return he(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return h(e,r,n)?this:new t(this._value,y(r,n)-p(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return he(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return he(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,i=0;return new z((function(){return i===n?{value:void 0,done:!0}:q(e,t?n-++i:i++,r._value)}))},t.prototype.equals=function(e){return e instanceof t?he(this._value,e._value):jr(this,e)},t}(Z);function An(e,t){return xn([],t||kn,e,"",t&&t.length>2?[]:void 0,{"":e})}function xn(e,t,r,n,i,o){if("string"!=typeof r&&!B(r)&&(X(r)||V(r)||it(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==n&&i.push(n);var s=t.call(o,n,Y(r).map((function(n,o){return xn(e,t,n,o,i,r)})),i&&i.slice());return e.pop(),i&&i.pop(),s}return r}function kn(e,t){return E(t)?t.toList():w(t)?t.toMap():t.toSet()}var In="4.3.6",Tn=x;const Cn={version:In,Collection:x,Iterable:x,Seq:Y,Map:Nt,OrderedMap:Sr,List:ur,Stack:Tr,Set:Ur,OrderedSet:fn,PairSorting:yn,Record:gn,Range:Wr,Repeat:En,is:he,fromJS:An,hash:be,isImmutable:B,isCollection:v,isKeyed:w,isIndexed:E,isAssociative:A,isOrdered:R,isValueObject:de,isPlainObject:it,isSeq:O,isList:ar,isMap:fe,isOrderedMap:le,isStack:Ir,isSet:Dr,isOrderedSet:Rr,isRecord:M,get:ut,getIn:$r,has:at,hasIn:Gr,merge:At,mergeDeep:kt,mergeWith:xt,mergeDeepWith:It,remove:ft,removeIn:gt,set:lt,setIn:pt,update:mt,updateIn:dt}},56698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},64634:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},71312:(e,t,r)=>{var n,i=r(65606);
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */
!function(){"use strict";var t="input is invalid type",o="object"==typeof window,s=o?window:{};s.JS_SHA256_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self,u=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node;u?s=r.g:a&&(s=self);var c=!s.JS_SHA256_NO_COMMON_JS&&e.exports,f=r.amdO,l=!s.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[-2147483648,8388608,32768,128],p=[24,16,8,0],y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=["hex","array","digest","arrayBuffer"],b=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var m=function(e,t){return function(r){return new E(t,!0).update(r)[e]()}},v=function(e){var t=m("hex",e);u&&(t=_(t,e)),t.create=function(){return new E(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<g.length;++r){var n=g[r];t[n]=m(n,e)}return t},_=function(e,n){var i,o=r(24394),a=r(91903).Buffer,u=n?"sha224":"sha256";i=a.from&&!s.JS_SHA256_NO_BUFFER_FROM?a.from:function(e){return new a(e)};return function(r){if("string"==typeof r)return o.createHash(u).update(r,"utf8").digest("hex");if(null==r)throw new Error(t);return r.constructor===ArrayBuffer&&(r=new Uint8Array(r)),Array.isArray(r)||ArrayBuffer.isView(r)||r.constructor===a?o.createHash(u).update(i(r)).digest("hex"):e(r)}},w=function(e,t){return function(r,n){return new A(r,t,!0).update(n)[e]()}},S=function(e){var t=w("hex",e);t.create=function(t){return new A(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<g.length;++r){var n=g[r];t[n]=w(n,e)}return t};function E(e,t){t?(b[0]=b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0,this.blocks=b):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function A(e,r,n){var i,o=typeof e;if("string"===o){var s,a=[],u=e.length,c=0;for(i=0;i<u;++i)(s=e.charCodeAt(i))<128?a[c++]=s:s<2048?(a[c++]=192|s>>>6,a[c++]=128|63&s):s<55296||s>=57344?(a[c++]=224|s>>>12,a[c++]=128|s>>>6&63,a[c++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++i)),a[c++]=240|s>>>18,a[c++]=128|s>>>12&63,a[c++]=128|s>>>6&63,a[c++]=128|63&s);e=a}else{if("object"!==o)throw new Error(t);if(null===e)throw new Error(t);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(t)}e.length>64&&(e=new E(r,!0).update(e).array());var f=[],d=[];for(i=0;i<64;++i){var h=e[i]||0;f[i]=92^h,d[i]=54^h}E.call(this,r,n),this.update(d),this.oKeyPad=f,this.inner=!0,this.sharedMemory=n}E.prototype.update=function(e){if(!this.finalized){var r,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(t);if(null===e)throw new Error(t);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||l&&ArrayBuffer.isView(e)))throw new Error(t);r=!0}for(var i,o,s=0,a=e.length,u=this.blocks;s<a;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,this.block=u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),r)for(o=this.start;s<a&&o<64;++s)u[o>>>2]|=e[s]<<p[3&o++];else for(o=this.start;s<a&&o<64;++s)(i=e.charCodeAt(s))<128?u[o>>>2]|=i<<p[3&o++]:i<2048?(u[o>>>2]|=(192|i>>>6)<<p[3&o++],u[o>>>2]|=(128|63&i)<<p[3&o++]):i<55296||i>=57344?(u[o>>>2]|=(224|i>>>12)<<p[3&o++],u[o>>>2]|=(128|i>>>6&63)<<p[3&o++],u[o>>>2]|=(128|63&i)<<p[3&o++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++s)),u[o>>>2]|=(240|i>>>18)<<p[3&o++],u[o>>>2]|=(128|i>>>12&63)<<p[3&o++],u[o>>>2]|=(128|i>>>6&63)<<p[3&o++],u[o>>>2]|=(128|63&i)<<p[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=u[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>>2]|=h[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},E.prototype.hash=function(){var e,t,r,n,i,o,s,a,u,c=this.h0,f=this.h1,l=this.h2,d=this.h3,h=this.h4,p=this.h5,g=this.h6,b=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((i=m[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[e]=m[e-16]+t+m[e-7]+r|0;for(u=f&l,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,b=(i=m[0]-1413257819)-150054599|0,d=i+24177077|0):(o=704751109,b=(i=m[0]-210244248)-1521486534|0,d=i+143694565|0),this.first=!1):(t=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(o=c&f)^c&l^u,b=d+(i=b+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&g)+y[e]+m[e])|0,d=i+(t+n)|0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&c)^d&f^o,g=l+(i=g+(r=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&h^~b&p)+y[e+1]+m[e+1])|0,t=((l=i+(t+n)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(a=l&d)^l&c^s,p=f+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&b^~g&h)+y[e+2]+m[e+2])|0,t=((f=i+(t+n)|0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(u=f&l)^f&d^a,h=c+(i=h+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&b)+y[e+3]+m[e+3])|0,c=i+(t+n)|0,this.chromeBugWorkAround=!0;this.h0=this.h0+c|0,this.h1=this.h1+f|0,this.h2=this.h2+l|0,this.h3=this.h3+d|0,this.h4=this.h4+h|0,this.h5=this.h5+p|0,this.h6=this.h6+g|0,this.h7=this.h7+b|0},E.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=d[e>>>28&15]+d[e>>>24&15]+d[e>>>20&15]+d[e>>>16&15]+d[e>>>12&15]+d[e>>>8&15]+d[e>>>4&15]+d[15&e]+d[t>>>28&15]+d[t>>>24&15]+d[t>>>20&15]+d[t>>>16&15]+d[t>>>12&15]+d[t>>>8&15]+d[t>>>4&15]+d[15&t]+d[r>>>28&15]+d[r>>>24&15]+d[r>>>20&15]+d[r>>>16&15]+d[r>>>12&15]+d[r>>>8&15]+d[r>>>4&15]+d[15&r]+d[n>>>28&15]+d[n>>>24&15]+d[n>>>20&15]+d[n>>>16&15]+d[n>>>12&15]+d[n>>>8&15]+d[n>>>4&15]+d[15&n]+d[i>>>28&15]+d[i>>>24&15]+d[i>>>20&15]+d[i>>>16&15]+d[i>>>12&15]+d[i>>>8&15]+d[i>>>4&15]+d[15&i]+d[o>>>28&15]+d[o>>>24&15]+d[o>>>20&15]+d[o>>>16&15]+d[o>>>12&15]+d[o>>>8&15]+d[o>>>4&15]+d[15&o]+d[s>>>28&15]+d[s>>>24&15]+d[s>>>20&15]+d[s>>>16&15]+d[s>>>12&15]+d[s>>>8&15]+d[s>>>4&15]+d[15&s];return this.is224||(u+=d[a>>>28&15]+d[a>>>24&15]+d[a>>>20&15]+d[a>>>16&15]+d[a>>>12&15]+d[a>>>8&15]+d[a>>>4&15]+d[15&a]),u},E.prototype.toString=E.prototype.hex,E.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,u=[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,r>>>24&255,r>>>16&255,r>>>8&255,255&r,n>>>24&255,n>>>16&255,n>>>8&255,255&n,i>>>24&255,i>>>16&255,i>>>8&255,255&i,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s];return this.is224||u.push(a>>>24&255,a>>>16&255,a>>>8&255,255&a),u},E.prototype.array=E.prototype.digest,E.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},A.prototype=new E,A.prototype.finalize=function(){if(E.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();E.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),E.prototype.finalize.call(this)}};var x=v();x.sha256=x,x.sha224=v(!0),x.sha256.hmac=S(),x.sha224.hmac=S(!0),c?e.exports=x:(s.sha256=x.sha256,s.sha224=x.sha224,f&&(void 0===(n=function(){return x}.call(x,r,x,e))||(e.exports=n)))}()},52290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(39769))},62778:(e,t)=>{"use strict";function r(e){const t=[];for(let r=0,n=e.length;r<n;++r){const n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(192|n>>6,128|63&n);else if(n<55296||n>=57344)t.push(224|n>>12,128|n>>6&63,128|63&n);else{let i=65536+((1023&n)<<10|1023&e.charCodeAt(++r));t.push(240|i>>18&7,128|i>>12&63,128|i>>6&63,128|63&i)}}return new Uint8Array(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.toUtf8_1=function(e){const t=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],o=[0,128,128,128];for(const s of e){const e=r,a=s.codePointAt(0),u=0-(-(4294967168&a)>>31)-(-(4294965248&a)>>31)-(-(4294901760&a)>>31),c=i[u],f=o[u];e[3]=f|a&c,e[2]=f|a>>>6&c,e[1]=f|a>>>12&c,e[0]=f|a>>>18&c;const l=3-u;e[l]|=n[u],Array.prototype.push.apply(t,e.slice(l))}return new Uint8Array(t)},t.toUtf8_2=function(e){const t=[];for(const r of e){const e=r.codePointAt(0);e<128?t.push(e):e<2048?t.push(192|e>>6&31,128|63&e):e<65536?t.push(224|e>>12&15,128|e>>6&63,128|63&e):t.push(240|e>>18&7,128|e>>12&63,128|e>>6&63,128|63&e)}return new Uint8Array(t)},t.toUtf8_3=r,t.toUtf8=r,t.default=t.toUtf8},39769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(62778),i=2654435761,o=2246822519,s=3266489917,a=668265263,u=374761393;t.xxHash32=function(e,t=0){const r=e="string"==typeof e?n.default(e):e;let c=t+u&4294967295,f=0;if(r.length>=16){const r=[t+i+o&4294967295,t+o&4294967295,t+0&4294967295,t-i&4294967295],n=e,s=n.length-16;let a=0;for(f=0;(4294967280&f)<=s;f+=4){const e=f,t=n[e+0]+(n[e+1]<<8),s=n[e+2]+(n[e+3]<<8),u=t*o+(s*o<<16);let c=r[a]+u&4294967295;c=c<<13|c>>>19;const l=65535&c,d=c>>>16;r[a]=l*i+(d*i<<16)&4294967295,a=a+1&3}c=(r[0]<<1|r[0]>>>31)+(r[1]<<7|r[1]>>>25)+(r[2]<<12|r[2]>>>20)+(r[3]<<18|r[3]>>>14)&4294967295}c=c+e.length&4294967295;let l=e.length-4;for(;f<=l;f+=4){const e=f,t=r[e+0]+(r[e+1]<<8),n=r[e+2]+(r[e+3]<<8);c=c+(t*s+(n*s<<16))&4294967295,c=c<<17|c>>>15,c=(65535&c)*a+((c>>>16)*a<<16)&4294967295}for(;f<r.length;++f){c+=r[f]*u,c=c<<11|c>>>21,c=(65535&c)*i+((c>>>16)*i<<16)&4294967295}return c^=c>>>15,c=((65535&c)*o&4294967295)+((c>>>16)*o<<16),c^=c>>>13,c=((65535&c)*s&4294967295)+((c>>>16)*s<<16),c^=c>>>16,c<0?c+4294967296:c}},75951:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(){return f=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i},f.apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){function r(){return f(e,arguments,a(this).constructor)}if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},d(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function y(e){var t=c();return function(){var r,n=a(e);if(t){var i=a(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p(this,r)}}function g(e,t){return b(e)||m(e,t)||v(e,t)||w()}function b(e){if(Array.isArray(e))return e}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}var E=function(e){var t=Math.abs,i=Math.max,a=Math.floor;function u(e,t){var r;if(n(this,u),(r=c.call(this,e)).sign=t,Object.setPrototypeOf(h(r),u.prototype),e>u.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}s(u,e);var c=y(u);return o(u,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=S(this);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push((n?(n>>>0).toString(16):n)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":e&e-1?u.__toStringGeneric(this,e,!1):u.__toStringBasePowerOfTwo(this,e)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new u(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=32767&e,i=e>>>15,o=0,s=t,a=0;a<r;a++){var c=this.__digit(a),f=32767&c,l=c>>>15,d=u.__imul(f,n),h=u.__imul(f,i),p=u.__imul(l,n),y=s+d+o;o=y>>>30,y&=1073741823,o+=(y+=((32767&h)<<15)+((32767&p)<<15))>>>30,s=u.__imul(l,i)+(h>>>15)+(p>>>15),this.__setDigit(a,1073741823&y)}if(0!==o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,o=0;o<r;o++)i=(n=this.__halfDigit(t+o)+e.__halfDigit(o)+i)>>>15,this.__setHalfDigit(t+o,32767&n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),o=32767&i,s=0;s<r-1>>>1;s++){var a=e.__digit(s),u=(i>>>15)-(32767&a)-n;n=1&u>>>15,this.__setDigit(t+s,(32767&u)<<15|32767&o),n=1&(o=(32767&(i=this.__digit(t+s+1)))-(a>>>15)-n)>>>15}var c=e.__digit(s),f=(i>>>15)-(32767&c)-n;if(n=1&f>>>15,this.__setDigit(t+s,(32767&f)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");!(1&r)&&(n=1&(o=(32767&(i=this.__digit(t+s+1)))-(c>>>15)-n)>>>15,this.__setDigit(t+e.length,1073709056&i|32767&o))}else{t>>=1;for(var l=0;l<e.length-1;l++){var d=this.__digit(t+l),h=e.__digit(l),p=(32767&d)-(32767&h)-n,y=(d>>>15)-(h>>>15)-(n=1&p>>>15);n=1&y>>>15,this.__setDigit(t+l,(32767&y)<<15|32767&p)}var g=this.__digit(t+l),b=e.__digit(l),m=(32767&g)-(32767&b)-n;n=1&m>>>15;var v=0;!(1&r)&&(n=1&(v=(g>>>15)-(b>>>15)-n)>>>15),this.__setDigit(t+l,(32767&v)<<15|32767&m)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),i=1&e?32767&n|t<<15:1073709056&n|32767&t;this.__setDigit(r,i)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return u.__zero();if(u.__isOneDigitInt(e))return 0>e?u.__oneDigit(-e,!0):u.__oneDigit(e,!1);if(!t(e)||a(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return u.__fromDouble(e)}if("string"==typeof e){var n=u.__fromString(e);if(null===n)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return n}if("boolean"==typeof e)return!0===e?u.__oneDigit(1,!1):u.__zero();if("object"===r(e)){if(e.constructor===u)return e;var i=u.__toPrimitive(e);return u.BigInt(i)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=u.__clz30(n),o=30*t-i;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,a=n,c=t-1,f=i+3,l=32===f?0:a<<f;l>>>=12;var d=f-12,h=12<=f?0:a<<20+f,p=20+f;for(0<d&&0<c&&(c--,l|=(a=e.__digit(c))>>>30-d,h=a<<d+2,p=d+2);0<p&&0<c;)c--,a=e.__digit(c),h|=30<=p?a<<p-30:a>>>30-p,p-=30;var y=u.__decideRounding(e,p,c,a);if((1===y||0===y&&!(1&~h))&&0==(h=h+1>>>0)&&0!=++l>>>20&&(l=0,1023<++s))return e.sign?-1/0:1/0;var g=e.sign?-2147483648:0;return s=s+1023<<20,u.__kBitConversionInts[1]=g|s|l,u.__kBitConversionInts[0]=h,u.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?u.__absoluteSubOne(e).__trim():u.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return u.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return!e.sign||1&t.__digit(0)?e:u.unaryMinus(e);if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=u.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(0|r/30),i=new u(n,e.sign&&!!(1&r));i.__initializeDigits();var o=1<<r%30;return i.__setDigit(n-1,o),i}var s=null,a=e;for(!!(1&r)&&(s=e),r>>=1;0!==r;r>>=1)a=u.multiply(a,a),1&r&&(s=null===s?a:u.multiply(s,a));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new u(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)u.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return u.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&32767>=i){if(1===i)return n===e.sign?e:u.unaryMinus(e);r=u.__absoluteDivSmall(e,i,null)}else r=u.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>u.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return u.__zero();var n=u.__absoluteModSmall(e,r);return 0===n?u.__zero():u.__oneDigit(n,e.sign)}var i=u.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?u.__absoluteAdd(e,t,r):0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=u.__absoluteCompare(e,t)?u.__absoluteSub(e,t,r):u.__absoluteSub(t,e,!r):u.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__rightShiftByAbsolute(e,t):u.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?u.__leftShiftByAbsolute(e,t):u.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>u.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=u.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<u.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=u.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!u.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return n=u.__absoluteOr(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}return u.__absoluteAndNot(e,u.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return u.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length),n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return u.__absoluteXor(n,o,n).__trim()}var s=i(e.length,t.length)+1;if(e.sign){var a=[t,e];e=a[0],t=a[1]}var c=u.__absoluteSubOne(t,s);return c=u.__absoluteXor(c,e,c),u.__absoluteAddOne(c,!0,c).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign)return u.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=u.__absoluteSubOne(e,r),o=u.__absoluteSubOne(t);return n=u.__absoluteAnd(n,o,n),u.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}var a=u.__absoluteSubOne(t,r);return a=u.__absoluteAndNot(a,e,a),u.__absoluteAddOne(a,!0,a).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(e>=u.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(e-1)%30;if(t.length===r&&n<i)return t;if((n&i)!==i)return u.__truncateToNBits(e,t);if(!t.sign)return u.__truncateAndSubFromPowerOfTwo(e,t,!0);if(!(n&i-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return u.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:u.__truncateToNBits(e,t)}return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=a(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return u.__zero();if(t.sign){if(e>u.__kMaxLengthBits)throw new RangeError("BigInt too big");return u.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=u.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var n=e%30;if(t.length==r){if(0===n)return t;if(0==t.__digit(r-1)>>>n)return t}return u.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)&&u.__isBigInt(t))return u.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return u.__compare(e,t,0)}},{key:"LE",value:function(e,t){return u.__compare(e,t,1)}},{key:"GT",value:function(e,t){return u.__compare(e,t,2)}},{key:"GE",value:function(e,t){return u.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(u.__isBigInt(e))return u.__isBigInt(t)?u.equal(e,t):u.EQ(t,e);if("number"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("string"==typeof e){if(u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.equal(e,t);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("boolean"==typeof e){if(u.__isBigInt(t))return u.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else if("symbol"===r(e)){if(u.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=u.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==u)return e==t;e=u.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!u.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return u.asIntN(64,u.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=g(r?[4,0]:[0,4],2),i=n[0],o=n[1],s=e.getUint32(t+i,r),a=e.getUint32(t+o,r),c=new u(3,!1);return c.__setDigit(0,1073741823&a),c.__setDigit(1,(268435455&s)<<2|a>>>30),c.__setDigit(2,s>>>28),c.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];u.DataViewSetBigUint64(e,t,r,n)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var n=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=0,o=0;if(0<(r=u.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var s=r.__digit(1);o|=s<<30,i=s>>>2,2<r.length&&(i|=r.__digit(2)<<28)}var a=g(n?[4,0]:[0,4],2),c=a[0],f=a[1];e.setUint32(t+c,i,n),e.setUint32(t+f,o,n)}},{key:"__zero",value:function(){return new u(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new u(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;var i;if(0>t)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=29}var o=1<<i;if(!(n&o))return-1;if(n&(o-=1))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){u.__kBitConversionDouble[0]=e;var t,r=(2047&u.__kBitConversionInts[1]>>>20)-1023,n=1+(0|r/30),i=new u(n,0>e),o=1048575&u.__kBitConversionInts[1]|1048576,s=u.__kBitConversionInts[0],a=20,c=r%30,f=0;if(c<a){var l=a-c;f=l+32,t=o>>>l,o=o<<32-l|s>>>l,s<<=32-l}else if(c===a)f=32,t=o,o=s,s=0;else{var d=c-a;f=32-d,t=o<<d|s>>>32-d,o=s<<d,s=0}i.__setDigit(n-1,t);for(var h=n-2;0<=h;h--)0<f?(f-=30,t=o>>>2,o=o<<30|s>>>2,s<<=30):t=0,i.__setDigit(h,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return u.__zero();for(var o=e.charCodeAt(i);u.__isWhitespace(o);){if(++i===n)return u.__zero();o=e.charCodeAt(i)}if(43===o){if(++i===n)return null;o=e.charCodeAt(i),r=1}else if(45===o){if(++i===n)return null;o=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===o){if(++i===n)return u.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(t=16,++i===n)return null;o=e.charCodeAt(i)}else if(79===o||111===o){if(t=8,++i===n)return null;o=e.charCodeAt(i)}else if(66===o||98===o){if(t=2,++i===n)return null;o=e.charCodeAt(i)}}}else if(16===t&&48===o){if(++i===n)return u.__zero();if(88===(o=e.charCodeAt(i))||120===o){if(++i===n)return null;o=e.charCodeAt(i)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++i===n)return u.__zero();o=e.charCodeAt(i)}var s=n-i,a=u.__kMaxBitsPerChar[t],c=u.__kBitsPerCharTableMultiplier-1;if(s>1073741824/a)return null;var f=new u(0|(29+(a*s+c>>>u.__kBitsPerCharTableShift))/30,!1),l=10>t?t:10,d=10<t?t-10:0;if(t&t-1){f.__initializeDigits();var h=!1,p=0;do{for(var y,g=0,b=1;;){if(y=void 0,o-48>>>0<l)y=o-48;else{if(!((32|o)-97>>>0<d)){h=!0;break}y=(32|o)-87}var m=b*t;if(1073741823<m)break;if(b=m,g=g*t+y,p++,++i===n){h=!0;break}o=e.charCodeAt(i)}var v=0|(a*p+(c=30*u.__kBitsPerCharTableMultiplier-1)>>>u.__kBitsPerCharTableShift)/30;f.__inplaceMultiplyAdd(b,g,v)}while(!h)}else{a>>=u.__kBitsPerCharTableShift;var _=[],w=[],S=!1;do{for(var E,A=0,x=0;;){if(E=void 0,o-48>>>0<l)E=o-48;else{if(!((32|o)-97>>>0<d)){S=!0;break}E=(32|o)-87}if(x+=a,A=A<<a|E,++i===n){S=!0;break}if(o=e.charCodeAt(i),30<x+a)break}_.push(A),w.push(x)}while(!S);u.__fillFromParts(f,_,w)}if(i!==n){if(!u.__isWhitespace(o))return null;for(i++;i<n;i++)if(o=e.charCodeAt(i),!u.__isWhitespace(o))return null}return f.sign=-1===r,f.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],u=r[s];i|=a<<o,30===(o+=u)?(e.__setDigit(n++,i),o=0,i=0):30<o&&(e.__setDigit(n++,1073741823&i),i=a>>>u-(o-=30))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=t-1,s=e.__digit(r-1),a=0|(30*r-u.__clz30(s)+i-1)/i;if(e.sign&&a++,268435456<a)throw new Error("string too long");for(var c=Array(a),f=a-1,l=0,d=0,h=0;h<r-1;h++){var p=e.__digit(h),y=(l|p<<d)&o;c[f--]=u.__kConversionChars[y];var g=i-d;for(l=p>>>g,d=30-g;d>=i;)c[f--]=u.__kConversionChars[l&o],l>>>=i,d-=i}var b=(l|s<<d)&o;for(c[f--]=u.__kConversionChars[b],l=s>>>i-d;0!==l;)c[f--]=u.__kConversionChars[l&o],l>>>=i;if(e.sign&&(c[f--]="-"),-1!==f)throw new Error("implementation bug");return c.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var o,s,a=30*n-u.__clz30(e.__digit(n-1)),c=u.__kMaxBitsPerChar[t]-1,f=a*u.__kBitsPerCharTableMultiplier,l=1+(f=0|(f+=c-1)/c)>>1,d=u.exponentiate(u.__oneDigit(t,!1),u.__oneDigit(l,!1)),h=d.__unsignedDigit(0);if(1===d.length&&32767>=h){(o=new u(e.length,!1)).__initializeDigits();for(var p,y=0,g=2*e.length-1;0<=g;g--)p=y<<15|e.__halfDigit(g),o.__setHalfDigit(g,0|p/h),y=0|p%h;s=y.toString(t)}else{var b=u.__absoluteDivLarge(e,d,!0,!0);o=b.quotient;var m=b.remainder.__trim();s=u.__toStringGeneric(m,t,!0)}o.__trim();for(var v=u.__toStringGeneric(o,t,!0);s.length<l;)s="0"+s;return!1===r&&e.sign&&(v="-"+v),v+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return u.__unequalSign(r);var n=u.__absoluteCompare(e,t);return 0<n?u.__absoluteGreater(r):0>n?u.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(u.__isOneDigitInt(r)){var n=e.sign,i=0>r;if(n!==i)return u.__unequalSign(n);if(0===e.length){if(i)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return u.__absoluteGreater(n);var o=t(r),s=e.__unsignedDigit(0);return s>o?u.__absoluteGreater(n):s<o?u.__absoluteLess(n):0}return u.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return u.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;u.__kBitConversionDouble[0]=t;var n=2047&u.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(0>i)return u.__absoluteGreater(r);var o=e.length,s=e.__digit(o-1),a=u.__clz30(s),c=30*o-a,f=i+1;if(c<f)return u.__absoluteLess(r);if(c>f)return u.__absoluteGreater(r);var l=1048576|1048575&u.__kBitConversionInts[1],d=u.__kBitConversionInts[0],h=20,p=29-a;if(p!==(0|(c-1)%30))throw new Error("implementation bug");var y,g=0;if(p<h){var b=h-p;g=b+32,y=l>>>b,l=l<<32-b|d>>>b,d<<=32-b}else if(p===h)g=32,y=l,l=d,d=0;else{var m=p-h;g=32-m,y=l<<m|d>>>32-m,l=d<<m,d=0}if((s>>>=0)>(y>>>=0))return u.__absoluteGreater(r);if(s<y)return u.__absoluteLess(r);for(var v=o-2;0<=v;v--){0<g?(g-=30,y=l>>>2,l=l<<30|d>>>2,d<<=30):y=0;var _=e.__unsignedDigit(v);if(_>y)return u.__absoluteGreater(r);if(_<y)return u.__absoluteLess(r)}if(0!==l||0!==d){if(0===g)throw new Error("implementation bug");return u.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return u.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===u.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=u.__toPrimitive(e),t=u.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(u.__isBigInt(e)&&"string"==typeof t)return null!==(t=u.__fromString(t))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("string"==typeof e&&u.__isBigInt(t))return null!==(e=u.__fromString(e))&&u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if(e=u.__toNumeric(e),t=u.__toNumeric(t),u.__isBigInt(e)){if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return u.__comparisonResultToBool(u.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(u.__isBigInt(t))return u.__comparisonResultToBool(u.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return u.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i,o=new u(n,r),s=0,a=0;a<t.length;a++)s=(i=e.__digit(a)+t.__digit(a)+s)>>>30,o.__setDigit(a,1073741823&i);for(;a<e.length;a++){var c=e.__digit(a)+s;s=c>>>30,o.__setDigit(a,1073741823&c)}return a<o.length&&o.__setDigit(a,s),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:u.unaryMinus(e);for(var n,i=new u(e.length,r),o=0,s=0;s<t.length;s++)o=1&(n=e.__digit(s)-t.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&n);for(;s<e.length;s++){var a=e.__digit(s)-o;o=1&a>>>30,i.__setDigit(s,1073741823&a)}return i.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new u(n,t):r.sign=t;for(var i,o=1,s=0;s<n;s++)o=(i=e.__digit(s)+o)>>>30,r.__setDigit(s,1073741823&i);return 0!==o&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,n=e.length,i=new u(t=t||n,!1),o=1,s=0;s<n;s++)o=1&(r=e.__digit(s)-o)>>>30,i.__setDigit(s,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var a=n;a<t;a++)i.__setDigit(a,0);return i}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var c=o;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)&t.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;n<i&&(o=n);var s=n;null===r?r=new u(s,!1):s=r.length;for(var a=0;a<o;a++)r.__setDigit(a,e.__digit(a)&~t.__digit(a));for(;a<n;a++)r.__setDigit(a,e.__digit(a));for(;a<s;a++)r.__setDigit(a,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var c=n;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)|t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,o=i;if(n<i){o=n;var s=e,a=n;e=t,n=i,t=s,i=a}var c=n;null===r?r=new u(c,!1):c=r.length;for(var f=0;f<o;f++)r.__setDigit(f,e.__digit(f)^t.__digit(f));for(;f<n;f++)r.__setDigit(f,e.__digit(f));for(;f<c;f++)r.__setDigit(f,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return 0>n?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=32767&t,o=t>>>15,s=0,a=0,c=0;c<e.length;c++,n++){var f=r.__digit(n),l=e.__digit(c),d=32767&l,h=l>>>15,p=u.__imul(d,i),y=u.__imul(d,o),g=u.__imul(h,i);s=(f+=a+p+s)>>>30,f&=1073741823,s+=(f+=((32767&y)<<15)+((32767&g)<<15))>>>30,a=u.__imul(h,o)+(y>>>15)+(g>>>15),r.__setDigit(n,1073741823&f)}for(;0!==s||0!==a;n++){var b=r.__digit(n);b+=s+a,a=0,s=b>>>30,r.__setDigit(n,1073741823&b)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var o=r,s=0,a=0;a<n;a++){var c=e.__digit(a),f=u.__imul(32767&c,t),l=u.__imul(c>>>15,t),d=f+((32767&l)<<15)+s+o;o=d>>>30,s=l>>>15,i.__setDigit(a,1073741823&d)}if(i.length>n)for(i.__setDigit(n++,o+s);n<i.length;)i.__setDigit(n++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new u(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var o=(n<<15|e.__halfDigit(i))>>>0,s=0|o/t,a=0|(o=((n=0|o%t)<<15|e.__halfDigit(i-1))>>>0)/t;n=0|o%t,r.__setDigit(i>>>1,s<<15|a)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<15|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-i,a=null;r&&(a=new u(s+2>>>1,!1)).__initializeDigits();var c=new u(i+2>>>1,!1);c.__initializeDigits();var f=u.__clz15(t.__halfDigit(i-1));0<f&&(t=u.__specialLeftShift(t,f,0));for(var l=u.__specialLeftShift(e,f,1),d=t.__halfDigit(i-1),h=0,p=s;0<=p;p--){var y=32767,g=l.__halfDigit(p+i);if(g!==d){var b=(g<<15|l.__halfDigit(p+i-1))>>>0;y=0|b/d;for(var m=0|b%d,v=t.__halfDigit(i-2),_=l.__halfDigit(p+i-2);u.__imul(y,v)>>>0>(m<<16|_)>>>0&&(y--,!(32767<(m+=d))););}u.__internalMultiplyAdd(t,y,0,o,c);var w=l.__inplaceSub(c,p,i+1);0!==w&&(w=l.__inplaceAdd(t,p,i),l.__setHalfDigit(p+i,32767&l.__halfDigit(p+i)+w),y--),r&&(1&p?h=y<<15:a.__setDigit(p>>>1,h|y))}if(n)return l.__inplaceRightShift(f),r?{quotient:a,remainder:l}:l;if(r)return a;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return u.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new u(n+r,!1);if(0===t){for(var o=0;o<n;o++)i.__setDigit(o,e.__digit(o));return 0<r&&i.__setDigit(n,0),i}for(var s,a=0,c=0;c<n;c++)s=e.__digit(c),i.__setDigit(c,1073741823&s<<t|a),a=s>>>30-t;return 0<r&&i.__setDigit(n,a),i}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=u.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var n=0|r/30,i=r%30,o=e.length,s=0!==i&&0!=e.__digit(o-1)>>>30-i,a=o+n+(s?1:0),c=new u(a,e.sign);if(0===i){for(var f=0;f<n;f++)c.__setDigit(f,0);for(;f<a;f++)c.__setDigit(f,e.__digit(f-n))}else{for(var l=0,d=0;d<n;d++)c.__setDigit(d,0);for(var h,p=0;p<o;p++)h=e.__digit(p),c.__setDigit(p+n,1073741823&h<<i|l),l=h>>>30-i;if(s)c.__setDigit(o+n,l);else if(0!==l)throw new Error("implementation bug")}return c.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,i=u.__toShiftAmount(t);if(0>i)return u.__rightShiftByMaximum(n);var o=0|i/30,s=i%30,a=r-o;if(0>=a)return u.__rightShiftByMaximum(n);var c=!1;if(n)if(e.__digit(o)&(1<<s)-1)c=!0;else for(var f=0;f<o;f++)if(0!==e.__digit(f)){c=!0;break}c&&0===s&&0==~e.__digit(r-1)&&a++;var l=new u(a,n);if(0===s){l.__setDigit(a-1,0);for(var d=o;d<r;d++)l.__setDigit(d-o,e.__digit(d))}else{for(var h,p=e.__digit(o)>>>s,y=r-o-1,g=0;g<y;g++)h=e.__digit(g+o+1),l.__setDigit(g,1073741823&h<<30-s|p),p=h>>>s;l.__setDigit(y,p)}return c&&(l=u.__absoluteAddOne(l,!0,l)),l.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?u.__oneDigit(1,!0):u.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>u.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===u)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var n=e[Symbol.toPrimitive];if(n){var i=n(t);if("object"!==r(i))return i;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var s=o.call(e);if("object"!==r(s))return s}var a=e.toString;if(a){var c=a.call(e);if("object"!==r(c))return c}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return u.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===u}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,n=new u(r,t.sign),i=r-1,o=0;o<i;o++)n.__setDigit(o,t.__digit(o));var s=t.__digit(i);if(0!=e%30){var a=32-e%30;s=s<<a>>>a}return n.__setDigit(i,s),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n,i=Math.min,o=0|(e+29)/30,s=new u(o,r),a=0,c=o-1,f=0,l=i(c,t.length);a<l;a++)f=1&(n=0-t.__digit(a)-f)>>>30,s.__setDigit(a,1073741823&n);for(;a<c;a++)s.__setDigit(a,1073741823&-f);var d,h=c<t.length?t.__digit(c):0,p=e%30;if(0===p)d=0-h-f,d&=1073741823;else{var y=32-p,g=1<<32-y;d=g-(h=h<<y>>>y)-f,d&=g-1}return s.__setDigit(c,d),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),u}(d(Array));return E.__kMaxLength=33554432,E.__kMaxLengthBits=E.__kMaxLength<<5,E.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],E.__kBitsPerCharTableShift=5,E.__kBitsPerCharTableMultiplier=1<<E.__kBitsPerCharTableShift,E.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],E.__kBitConversionBuffer=new ArrayBuffer(8),E.__kBitConversionDouble=new Float64Array(E.__kBitConversionBuffer),E.__kBitConversionInts=new Int32Array(E.__kBitConversionBuffer),E.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},E.__imul=e||function(e,t){return 0|e*t},E}()},8142:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",f="[object Boolean]",l="[object Date]",d="[object Error]",h="[object Function]",p="[object GeneratorFunction]",y="[object Map]",g="[object Number]",b="[object Null]",m="[object Object]",v="[object Promise]",_="[object Proxy]",w="[object RegExp]",S="[object Set]",E="[object String]",A="[object Symbol]",x="[object Undefined]",k="[object WeakMap]",I="[object ArrayBuffer]",T="[object DataView]",C=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P[a]=P[u]=P[I]=P[f]=P[T]=P[l]=P[d]=P[h]=P[y]=P[g]=P[m]=P[w]=P[S]=P[E]=P[k]=!1;var M="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,B="object"==typeof self&&self&&self.Object===Object&&self,D=M||B||Function("return this")(),R=t&&!t.nodeType&&t,j=R&&e&&!e.nodeType&&e,L=j&&j.exports===R,N=L&&M.process,U=function(){try{return N&&N.binding&&N.binding("util")}catch(e){}}(),H=U&&U.isTypedArray;function F(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function z(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function q(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var K,V,W,$=Array.prototype,Q=Function.prototype,G=Object.prototype,X=D["__core-js_shared__"],Y=Q.toString,J=G.hasOwnProperty,Z=(K=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",ee=G.toString,te=RegExp("^"+Y.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=L?D.Buffer:void 0,ne=D.Symbol,ie=D.Uint8Array,oe=G.propertyIsEnumerable,se=$.splice,ae=ne?ne.toStringTag:void 0,ue=Object.getOwnPropertySymbols,ce=re?re.isBuffer:void 0,fe=(V=Object.keys,W=Object,function(e){return V(W(e))}),le=Ue(D,"DataView"),de=Ue(D,"Map"),he=Ue(D,"Promise"),pe=Ue(D,"Set"),ye=Ue(D,"WeakMap"),ge=Ue(Object,"create"),be=qe(le),me=qe(de),ve=qe(he),_e=qe(pe),we=qe(ye),Se=ne?ne.prototype:void 0,Ee=Se?Se.valueOf:void 0;function Ae(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ke;++t<r;)this.add(e[t])}function Te(e){var t=this.__data__=new xe(e);this.size=t.size}function Ce(e,t){var r=We(e),n=!r&&Ve(e),i=!r&&!n&&$e(e),o=!r&&!n&&!i&&Je(e),s=r||n||i||o,a=s?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=a.length;for(var c in e)!t&&!J.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ze(c,u))||a.push(c);return a}function Oe(e,t){for(var r=e.length;r--;)if(Ke(e[r][0],t))return r;return-1}function Pe(e){return null==e?void 0===e?x:b:ae&&ae in Object(e)?function(e){var t=J.call(e,ae),r=e[ae];try{e[ae]=void 0;var n=!0}catch(e){}var i=ee.call(e);n&&(t?e[ae]=r:delete e[ae]);return i}(e):function(e){return ee.call(e)}(e)}function Me(e){return Ye(e)&&Pe(e)==a}function Be(e,t,r,n,s){return e===t||(null==e||null==t||!Ye(e)&&!Ye(t)?e!=e&&t!=t:function(e,t,r,n,s,c){var h=We(e),p=We(t),b=h?u:Fe(e),v=p?u:Fe(t),_=(b=b==a?m:b)==m,x=(v=v==a?m:v)==m,k=b==v;if(k&&$e(e)){if(!$e(t))return!1;h=!0,_=!1}if(k&&!_)return c||(c=new Te),h||Je(e)?je(e,t,r,n,s,c):function(e,t,r,n,s,a,u){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!a(new ie(e),new ie(t)));case f:case l:case g:return Ke(+e,+t);case d:return e.name==t.name&&e.message==t.message;case w:case E:return e==t+"";case y:var c=z;case S:var h=n&i;if(c||(c=q),e.size!=t.size&&!h)return!1;var p=u.get(e);if(p)return p==t;n|=o,u.set(e,t);var b=je(c(e),c(t),n,s,a,u);return u.delete(e),b;case A:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,b,r,n,s,c);if(!(r&i)){var C=_&&J.call(e,"__wrapped__"),O=x&&J.call(t,"__wrapped__");if(C||O){var P=C?e.value():e,M=O?t.value():t;return c||(c=new Te),s(P,M,r,n,c)}}if(!k)return!1;return c||(c=new Te),function(e,t,r,n,o,s){var a=r&i,u=Le(e),c=u.length,f=Le(t),l=f.length;if(c!=l&&!a)return!1;var d=c;for(;d--;){var h=u[d];if(!(a?h in t:J.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var y=!0;s.set(e,t),s.set(t,e);var g=a;for(;++d<c;){var b=e[h=u[d]],m=t[h];if(n)var v=a?n(m,b,h,t,e,s):n(b,m,h,e,t,s);if(!(void 0===v?b===m||o(b,m,r,n,s):v)){y=!1;break}g||(g="constructor"==h)}if(y&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(y=!1)}return s.delete(e),s.delete(t),y}(e,t,r,n,s,c)}(e,t,r,n,Be,s))}function De(e){return!(!Xe(e)||function(e){return!!Z&&Z in e}(e))&&(Qe(e)?te:C).test(qe(e))}function Re(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||G,t!==n)return fe(e);var t,r,n,i=[];for(var o in Object(e))J.call(e,o)&&"constructor"!=o&&i.push(o);return i}function je(e,t,r,n,s,a){var u=r&i,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var l=a.get(e);if(l&&a.get(t))return l==t;var d=-1,h=!0,p=r&o?new Ie:void 0;for(a.set(e,t),a.set(t,e);++d<c;){var y=e[d],g=t[d];if(n)var b=u?n(g,y,d,t,e,a):n(y,g,d,e,t,a);if(void 0!==b){if(b)continue;h=!1;break}if(p){if(!F(t,(function(e,t){if(i=t,!p.has(i)&&(y===e||s(y,e,r,n,a)))return p.push(t);var i}))){h=!1;break}}else if(y!==g&&!s(y,g,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Le(e){return function(e,t,r){var n=t(e);return We(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Ze,He)}function Ne(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ue(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return De(r)?r:void 0}Ae.prototype.clear=function(){this.__data__=ge?ge(null):{},this.size=0},Ae.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ae.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return J.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:J.call(t,e)},Ae.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ge&&void 0===t?n:t,this},xe.prototype.clear=function(){this.__data__=[],this.size=0},xe.prototype.delete=function(e){var t=this.__data__,r=Oe(t,e);return!(r<0)&&(r==t.length-1?t.pop():se.call(t,r,1),--this.size,!0)},xe.prototype.get=function(e){var t=this.__data__,r=Oe(t,e);return r<0?void 0:t[r][1]},xe.prototype.has=function(e){return Oe(this.__data__,e)>-1},xe.prototype.set=function(e,t){var r=this.__data__,n=Oe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ke.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(de||xe),string:new Ae}},ke.prototype.delete=function(e){var t=Ne(this,e).delete(e);return this.size-=t?1:0,t},ke.prototype.get=function(e){return Ne(this,e).get(e)},ke.prototype.has=function(e){return Ne(this,e).has(e)},ke.prototype.set=function(e,t){var r=Ne(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ie.prototype.add=Ie.prototype.push=function(e){return this.__data__.set(e,n),this},Ie.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new xe,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xe){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ke(n)}return r.set(e,t),this.size=r.size,this};var He=ue?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}(ue(e),(function(t){return oe.call(e,t)})))}:function(){return[]},Fe=Pe;function ze(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ke(e,t){return e===t||e!=e&&t!=t}(le&&Fe(new le(new ArrayBuffer(1)))!=T||de&&Fe(new de)!=y||he&&Fe(he.resolve())!=v||pe&&Fe(new pe)!=S||ye&&Fe(new ye)!=k)&&(Fe=function(e){var t=Pe(e),r=t==m?e.constructor:void 0,n=r?qe(r):"";if(n)switch(n){case be:return T;case me:return y;case ve:return v;case _e:return S;case we:return k}return t});var Ve=Me(function(){return arguments}())?Me:function(e){return Ye(e)&&J.call(e,"callee")&&!oe.call(e,"callee")},We=Array.isArray;var $e=ce||function(){return!1};function Qe(e){if(!Xe(e))return!1;var t=Pe(e);return t==h||t==p||t==c||t==_}function Ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ye(e){return null!=e&&"object"==typeof e}var Je=H?function(e){return function(t){return e(t)}}(H):function(e){return Ye(e)&&Ge(e.length)&&!!P[Pe(e)]};function Ze(e){return null!=(t=e)&&Ge(t.length)&&!Qe(t)?Ce(e):Re(e);var t}e.exports=function(e,t){return Be(e,t)}},55580:(e,t,r)=>{var n=r(56110)(r(9325),"DataView");e.exports=n},21549:(e,t,r)=>{var n=r(22032),i=r(63862),o=r(66721),s=r(12749),a=r(35749);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},80079:(e,t,r)=>{var n=r(63702),i=r(70080),o=r(24739),s=r(48655),a=r(31175);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},68223:(e,t,r)=>{var n=r(56110)(r(9325),"Map");e.exports=n},53661:(e,t,r)=>{var n=r(63040),i=r(17670),o=r(90289),s=r(4509),a=r(72949);function u(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},32804:(e,t,r)=>{var n=r(56110)(r(9325),"Promise");e.exports=n},76545:(e,t,r)=>{var n=r(56110)(r(9325),"Set");e.exports=n},38859:(e,t,r)=>{var n=r(53661),i=r(31380),o=r(51459);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},37217:(e,t,r)=>{var n=r(80079),i=r(51420),o=r(90938),s=r(63605),a=r(29817),u=r(80945);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,e.exports=c},51873:(e,t,r)=>{var n=r(9325).Symbol;e.exports=n},37828:(e,t,r)=>{var n=r(9325).Uint8Array;e.exports=n},28303:(e,t,r)=>{var n=r(56110)(r(9325),"WeakMap");e.exports=n},83729:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},79770:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}},70695:(e,t,r)=>{var n=r(78096),i=r(72428),o=r(56449),s=r(3656),a=r(30361),u=r(37167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),f=!r&&i(e),l=!r&&!f&&s(e),d=!r&&!f&&!l&&u(e),h=r||f||l||d,p=h?n(e.length,String):[],y=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||l&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,y))||p.push(g);return p}},34932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},14528:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},14248:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},16547:(e,t,r)=>{var n=r(43360),i=r(75288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var s=e[t];o.call(e,t)&&i(s,r)&&(void 0!==r||t in e)||n(e,t,r)}},26025:(e,t,r)=>{var n=r(75288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},74733:(e,t,r)=>{var n=r(21791),i=r(95950);e.exports=function(e,t){return e&&n(t,i(t),e)}},43838:(e,t,r)=>{var n=r(21791),i=r(37241);e.exports=function(e,t){return e&&n(t,i(t),e)}},43360:(e,t,r)=>{var n=r(93243);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},9999:(e,t,r)=>{var n=r(37217),i=r(83729),o=r(16547),s=r(74733),a=r(43838),u=r(93290),c=r(23007),f=r(92271),l=r(48948),d=r(50002),h=r(83349),p=r(5861),y=r(76189),g=r(77199),b=r(35529),m=r(56449),v=r(3656),_=r(87730),w=r(23805),S=r(38440),E=r(95950),A=r(37241),x="[object Arguments]",k="[object Function]",I="[object Object]",T={};T[x]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[I]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[k]=T["[object WeakMap]"]=!1,e.exports=function e(t,r,C,O,P,M){var B,D=1&r,R=2&r,j=4&r;if(C&&(B=P?C(t,O,P,M):C(t)),void 0!==B)return B;if(!w(t))return t;var L=m(t);if(L){if(B=y(t),!D)return c(t,B)}else{var N=p(t),U=N==k||"[object GeneratorFunction]"==N;if(v(t))return u(t,D);if(N==I||N==x||U&&!P){if(B=R||U?{}:b(t),!D)return R?l(t,a(B,t)):f(t,s(B,t))}else{if(!T[N])return P?t:{};B=g(t,N,D)}}M||(M=new n);var H=M.get(t);if(H)return H;M.set(t,B),S(t)?t.forEach((function(n){B.add(e(n,r,C,n,t,M))})):_(t)&&t.forEach((function(n,i){B.set(i,e(n,r,C,i,t,M))}));var F=L?void 0:(j?R?h:d:R?A:E)(t);return i(F||t,(function(n,i){F&&(n=t[i=n]),o(B,i,e(n,r,C,i,t,M))})),B}},39344:(e,t,r)=>{var n=r(23805),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=o},47422:(e,t,r)=>{var n=r(31769),i=r(77797);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[i(t[r++])];return r&&r==o?e:void 0}},82199:(e,t,r)=>{var n=r(14528),i=r(56449);e.exports=function(e,t,r){var o=t(e);return i(e)?o:n(o,r(e))}},72552:(e,t,r)=>{var n=r(51873),i=r(659),o=r(59350),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},28077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},27534:(e,t,r)=>{var n=r(72552),i=r(40346);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},60270:(e,t,r)=>{var n=r(87068),i=r(40346);e.exports=function e(t,r,o,s,a){return t===r||(null==t||null==r||!i(t)&&!i(r)?t!=t&&r!=r:n(t,r,o,s,e,a))}},87068:(e,t,r)=>{var n=r(37217),i=r(25911),o=r(21986),s=r(50689),a=r(5861),u=r(56449),c=r(3656),f=r(37167),l="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,y,g,b){var m=u(e),v=u(t),_=m?d:a(e),w=v?d:a(t),S=(_=_==l?h:_)==h,E=(w=w==l?h:w)==h,A=_==w;if(A&&c(e)){if(!c(t))return!1;m=!0,S=!1}if(A&&!S)return b||(b=new n),m||f(e)?i(e,t,r,y,g,b):o(e,t,_,r,y,g,b);if(!(1&r)){var x=S&&p.call(e,"__wrapped__"),k=E&&p.call(t,"__wrapped__");if(x||k){var I=x?e.value():e,T=k?t.value():t;return b||(b=new n),g(I,T,r,y,b)}}return!!A&&(b||(b=new n),s(e,t,r,y,g,b))}},29172:(e,t,r)=>{var n=r(5861),i=r(40346);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},41799:(e,t,r)=>{var n=r(37217),i=r(60270);e.exports=function(e,t,r,o){var s=r.length,a=s,u=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=r[s];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var f=(c=r[s])[0],l=e[f],d=c[1];if(u&&c[2]){if(void 0===l&&!(f in e))return!1}else{var h=new n;if(o)var p=o(l,d,f,e,t,h);if(!(void 0===p?i(d,l,3,o,h):p))return!1}}return!0}},45083:(e,t,r)=>{var n=r(1882),i=r(87296),o=r(23805),s=r(47473),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,d=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?d:a).test(s(e))}},16038:(e,t,r)=>{var n=r(5861),i=r(40346);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},4901:(e,t,r)=>{var n=r(72552),i=r(30294),o=r(40346),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[n(e)]}},15389:(e,t,r)=>{var n=r(93663),i=r(87978),o=r(83488),s=r(56449),a=r(50583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):n(e):a(e)}},88984:(e,t,r)=>{var n=r(55527),i=r(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},72903:(e,t,r)=>{var n=r(23805),i=r(55527),o=r(90181),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),r=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&r.push(a);return r}},93663:(e,t,r)=>{var n=r(41799),i=r(10776),o=r(67197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},87978:(e,t,r)=>{var n=r(60270),i=r(58156),o=r(80631),s=r(28586),a=r(30756),u=r(67197),c=r(77797);e.exports=function(e,t){return s(e)&&a(t)?u(c(e),t):function(r){var s=i(r,e);return void 0===s&&s===t?o(r,e):n(t,s,3)}}},97420:(e,t,r)=>{var n=r(47422),i=r(73170),o=r(31769);e.exports=function(e,t,r){for(var s=-1,a=t.length,u={};++s<a;){var c=t[s],f=n(e,c);r(f,c)&&i(u,o(c,e),f)}return u}},47237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},17255:(e,t,r)=>{var n=r(47422);e.exports=function(e){return function(t){return n(t,e)}}},73170:(e,t,r)=>{var n=r(16547),i=r(31769),o=r(30361),s=r(23805),a=r(77797);e.exports=function(e,t,r,u){if(!s(e))return e;for(var c=-1,f=(t=i(t,e)).length,l=f-1,d=e;null!=d&&++c<f;){var h=a(t[c]),p=r;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=l){var y=d[h];void 0===(p=u?u(y,h,d):void 0)&&(p=s(y)?y:o(t[c+1])?[]:{})}n(d,h,p),d=d[h]}return e}},78096:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},77556:(e,t,r)=>{var n=r(51873),i=r(34932),o=r(56449),s=r(44394),a=n?n.prototype:void 0,u=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},27301:e=>{e.exports=function(e){return function(t){return e(t)}}},19219:e=>{e.exports=function(e,t){return e.has(t)}},31769:(e,t,r)=>{var n=r(56449),i=r(28586),o=r(61802),s=r(13222);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(s(e))}},49653:(e,t,r)=>{var n=r(37828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},93290:(e,t,r)=>{e=r.nmd(e);var n=r(9325),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}},76169:(e,t,r)=>{var n=r(49653);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},73201:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},93736:(e,t,r)=>{var n=r(51873),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},71961:(e,t,r)=>{var n=r(49653);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},23007:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},21791:(e,t,r)=>{var n=r(16547),i=r(43360);e.exports=function(e,t,r,o){var s=!r;r||(r={});for(var a=-1,u=t.length;++a<u;){var c=t[a],f=o?o(r[c],e[c],c,r,e):void 0;void 0===f&&(f=e[c]),s?i(r,c,f):n(r,c,f)}return r}},92271:(e,t,r)=>{var n=r(21791),i=r(4664);e.exports=function(e,t){return n(e,i(e),t)}},48948:(e,t,r)=>{var n=r(21791),i=r(86375);e.exports=function(e,t){return n(e,i(e),t)}},55481:(e,t,r)=>{var n=r(9325)["__core-js_shared__"];e.exports=n},93243:(e,t,r)=>{var n=r(56110),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},25911:(e,t,r)=>{var n=r(38859),i=r(14248),o=r(19219);e.exports=function(e,t,r,s,a,u){var c=1&r,f=e.length,l=t.length;if(f!=l&&!(c&&l>f))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,y=!0,g=2&r?new n:void 0;for(u.set(e,t),u.set(t,e);++p<f;){var b=e[p],m=t[p];if(s)var v=c?s(m,b,p,t,e,u):s(b,m,p,e,t,u);if(void 0!==v){if(v)continue;y=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(b===e||a(b,e,r,s,u)))return g.push(t)}))){y=!1;break}}else if(b!==m&&!a(b,m,r,s,u)){y=!1;break}}return u.delete(e),u.delete(t),y}},21986:(e,t,r)=>{var n=r(51873),i=r(37828),o=r(75288),s=r(25911),a=r(20317),u=r(84247),c=n?n.prototype:void 0,f=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,l,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var p=1&n;if(h||(h=u),e.size!=t.size&&!p)return!1;var y=d.get(e);if(y)return y==t;n|=2,d.set(e,t);var g=s(h(e),h(t),n,c,l,d);return d.delete(e),g;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1}},50689:(e,t,r)=>{var n=r(50002),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,s,a){var u=1&r,c=n(e),f=c.length;if(f!=n(t).length&&!u)return!1;for(var l=f;l--;){var d=c[l];if(!(u?d in t:i.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var y=!0;a.set(e,t),a.set(t,e);for(var g=u;++l<f;){var b=e[d=c[l]],m=t[d];if(o)var v=u?o(m,b,d,t,e,a):o(b,m,d,e,t,a);if(!(void 0===v?b===m||s(b,m,r,o,a):v)){y=!1;break}g||(g="constructor"==d)}if(y&&!g){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(y=!1)}return a.delete(e),a.delete(t),y}},34840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},50002:(e,t,r)=>{var n=r(82199),i=r(4664),o=r(95950);e.exports=function(e){return n(e,o,i)}},83349:(e,t,r)=>{var n=r(82199),i=r(86375),o=r(37241);e.exports=function(e){return n(e,o,i)}},12651:(e,t,r)=>{var n=r(74218);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},10776:(e,t,r)=>{var n=r(30756),i=r(95950);e.exports=function(e){for(var t=i(e),r=t.length;r--;){var o=t[r],s=e[o];t[r]=[o,s,n(s)]}return t}},56110:(e,t,r)=>{var n=r(45083),i=r(10392);e.exports=function(e,t){var r=i(e,t);return n(r)?r:void 0}},28879:(e,t,r)=>{var n=r(74335)(Object.getPrototypeOf,Object);e.exports=n},659:(e,t,r)=>{var n=r(51873),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[a]=r:delete e[a]),i}},4664:(e,t,r)=>{var n=r(79770),i=r(63345),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),n(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},86375:(e,t,r)=>{var n=r(14528),i=r(28879),o=r(4664),s=r(63345),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:s;e.exports=a},5861:(e,t,r)=>{var n=r(55580),i=r(68223),o=r(32804),s=r(76545),a=r(28303),u=r(72552),c=r(47473),f="[object Map]",l="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",y=c(n),g=c(i),b=c(o),m=c(s),v=c(a),_=u;(n&&_(new n(new ArrayBuffer(1)))!=p||i&&_(new i)!=f||o&&_(o.resolve())!=l||s&&_(new s)!=d||a&&_(new a)!=h)&&(_=function(e){var t=u(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return p;case g:return f;case b:return l;case m:return d;case v:return h}return t}),e.exports=_},10392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},49326:(e,t,r)=>{var n=r(31769),i=r(72428),o=r(56449),s=r(30361),a=r(30294),u=r(77797);e.exports=function(e,t,r){for(var c=-1,f=(t=n(t,e)).length,l=!1;++c<f;){var d=u(t[c]);if(!(l=null!=e&&r(e,d)))break;e=e[d]}return l||++c!=f?l:!!(f=null==e?0:e.length)&&a(f)&&s(d,f)&&(o(e)||i(e))}},22032:(e,t,r)=>{var n=r(81042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},63862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},66721:(e,t,r)=>{var n=r(81042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0}},12749:(e,t,r)=>{var n=r(81042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},35749:(e,t,r)=>{var n=r(81042);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},76189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},77199:(e,t,r)=>{var n=r(49653),i=r(76169),o=r(73201),s=r(93736),a=r(71961);e.exports=function(e,t,r){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,r);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},35529:(e,t,r)=>{var n=r(39344),i=r(28879),o=r(55527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}},30361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},28586:(e,t,r)=>{var n=r(56449),i=r(44394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},74218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87296:(e,t,r)=>{var n,i=r(55481),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},55527:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},30756:(e,t,r)=>{var n=r(23805);e.exports=function(e){return e==e&&!n(e)}},63702:e=>{e.exports=function(){this.__data__=[],this.size=0}},70080:(e,t,r)=>{var n=r(26025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():i.call(t,r,1),--this.size,!0)}},24739:(e,t,r)=>{var n=r(26025);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},48655:(e,t,r)=>{var n=r(26025);e.exports=function(e){return n(this.__data__,e)>-1}},31175:(e,t,r)=>{var n=r(26025);e.exports=function(e,t){var r=this.__data__,i=n(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}},63040:(e,t,r)=>{var n=r(21549),i=r(80079),o=r(68223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}},17670:(e,t,r)=>{var n=r(12651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},90289:(e,t,r)=>{var n=r(12651);e.exports=function(e){return n(this,e).get(e)}},4509:(e,t,r)=>{var n=r(12651);e.exports=function(e){return n(this,e).has(e)}},72949:(e,t,r)=>{var n=r(12651);e.exports=function(e,t){var r=n(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}},20317:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},67197:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},62224:(e,t,r)=>{var n=r(50104);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},81042:(e,t,r)=>{var n=r(56110)(Object,"create");e.exports=n},3650:(e,t,r)=>{var n=r(74335)(Object.keys,Object);e.exports=n},90181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},86009:(e,t,r)=>{e=r.nmd(e);var n=r(34840),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&n.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},74335:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},9325:(e,t,r)=>{var n=r(34840),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},31380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},51459:e=>{e.exports=function(e){return this.__data__.has(e)}},84247:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},51420:(e,t,r)=>{var n=r(80079);e.exports=function(){this.__data__=new n,this.size=0}},90938:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},63605:e=>{e.exports=function(e){return this.__data__.get(e)}},29817:e=>{e.exports=function(e){return this.__data__.has(e)}},80945:(e,t,r)=>{var n=r(80079),i=r(68223),o=r(53661);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}},61802:(e,t,r)=>{var n=r(62224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,r,n,i){t.push(n?i.replace(o,"$1"):r||e)})),t}));e.exports=s},77797:(e,t,r)=>{var n=r(44394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},47473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},88055:(e,t,r)=>{var n=r(9999);e.exports=function(e){return n(e,5)}},75288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},58156:(e,t,r)=>{var n=r(47422);e.exports=function(e,t,r){var i=null==e?void 0:n(e,t);return void 0===i?r:i}},80631:(e,t,r)=>{var n=r(28077),i=r(49326);e.exports=function(e,t){return null!=e&&i(e,t,n)}},83488:e=>{e.exports=function(e){return e}},72428:(e,t,r)=>{var n=r(27534),i=r(40346),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},56449:e=>{var t=Array.isArray;e.exports=t},64894:(e,t,r)=>{var n=r(1882),i=r(30294);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},3656:(e,t,r)=>{e=r.nmd(e);var n=r(9325),i=r(89935),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u},1882:(e,t,r)=>{var n=r(72552),i=r(23805);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},30294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},87730:(e,t,r)=>{var n=r(29172),i=r(27301),o=r(86009),s=o&&o.isMap,a=s?i(s):n;e.exports=a},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},38440:(e,t,r)=>{var n=r(16038),i=r(27301),o=r(86009),s=o&&o.isSet,a=s?i(s):n;e.exports=a},44394:(e,t,r)=>{var n=r(72552),i=r(40346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},37167:(e,t,r)=>{var n=r(4901),i=r(27301),o=r(86009),s=o&&o.isTypedArray,a=s?i(s):n;e.exports=a},95950:(e,t,r)=>{var n=r(70695),i=r(88984),o=r(64894);e.exports=function(e){return o(e)?n(e):i(e)}},37241:(e,t,r)=>{var n=r(70695),i=r(72903),o=r(64894);e.exports=function(e){return o(e)?n(e,!0):i(e)}},2543:function(e,t,r){var n;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=r.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,c=32,f=64,l=128,d=256,h=1/0,p=9007199254740991,y=NaN,g=4294967295,b=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",f],["rearg",d]],m="[object Arguments]",v="[object Array]",_="[object Boolean]",w="[object Date]",S="[object Error]",E="[object Function]",A="[object GeneratorFunction]",x="[object Map]",k="[object Number]",I="[object Object]",T="[object Promise]",C="[object RegExp]",O="[object Set]",P="[object String]",M="[object Symbol]",B="[object WeakMap]",D="[object ArrayBuffer]",R="[object DataView]",j="[object Float32Array]",L="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",H="[object Int32Array]",F="[object Uint8Array]",z="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Q=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,X=RegExp(Q.source),Y=RegExp(G.source),J=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ye=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Me="["+Ae+"]",Be="["+Oe+"]",De="["+xe+"]",Re="\\d+",je="["+ke+"]",Le="["+Ie+"]",Ne="[^"+Ae+Oe+Re+ke+Ie+Te+"]",Ue="\\ud83c[\\udffb-\\udfff]",He="[^"+Ae+"]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",qe="["+Te+"]",Ke="\\u200d",Ve="(?:"+Le+"|"+Ne+")",We="(?:"+qe+"|"+Ne+")",$e="(?:['’](?:d|ll|m|re|s|t|ve))?",Qe="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+De+"|"+Ue+")"+"?",Xe="["+Ce+"]?",Ye=Xe+Ge+("(?:"+Ke+"(?:"+[He,Fe,ze].join("|")+")"+Xe+Ge+")*"),Je="(?:"+[je,Fe,ze].join("|")+")"+Ye,Ze="(?:"+[He+De+"?",De,Fe,ze,Me].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(De,"g"),rt=RegExp(Ue+"(?="+Ue+")|"+Ze+Ye,"g"),nt=RegExp([qe+"?"+Le+"+"+$e+"(?="+[Be,qe,"$"].join("|")+")",We+"+"+Qe+"(?="+[Be,qe+Ve,"$"].join("|")+")",qe+"?"+Ve+"+"+$e,qe+"+"+Qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Je].join("|"),"g"),it=RegExp("["+Ke+Ae+xe+Ce+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ut={};ut[j]=ut[L]=ut[N]=ut[U]=ut[H]=ut[F]=ut[z]=ut[q]=ut[K]=!0,ut[m]=ut[v]=ut[D]=ut[_]=ut[R]=ut[w]=ut[S]=ut[E]=ut[x]=ut[k]=ut[I]=ut[C]=ut[O]=ut[P]=ut[B]=!1;var ct={};ct[m]=ct[v]=ct[D]=ct[R]=ct[_]=ct[w]=ct[j]=ct[L]=ct[N]=ct[U]=ct[H]=ct[x]=ct[k]=ct[I]=ct[C]=ct[O]=ct[P]=ct[M]=ct[F]=ct[z]=ct[q]=ct[K]=!0,ct[S]=ct[E]=ct[B]=!1;var ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,dt=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,yt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,bt=gt&&e&&!e.nodeType&&e,mt=bt&&bt.exports===gt,vt=mt&&ht.process,_t=function(){try{var e=bt&&bt.require&&bt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),wt=_t&&_t.isArrayBuffer,St=_t&&_t.isDate,Et=_t&&_t.isMap,At=_t&&_t.isRegExp,xt=_t&&_t.isSet,kt=_t&&_t.isTypedArray;function It(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Tt(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Ot(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Bt(e,t){return!!(null==e?0:e.length)&&qt(e,t,0)>-1}function Dt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function jt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Lt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Nt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Ut(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ht=$t("length");function Ft(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function zt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function qt(e,t,r){return t==t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):zt(e,Vt,r)}function Kt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Vt(e){return e!=e}function Wt(e,t){var r=null==e?0:e.length;return r?Xt(e,t)/r:y}function $t(e){return function(t){return null==t?i:t[e]}}function Qt(e){return function(t){return null==e?i:e[t]}}function Gt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Xt(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Yt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Jt(e){return e?e.slice(0,yr(e)+1).replace(se,""):e}function Zt(e){return function(t){return e(t)}}function er(e,t){return Rt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&qt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&qt(t,e[r],0)>-1;);return r}var ir=Qt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),or=Qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(e){return"\\"+ft[e]}function ar(e){return it.test(e)}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cr(e,t){return function(r){return e(t(r))}}function fr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function hr(e){return ar(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ht(e)}function pr(e){return ar(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function yr(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var gr=Qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var br=function e(t){var r,n=(t=null==t?yt:br.defaults(yt.Object(),t,br.pick(yt,st))).Array,ae=t.Date,Ae=t.Error,xe=t.Function,ke=t.Math,Ie=t.Object,Te=t.RegExp,Ce=t.String,Oe=t.TypeError,Pe=n.prototype,Me=xe.prototype,Be=Ie.prototype,De=t["__core-js_shared__"],Re=Me.toString,je=Be.hasOwnProperty,Le=0,Ne=(r=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Ue=Be.toString,He=Re.call(Ie),Fe=yt._,ze=Te("^"+Re.call(je).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qe=mt?t.Buffer:i,Ke=t.Symbol,Ve=t.Uint8Array,We=qe?qe.allocUnsafe:i,$e=cr(Ie.getPrototypeOf,Ie),Qe=Ie.create,Ge=Be.propertyIsEnumerable,Xe=Pe.splice,Ye=Ke?Ke.isConcatSpreadable:i,Je=Ke?Ke.iterator:i,Ze=Ke?Ke.toStringTag:i,rt=function(){try{var e=ho(Ie,"defineProperty");return e({},"",{}),e}catch(e){}}(),it=t.clearTimeout!==yt.clearTimeout&&t.clearTimeout,ft=ae&&ae.now!==yt.Date.now&&ae.now,ht=t.setTimeout!==yt.setTimeout&&t.setTimeout,pt=ke.ceil,gt=ke.floor,bt=Ie.getOwnPropertySymbols,vt=qe?qe.isBuffer:i,_t=t.isFinite,Ht=Pe.join,Qt=cr(Ie.keys,Ie),mr=ke.max,vr=ke.min,_r=ae.now,wr=t.parseInt,Sr=ke.random,Er=Pe.reverse,Ar=ho(t,"DataView"),xr=ho(t,"Map"),kr=ho(t,"Promise"),Ir=ho(t,"Set"),Tr=ho(t,"WeakMap"),Cr=ho(Ie,"create"),Or=Tr&&new Tr,Pr={},Mr=Uo(Ar),Br=Uo(xr),Dr=Uo(kr),Rr=Uo(Ir),jr=Uo(Tr),Lr=Ke?Ke.prototype:i,Nr=Lr?Lr.valueOf:i,Ur=Lr?Lr.toString:i;function Hr(e){if(ra(e)&&!Vs(e)&&!(e instanceof Kr)){if(e instanceof qr)return e;if(je.call(e,"__wrapped__"))return Ho(e)}return new qr(e)}var Fr=function(){function e(){}return function(t){if(!ta(t))return{};if(Qe)return Qe(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function zr(){}function qr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Qr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new $r;++t<r;)this.add(e[t])}function Gr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Xr(e,t){var r=Vs(e),n=!r&&Ks(e),i=!r&&!n&&Gs(e),o=!r&&!n&&!i&&fa(e),s=r||n||i||o,a=s?Yt(e.length,Ce):[],u=a.length;for(var c in e)!t&&!je.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,u))||a.push(c);return a}function Yr(e){var t=e.length;return t?e[Gn(0,t-1)]:i}function Jr(e,t){return jo(Oi(e),un(t,0,e.length))}function Zr(e){return jo(Oi(e))}function en(e,t,r){(r!==i&&!Fs(e[t],r)||r===i&&!(t in e))&&sn(e,t,r)}function tn(e,t,r){var n=e[t];je.call(e,t)&&Fs(n,r)&&(r!==i||t in e)||sn(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(Fs(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function on(e,t){return e&&Pi(t,Ma(t),e)}function sn(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var r=-1,o=t.length,s=n(o),a=null==e;++r<o;)s[r]=a?i:Ia(e,t[r]);return s}function un(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function cn(e,t,r,n,o,s){var a,u=1&t,c=2&t,f=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!ta(e))return e;var l=Vs(e);if(l){if(a=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Oi(e,a)}else{var d=go(e),h=d==E||d==A;if(Gs(e))return Ai(e,u);if(d==I||d==m||h&&!o){if(a=c||h?{}:mo(e),!u)return c?function(e,t){return Pi(e,yo(e),t)}(e,function(e,t){return e&&Pi(t,Ba(t),e)}(a,e)):function(e,t){return Pi(e,po(e),t)}(e,on(a,e))}else{if(!ct[d])return o?e:{};a=function(e,t,r){var n=e.constructor;switch(t){case D:return xi(e);case _:case w:return new n(+e);case R:return function(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case j:case L:case N:case U:case H:case F:case z:case q:case K:return ki(e,r);case x:return new n;case k:case P:return new n(e);case C:return function(e){var t=new e.constructor(e.source,ye.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new n;case M:return i=e,Nr?Ie(Nr.call(i)):{}}var i}(e,d,u)}}s||(s=new Gr);var p=s.get(e);if(p)return p;s.set(e,a),aa(e)?e.forEach((function(n){a.add(cn(n,t,r,n,e,s))})):na(e)&&e.forEach((function(n,i){a.set(i,cn(n,t,r,i,e,s))}));var y=l?i:(f?c?oo:io:c?Ba:Ma)(e);return Ct(y||e,(function(n,i){y&&(n=e[i=n]),tn(a,i,cn(n,t,r,i,e,s))})),a}function fn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ie(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ln(e,t,r){if("function"!=typeof e)throw new Oe(o);return Mo((function(){e.apply(i,r)}),t)}function dn(e,t,r,n){var i=-1,o=Bt,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;r&&(t=Rt(t,Zt(r))),n?(o=Dt,s=!1):t.length>=200&&(o=tr,s=!1,t=new Qr(t));e:for(;++i<a;){var f=e[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,s&&l==l){for(var d=c;d--;)if(t[d]===l)continue e;u.push(f)}else o(t,l,n)||u.push(f)}return u}Hr.templateSettings={escape:J,evaluate:Z,interpolate:ee,variable:"",imports:{_:Hr}},Hr.prototype=zr.prototype,Hr.prototype.constructor=Hr,qr.prototype=Fr(zr.prototype),qr.prototype.constructor=qr,Kr.prototype=Fr(zr.prototype),Kr.prototype.constructor=Kr,Vr.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},Vr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vr.prototype.get=function(e){var t=this.__data__;if(Cr){var r=t[e];return r===s?i:r}return je.call(t,e)?t[e]:i},Vr.prototype.has=function(e){var t=this.__data__;return Cr?t[e]!==i:je.call(t,e)},Vr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Cr&&t===i?s:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Xe.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?i:t[r][1]},Wr.prototype.has=function(e){return rn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},$r.prototype.clear=function(){this.size=0,this.__data__={hash:new Vr,map:new(xr||Wr),string:new Vr}},$r.prototype.delete=function(e){var t=fo(this,e).delete(e);return this.size-=t?1:0,t},$r.prototype.get=function(e){return fo(this,e).get(e)},$r.prototype.has=function(e){return fo(this,e).has(e)},$r.prototype.set=function(e,t){var r=fo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Qr.prototype.add=Qr.prototype.push=function(e){return this.__data__.set(e,s),this},Qr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gr.prototype.get=function(e){return this.__data__.get(e)},Gr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!xr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $r(n)}return r.set(e,t),this.size=r.size,this};var hn=Di(wn),pn=Di(Sn,!0);function yn(e,t){var r=!0;return hn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function gn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(u===i?a==a&&!ca(a):r(a,u)))var u=a,c=s}return c}function bn(e,t){var r=[];return hn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=vo),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?mn(a,t-1,r,n,i):jt(i,a):n||(i[i.length]=a)}return i}var vn=Ri(),_n=Ri(!0);function wn(e,t){return e&&vn(e,t,Ma)}function Sn(e,t){return e&&_n(e,t,Ma)}function En(e,t){return Mt(t,(function(t){return Js(e[t])}))}function An(e,t){for(var r=0,n=(t=_i(t,e)).length;null!=e&&r<n;)e=e[No(t[r++])];return r&&r==n?e:i}function xn(e,t,r){var n=t(e);return Vs(e)?n:jt(n,r(e))}function kn(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ze&&Ze in Ie(e)?function(e){var t=je.call(e,Ze),r=e[Ze];try{e[Ze]=i;var n=!0}catch(e){}var o=Ue.call(e);n&&(t?e[Ze]=r:delete e[Ze]);return o}(e):function(e){return Ue.call(e)}(e)}function In(e,t){return e>t}function Tn(e,t){return null!=e&&je.call(e,t)}function Cn(e,t){return null!=e&&t in Ie(e)}function On(e,t,r){for(var o=r?Dt:Bt,s=e[0].length,a=e.length,u=a,c=n(a),f=1/0,l=[];u--;){var d=e[u];u&&t&&(d=Rt(d,Zt(t))),f=vr(d.length,f),c[u]=!r&&(t||s>=120&&d.length>=120)?new Qr(u&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<s&&l.length<f;){var y=d[h],g=t?t(y):y;if(y=r||0!==y?y:0,!(p?tr(p,g):o(l,g,r))){for(u=a;--u;){var b=c[u];if(!(b?tr(b,g):o(e[u],g,r)))continue e}p&&p.push(g),l.push(y)}}return l}function Pn(e,t,r){var n=null==(e=Co(e,t=_i(t,e)))?e:e[No(Yo(t))];return null==n?i:It(n,e,r)}function Mn(e){return ra(e)&&kn(e)==m}function Bn(e,t,r,n,o){return e===t||(null==e||null==t||!ra(e)&&!ra(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var a=Vs(e),u=Vs(t),c=a?v:go(e),f=u?v:go(t),l=(c=c==m?I:c)==I,d=(f=f==m?I:f)==I,h=c==f;if(h&&Gs(e)){if(!Gs(t))return!1;a=!0,l=!1}if(h&&!l)return s||(s=new Gr),a||fa(e)?ro(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case _:case w:case k:return Fs(+e,+t);case S:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+"";case x:var a=ur;case O:var u=1&n;if(a||(a=lr),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var f=ro(a(e),a(t),n,i,o,s);return s.delete(e),f;case M:if(Nr)return Nr.call(e)==Nr.call(t)}return!1}(e,t,c,r,n,o,s);if(!(1&r)){var p=l&&je.call(e,"__wrapped__"),y=d&&je.call(t,"__wrapped__");if(p||y){var g=p?e.value():e,b=y?t.value():t;return s||(s=new Gr),o(g,b,r,n,s)}}if(!h)return!1;return s||(s=new Gr),function(e,t,r,n,o,s){var a=1&r,u=io(e),c=u.length,f=io(t),l=f.length;if(c!=l&&!a)return!1;var d=c;for(;d--;){var h=u[d];if(!(a?h in t:je.call(t,h)))return!1}var p=s.get(e),y=s.get(t);if(p&&y)return p==t&&y==e;var g=!0;s.set(e,t),s.set(t,e);var b=a;for(;++d<c;){var m=e[h=u[d]],v=t[h];if(n)var _=a?n(v,m,h,t,e,s):n(m,v,h,e,t,s);if(!(_===i?m===v||o(m,v,r,n,s):_)){g=!1;break}b||(b="constructor"==h)}if(g&&!b){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,r,n,o,s)}(e,t,r,n,Bn,o))}function Dn(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=Ie(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=r[o])[0],f=e[c],l=u[1];if(a&&u[2]){if(f===i&&!(c in e))return!1}else{var d=new Gr;if(n)var h=n(f,l,c,e,t,d);if(!(h===i?Bn(l,f,3,n,d):h))return!1}}return!0}function Rn(e){return!(!ta(e)||(t=e,Ne&&Ne in t))&&(Js(e)?ze:me).test(Uo(e));var t}function jn(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?Vs(e)?zn(e[0],e[1]):Fn(e):hu(e)}function Ln(e){if(!xo(e))return Qt(e);var t=[];for(var r in Ie(e))je.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Nn(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var r in Ie(e))t.push(r);return t}(e);var t=xo(e),r=[];for(var n in e)("constructor"!=n||!t&&je.call(e,n))&&r.push(n);return r}function Un(e,t){return e<t}function Hn(e,t){var r=-1,i=$s(e)?n(e.length):[];return hn(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Fn(e){var t=lo(e);return 1==t.length&&t[0][2]?Io(t[0][0],t[0][1]):function(r){return r===e||Dn(r,e,t)}}function zn(e,t){return So(e)&&ko(t)?Io(No(e),t):function(r){var n=Ia(r,e);return n===i&&n===t?Ta(r,e):Bn(t,n,3)}}function qn(e,t,r,n,o){e!==t&&vn(t,(function(s,a){if(o||(o=new Gr),ta(s))!function(e,t,r,n,o,s,a){var u=Oo(e,r),c=Oo(t,r),f=a.get(c);if(f)return void en(e,r,f);var l=s?s(u,c,r+"",e,t,a):i,d=l===i;if(d){var h=Vs(c),p=!h&&Gs(c),y=!h&&!p&&fa(c);l=c,h||p||y?Vs(u)?l=u:Qs(u)?l=Oi(u):p?(d=!1,l=Ai(c,!0)):y?(d=!1,l=ki(c,!0)):l=[]:oa(c)||Ks(c)?(l=u,Ks(u)?l=ma(u):ta(u)&&!Js(u)||(l=mo(c))):d=!1}d&&(a.set(c,l),o(l,c,n,s,a),a.delete(c));en(e,r,l)}(e,t,a,r,qn,n,o);else{var u=n?n(Oo(e,a),s,a+"",e,t,o):i;u===i&&(u=s),en(e,a,u)}}),Ba)}function Kn(e,t){var r=e.length;if(r)return _o(t+=t<0?r:0,r)?e[t]:i}function Vn(e,t,r){t=t.length?Rt(t,(function(e){return Vs(e)?function(t){return An(t,1===e.length?e[0]:e)}:e})):[iu];var n=-1;t=Rt(t,Zt(co()));var i=Hn(e,(function(e,r,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;for(;++n<s;){var u=Ii(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=An(e,s);r(a,s)&&ei(o,_i(s,e),a)}return o}function $n(e,t,r,n){var i=n?Kt:qt,o=-1,s=t.length,a=e;for(e===t&&(t=Oi(t)),r&&(a=Rt(e,Zt(r)));++o<s;)for(var u=0,c=t[o],f=r?r(c):c;(u=i(a,f,u,n))>-1;)a!==e&&Xe.call(a,u,1),Xe.call(e,u,1);return e}function Qn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;_o(i)?Xe.call(e,i,1):di(e,i)}}return e}function Gn(e,t){return e+gt(Sr()*(t-e+1))}function Xn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return Bo(To(e,t,iu),e+"")}function Jn(e){return Yr(Fa(e))}function Zn(e,t){var r=Fa(e);return jo(r,un(t,0,r.length))}function ei(e,t,r,n){if(!ta(e))return e;for(var o=-1,s=(t=_i(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=No(t[o]),f=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var l=u[c];(f=n?n(l,c,u):i)===i&&(f=ta(l)?l:_o(t[o+1])?[]:{})}tn(u,c,f),u=u[c]}return e}var ti=Or?function(e,t){return Or.set(e,t),e}:iu,ri=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tu(t),writable:!0})}:iu;function ni(e){return jo(Fa(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var s=n(o);++i<o;)s[i]=e[i+t];return s}function oi(e,t){var r;return hn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function si(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!ca(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return ai(e,t,iu,r)}function ai(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!=t,u=null===t,c=ca(t),f=t===i;o<s;){var l=gt((o+s)/2),d=r(e[l]),h=d!==i,p=null===d,y=d==d,g=ca(d);if(a)var b=n||y;else b=f?y&&(n||h):u?y&&h&&(n||!p):c?y&&h&&!p&&(n||!g):!p&&!g&&(n?d<=t:d<t);b?o=l+1:s=l}return vr(s,4294967294)}function ui(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Fs(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ci(e){return"number"==typeof e?e:ca(e)?y:+e}function fi(e){if("string"==typeof e)return e;if(Vs(e))return Rt(e,fi)+"";if(ca(e))return Ur?Ur.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,r){var n=-1,i=Bt,o=e.length,s=!0,a=[],u=a;if(r)s=!1,i=Dt;else if(o>=200){var c=t?null:Xi(e);if(c)return lr(c);s=!1,i=tr,u=new Qr}else u=t?[]:a;e:for(;++n<o;){var f=e[n],l=t?t(f):f;if(f=r||0!==f?f:0,s&&l==l){for(var d=u.length;d--;)if(u[d]===l)continue e;t&&u.push(l),a.push(f)}else i(u,l,r)||(u!==a&&u.push(l),a.push(f))}return a}function di(e,t){return null==(e=Co(e,t=_i(t,e)))||delete e[No(Yo(t))]}function hi(e,t,r,n){return ei(e,t,r(An(e,t)),n)}function pi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ii(e,n?0:o,n?o+1:i):ii(e,n?o+1:0,n?i:o)}function yi(e,t){var r=e;return r instanceof Kr&&(r=r.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),r)}function gi(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var o=-1,s=n(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=dn(s[o]||a,e[u],t,r));return li(mn(s,1),t,r)}function bi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var u=n<s?t[n]:i;r(a,e[n],u)}return a}function mi(e){return Qs(e)?e:[]}function vi(e){return"function"==typeof e?e:iu}function _i(e,t){return Vs(e)?e:So(e,t)?[e]:Lo(va(e))}var wi=Yn;function Si(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ii(e,t,r)}var Ei=it||function(e){return yt.clearTimeout(e)};function Ai(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function xi(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function ki(e,t){var r=t?xi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ii(e,t){if(e!==t){var r=e!==i,n=null===e,o=e==e,s=ca(e),a=t!==i,u=null===t,c=t==t,f=ca(t);if(!u&&!f&&!s&&e>t||s&&a&&c&&!u&&!f||n&&a&&c||!r&&c||!o)return 1;if(!n&&!s&&!f&&e<t||f&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!c)return-1}return 0}function Ti(e,t,r,i){for(var o=-1,s=e.length,a=r.length,u=-1,c=t.length,f=mr(s-a,0),l=n(c+f),d=!i;++u<c;)l[u]=t[u];for(;++o<a;)(d||o<s)&&(l[r[o]]=e[o]);for(;f--;)l[u++]=e[o++];return l}function Ci(e,t,r,i){for(var o=-1,s=e.length,a=-1,u=r.length,c=-1,f=t.length,l=mr(s-u,0),d=n(l+f),h=!i;++o<l;)d[o]=e[o];for(var p=o;++c<f;)d[p+c]=t[c];for(;++a<u;)(h||o<s)&&(d[p+r[a]]=e[o++]);return d}function Oi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=n?n(r[u],e[u],u,r,e):i;c===i&&(c=e[u]),o?sn(r,u,c):tn(r,u,c)}return r}function Mi(e,t){return function(r,n){var i=Vs(r)?Tt:nn,o=t?t():{};return i(r,e,co(n,2),o)}}function Bi(e){return Yn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&wo(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=Ie(t);++n<o;){var u=r[n];u&&e(t,u,n,s)}return t}))}function Di(e,t){return function(r,n){if(null==r)return r;if(!$s(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Ie(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ri(e){return function(t,r,n){for(var i=-1,o=Ie(t),s=n(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===r(o[u],u,o))break}return t}}function ji(e){return function(t){var r=ar(t=va(t))?pr(t):i,n=r?r[0]:t.charAt(0),o=r?Si(r,1).join(""):t.slice(1);return n[e]()+o}}function Li(e){return function(t){return Lt(Ja(Ka(t).replace(et,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fr(e.prototype),n=e.apply(r,t);return ta(n)?n:r}}function Ui(e){return function(t,r,n){var o=Ie(t);if(!$s(t)){var s=co(r,3);t=Ma(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function Hi(e){return no((function(t){var r=t.length,n=r,s=qr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Oe(o);if(s&&!u&&"wrapper"==ao(a))var u=new qr([],!0)}for(n=u?n:r;++n<r;){var c=ao(a=t[n]),f="wrapper"==c?so(a):i;u=f&&Eo(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?u[ao(f[0])].apply(u,f[3]):1==a.length&&Eo(a)?u[c]():u.thru(a)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Vs(n))return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Fi(e,t,r,o,s,a,u,c,f,d){var h=t&l,p=1&t,y=2&t,g=24&t,b=512&t,m=y?i:Ni(e);return function l(){for(var v=arguments.length,_=n(v),w=v;w--;)_[w]=arguments[w];if(g)var S=uo(l),E=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,S);if(o&&(_=Ti(_,o,s,g)),a&&(_=Ci(_,a,u,g)),v-=E,g&&v<d){var A=fr(_,S);return Qi(e,t,Fi,l.placeholder,r,_,A,c,f,d-v)}var x=p?r:this,k=y?x[e]:e;return v=_.length,c?_=function(e,t){var r=e.length,n=vr(t.length,r),o=Oi(e);for(;n--;){var s=t[n];e[n]=_o(s,r)?o[s]:i}return e}(_,c):b&&v>1&&_.reverse(),h&&f<v&&(_.length=f),this&&this!==yt&&this instanceof l&&(k=m||Ni(k)),k.apply(x,_)}}function zi(e,t){return function(r,n){return function(e,t,r,n){return wn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function qi(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=fi(r),n=fi(n)):(r=ci(r),n=ci(n)),o=e(r,n)}return o}}function Ki(e){return no((function(t){return t=Rt(t,Zt(co())),Yn((function(r){var n=this;return e(t,(function(e){return It(e,n,r)}))}))}))}function Vi(e,t){var r=(t=t===i?" ":fi(t)).length;if(r<2)return r?Xn(t,e):t;var n=Xn(t,pt(e/hr(t)));return ar(t)?Si(pr(n),0,e).join(""):n.slice(0,e)}function Wi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=pa(t),r===i?(r=t,t=0):r=pa(r),function(e,t,r,i){for(var o=-1,s=mr(pt((t-e)/(r||1)),0),a=n(s);s--;)a[i?s:++o]=e,e+=r;return a}(t,r,o=o===i?t<r?1:-1:pa(o),e)}}function $i(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ba(t),r=ba(r)),e(t,r)}}function Qi(e,t,r,n,o,s,a,u,l,d){var h=8&t;t|=h?c:f,4&(t&=~(h?f:c))||(t&=-4);var p=[e,t,o,h?s:i,h?a:i,h?i:s,h?i:a,u,l,d],y=r.apply(i,p);return Eo(e)&&Po(y,p),y.placeholder=n,Do(y,e,t)}function Gi(e){var t=ke[e];return function(e,r){if(e=ba(e),(r=null==r?0:vr(ya(r),292))&&_t(e)){var n=(va(e)+"e").split("e");return+((n=(va(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Xi=Ir&&1/lr(new Ir([,-0]))[1]==h?function(e){return new Ir(e)}:cu;function Yi(e){return function(t){var r=go(t);return r==x?ur(t):r==O?dr(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,s,h,p,y,g){var b=2&t;if(!b&&"function"!=typeof e)throw new Oe(o);var m=s?s.length:0;if(m||(t&=-97,s=h=i),y=y===i?y:mr(ya(y),0),g=g===i?g:ya(g),m-=h?h.length:0,t&f){var v=s,_=h;s=h=i}var w=b?i:so(e),S=[e,t,r,s,h,v,_,p,y,g];if(w&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&r==d&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ti(c,u,t[4]):u,e[4]=c?fr(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ci(c,u,t[6]):u,e[6]=c?fr(e[5],a):t[6]);(u=t[7])&&(e[7]=u);n&l&&(e[8]=null==e[8]?t[8]:vr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(S,w),e=S[0],t=S[1],r=S[2],s=S[3],h=S[4],!(g=S[9]=S[9]===i?b?0:e.length:mr(S[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==u?function(e,t,r){var o=Ni(e);return function s(){for(var a=arguments.length,u=n(a),c=a,f=uo(s);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==f&&u[a-1]!==f?[]:fr(u,f);return(a-=l.length)<r?Qi(e,t,Fi,s.placeholder,i,u,l,i,i,r-a):It(this&&this!==yt&&this instanceof s?o:e,this,u)}}(e,t,g):t!=c&&33!=t||h.length?Fi.apply(i,S):function(e,t,r,i){var o=1&t,s=Ni(e);return function t(){for(var a=-1,u=arguments.length,c=-1,f=i.length,l=n(f+u),d=this&&this!==yt&&this instanceof t?s:e;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++a];return It(d,o?r:this,l)}}(e,t,r,s);else var E=function(e,t,r){var n=1&t,i=Ni(e);return function t(){return(this&&this!==yt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Do((w?ti:Po)(E,S),e,t)}function Zi(e,t,r,n){return e===i||Fs(e,Be[r])&&!je.call(n,r)?t:e}function eo(e,t,r,n,o,s){return ta(e)&&ta(t)&&(s.set(t,e),qn(e,t,i,eo,s),s.delete(t)),e}function to(e){return oa(e)?i:e}function ro(e,t,r,n,o,s){var a=1&r,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var f=s.get(e),l=s.get(t);if(f&&l)return f==t&&l==e;var d=-1,h=!0,p=2&r?new Qr:i;for(s.set(e,t),s.set(t,e);++d<u;){var y=e[d],g=t[d];if(n)var b=a?n(g,y,d,t,e,s):n(y,g,d,e,t,s);if(b!==i){if(b)continue;h=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tr(p,t)&&(y===e||o(y,e,r,n,s)))return p.push(t)}))){h=!1;break}}else if(y!==g&&!o(y,g,r,n,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function no(e){return Bo(To(e,i,Wo),e+"")}function io(e){return xn(e,Ma,po)}function oo(e){return xn(e,Ba,yo)}var so=Or?function(e){return Or.get(e)}:cu;function ao(e){for(var t=e.name+"",r=Pr[t],n=je.call(Pr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(je.call(Hr,"placeholder")?Hr:e).placeholder}function co(){var e=Hr.iteratee||ou;return e=e===ou?jn:e,arguments.length?e(arguments[0],arguments[1]):e}function fo(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function lo(e){for(var t=Ma(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ko(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Rn(r)?r:i}var po=bt?function(e){return null==e?[]:(e=Ie(e),Mt(bt(e),(function(t){return Ge.call(e,t)})))}:gu,yo=bt?function(e){for(var t=[];e;)jt(t,po(e)),e=$e(e);return t}:gu,go=kn;function bo(e,t,r){for(var n=-1,i=(t=_i(t,e)).length,o=!1;++n<i;){var s=No(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&_o(s,i)&&(Vs(e)||Ks(e))}function mo(e){return"function"!=typeof e.constructor||xo(e)?{}:Fr($e(e))}function vo(e){return Vs(e)||Ks(e)||!!(Ye&&e&&e[Ye])}function _o(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,r){if(!ta(r))return!1;var n=typeof t;return!!("number"==n?$s(r)&&_o(t,r.length):"string"==n&&t in r)&&Fs(r[t],e)}function So(e,t){if(Vs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ca(e))||(re.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function Eo(e){var t=ao(e),r=Hr[t];if("function"!=typeof r||!(t in Kr.prototype))return!1;if(e===r)return!0;var n=so(r);return!!n&&e===n[0]}(Ar&&go(new Ar(new ArrayBuffer(1)))!=R||xr&&go(new xr)!=x||kr&&go(kr.resolve())!=T||Ir&&go(new Ir)!=O||Tr&&go(new Tr)!=B)&&(go=function(e){var t=kn(e),r=t==I?e.constructor:i,n=r?Uo(r):"";if(n)switch(n){case Mr:return R;case Br:return x;case Dr:return T;case Rr:return O;case jr:return B}return t});var Ao=De?Js:bu;function xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Be)}function ko(e){return e==e&&!ta(e)}function Io(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in Ie(r)))}}function To(e,t,r){return t=mr(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=mr(i.length-t,0),a=n(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(a),It(e,this,u)}}function Co(e,t){return t.length<2?e:An(e,ii(t,0,-1))}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Ro(ti),Mo=ht||function(e,t){return yt.setTimeout(e,t)},Bo=Ro(ri);function Do(e,t,r){var n=t+"";return Bo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ct(b,(function(r){var n="_."+r[0];t&r[1]&&!Bt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(fe):[]}(n),r)))}function Ro(e){var t=0,r=0;return function(){var n=_r(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function jo(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=Gn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Lo=function(e){var t=Rs(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(he,"$1"):r||e)})),t}));function No(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Uo(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ho(e){if(e instanceof Kr)return e.clone();var t=new qr(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fo=Yn((function(e,t){return Qs(e)?dn(e,mn(t,1,Qs,!0)):[]})),zo=Yn((function(e,t){var r=Yo(t);return Qs(r)&&(r=i),Qs(e)?dn(e,mn(t,1,Qs,!0),co(r,2)):[]})),qo=Yn((function(e,t){var r=Yo(t);return Qs(r)&&(r=i),Qs(e)?dn(e,mn(t,1,Qs,!0),i,r):[]}));function Ko(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ya(r);return i<0&&(i=mr(n+i,0)),zt(e,co(t,3),i)}function Vo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ya(r),o=r<0?mr(n+o,0):vr(o,n-1)),zt(e,co(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?mn(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var Qo=Yn((function(e){var t=Rt(e,mi);return t.length&&t[0]===e[0]?On(t):[]})),Go=Yn((function(e){var t=Yo(e),r=Rt(e,mi);return t===Yo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?On(r,co(t,2)):[]})),Xo=Yn((function(e){var t=Yo(e),r=Rt(e,mi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?On(r,i,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Yn(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}var es=no((function(e,t){var r=null==e?0:e.length,n=an(e,t);return Qn(e,Rt(t,(function(e){return _o(e,r)?+e:e})).sort(Ii)),n}));function ts(e){return null==e?e:Er.call(e)}var rs=Yn((function(e){return li(mn(e,1,Qs,!0))})),ns=Yn((function(e){var t=Yo(e);return Qs(t)&&(t=i),li(mn(e,1,Qs,!0),co(t,2))})),is=Yn((function(e){var t=Yo(e);return t="function"==typeof t?t:i,li(mn(e,1,Qs,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if(Qs(e))return t=mr(e.length,t),!0})),Yt(t,(function(t){return Rt(e,$t(t))}))}function ss(e,t){if(!e||!e.length)return[];var r=os(e);return null==t?r:Rt(r,(function(e){return It(t,i,e)}))}var as=Yn((function(e,t){return Qs(e)?dn(e,t):[]})),us=Yn((function(e){return gi(Mt(e,Qs))})),cs=Yn((function(e){var t=Yo(e);return Qs(t)&&(t=i),gi(Mt(e,Qs),co(t,2))})),fs=Yn((function(e){var t=Yo(e);return t="function"==typeof t?t:i,gi(Mt(e,Qs),i,t)})),ls=Yn(os);var ds=Yn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,ss(e,r)}));function hs(e){var t=Hr(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var ys=no((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Kr&&_o(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ps,args:[o],thisArg:i}),new qr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var gs=Mi((function(e,t,r){je.call(e,r)?++e[r]:sn(e,r,1)}));var bs=Ui(Ko),ms=Ui(Vo);function vs(e,t){return(Vs(e)?Ct:hn)(e,co(t,3))}function _s(e,t){return(Vs(e)?Ot:pn)(e,co(t,3))}var ws=Mi((function(e,t,r){je.call(e,r)?e[r].push(t):sn(e,r,[t])}));var Ss=Yn((function(e,t,r){var i=-1,o="function"==typeof t,s=$s(e)?n(e.length):[];return hn(e,(function(e){s[++i]=o?It(t,e,r):Pn(e,t,r)})),s})),Es=Mi((function(e,t,r){sn(e,r,t)}));function As(e,t){return(Vs(e)?Rt:Hn)(e,co(t,3))}var xs=Mi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var ks=Yn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&wo(e,t[0],t[1])?t=[]:r>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Vn(e,mn(t,1),[])})),Is=ft||function(){return yt.Date.now()};function Ts(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Ji(e,l,i,i,i,i,t)}function Cs(e,t){var r;if("function"!=typeof t)throw new Oe(o);return e=ya(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Os=Yn((function(e,t,r){var n=1;if(r.length){var i=fr(r,uo(Os));n|=c}return Ji(e,n,t,r,i)})),Ps=Yn((function(e,t,r){var n=3;if(r.length){var i=fr(r,uo(Ps));n|=c}return Ji(t,n,e,r,i)}));function Ms(e,t,r){var n,s,a,u,c,f,l=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Oe(o);function y(t){var r=n,o=s;return n=s=i,l=t,u=e.apply(o,r)}function g(e){var r=e-f;return f===i||r>=t||r<0||h&&e-l>=a}function b(){var e=Is();if(g(e))return m(e);c=Mo(b,function(e){var r=t-(e-f);return h?vr(r,a-(e-l)):r}(e))}function m(e){return c=i,p&&n?y(e):(n=s=i,u)}function v(){var e=Is(),r=g(e);if(n=arguments,s=this,f=e,r){if(c===i)return function(e){return l=e,c=Mo(b,t),d?y(e):u}(f);if(h)return Ei(c),c=Mo(b,t),y(f)}return c===i&&(c=Mo(b,t)),u}return t=ba(t)||0,ta(r)&&(d=!!r.leading,a=(h="maxWait"in r)?mr(ba(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),v.cancel=function(){c!==i&&Ei(c),l=0,n=f=s=c=i},v.flush=function(){return c===i?u:m(Is())},v}var Bs=Yn((function(e,t){return ln(e,1,t)})),Ds=Yn((function(e,t,r){return ln(e,ba(t)||0,r)}));function Rs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Rs.Cache||$r),r}function js(e){if("function"!=typeof e)throw new Oe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Rs.Cache=$r;var Ls=wi((function(e,t){var r=(t=1==t.length&&Vs(t[0])?Rt(t[0],Zt(co())):Rt(mn(t,1),Zt(co()))).length;return Yn((function(n){for(var i=-1,o=vr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return It(e,this,n)}))})),Ns=Yn((function(e,t){var r=fr(t,uo(Ns));return Ji(e,c,i,t,r)})),Us=Yn((function(e,t){var r=fr(t,uo(Us));return Ji(e,f,i,t,r)})),Hs=no((function(e,t){return Ji(e,d,i,i,i,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var zs=$i(In),qs=$i((function(e,t){return e>=t})),Ks=Mn(function(){return arguments}())?Mn:function(e){return ra(e)&&je.call(e,"callee")&&!Ge.call(e,"callee")},Vs=n.isArray,Ws=wt?Zt(wt):function(e){return ra(e)&&kn(e)==D};function $s(e){return null!=e&&ea(e.length)&&!Js(e)}function Qs(e){return ra(e)&&$s(e)}var Gs=vt||bu,Xs=St?Zt(St):function(e){return ra(e)&&kn(e)==w};function Ys(e){if(!ra(e))return!1;var t=kn(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Js(e){if(!ta(e))return!1;var t=kn(e);return t==E||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==ya(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ra(e){return null!=e&&"object"==typeof e}var na=Et?Zt(Et):function(e){return ra(e)&&go(e)==x};function ia(e){return"number"==typeof e||ra(e)&&kn(e)==k}function oa(e){if(!ra(e)||kn(e)!=I)return!1;var t=$e(e);if(null===t)return!0;var r=je.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Re.call(r)==He}var sa=At?Zt(At):function(e){return ra(e)&&kn(e)==C};var aa=xt?Zt(xt):function(e){return ra(e)&&go(e)==O};function ua(e){return"string"==typeof e||!Vs(e)&&ra(e)&&kn(e)==P}function ca(e){return"symbol"==typeof e||ra(e)&&kn(e)==M}var fa=kt?Zt(kt):function(e){return ra(e)&&ea(e.length)&&!!ut[kn(e)]};var la=$i(Un),da=$i((function(e,t){return e<=t}));function ha(e){if(!e)return[];if($s(e))return ua(e)?pr(e):Oi(e);if(Je&&e[Je])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Je]());var t=go(e);return(t==x?ur:t==O?lr:Fa)(e)}function pa(e){return e?(e=ba(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ya(e){var t=pa(e),r=t%1;return t==t?r?t-r:t:0}function ga(e){return e?un(ya(e),0,g):0}function ba(e){if("number"==typeof e)return e;if(ca(e))return y;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=be.test(e);return r||ve.test(e)?dt(e.slice(2),r?2:8):ge.test(e)?y:+e}function ma(e){return Pi(e,Ba(e))}function va(e){return null==e?"":fi(e)}var _a=Bi((function(e,t){if(xo(t)||$s(t))Pi(t,Ma(t),e);else for(var r in t)je.call(t,r)&&tn(e,r,t[r])})),wa=Bi((function(e,t){Pi(t,Ba(t),e)})),Sa=Bi((function(e,t,r,n){Pi(t,Ba(t),e,n)})),Ea=Bi((function(e,t,r,n){Pi(t,Ma(t),e,n)})),Aa=no(an);var xa=Yn((function(e,t){e=Ie(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=Ba(s),u=-1,c=a.length;++u<c;){var f=a[u],l=e[f];(l===i||Fs(l,Be[f])&&!je.call(e,f))&&(e[f]=s[f])}return e})),ka=Yn((function(e){return e.push(i,eo),It(Ra,i,e)}));function Ia(e,t,r){var n=null==e?i:An(e,t);return n===i?r:n}function Ta(e,t){return null!=e&&bo(e,t,Cn)}var Ca=zi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=r}),tu(iu)),Oa=zi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),je.call(e,t)?e[t].push(r):e[t]=[r]}),co),Pa=Yn(Pn);function Ma(e){return $s(e)?Xr(e):Ln(e)}function Ba(e){return $s(e)?Xr(e,!0):Nn(e)}var Da=Bi((function(e,t,r){qn(e,t,r)})),Ra=Bi((function(e,t,r,n){qn(e,t,r,n)})),ja=no((function(e,t){var r={};if(null==e)return r;var n=!1;t=Rt(t,(function(t){return t=_i(t,e),n||(n=t.length>1),t})),Pi(e,oo(e),r),n&&(r=cn(r,7,to));for(var i=t.length;i--;)di(r,t[i]);return r}));var La=no((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Ta(e,r)}))}(e,t)}));function Na(e,t){if(null==e)return{};var r=Rt(oo(e),(function(e){return[e]}));return t=co(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var Ua=Yi(Ma),Ha=Yi(Ba);function Fa(e){return null==e?[]:er(e,Ma(e))}var za=Li((function(e,t,r){return t=t.toLowerCase(),e+(r?qa(t):t)}));function qa(e){return Ya(va(e).toLowerCase())}function Ka(e){return(e=va(e))&&e.replace(we,ir).replace(tt,"")}var Va=Li((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Wa=Li((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),$a=ji("toLowerCase");var Qa=Li((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ga=Li((function(e,t,r){return e+(r?" ":"")+Ya(t)}));var Xa=Li((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Ya=ji("toUpperCase");function Ja(e,t,r){return e=va(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Za=Yn((function(e,t){try{return It(e,i,t)}catch(e){return Ys(e)?e:new Ae(e)}})),eu=no((function(e,t){return Ct(t,(function(t){t=No(t),sn(e,t,Os(e[t],e))})),e}));function tu(e){return function(){return e}}var ru=Hi(),nu=Hi(!0);function iu(e){return e}function ou(e){return jn("function"==typeof e?e:cn(e,1))}var su=Yn((function(e,t){return function(r){return Pn(r,e,t)}})),au=Yn((function(e,t){return function(r){return Pn(e,r,t)}}));function uu(e,t,r){var n=Ma(t),i=En(t,n);null!=r||ta(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=En(t,Ma(t)));var o=!(ta(r)&&"chain"in r&&!r.chain),s=Js(e);return Ct(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Oi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,jt([this.value()],arguments))})})),e}function cu(){}var fu=Ki(Rt),lu=Ki(Pt),du=Ki(Ut);function hu(e){return So(e)?$t(No(e)):function(e){return function(t){return An(t,e)}}(e)}var pu=Wi(),yu=Wi(!0);function gu(){return[]}function bu(){return!1}var mu=qi((function(e,t){return e+t}),0),vu=Gi("ceil"),_u=qi((function(e,t){return e/t}),1),wu=Gi("floor");var Su,Eu=qi((function(e,t){return e*t}),1),Au=Gi("round"),xu=qi((function(e,t){return e-t}),0);return Hr.after=function(e,t){if("function"!=typeof t)throw new Oe(o);return e=ya(e),function(){if(--e<1)return t.apply(this,arguments)}},Hr.ary=Ts,Hr.assign=_a,Hr.assignIn=wa,Hr.assignInWith=Sa,Hr.assignWith=Ea,Hr.at=Aa,Hr.before=Cs,Hr.bind=Os,Hr.bindAll=eu,Hr.bindKey=Ps,Hr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vs(e)?e:[e]},Hr.chain=hs,Hr.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:mr(ya(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=n(pt(o/t));s<o;)u[a++]=ii(e,s,s+=t);return u},Hr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Hr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return jt(Vs(r)?Oi(r):[r],mn(t,1))},Hr.cond=function(e){var t=null==e?0:e.length,r=co();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Oe(o);return[r(e[0]),e[1]]})):[],Yn((function(r){for(var n=-1;++n<t;){var i=e[n];if(It(i[0],this,r))return It(i[1],this,r)}}))},Hr.conforms=function(e){return function(e){var t=Ma(e);return function(r){return fn(r,e,t)}}(cn(e,1))},Hr.constant=tu,Hr.countBy=gs,Hr.create=function(e,t){var r=Fr(e);return null==t?r:on(r,t)},Hr.curry=function e(t,r,n){var o=Ji(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Hr.curryRight=function e(t,r,n){var o=Ji(t,u,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Hr.debounce=Ms,Hr.defaults=xa,Hr.defaultsDeep=ka,Hr.defer=Bs,Hr.delay=Ds,Hr.difference=Fo,Hr.differenceBy=zo,Hr.differenceWith=qo,Hr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=r||t===i?1:ya(t))<0?0:t,n):[]},Hr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,0,(t=n-(t=r||t===i?1:ya(t)))<0?0:t):[]},Hr.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Hr.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Hr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&wo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=ya(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ya(n))<0&&(n+=o),n=r>n?0:ga(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Hr.filter=function(e,t){return(Vs(e)?Mt:bn)(e,co(t,3))},Hr.flatMap=function(e,t){return mn(As(e,t),1)},Hr.flatMapDeep=function(e,t){return mn(As(e,t),h)},Hr.flatMapDepth=function(e,t,r){return r=r===i?1:ya(r),mn(As(e,t),r)},Hr.flatten=Wo,Hr.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,h):[]},Hr.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===i?1:ya(t)):[]},Hr.flip=function(e){return Ji(e,512)},Hr.flow=ru,Hr.flowRight=nu,Hr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Hr.functions=function(e){return null==e?[]:En(e,Ma(e))},Hr.functionsIn=function(e){return null==e?[]:En(e,Ba(e))},Hr.groupBy=ws,Hr.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Hr.intersection=Qo,Hr.intersectionBy=Go,Hr.intersectionWith=Xo,Hr.invert=Ca,Hr.invertBy=Oa,Hr.invokeMap=Ss,Hr.iteratee=ou,Hr.keyBy=Es,Hr.keys=Ma,Hr.keysIn=Ba,Hr.map=As,Hr.mapKeys=function(e,t){var r={};return t=co(t,3),wn(e,(function(e,n,i){sn(r,t(e,n,i),e)})),r},Hr.mapValues=function(e,t){var r={};return t=co(t,3),wn(e,(function(e,n,i){sn(r,n,t(e,n,i))})),r},Hr.matches=function(e){return Fn(cn(e,1))},Hr.matchesProperty=function(e,t){return zn(e,cn(t,1))},Hr.memoize=Rs,Hr.merge=Da,Hr.mergeWith=Ra,Hr.method=su,Hr.methodOf=au,Hr.mixin=uu,Hr.negate=js,Hr.nthArg=function(e){return e=ya(e),Yn((function(t){return Kn(t,e)}))},Hr.omit=ja,Hr.omitBy=function(e,t){return Na(e,js(co(t)))},Hr.once=function(e){return Cs(2,e)},Hr.orderBy=function(e,t,r,n){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(r=n?i:r)||(r=null==r?[]:[r]),Vn(e,t,r))},Hr.over=fu,Hr.overArgs=Ls,Hr.overEvery=lu,Hr.overSome=du,Hr.partial=Ns,Hr.partialRight=Us,Hr.partition=xs,Hr.pick=La,Hr.pickBy=Na,Hr.property=hu,Hr.propertyOf=function(e){return function(t){return null==e?i:An(e,t)}},Hr.pull=Jo,Hr.pullAll=Zo,Hr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?$n(e,t,co(r,2)):e},Hr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?$n(e,t,i,r):e},Hr.pullAt=es,Hr.range=pu,Hr.rangeRight=yu,Hr.rearg=Hs,Hr.reject=function(e,t){return(Vs(e)?Mt:bn)(e,js(co(t,3)))},Hr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=co(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Qn(e,i),r},Hr.rest=function(e,t){if("function"!=typeof e)throw new Oe(o);return Yn(e,t=t===i?t:ya(t))},Hr.reverse=ts,Hr.sampleSize=function(e,t,r){return t=(r?wo(e,t,r):t===i)?1:ya(t),(Vs(e)?Jr:Zn)(e,t)},Hr.set=function(e,t,r){return null==e?e:ei(e,t,r)},Hr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:ei(e,t,r,n)},Hr.shuffle=function(e){return(Vs(e)?Zr:ni)(e)},Hr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&wo(e,t,r)?(t=0,r=n):(t=null==t?0:ya(t),r=r===i?n:ya(r)),ii(e,t,r)):[]},Hr.sortBy=ks,Hr.sortedUniq=function(e){return e&&e.length?ui(e):[]},Hr.sortedUniqBy=function(e,t){return e&&e.length?ui(e,co(t,2)):[]},Hr.split=function(e,t,r){return r&&"number"!=typeof r&&wo(e,t,r)&&(t=r=i),(r=r===i?g:r>>>0)?(e=va(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=fi(t))&&ar(e)?Si(pr(e),0,r):e.split(t,r):[]},Hr.spread=function(e,t){if("function"!=typeof e)throw new Oe(o);return t=null==t?0:mr(ya(t),0),Yn((function(r){var n=r[t],i=Si(r,0,t);return n&&jt(i,n),It(e,this,i)}))},Hr.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Hr.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===i?1:ya(t))<0?0:t):[]},Hr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ii(e,(t=n-(t=r||t===i?1:ya(t)))<0?0:t,n):[]},Hr.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Hr.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Hr.tap=function(e,t){return t(e),e},Hr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Oe(o);return ta(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ms(e,t,{leading:n,maxWait:t,trailing:i})},Hr.thru=ps,Hr.toArray=ha,Hr.toPairs=Ua,Hr.toPairsIn=Ha,Hr.toPath=function(e){return Vs(e)?Rt(e,No):ca(e)?[e]:Oi(Lo(va(e)))},Hr.toPlainObject=ma,Hr.transform=function(e,t,r){var n=Vs(e),i=n||Gs(e)||fa(e);if(t=co(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ta(e)&&Js(o)?Fr($e(e)):{}}return(i?Ct:wn)(e,(function(e,n,i){return t(r,e,n,i)})),r},Hr.unary=function(e){return Ts(e,1)},Hr.union=rs,Hr.unionBy=ns,Hr.unionWith=is,Hr.uniq=function(e){return e&&e.length?li(e):[]},Hr.uniqBy=function(e,t){return e&&e.length?li(e,co(t,2)):[]},Hr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Hr.unset=function(e,t){return null==e||di(e,t)},Hr.unzip=os,Hr.unzipWith=ss,Hr.update=function(e,t,r){return null==e?e:hi(e,t,vi(r))},Hr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:hi(e,t,vi(r),n)},Hr.values=Fa,Hr.valuesIn=function(e){return null==e?[]:er(e,Ba(e))},Hr.without=as,Hr.words=Ja,Hr.wrap=function(e,t){return Ns(vi(t),e)},Hr.xor=us,Hr.xorBy=cs,Hr.xorWith=fs,Hr.zip=ls,Hr.zipObject=function(e,t){return bi(e||[],t||[],tn)},Hr.zipObjectDeep=function(e,t){return bi(e||[],t||[],ei)},Hr.zipWith=ds,Hr.entries=Ua,Hr.entriesIn=Ha,Hr.extend=wa,Hr.extendWith=Sa,uu(Hr,Hr),Hr.add=mu,Hr.attempt=Za,Hr.camelCase=za,Hr.capitalize=qa,Hr.ceil=vu,Hr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=ba(r))==r?r:0),t!==i&&(t=(t=ba(t))==t?t:0),un(ba(e),t,r)},Hr.clone=function(e){return cn(e,4)},Hr.cloneDeep=function(e){return cn(e,5)},Hr.cloneDeepWith=function(e,t){return cn(e,5,t="function"==typeof t?t:i)},Hr.cloneWith=function(e,t){return cn(e,4,t="function"==typeof t?t:i)},Hr.conformsTo=function(e,t){return null==t||fn(e,t,Ma(t))},Hr.deburr=Ka,Hr.defaultTo=function(e,t){return null==e||e!=e?t:e},Hr.divide=_u,Hr.endsWith=function(e,t,r){e=va(e),t=fi(t);var n=e.length,o=r=r===i?n:un(ya(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Hr.eq=Fs,Hr.escape=function(e){return(e=va(e))&&Y.test(e)?e.replace(G,or):e},Hr.escapeRegExp=function(e){return(e=va(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Hr.every=function(e,t,r){var n=Vs(e)?Pt:yn;return r&&wo(e,t,r)&&(t=i),n(e,co(t,3))},Hr.find=bs,Hr.findIndex=Ko,Hr.findKey=function(e,t){return Ft(e,co(t,3),wn)},Hr.findLast=ms,Hr.findLastIndex=Vo,Hr.findLastKey=function(e,t){return Ft(e,co(t,3),Sn)},Hr.floor=wu,Hr.forEach=vs,Hr.forEachRight=_s,Hr.forIn=function(e,t){return null==e?e:vn(e,co(t,3),Ba)},Hr.forInRight=function(e,t){return null==e?e:_n(e,co(t,3),Ba)},Hr.forOwn=function(e,t){return e&&wn(e,co(t,3))},Hr.forOwnRight=function(e,t){return e&&Sn(e,co(t,3))},Hr.get=Ia,Hr.gt=zs,Hr.gte=qs,Hr.has=function(e,t){return null!=e&&bo(e,t,Tn)},Hr.hasIn=Ta,Hr.head=$o,Hr.identity=iu,Hr.includes=function(e,t,r,n){e=$s(e)?e:Fa(e),r=r&&!n?ya(r):0;var i=e.length;return r<0&&(r=mr(i+r,0)),ua(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&qt(e,t,r)>-1},Hr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ya(r);return i<0&&(i=mr(n+i,0)),qt(e,t,i)},Hr.inRange=function(e,t,r){return t=pa(t),r===i?(r=t,t=0):r=pa(r),function(e,t,r){return e>=vr(t,r)&&e<mr(t,r)}(e=ba(e),t,r)},Hr.invoke=Pa,Hr.isArguments=Ks,Hr.isArray=Vs,Hr.isArrayBuffer=Ws,Hr.isArrayLike=$s,Hr.isArrayLikeObject=Qs,Hr.isBoolean=function(e){return!0===e||!1===e||ra(e)&&kn(e)==_},Hr.isBuffer=Gs,Hr.isDate=Xs,Hr.isElement=function(e){return ra(e)&&1===e.nodeType&&!oa(e)},Hr.isEmpty=function(e){if(null==e)return!0;if($s(e)&&(Vs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||fa(e)||Ks(e)))return!e.length;var t=go(e);if(t==x||t==O)return!e.size;if(xo(e))return!Ln(e).length;for(var r in e)if(je.call(e,r))return!1;return!0},Hr.isEqual=function(e,t){return Bn(e,t)},Hr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Bn(e,t,i,r):!!n},Hr.isError=Ys,Hr.isFinite=function(e){return"number"==typeof e&&_t(e)},Hr.isFunction=Js,Hr.isInteger=Zs,Hr.isLength=ea,Hr.isMap=na,Hr.isMatch=function(e,t){return e===t||Dn(e,t,lo(t))},Hr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Dn(e,t,lo(t),r)},Hr.isNaN=function(e){return ia(e)&&e!=+e},Hr.isNative=function(e){if(Ao(e))throw new Ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rn(e)},Hr.isNil=function(e){return null==e},Hr.isNull=function(e){return null===e},Hr.isNumber=ia,Hr.isObject=ta,Hr.isObjectLike=ra,Hr.isPlainObject=oa,Hr.isRegExp=sa,Hr.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=p},Hr.isSet=aa,Hr.isString=ua,Hr.isSymbol=ca,Hr.isTypedArray=fa,Hr.isUndefined=function(e){return e===i},Hr.isWeakMap=function(e){return ra(e)&&go(e)==B},Hr.isWeakSet=function(e){return ra(e)&&"[object WeakSet]"==kn(e)},Hr.join=function(e,t){return null==e?"":Ht.call(e,t)},Hr.kebabCase=Va,Hr.last=Yo,Hr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ya(r))<0?mr(n+o,0):vr(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):zt(e,Vt,o,!0)},Hr.lowerCase=Wa,Hr.lowerFirst=$a,Hr.lt=la,Hr.lte=da,Hr.max=function(e){return e&&e.length?gn(e,iu,In):i},Hr.maxBy=function(e,t){return e&&e.length?gn(e,co(t,2),In):i},Hr.mean=function(e){return Wt(e,iu)},Hr.meanBy=function(e,t){return Wt(e,co(t,2))},Hr.min=function(e){return e&&e.length?gn(e,iu,Un):i},Hr.minBy=function(e,t){return e&&e.length?gn(e,co(t,2),Un):i},Hr.stubArray=gu,Hr.stubFalse=bu,Hr.stubObject=function(){return{}},Hr.stubString=function(){return""},Hr.stubTrue=function(){return!0},Hr.multiply=Eu,Hr.nth=function(e,t){return e&&e.length?Kn(e,ya(t)):i},Hr.noConflict=function(){return yt._===this&&(yt._=Fe),this},Hr.noop=cu,Hr.now=Is,Hr.pad=function(e,t,r){e=va(e);var n=(t=ya(t))?hr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Vi(gt(i),r)+e+Vi(pt(i),r)},Hr.padEnd=function(e,t,r){e=va(e);var n=(t=ya(t))?hr(e):0;return t&&n<t?e+Vi(t-n,r):e},Hr.padStart=function(e,t,r){e=va(e);var n=(t=ya(t))?hr(e):0;return t&&n<t?Vi(t-n,r)+e:e},Hr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),wr(va(e).replace(se,""),t||0)},Hr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&wo(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=pa(e),t===i?(t=e,e=0):t=pa(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=Sr();return vr(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Gn(e,t)},Hr.reduce=function(e,t,r){var n=Vs(e)?Lt:Gt,i=arguments.length<3;return n(e,co(t,4),r,i,hn)},Hr.reduceRight=function(e,t,r){var n=Vs(e)?Nt:Gt,i=arguments.length<3;return n(e,co(t,4),r,i,pn)},Hr.repeat=function(e,t,r){return t=(r?wo(e,t,r):t===i)?1:ya(t),Xn(va(e),t)},Hr.replace=function(){var e=arguments,t=va(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hr.result=function(e,t,r){var n=-1,o=(t=_i(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[No(t[n])];s===i&&(n=o,s=r),e=Js(s)?s.call(e):s}return e},Hr.round=Au,Hr.runInContext=e,Hr.sample=function(e){return(Vs(e)?Yr:Jn)(e)},Hr.size=function(e){if(null==e)return 0;if($s(e))return ua(e)?hr(e):e.length;var t=go(e);return t==x||t==O?e.size:Ln(e).length},Hr.snakeCase=Qa,Hr.some=function(e,t,r){var n=Vs(e)?Ut:oi;return r&&wo(e,t,r)&&(t=i),n(e,co(t,3))},Hr.sortedIndex=function(e,t){return si(e,t)},Hr.sortedIndexBy=function(e,t,r){return ai(e,t,co(r,2))},Hr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=si(e,t);if(n<r&&Fs(e[n],t))return n}return-1},Hr.sortedLastIndex=function(e,t){return si(e,t,!0)},Hr.sortedLastIndexBy=function(e,t,r){return ai(e,t,co(r,2),!0)},Hr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=si(e,t,!0)-1;if(Fs(e[r],t))return r}return-1},Hr.startCase=Ga,Hr.startsWith=function(e,t,r){return e=va(e),r=null==r?0:un(ya(r),0,e.length),t=fi(t),e.slice(r,r+t.length)==t},Hr.subtract=xu,Hr.sum=function(e){return e&&e.length?Xt(e,iu):0},Hr.sumBy=function(e,t){return e&&e.length?Xt(e,co(t,2)):0},Hr.template=function(e,t,r){var n=Hr.templateSettings;r&&wo(e,t,r)&&(t=i),e=va(e),t=Sa({},t,n,Zi);var o,s,a=Sa({},t.imports,n.imports,Zi),u=Ma(a),c=er(a,u),f=0,l=t.interpolate||Se,d="__p += '",h=Te((t.escape||Se).source+"|"+l.source+"|"+(l===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(h,(function(t,r,n,i,a,u){return n||(n=i),d+=e.slice(f,u).replace(Ee,sr),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),d+="';\n";var y=je.call(t,"variable")&&t.variable;if(y){if(de.test(y))throw new Ae("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(V,""):d).replace(W,"$1").replace($,"$1;"),d="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Za((function(){return xe(u,p+"return "+d).apply(i,c)}));if(g.source=d,Ys(g))throw g;return g},Hr.times=function(e,t){if((e=ya(e))<1||e>p)return[];var r=g,n=vr(e,g);t=co(t),e-=g;for(var i=Yt(n,t);++r<e;)t(r);return i},Hr.toFinite=pa,Hr.toInteger=ya,Hr.toLength=ga,Hr.toLower=function(e){return va(e).toLowerCase()},Hr.toNumber=ba,Hr.toSafeInteger=function(e){return e?un(ya(e),-9007199254740991,p):0===e?e:0},Hr.toString=va,Hr.toUpper=function(e){return va(e).toUpperCase()},Hr.trim=function(e,t,r){if((e=va(e))&&(r||t===i))return Jt(e);if(!e||!(t=fi(t)))return e;var n=pr(e),o=pr(t);return Si(n,rr(n,o),nr(n,o)+1).join("")},Hr.trimEnd=function(e,t,r){if((e=va(e))&&(r||t===i))return e.slice(0,yr(e)+1);if(!e||!(t=fi(t)))return e;var n=pr(e);return Si(n,0,nr(n,pr(t))+1).join("")},Hr.trimStart=function(e,t,r){if((e=va(e))&&(r||t===i))return e.replace(se,"");if(!e||!(t=fi(t)))return e;var n=pr(e);return Si(n,rr(n,pr(t))).join("")},Hr.truncate=function(e,t){var r=30,n="...";if(ta(t)){var o="separator"in t?t.separator:o;r="length"in t?ya(t.length):r,n="omission"in t?fi(t.omission):n}var s=(e=va(e)).length;if(ar(e)){var a=pr(e);s=a.length}if(r>=s)return e;var u=r-hr(n);if(u<1)return n;var c=a?Si(a,0,u).join(""):e.slice(0,u);if(o===i)return c+n;if(a&&(u+=c.length-u),sa(o)){if(e.slice(u).search(o)){var f,l=c;for(o.global||(o=Te(o.source,va(ye.exec(o))+"g")),o.lastIndex=0;f=o.exec(l);)var d=f.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(fi(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+n},Hr.unescape=function(e){return(e=va(e))&&X.test(e)?e.replace(Q,gr):e},Hr.uniqueId=function(e){var t=++Le;return va(e)+t},Hr.upperCase=Xa,Hr.upperFirst=Ya,Hr.each=vs,Hr.eachRight=_s,Hr.first=$o,uu(Hr,(Su={},wn(Hr,(function(e,t){je.call(Hr.prototype,t)||(Su[t]=e)})),Su),{chain:!1}),Hr.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hr[e].placeholder=Hr})),Ct(["drop","take"],(function(e,t){Kr.prototype[e]=function(r){r=r===i?1:mr(ya(r),0);var n=this.__filtered__&&!t?new Kr(this):this.clone();return n.__filtered__?n.__takeCount__=vr(r,n.__takeCount__):n.__views__.push({size:vr(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Kr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Kr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ct(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Kr.prototype[e]=function(){return this[r](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Kr.prototype[e]=function(){return this.__filtered__?new Kr(this):this[r](1)}})),Kr.prototype.compact=function(){return this.filter(iu)},Kr.prototype.find=function(e){return this.filter(e).head()},Kr.prototype.findLast=function(e){return this.reverse().find(e)},Kr.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new Kr(this):this.map((function(r){return Pn(r,e,t)}))})),Kr.prototype.reject=function(e){return this.filter(js(co(e)))},Kr.prototype.slice=function(e,t){e=ya(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Kr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=ya(t))<0?r.dropRight(-t):r.take(t-e)),r)},Kr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kr.prototype.toArray=function(){return this.take(g)},wn(Kr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Hr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(Hr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,u=t instanceof Kr,c=a[0],f=u||Vs(t),l=function(e){var t=o.apply(Hr,jt([e],a));return n&&d?t[0]:t};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var d=this.__chain__,h=!!this.__actions__.length,p=s&&!d,y=u&&!h;if(!s&&f){t=y?t:new Kr(this);var g=e.apply(t,a);return g.__actions__.push({func:ps,args:[l],thisArg:i}),new qr(g,d)}return p&&y?e.apply(this,a):(g=this.thru(l),p?n?g.value()[0]:g.value():g)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Hr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Vs(i)?i:[],e)}return this[r]((function(r){return t.apply(Vs(r)?r:[],e)}))}})),wn(Kr.prototype,(function(e,t){var r=Hr[t];if(r){var n=r.name+"";je.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:t,func:r})}})),Pr[Fi(i,2).name]=[{name:"wrapper",func:i}],Kr.prototype.clone=function(){var e=new Kr(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Kr.prototype.reverse=function(){if(this.__filtered__){var e=new Kr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Vs(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=vr(t,e+s);break;case"takeRight":e=mr(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,l=f.length,d=0,h=vr(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return yi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var y=-1,g=e[c+=t];++y<l;){var b=f[y],m=b.iteratee,v=b.type,_=m(g);if(2==v)g=_;else if(!_){if(1==v)continue e;break e}}p[d++]=g}return p},Hr.prototype.at=ys,Hr.prototype.chain=function(){return hs(this)},Hr.prototype.commit=function(){return new qr(this.value(),this.__chain__)},Hr.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hr.prototype.plant=function(e){for(var t,r=this;r instanceof zr;){var n=Ho(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Hr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kr){var t=e;return this.__actions__.length&&(t=new Kr(this)),(t=t.reverse()).__actions__.push({func:ps,args:[ts],thisArg:i}),new qr(t,this.__chain__)}return this.thru(ts)},Hr.prototype.toJSON=Hr.prototype.valueOf=Hr.prototype.value=function(){return yi(this.__wrapped__,this.__actions__)},Hr.prototype.first=Hr.prototype.head,Je&&(Hr.prototype[Je]=function(){return this}),Hr}();yt._=br,(n=function(){return br}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},50104:(e,t,r)=>{var n=r(53661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n),r}i.Cache=n,e.exports=i},71086:(e,t,r)=>{var n=r(34932),i=r(15389),o=r(97420),s=r(83349);e.exports=function(e,t){if(null==e)return{};var r=n(s(e),(function(e){return[e]}));return t=i(t),o(e,r,(function(e,r){return t(e,r[0])}))}},50583:(e,t,r)=>{var n=r(47237),i=r(17255),o=r(28586),s=r(77797);e.exports=function(e){return o(e)?n(s(e)):i(e)}},63345:e=>{e.exports=function(){return[]}},89935:e=>{e.exports=function(){return!1}},13222:(e,t,r)=>{var n=r(77556);e.exports=function(e){return null==e?"":n(e)}},48089:e=>{"use strict";const t=e=>"object"==typeof e&&null!==e,r=Symbol("skip"),n=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),i=(e,t,o,s=new WeakMap)=>{if(o={deep:!1,target:{},...o},s.has(e))return s.get(e);s.set(e,o.target);const{target:a}=o;delete o.target;const u=e=>e.map((e=>n(e)?i(e,t,o,s):e));if(Array.isArray(e))return u(e);for(const[c,f]of Object.entries(e)){const l=t(c,f,e);if(l===r)continue;let[d,h,{shouldRecurse:p=!0}={}]=l;"__proto__"!==d&&(o.deep&&p&&n(h)&&(h=Array.isArray(h)?u(h):i(h,t,o,s)),a[d]=h)}return a};e.exports=(e,r,n)=>{if(!t(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return i(e,r,n)},e.exports.mapObjectSkip=r},88276:(e,t,r)=>{"use strict";var n=r(56698),i=r(73726),o=r(92861).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,r,n,i,o,s){return u(e+(t&r|~t&n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return u(e+(t&n|r&~n)+i+o|0,s)+t|0}function l(e,t,r,n,i,o,s){return u(e+(t^r^n)+i+o|0,s)+t|0}function d(e,t,r,n,i,o,s){return u(e+(r^(t|~n))+i+o|0,s)+t|0}n(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=c(r,n,i,o,e[0],3614090360,7),o=c(o,r,n,i,e[1],3905402710,12),i=c(i,o,r,n,e[2],606105819,17),n=c(n,i,o,r,e[3],3250441966,22),r=c(r,n,i,o,e[4],4118548399,7),o=c(o,r,n,i,e[5],1200080426,12),i=c(i,o,r,n,e[6],2821735955,17),n=c(n,i,o,r,e[7],4249261313,22),r=c(r,n,i,o,e[8],1770035416,7),o=c(o,r,n,i,e[9],2336552879,12),i=c(i,o,r,n,e[10],4294925233,17),n=c(n,i,o,r,e[11],2304563134,22),r=c(r,n,i,o,e[12],1804603682,7),o=c(o,r,n,i,e[13],4254626195,12),i=c(i,o,r,n,e[14],2792965006,17),r=f(r,n=c(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=f(o,r,n,i,e[6],3225465664,9),i=f(i,o,r,n,e[11],643717713,14),n=f(n,i,o,r,e[0],3921069994,20),r=f(r,n,i,o,e[5],3593408605,5),o=f(o,r,n,i,e[10],38016083,9),i=f(i,o,r,n,e[15],3634488961,14),n=f(n,i,o,r,e[4],3889429448,20),r=f(r,n,i,o,e[9],568446438,5),o=f(o,r,n,i,e[14],3275163606,9),i=f(i,o,r,n,e[3],4107603335,14),n=f(n,i,o,r,e[8],1163531501,20),r=f(r,n,i,o,e[13],2850285829,5),o=f(o,r,n,i,e[2],4243563512,9),i=f(i,o,r,n,e[7],1735328473,14),r=l(r,n=f(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=l(o,r,n,i,e[8],2272392833,11),i=l(i,o,r,n,e[11],1839030562,16),n=l(n,i,o,r,e[14],4259657740,23),r=l(r,n,i,o,e[1],2763975236,4),o=l(o,r,n,i,e[4],1272893353,11),i=l(i,o,r,n,e[7],4139469664,16),n=l(n,i,o,r,e[10],3200236656,23),r=l(r,n,i,o,e[13],681279174,4),o=l(o,r,n,i,e[0],3936430074,11),i=l(i,o,r,n,e[3],3572445317,16),n=l(n,i,o,r,e[6],76029189,23),r=l(r,n,i,o,e[9],3654602809,4),o=l(o,r,n,i,e[12],3873151461,11),i=l(i,o,r,n,e[15],530742520,16),r=d(r,n=l(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=d(o,r,n,i,e[7],1126891415,10),i=d(i,o,r,n,e[14],2878612391,15),n=d(n,i,o,r,e[5],4237533241,21),r=d(r,n,i,o,e[12],1700485571,6),o=d(o,r,n,i,e[3],2399980690,10),i=d(i,o,r,n,e[10],4293915773,15),n=d(n,i,o,r,e[1],2240044497,21),r=d(r,n,i,o,e[8],1873313359,6),o=d(o,r,n,i,e[15],4264355552,10),i=d(i,o,r,n,e[6],2734768916,15),n=d(n,i,o,r,e[13],1309151649,21),r=d(r,n,i,o,e[4],4149444226,6),o=d(o,r,n,i,e[11],3174756917,10),i=d(i,o,r,n,e[2],718787259,15),n=d(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},73726:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(28399).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(56698)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},52244:(e,t,r)=>{var n=r(39404),i=r(15037);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),s=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),u=0;!a.testn(u);u++);for(var c=e.shrn(u),f=a.toRed(o);t>0;t--){var l=this._randrange(new n(2),a);r&&r(l);var d=l.toRed(o).redPow(c);if(0!==d.cmp(s)&&0!==d.cmp(f)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(s))return!1;if(0===d.cmp(f))break}if(h===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var u=e.shrn(a),c=s.toRed(i);t>0;t--){var f=this._randrange(new n(2),s),l=e.gcd(f);if(0!==l.cmpn(1))return l;var d=f.toRed(i).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var h=1;h<a;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===a)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},43349:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},64367:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},86889:e=>{e.exports=function e(r,n){if(!r){var i=new t(n);throw Error.captureStackTrace&&Error.captureStackTrace(i,e),i}};class t extends Error{}t.prototype.name="AssertionError"},90165:(e,t,r)=>{"use strict";const n=r(4693);e.exports=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new n;let r=0;const i=async(e,n,...i)=>{r++;const o=(async()=>e(...i))();n(o);try{await o}catch{}r--,t.size>0&&t.dequeue()()},o=(n,...o)=>new Promise((s=>{((n,o,...s)=>{t.enqueue(i.bind(null,n,o,...s)),(async()=>{await Promise.resolve(),r<e&&t.size>0&&t.dequeue()()})()})(n,s,...o)}));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),o}},21137:(e,t,r)=>{"use strict";var n=r(87568);t.certificate=r(36413);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var u=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var c=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var f=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=f,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var l=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),d=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=d,t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},36413:(e,t,r)=>{"use strict";var n=r(87568),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),u=n.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=n.define("RDNSequence",(function(){this.seqof(u)})),f=n.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),l=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=p},24101:(e,t,r)=>{"use strict";var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(68078),a=r(1241),u=r(92861).Buffer;e.exports=function(e,t){var r,c=e.toString(),f=c.match(n);if(f){var l="aes"+f[1],d=u.from(f[2],"hex"),h=u.from(f[3].replace(/[\r\n]/g,""),"base64"),p=s(t,d.slice(0,8),parseInt(f[1],10)).key,y=[],g=a.createDecipheriv(l,p,d);y.push(g.update(h)),y.push(g.final()),r=u.concat(y)}else{var b=c.match(o);r=u.from(b[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:r}}},78170:(e,t,r)=>{"use strict";var n=r(21137),i=r(15579),o=r(24101),s=r(1241),a=r(78396),u=r(92861).Buffer;function c(e){var t;"object"!=typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=u.from(e));var r,c,f=o(e,t),l=f.tag,d=f.data;switch(l){case"CERTIFICATE":c=n.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=n.PublicKey.decode(d,"der")),r=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=n.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,d=a.pbkdf2Sync(t,r,n,l,"sha1"),h=s.createDecipheriv(o,d,c),p=[];return p.push(h.update(f)),p.push(h.final()),u.concat(p)}(d=n.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(r=(c=n.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:n.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=n.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=n.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+l)}}c.signature=n.signature,e.exports=c},78396:(e,t,r)=>{t.pbkdf2=r(43832),t.pbkdf2Sync=r(21352)},43832:(e,t,r)=>{var n,i,o=r(92861).Buffer,s=r(64196),a=r(2455),u=r(21352),c=r(93382),f=r.g.crypto&&r.g.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function h(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return f.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return f.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,t,i,y,g,b){"function"==typeof g&&(b=g,g=void 0);var m=l[(g=g||"sha1").toLowerCase()];if(m&&"function"==typeof r.g.Promise){if(s(i,y),e=c(e,a,"Password"),t=c(t,a,"Salt"),"function"!=typeof b)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){h()((function(){t(null,e)}))}),(function(e){h()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var t=p(n=n||o.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return d[e]=t,t}(m).then((function(r){return r?p(e,t,i,y,m):u(e,t,i,y,g)})),b)}else h()((function(){var r;try{r=u(e,t,i,y,g)}catch(e){return b(e)}b(null,r)}))}},2455:(e,t,r)=>{var n,i=r(65606);if(r.g.process&&r.g.process.browser)n="utf-8";else if(r.g.process&&r.g.process.version){n=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";e.exports=n},64196:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},21352:(e,t,r)=>{var n=r(20320),i=r(66011),o=r(62802),s=r(92861).Buffer,a=r(64196),u=r(2455),c=r(93382),f=s.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,r){var a=function(e){function t(t){return o(e).update(t).digest()}function r(e){return(new i).update(e).digest()}return"rmd160"===e||"ripemd160"===e?r:"md5"===e?n:t}(e),u="sha512"===e||"sha384"===e?128:64;t.length>u?t=a(t):t.length<u&&(t=s.concat([t,f],u));for(var c=s.allocUnsafe(u+l[e]),d=s.allocUnsafe(u+l[e]),h=0;h<u;h++)c[h]=54^t[h],d[h]=92^t[h];var p=s.allocUnsafe(u+r+4);c.copy(p,0,0,u),this.ipad1=p,this.ipad2=c,this.opad=d,this.alg=e,this.blocksize=u,this.hash=a,this.size=l[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){a(r,n);var o=new d(i=i||"sha1",e=c(e,u,"Password"),(t=c(t,u,"Salt")).length),f=s.allocUnsafe(n),h=s.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,y=l[i],g=Math.ceil(n/y),b=1;b<=g;b++){h.writeUInt32BE(b,t.length);for(var m=o.run(h,o.ipad1),v=m,_=1;_<r;_++){v=o.run(v,o.ipad2);for(var w=0;w<y;w++)m[w]^=v[w]}m.copy(f,p),p+=y}return f}},93382:(e,t,r)=>{var n=r(92861).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},33225:(e,t,r)=>{"use strict";var n=r(65606);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return n.nextTick((function(){e.apply(null,o)}))}}}:e.exports=n},65606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,u=[],c=!1,f=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length&&d())}function d(){if(!c){var e=s(l);c=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},97168:(e,t,r)=>{t.publicEncrypt=r(28902),t.privateDecrypt=r(77362),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},48206:(e,t,r)=>{var n=r(47108),i=r(92861).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=i.alloc(0),a=0;s.length<t;)r=o(a++),s=i.concat([s,n("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},77362:(e,t,r)=>{var n=r(78170),i=r(48206),o=r(52061),s=r(39404),a=r(67332),u=r(47108),c=r(99247),f=r(92861).Buffer;e.exports=function(e,t,r){var l;l=e.padding?e.padding:r?1:4;var d,h=n(e),p=h.modulus.byteLength();if(t.length>p||new s(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=r?c(new s(t),h):a(t,h);var y=f.alloc(p-d.length);if(d=f.concat([y,d],p),4===l)return function(e,t){var r=e.modulus.byteLength(),n=u("sha1").update(f.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var a=t.slice(1,s+1),c=t.slice(s+1),l=o(a,i(c,s)),d=o(c,i(l,r-s-1));if(function(e,t){e=f.from(e),t=f.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,d.slice(0,s)))throw new Error("decryption error");var h=s;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===l)return function(e,t,r){var n=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var s=t.slice(2,i-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&o++;s.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,d,r);if(3===l)return d;throw new Error("unknown padding")}},28902:(e,t,r)=>{var n=r(78170),i=r(53209),o=r(47108),s=r(48206),a=r(52061),u=r(39404),c=r(99247),f=r(67332),l=r(92861).Buffer;e.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var h,p=n(e);if(4===d)h=function(e,t){var r=e.modulus.byteLength(),n=t.length,c=o("sha1").update(l.alloc(0)).digest(),f=c.length,d=2*f;if(n>r-d-2)throw new Error("message too long");var h=l.alloc(r-n-d-2),p=r-f-1,y=i(f),g=a(l.concat([c,h,l.alloc(1,1),t],p),s(y,p)),b=a(y,s(g,f));return new u(l.concat([l.alloc(1),b,g],r))}(p,t);else if(1===d)h=function(e,t,r){var n,o=t.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");n=r?l.alloc(s-o-3,255):function(e){var t,r=l.allocUnsafe(e),n=0,o=i(2*e),s=0;for(;n<e;)s===o.length&&(o=i(2*e),s=0),(t=o[s++])&&(r[n++]=t);return r}(s-o-3);return new u(l.concat([l.from([0,r?1:2]),n,l.alloc(1),t],s))}(p,t,r);else{if(3!==d)throw new Error("unknown padding");if((h=new u(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?f(h,p):c(h,p)}},99247:(e,t,r)=>{var n=r(39404),i=r(92861).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},52061:e=>{e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},87392:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t},53209:(e,t,r)=>{"use strict";var n=r(65606),i=65536,o=4294967295;var s=r(92861).Buffer,a=r.g.crypto||r.g.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(e);if(e>0)if(e>i)for(var u=0;u<e;u+=i)a.getRandomValues(r.slice(u,u+i));else a.getRandomValues(r);if("function"==typeof t)return n.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},76983:(e,t,r)=>{"use strict";var n=r(65606);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(92861),s=r(53209),a=o.Buffer,u=o.kMaxLength,c=r.g.crypto||r.g.msCrypto,f=Math.pow(2,32)-1;function l(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function d(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>u)throw new RangeError("buffer too small")}function h(e,t,r,i){if(n.browser){var o=e.buffer,a=new Uint8Array(o,t,r);return c.getRandomValues(a),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return s(r).copy(e,t),e;s(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}c&&c.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return l(t,e.length),d(n,t,e.length),h(e,t,n,i)},t.randomFillSync=function(e,t,n){void 0===t&&(t=0);if(!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');l(t,e.length),void 0===n&&(n=e.length-t);return d(n,t,e.length),h(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},86048:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a;if("string"==typeof t&&(o="not ",t.substr(!s||s<0?0:+s,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},25382:(e,t,r)=>{"use strict";var n=r(65606),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r(45412),s=r(16708);r(56698)(f,o);for(var a=i(s.prototype),u=0;u<a.length;u++){var c=a[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},63600:(e,t,r)=>{"use strict";e.exports=i;var n=r(74610);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(56698)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},45412:(e,t,r)=>{"use strict";var n,i=r(65606);e.exports=x,x.ReadableState=A;r(37007).EventEmitter;var o=function(e,t){return e.listeners(t).length},s=r(40345),a=r(48287).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var c,f=r(79838);c=f&&f.debuglog?f.debuglog("stream"):function(){};var l,d,h,p=r(80345),y=r(75896),g=r(65291).getHighWaterMark,b=r(86048).F,m=b.ERR_INVALID_ARG_TYPE,v=b.ERR_STREAM_PUSH_AFTER_EOF,_=b.ERR_METHOD_NOT_IMPLEMENTED,w=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(56698)(x,s);var S=y.errorOrDestroy,E=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r(25382),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(83141).I),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||r(25382),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,r,n,i){c("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?O(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,s);else if(i||(o=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),o)S(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)s.endEmitted?S(e,new w):I(e,s,t,!0);else if(s.ended)S(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?I(e,s,t,!1):M(e,s)):I(e,s,t,!1)}else n||(s.reading=!1,M(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&O(e)),M(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=y.destroy,x.prototype._undestroy=y.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},x.prototype.unshift=function(e){return k(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){l||(l=r(83141).I);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(P,e))}function P(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function M(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(B,e,t))}function B(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function D(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){c("readable nexttick read 0"),e.read(0)}function j(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(H,t,e))}function H(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function F(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):O(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){S(this,new _("_read()"))},x.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function a(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",y),e.removeListener("drain",f),e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",g),r.removeListener("data",d),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function u(){c("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",a);var f=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",f);var l=!1;function d(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==F(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(t){c("onerror",t),g(),e.removeListener("error",h),0===o(e,"error")&&S(e,t)}function p(){e.removeListener("finish",y),g()}function y(){c("onfinish"),e.removeListener("close",p),g()}function g(){c("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",p),e.once("finish",y),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=F(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?O(this):n.reading||i.nextTick(R,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(D,this),r},x.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(D,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(j,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(2955)),d(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=N,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(e,t){return void 0===h&&(h=r(55157)),h(x,e,t)})},74610:(e,t,r)=>{"use strict";e.exports=f;var n=r(86048).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(25382);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(56698)(f,u),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},16708:(e,t,r)=>{"use strict";var n,i=r(65606);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=x,x.WritableState=A;var s={deprecate:r(94643)},a=r(40345),u=r(48287).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var f,l=r(75896),d=r(65291).getHighWaterMark,h=r(86048).F,p=h.ERR_INVALID_ARG_TYPE,y=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,b=h.ERR_STREAM_CANNOT_PIPE,m=h.ERR_STREAM_DESTROYED,v=h.ERR_STREAM_NULL_VALUES,_=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;function E(){}function A(e,t,s){n=n||r(25382),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(P,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),P(e,t))}(e,r,n,t,o);else{var s=C(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),n?i.nextTick(I,e,r,s,o):I(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(e){var t=this instanceof(n=n||r(25382));if(!t&&!f.call(x,this))return new x(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function I(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),P(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,k(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(k(e,t,!1,t.objectMode?1:c.length,c,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(O,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(56698)(x,a),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===x&&(e&&e._writableState instanceof A)}})):f=function(e){return e instanceof this},x.prototype.pipe=function(){S(this,new b)},x.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof c);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new _;S(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new v:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new y("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=l.destroy,x.prototype._undestroy=l.undestroy,x.prototype._destroy=function(e,t){t(e)}},2955:(e,t,r)=>{"use strict";var n,i=r(65606);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(86238),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function y(e){var t=e[a];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function g(e){i.nextTick(y,e)}var b=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(n={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[f]?r(p(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[d])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(m,(o(t={},h,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,f,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[a]=null,r[u]=null,e(p(n,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[l]=null,r[a]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[f]=!0})),e.on("readable",g.bind(null,r)),r}},80345:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var u=r(48287).Buffer,c=r(15340).inspect,f=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t,r,n,i=u.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,u.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},75896:(e,t,r)=>{"use strict";var n=r(65606);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},86238:(e,t,r)=>{"use strict";var n=r(86048).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||f()},c=t._writableState&&t._writableState.finished,f=function(){a=!1,c=!0,s||o.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){s=!1,l=!0,a||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return s&&!l?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},y=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",f),t.on("abort",p),t.req?y():t.on("request",y)),t.on("end",d),t.on("finish",f),!1!==r.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",y),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},55157:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},57758:(e,t,r)=>{"use strict";var n;var i=r(86048).F,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var f,l=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var d=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r(86238)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){f||(f=e),e&&d.forEach(u),o||(d.forEach(u),l(f))}))}));return t.reduce(c)}},65291:(e,t,r)=>{"use strict";var n=r(86048).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},40345:(e,t,r)=>{e.exports=r(37007).EventEmitter},28399:(e,t,r)=>{(t=e.exports=r(45412)).Stream=t,t.Readable=t,t.Writable=r(16708),t.Duplex=r(25382),t.Transform=r(74610),t.PassThrough=r(63600),t.finished=r(86238),t.pipeline=r(57758)},30096:(e,t,r)=>{"use strict";t.X9=t.PE=t.qS=t.zW=void 0;var n=r(41256);var i=r(90375);Object.defineProperty(t,"zW",{enumerable:!0,get:function(){return i.BtcAssetsApi}});var o=r(61611);Object.defineProperty(t,"qS",{enumerable:!0,get:function(){return o.DataSource}}),Object.defineProperty(t,"PE",{enumerable:!0,get:function(){return o.sendRgbppUtxos}});var s=r(6397);Object.defineProperty(t,"X9",{enumerable:!0,get:function(){return s.buildRgbppTransferTx}})},6397:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.buildRgbppTransferTx=void 0;const i=r(41256),o=r(60720),s=r(61611);t.buildRgbppTransferTx=e=>n(void 0,[e],void 0,(function*({ckb:{collector:e,xudtTypeArgs:t,rgbppLockArgsList:r,transferAmount:n,feeRate:a},btc:u,isMainnet:c}){const f=Object.assign(Object.assign({},(0,i.getXudtTypeScript)(c)),{args:t}),l=yield(0,i.genBtcTransferCkbVirtualTx)({collector:e,rgbppLockArgsList:r,xudtTypeBytes:(0,o.serializeScript)(f),transferAmount:n,isMainnet:c,ckbFeeRate:a,btcTestnetType:u.testnetType}),{commitment:d,ckbRawTx:h}=l;return{ckbVirtualTxResult:l,btcPsbtHex:(yield(0,s.sendRgbppUtxos)({ckbVirtualTx:h,commitment:d,tos:[u.toAddress],ckbCollector:e,from:u.fromAddress,fromPubkey:u.fromPubkey,source:u.dataSource,feeRate:u.feeRate})).toHex()}}))},66011:(e,t,r)=>{"use strict";var n=r(48287).Buffer,i=r(56698),o=r(51147),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function y(e,t,r,n,i,o,s,a){return p(e+(t^r^n)+o+s|0,a)+i|0}function g(e,t,r,n,i,o,s,a){return p(e+(t&r|~t&n)+o+s|0,a)+i|0}function b(e,t,r,n,i,o,s,a){return p(e+((t|~r)^n)+o+s|0,a)+i|0}function m(e,t,r,n,i,o,s,a){return p(e+(t&n|r&~n)+o+s|0,a)+i|0}function v(e,t,r,n,i,o,s,a){return p(e+(t^(r|~n))+o+s|0,a)+i|0}i(h,o),h.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,S=0|this._c,E=0|this._d,A=0|this._e,x=0;x<80;x+=1){var k,I;x<16?(k=y(r,n,i,o,h,e[a[x]],l[0],c[x]),I=v(_,w,S,E,A,e[u[x]],d[0],f[x])):x<32?(k=g(r,n,i,o,h,e[a[x]],l[1],c[x]),I=m(_,w,S,E,A,e[u[x]],d[1],f[x])):x<48?(k=b(r,n,i,o,h,e[a[x]],l[2],c[x]),I=b(_,w,S,E,A,e[u[x]],d[2],f[x])):x<64?(k=m(r,n,i,o,h,e[a[x]],l[3],c[x]),I=g(_,w,S,E,A,e[u[x]],d[3],f[x])):(k=v(r,n,i,o,h,e[a[x]],l[4],c[x]),I=y(_,w,S,E,A,e[u[x]],d[4],f[x])),r=h,h=o,o=p(i,10),i=n,n=k,_=A,A=E,E=p(S,10),S=w,w=I}var T=this._b+i+E|0;this._b=this._c+o+A|0,this._c=this._d+h+_|0,this._d=this._e+r+w|0,this._e=this._a+n+S|0,this._a=T},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},51147:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=r(28399).Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(56698)(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},92861:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(48287),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},9983:function(e){"use strict";!function(){const t=2147483647;function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,u=528734635,c=1541459225;const f=new Uint32Array(64);function l(e){let l=0,d=e.length;for(;d>=64;){let h,p,y,g,b,m=r,v=n,_=i,w=o,S=s,E=a,A=u,x=c;for(p=0;p<16;p++)y=l+4*p,f[p]=(255&e[y])<<24|(255&e[y+1])<<16|(255&e[y+2])<<8|255&e[y+3];for(p=16;p<64;p++)h=f[p-2],g=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,h=f[p-15],b=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,f[p]=(g+f[p-7]|0)+(b+f[p-16]|0)|0;for(p=0;p<64;p++)g=(((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&E^~S&A)|0)+(x+(t[p]+f[p]|0)|0)|0,b=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&v^m&_^v&_)|0,x=A,A=E,E=S,S=w+g|0,w=_,_=v,v=m,m=g+b|0;r=r+m|0,n=n+v|0,i=i+_|0,o=o+w|0,s=s+S|0,a=a+E|0,u=u+A|0,c=c+x|0,l+=64,d-=64}}l(e);let d,h=e.length%64,p=e.length/536870912|0,y=e.length<<3,g=h<56?56:120,b=e.slice(e.length-h,e.length);for(b.push(128),d=h+1;d<g;d++)b.push(0);return b.push(p>>>24&255),b.push(p>>>16&255),b.push(p>>>8&255),b.push(p>>>0&255),b.push(y>>>24&255),b.push(y>>>16&255),b.push(y>>>8&255),b.push(y>>>0&255),l(b),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function n(e,t,n){e=e.length<=64?e:r(e);const i=64+t.length+4,o=new Array(i),s=new Array(64);let a,u=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<e.length;a++)o[a]^=e[a];for(a=0;a<t.length;a++)o[64+a]=t[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function c(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;n>=32;)c(),u=u.concat(r(s.concat(r(o)))),n-=32;return n>0&&(c(),u=u.concat(r(s.concat(r(o))).slice(0,n))),u}function i(e,t,r,n,i){let o;for(u(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)a(e,16*o,i,16),s(i,n),u(i,0,e,t+16*o,16);for(o=0;o<r;o++)u(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)u(e,t+16*(2*o+1),e,16*(o+r),16)}function o(e,t){return e<<t|e>>>32-t}function s(e,t){u(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=o(t[0]+t[12],7),t[8]^=o(t[4]+t[0],9),t[12]^=o(t[8]+t[4],13),t[0]^=o(t[12]+t[8],18),t[9]^=o(t[5]+t[1],7),t[13]^=o(t[9]+t[5],9),t[1]^=o(t[13]+t[9],13),t[5]^=o(t[1]+t[13],18),t[14]^=o(t[10]+t[6],7),t[2]^=o(t[14]+t[10],9),t[6]^=o(t[2]+t[14],13),t[10]^=o(t[6]+t[2],18),t[3]^=o(t[15]+t[11],7),t[7]^=o(t[3]+t[15],9),t[11]^=o(t[7]+t[3],13),t[15]^=o(t[11]+t[7],18),t[1]^=o(t[0]+t[3],7),t[2]^=o(t[1]+t[0],9),t[3]^=o(t[2]+t[1],13),t[0]^=o(t[3]+t[2],18),t[6]^=o(t[5]+t[4],7),t[7]^=o(t[6]+t[5],9),t[4]^=o(t[7]+t[6],13),t[5]^=o(t[4]+t[7],18),t[11]^=o(t[10]+t[9],7),t[8]^=o(t[11]+t[10],9),t[9]^=o(t[8]+t[11],13),t[10]^=o(t[9]+t[8],18),t[12]^=o(t[15]+t[14],7),t[13]^=o(t[12]+t[15],9),t[14]^=o(t[13]+t[12],13),t[15]^=o(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function a(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function u(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function c(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function f(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function l(e,r,o,s,l,d,h){if(o=f(o,"N"),s=f(s,"r"),l=f(l,"p"),d=f(d,"dkLen"),0===o||o&o-1)throw new Error("N must be power of 2");if(o>t/128/s)throw new Error("N too large");if(s>t/128/l)throw new Error("r too large");if(!c(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!c(r))throw new Error("salt must be an array or buffer");r=Array.prototype.slice.call(r);let p=n(e,r,128*l*s);const y=new Uint32Array(32*l*s);for(let e=0;e<y.length;e++){const t=4*e;y[e]=(255&p[t+3])<<24|(255&p[t+2])<<16|(255&p[t+1])<<8|255&p[t+0]}const g=new Uint32Array(64*s),b=new Uint32Array(32*s*o),m=32*s,v=new Uint32Array(16),_=new Uint32Array(16),w=l*o*2;let S,E,A=0,x=null,k=!1,I=0,T=0;const C=h?parseInt(1e3/s):4294967295,O="undefined"!=typeof setImmediate?setImmediate:setTimeout,P=function(){if(k)return h(new Error("cancelled"),A/w);let t;switch(I){case 0:E=32*T*s,u(y,E,g,0,m),I=1,S=0;case 1:t=o-S,t>C&&(t=C);for(let e=0;e<t;e++)u(g,0,b,(S+e)*m,m),i(g,m,s,v,_);if(S+=t,A+=t,h){const e=parseInt(1e3*A/w);if(e!==x){if(k=h(null,A/w),k)break;x=e}}if(S<o)break;S=0,I=2;case 2:t=o-S,t>C&&(t=C);for(let e=0;e<t;e++){const e=g[16*(2*s-1)]&o-1;a(b,e*m,g,m),i(g,m,s,v,_)}if(S+=t,A+=t,h){const e=parseInt(1e3*A/w);if(e!==x){if(k=h(null,A/w),k)break;x=e}}if(S<o)break;if(u(g,0,y,E,m),T++,T<l){I=0;break}p=[];for(let e=0;e<y.length;e++)p.push(255&y[e]),p.push(y[e]>>8&255),p.push(y[e]>>16&255),p.push(y[e]>>24&255);const r=n(e,p,d);return h&&h(null,1,r),r}h&&O(P)};if(!h)for(;;){const e=P();if(null!=e)return e}P()}const d={scrypt:function(e,t,r,n,i,o,s){return new Promise((function(a,u){let c=0;s&&s(0),l(e,t,r,n,i,o,(function(e,t,r){if(e)u(e);else if(r)s&&1!==c&&s(1),a(new Uint8Array(r));else if(s&&t!==c)return c=t,s(t)}))}))},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(l(e,t,r,n,i,o))}};e.exports=d}()},90392:(e,t,r)=>{var n=r(92861).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),f=0;f<c;f++)r[u+f]=e[a+f];a+=c,(s+=c)%i==0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},62802:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(27816),n.sha1=r(63737),n.sha224=r(26710),n.sha256=r(24107),n.sha384=r(32827),n.sha512=r(82890)},27816:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=n)<<5|t>>>27)+f(h,i,o,a)+u+r[d]+s[h];u=a,a=o,o=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},63737:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=(t=r[d-3]^r[d-8]^r[d-14]^r[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),y=c(n)+l(p,i,o,a)+u+r[h]+s[p]|0;u=a,a=o,o=f(i),i=n,n=y}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},26710:(e,t,r)=>{var n=r(56698),i=r(24107),o=r(90392),s=r(92861).Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},24107:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,y=0|this._g,g=0|this._h,b=0;b<16;++b)r[b]=e.readInt32BE(4*b);for(;b<64;++b)r[b]=0|(((t=r[b-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[b-7]+h(r[b-15])+r[b-16];for(var m=0;m<64;++m){var v=g+d(u)+c(u,p,y)+s[m]+r[m]|0,_=l(n)+f(n,i,o)|0;g=y,y=p,p=u,u=a+v|0,a=o,o=i,i=n,n=v+_|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=g+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},32827:(e,t,r)=>{var n=r(56698),i=r(82890),o=r(90392),s=r(92861).Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},82890:(e,t,r)=>{var n=r(56698),i=r(90392),o=r(92861).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function b(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,m=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,S=0|this._cl,E=0|this._dl,A=0|this._el,x=0|this._fl,k=0|this._gl,I=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var C=t[T-30],O=t[T-30+1],P=h(C,O),M=p(O,C),B=y(C=t[T-4],O=t[T-4+1]),D=g(O,C),R=t[T-14],j=t[T-14+1],L=t[T-32],N=t[T-32+1],U=M+j|0,H=P+R+b(U,M)|0;H=(H=H+B+b(U=U+D|0,D)|0)+L+b(U=U+N|0,N)|0,t[T]=H,t[T+1]=U}for(var F=0;F<160;F+=2){H=t[F],U=t[F+1];var z=f(r,n,i),q=f(_,w,S),K=l(r,_),V=l(_,r),W=d(a,A),$=d(A,a),Q=s[F],G=s[F+1],X=c(a,u,m),Y=c(A,x,k),J=I+$|0,Z=v+W+b(J,I)|0;Z=(Z=(Z=Z+X+b(J=J+Y|0,Y)|0)+Q+b(J=J+G|0,G)|0)+H+b(J=J+U|0,U)|0;var ee=V+q|0,te=K+z+b(ee,V)|0;v=m,I=k,m=u,k=x,u=a,x=A,a=o+Z+b(A=E+J|0,E)|0,o=i,E=S,i=n,S=w,n=r,w=_,r=Z+te+b(_=J+ee|0,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+A|0,this._fl=this._fl+x|0,this._gl=this._gl+k|0,this._hl=this._hl+I|0,this._ah=this._ah+r+b(this._al,_)|0,this._bh=this._bh+n+b(this._bl,w)|0,this._ch=this._ch+i+b(this._cl,S)|0,this._dh=this._dh+o+b(this._dl,E)|0,this._eh=this._eh+a+b(this._el,A)|0,this._fh=this._fh+u+b(this._fl,x)|0,this._gh=this._gh+m+b(this._gl,k)|0,this._hh=this._hh+v+b(this._hl,I)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},18190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SHAKE=t.SHA3Hash=t.SHA3=t.Keccak=void 0;var n,i=r(48287),o=(n=r(23417))&&n.__esModule?n:{default:n};var s=function(e){var t=e.allowedSizes,r=e.defaultSize,n=e.padding;return function e(){var s=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;if(!this||this.constructor!==e)return new e(a);if(t&&!t.includes(a))throw new Error("Unsupported hash length");var u=new o.default({capacity:a});return this.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";if(i.Buffer.isBuffer(e))return u.absorb(e),s;if("string"==typeof e)return s.update(i.Buffer.from(e,t));throw new TypeError("Not a string or buffer")},this.digest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"binary",t="string"==typeof e?{format:e}:e,r=u.squeeze({buffer:t.buffer,padding:t.padding||n});return t.format&&"binary"!==t.format?r.toString(t.format):r},this.reset=function(){return u.reset(),s},this}},a=s({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});t.Keccak=a;var u=s({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});t.SHA3=u;var c=s({allowedSizes:[128,256],defaultSize:256,padding:31});t.SHAKE=c;var f=a;t.SHA3Hash=f,u.SHA3Hash=f;var l=u;t.default=l},23417:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(48287),o=(n=r(98096))&&n.__esModule?n:{default:n};var s=function(e,t){for(var r=0;r<e.length;r+=8){var n=r/4;t[n]^=e[r+7]<<24|e[r+6]<<16|e[r+5]<<8|e[r+4],t[n+1]^=e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]}return t},a=function(e,t){for(var r=0;r<t.length;r+=8){var n=r/4;t[r]=e[n+1],t[r+1]=e[n+1]>>>8,t[r+2]=e[n+1]>>>16,t[r+3]=e[n+1]>>>24,t[r+4]=e[n],t[r+5]=e[n]>>>8,t[r+6]=e[n]>>>16,t[r+7]=e[n]>>>24}return t},u=function(e){var t=this,r=e.capacity,n=e.padding,u=(0,o.default)(),c=r/8,f=200-r/4,l=0,d=new Uint32Array(50),h=i.Buffer.allocUnsafe(f);return this.absorb=function(e){for(var r=0;r<e.length;r++)h[l]=e[r],(l+=1)>=f&&(s(h,d),u(d),l=0);return t},this.squeeze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={buffer:e.buffer||i.Buffer.allocUnsafe(c),padding:e.padding||n,queue:i.Buffer.allocUnsafe(h.length),state:new Uint32Array(d.length)};h.copy(t.queue);for(var r=0;r<d.length;r++)t.state[r]=d[r];t.queue.fill(0,l),t.queue[l]|=t.padding,t.queue[f-1]|=128,s(t.queue,t.state);for(var o=0;o<t.buffer.length;o+=f)u(t.state),a(t.state,t.buffer.slice(o,o+f));return t.buffer},this.reset=function(){return h.fill(0),d.fill(0),l=0,t},this};t.default=u},56317:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(11196))&&n.__esModule?n:{default:n};var o=function(e){for(var t=e.A,r=e.C,n=0;n<25;n+=5){for(var o=0;o<5;o++)(0,i.default)(t,n+o)(r,o);for(var s=0;s<5;s++){var a=2*(n+s),u=(s+1)%5*2,c=(s+2)%5*2;t[a]^=~r[u]&r[c],t[a+1]^=~r[u+1]&r[c+1]}}};t.default=o},11196:e=>{"use strict";e.exports=function(e,t){return function(r,n){var i=2*n,o=2*t;r[i]=e[o],r[i+1]=e[o+1]}}},98096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(56317)),i=a(r(33126)),o=a(r(12700)),s=a(r(23671));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){var e=new Uint32Array(10),t=new Uint32Array(10),r=new Uint32Array(2);return function(a){for(var u=0;u<24;u++)(0,s.default)({A:a,C:e,D:t,W:r}),(0,o.default)({A:a,C:e,W:r}),(0,n.default)({A:a,C:e}),(0,i.default)({A:a,roundIndex:u});e.fill(0),t.fill(0),r.fill(0)}};t.default=u},33126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(1165))&&n.__esModule?n:{default:n};var o=function(e){var t=e.A,r=2*e.roundIndex;t[0]^=i.default[r],t[1]^=i.default[r+1]};t.default=o},1165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);t.default=r},12700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(16351)),i=s(r(55841)),o=s(r(11196));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.A,r=e.C,s=e.W;(0,o.default)(t,1)(s,0);for(var a=0,u=0,c=0,f=32,l=0;l<24;l++){var d=n.default[l],h=i.default[l];(0,o.default)(t,d)(r,0),a=s[0],u=s[1],f=32-h,s[c=h<32?0:1]=a<<h|u>>>f,s[(c+1)%2]=u<<h|a>>>f,(0,o.default)(s,0)(t,d),(0,o.default)(r,0)(s,0)}};t.default=a},16351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];t.default=r},55841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];t.default=r},23671:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(11196))&&n.__esModule?n:{default:n};var o=function(e){for(var t=e.A,r=e.C,n=e.D,o=e.W,s=0,a=0,u=0;u<5;u++){var c=2*u,f=2*(u+5),l=2*(u+10),d=2*(u+15),h=2*(u+20);r[c]=t[c]^t[f]^t[l]^t[d]^t[h],r[c+1]=t[c+1]^t[f+1]^t[l+1]^t[d+1]^t[h+1]}for(var p=0;p<5;p++){(0,i.default)(r,(p+1)%5)(o,0),s=o[0],a=o[1],o[0]=s<<1|a>>>31,o[1]=a<<1|s>>>31,n[2*p]=r[(p+4)%5*2]^o[0],n[2*p+1]=r[(p+4)%5*2+1]^o[1];for(var y=0;y<25;y+=5)t[2*(y+p)]^=n[2*p],t[2*(y+p)+1]^=n[2*p+1]}};t.default=o},88310:(e,t,r)=>{e.exports=i;var n=r(37007).EventEmitter;function i(){n.call(this)}r(56698)(i,n),i.Readable=r(45412),i.Writable=r(16708),i.Duplex=r(25382),i.Transform=r(74610),i.PassThrough=r(63600),i.finished=r(86238),i.pipeline=r(57758),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",c),e.on("error",c),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},83141:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=s(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=s(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1061:(e,t,r)=>{var n=r(12113);function i(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return n.Nil(e)?"":i(e.constructor)}function s(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function a(e){return n.Function(e)?e.toJSON?e.toJSON():i(e):n.Array(e)?"Array":e&&n.Object(e)?"Object":void 0!==e?e:""}function u(e,t,r){var i=function(e){return n.Function(e)?"":n.String(e)?JSON.stringify(e):e&&n.Object(e)?"":e}(t);return"Expected "+a(e)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function c(e,t,r){r=r||o(t),this.message=u(e,t,r),s(this,c),this.__type=e,this.__value=t,this.__valueTypeName=r}function f(e,t,r,n,i){e?(i=i||o(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),u('property "'+a(r)+o+a(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',s(this,c),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,f.prototype=Object.create(Error.prototype),f.prototype.constructor=c,e.exports={TfTypeError:c,TfPropertyTypeError:f,tfCustomError:function(e,t){return new c(e,{},t)},tfSubError:function(e,t,r){return e instanceof f?(t=t+"."+e.__property,e=new f(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof c&&(e=new f(e.__type,t,r,e.__value,e.__valueTypeName)),s(e),e},tfJSON:a,getValueTypeName:o}},69542:(e,t,r)=>{var n=r(48287).Buffer,i=r(12113),o=r(1061);function s(e){return n.isBuffer(e)}function a(e){return"string"==typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function u(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw o.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var c=u.bind(null,i.Array),f=u.bind(null,s),l=u.bind(null,a),d=u.bind(null,i.String);var h=Math.pow(2,53)-1;var p={ArrayN:c,Buffer:s,BufferN:f,Finite:function(e){return"number"==typeof e&&isFinite(e)},Hex:a,HexN:l,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"==typeof e&&e>=-h&&e<=h&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:d,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"==typeof e&&e>=0&&e<=h&&Math.floor(e)===e}};for(var y in p)p[y].toJSON=function(e){return e}.bind(null,y);e.exports=p},8676:(e,t,r)=>{var n=r(1061),i=r(12113),o=n.tfJSON,s=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,c=n.getValueTypeName,f={arrayOf:function(e,t){function r(r,n){return!!i.Array(r)&&(!i.Nil(r)&&(!(void 0!==t.minLength&&r.length<t.minLength)&&(!(void 0!==t.maxLength&&r.length>t.maxLength)&&((void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return d(e,t,n)}catch(e){throw u(e,r)}}))))))}return e=l(e),t=t||{},r.toJSON=function(){var r="["+o(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return i.Nil(r)||t(r,n,e)}return t=l(t),r.toJSON=function(){return"?"+o(t)},r},map:function(e,t){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{t&&d(t,o,n)}catch(e){throw u(e,o,"key")}try{var s=r[o];d(e,s,n)}catch(e){throw u(e,o)}}return!0}return e=l(e),t&&(t=l(t)),r.toJSON=t?function(){return"{"+o(t)+": "+o(e)+"}"}:function(){return"{"+o(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=l(e[r]);function n(e,r){if(!i.Object(e))return!1;if(i.Nil(e))return!1;var n;try{for(n in t){d(t[n],e[n],r)}}catch(e){throw u(e,n)}if(r)for(n in e)if(!t[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return o(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(l);function t(t,r){return e.some((function(e){try{return d(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(l);function t(t,r){return e.every((function(e){try{return d(e,t,r)}catch(e){return!1}}))}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===c(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(l);function t(t,r){return!i.Nil(t)&&(!i.Nil(t.length)&&((!r||t.length===e.length)&&e.every((function(e,n){try{return d(e,t[n],r)}catch(e){throw u(e,n)}}))))}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function l(e){if(i.String(e))return"?"===e[0]?f.maybe(e.slice(1)):i[e]||f.quacksLike(e);if(e&&i.Object(e)){if(i.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(e[0])}return f.object(e)}return i.Function(e)?e:f.value(e)}function d(e,t,r,n){if(i.Function(e)){if(e(t,r))return!0;throw new s(n||e,t)}return d(l(e),t,r)}for(var h in f.oneOf=f.anyOf,i)d[h]=i[h];for(h in f)d[h]=f[h];var p=r(69542);for(h in p)d[h]=p[h];d.compile=l,d.TfTypeError=s,d.TfPropertyTypeError=a,e.exports=d},12113:e=>{var t={Array:function(e){return null!=e&&e.constructor===Array},Boolean:function(e){return"boolean"==typeof e},Function:function(e){return"function"==typeof e},Nil:function(e){return null==e},Number:function(e){return"number"==typeof e},Object:function(e){return"object"==typeof e},String:function(e){return"string"==typeof e},"":function(){return!0}};for(var r in t.Null=t.Nil,t)t[r].toJSON=function(e){return e}.bind(null,r);e.exports=t},94643:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},10611:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{NIL:()=>M,parse:()=>g,stringify:()=>f,v1:()=>y,v3:()=>k,v4:()=>I,v5:()=>P,validate:()=>a,version:()=>B});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"==typeof e&&s.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var l,d,h=0,p=0;const y=function(e,t,r){var n=t&&r||0,i=t||new Array(16),s=(e=e||{}).node||l,a=void 0!==e.clockseq?e.clockseq:d;if(null==s||null==a){var u=e.random||(e.rng||o)();null==s&&(s=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=d=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),y=void 0!==e.nsecs?e.nsecs:p+1,g=c-h+(y-p)/1e4;if(g<0&&void 0===e.clockseq&&(a=a+1&16383),(g<0||c>h)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,p=y,d=a;var b=(1e4*(268435455&(c+=122192928e5))+y)%4294967296;i[n++]=b>>>24&255,i[n++]=b>>>16&255,i[n++]=b>>>8&255,i[n++]=255&b;var m=c/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var v=0;v<6;++v)i[n+v]=s[v];return t||f(i)};const g=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function b(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=g(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return f(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(e){return 14+(e+64>>>9<<4)+1}function v(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function _(e,t,r,n,i,o){return v((s=v(v(t,e),v(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function w(e,t,r,n,i,o,s){return _(t&r|~t&n,e,t,i,o,s)}function S(e,t,r,n,i,o,s){return _(t&n|r&~n,e,t,i,o,s)}function E(e,t,r,n,i,o,s){return _(t^r^n,e,t,i,o,s)}function A(e,t,r,n,i,o,s){return _(r^(t|~n),e,t,i,o,s)}const x=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=r,u=n,c=i,f=o;r=w(r,n,i,o,e[s],7,-680876936),o=w(o,r,n,i,e[s+1],12,-389564586),i=w(i,o,r,n,e[s+2],17,606105819),n=w(n,i,o,r,e[s+3],22,-1044525330),r=w(r,n,i,o,e[s+4],7,-176418897),o=w(o,r,n,i,e[s+5],12,1200080426),i=w(i,o,r,n,e[s+6],17,-1473231341),n=w(n,i,o,r,e[s+7],22,-45705983),r=w(r,n,i,o,e[s+8],7,1770035416),o=w(o,r,n,i,e[s+9],12,-1958414417),i=w(i,o,r,n,e[s+10],17,-42063),n=w(n,i,o,r,e[s+11],22,-1990404162),r=w(r,n,i,o,e[s+12],7,1804603682),o=w(o,r,n,i,e[s+13],12,-40341101),i=w(i,o,r,n,e[s+14],17,-1502002290),r=S(r,n=w(n,i,o,r,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=S(o,r,n,i,e[s+6],9,-1069501632),i=S(i,o,r,n,e[s+11],14,643717713),n=S(n,i,o,r,e[s],20,-373897302),r=S(r,n,i,o,e[s+5],5,-701558691),o=S(o,r,n,i,e[s+10],9,38016083),i=S(i,o,r,n,e[s+15],14,-660478335),n=S(n,i,o,r,e[s+4],20,-405537848),r=S(r,n,i,o,e[s+9],5,568446438),o=S(o,r,n,i,e[s+14],9,-1019803690),i=S(i,o,r,n,e[s+3],14,-187363961),n=S(n,i,o,r,e[s+8],20,1163531501),r=S(r,n,i,o,e[s+13],5,-1444681467),o=S(o,r,n,i,e[s+2],9,-51403784),i=S(i,o,r,n,e[s+7],14,1735328473),r=E(r,n=S(n,i,o,r,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=E(o,r,n,i,e[s+8],11,-2022574463),i=E(i,o,r,n,e[s+11],16,1839030562),n=E(n,i,o,r,e[s+14],23,-35309556),r=E(r,n,i,o,e[s+1],4,-1530992060),o=E(o,r,n,i,e[s+4],11,1272893353),i=E(i,o,r,n,e[s+7],16,-155497632),n=E(n,i,o,r,e[s+10],23,-1094730640),r=E(r,n,i,o,e[s+13],4,681279174),o=E(o,r,n,i,e[s],11,-358537222),i=E(i,o,r,n,e[s+3],16,-722521979),n=E(n,i,o,r,e[s+6],23,76029189),r=E(r,n,i,o,e[s+9],4,-640364487),o=E(o,r,n,i,e[s+12],11,-421815835),i=E(i,o,r,n,e[s+15],16,530742520),r=A(r,n=E(n,i,o,r,e[s+2],23,-995338651),i,o,e[s],6,-198630844),o=A(o,r,n,i,e[s+7],10,1126891415),i=A(i,o,r,n,e[s+14],15,-1416354905),n=A(n,i,o,r,e[s+5],21,-57434055),r=A(r,n,i,o,e[s+12],6,1700485571),o=A(o,r,n,i,e[s+3],10,-1894986606),i=A(i,o,r,n,e[s+10],15,-1051523),n=A(n,i,o,r,e[s+1],21,-2054922799),r=A(r,n,i,o,e[s+8],6,1873313359),o=A(o,r,n,i,e[s+15],10,-30611744),i=A(i,o,r,n,e[s+6],15,-1560198380),n=A(n,i,o,r,e[s+13],21,1309151649),r=A(r,n,i,o,e[s+4],6,-145523070),o=A(o,r,n,i,e[s+11],10,-1120210379),i=A(i,o,r,n,e[s+2],15,718787259),n=A(n,i,o,r,e[s+9],21,-343485551),r=v(r,a),n=v(n,u),i=v(i,c),o=v(o,f)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))};const k=b("v3",48,x);const I=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return f(n)};function T(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function C(e,t){return e<<t|e>>>32-t}const O=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),u=0;u<s;++u){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=e[64*u+4*f]<<24|e[64*u+4*f+1]<<16|e[64*u+4*f+2]<<8|e[64*u+4*f+3];a[u]=c}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<s;++l){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=a[l][h];for(var p=16;p<80;++p)d[p]=C(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var y=r[0],g=r[1],b=r[2],m=r[3],v=r[4],_=0;_<80;++_){var w=Math.floor(_/20),S=C(y,5)+T(w,g,b,m)+v+t[w]+d[_]>>>0;v=m,m=b,b=C(g,30)>>>0,g=y,y=S}r[0]=r[0]+y>>>0,r[1]=r[1]+g>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]};const P=b("v5",80,O),M="00000000-0000-0000-0000-000000000000";const B=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},68469:(e,t,r)=>{"use strict";var n=r(92861).Buffer,i=9007199254740991;function o(e){if(e<0||e>i||e%1!=0)throw new RangeError("value out of range")}function s(e){return o(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,r,i){if(o(t),r||(r=n.allocUnsafe(s(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),t<253?(r.writeUInt8(t,i),e.bytes=1):t<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(t,i+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(t,i+1),e.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(t>>>0,i+1),r.writeUInt32LE(t/4294967296|0,i+5),e.bytes=9),r},decode:function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var i=t.readUInt8(r);if(i<253)return e.bytes=1,i;if(253===i)return e.bytes=3,t.readUInt16LE(r+1);if(254===i)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var s=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+s;return o(a),a},encodingLength:s}},68961:(__unused_webpack_module,exports)=>{var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),(function(t){r[t]=e[t]})),forEach(globals,(function(t){e[t]&&(r[t]=e[t])}));var o=Object_keys(r),s=n.call(r,this.code);return forEach(Object_keys(r),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,r[t])})),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return e&&forEach(Object_keys(t),(function(r){e[r]=t[r]})),r},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(r){t[r]=e[r]})),t}},57513:(e,t,r)=>{var n=r(48287).Buffer,i=r(87701);function o(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function s(e,t,r){var i=new n(r?34:33);return i.writeUInt8(e,0),t.copy(i,1),r&&(i[33]=1),i}e.exports={decode:function(e,t){return o(i.decode(e),t)},decodeRaw:o,encode:function(e,t,r){return"number"==typeof e?i.encode(s(e,t,r)):i.encode(s(e.version,e.privateKey,e.compressed))},encodeRaw:s}},68016:(e,t,r)=>{"use strict";var n=r(16763),i=r(92861).Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},87701:(e,t,r)=>{"use strict";var n=r(47108),i=r(68016);e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},4693:e=>{class t{constructor(e){this.value=e,this.next=void 0}}class r{constructor(){this.clear()}enqueue(e){const r=new t(e);this._head?(this._tail.next=r,this._tail=r):(this._head=r,this._tail=r),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}e.exports=r},33470:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__33470__},84102:()=>{},14923:()=>{},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},91903:()=>{},24394:()=>{},15340:()=>{},79838:()=>{},56750:e=>{"use strict";var t,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,s={};((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})(s,{boundaryMatchRegex:()=>u,boundaryRegex:()=>a,default:()=>S,encodeMultipartMessage:()=>y,parseMessage:()=>_,parseMultipartMessage:()=>S}),e.exports=(t=s,((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let u of i(t))!o.call(e,u)&&u!==s&&r(e,u,{get:()=>t[u],enumerable:!(a=n(t,u))||a.enumerable});return e})(r({},"__esModule",{value:!0}),t));var a=/^[0-9a-zA-Z'()+_,\-./:=? ]{0,69}[0-9a-zA-Z'()+_,\-./:=?]$/,u=/;\s*boundary=(?:"([0-9a-zA-Z'()+_,\-./:=? ]{0,69}[0-9a-zA-Z'()+_,\-./:=?])"|([0-9a-zA-Z'+_\-.]{0,69}[0-9a-zA-Z'+_\-.]))/,c=e=>new ReadableStream({pull(t){if(ArrayBuffer.isView(e))t.enqueue(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength));else{if(!(e instanceof ArrayBuffer))throw new TypeError("Expected ArrayBuffer or an ArrayBuffer view.");t.enqueue(e)}t.close()}}),f=/;\s*boundary=(?:"([^"]+)"|([^;",]+))/,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+_-.",d=()=>{let e=new Uint8Array(24);return globalThis.crypto.getRandomValues(e),Array.from(e).map((e=>l[e%66])).join("")},h={preventClose:!0};async function*p(e,t,r){let n=new TextEncoder,i=n.encode(`\r\n--${e}`);if(Array.isArray(t)&&t.length<1)return void await r.abort(Error("At least one part is required"));let o=0;for await(let e of t){let t,s;if(o++,!e.body&&e.parts)if(s=e.headers.get("content-type"),s){if(!s.startsWith("multipart/")||!f.test(s))return void await r.abort(Error("Invalid multipart content type: "+s));{let e=s.match(u);(!e||!(t=e[1]||e[2]))&&(t=d(),s=s.replace(f,`; boundary="${t}"`))}}else t=d(),s=`multipart/mixed; boundary="${t}"`;await c(i).pipeTo(r,h),yield;{let t=[""];if(s){let r=!1;e.headers.forEach(((e,n)=>{"content-type"!==n?t.push(`${n}: ${e}`):(r=!0,t.push(`${n}: ${s}`))})),r||t.push(`content-type: ${s}`)}else e.headers.forEach(((e,r)=>{t.push(`${r}: ${e}`)}));e.parts||!e.body?t.push(""):t.push("","");let i=n.encode(t.join("\r\n"));t.length=0,await c(i).pipeTo(r,h),yield}if(e.body){if(e.body instanceof ArrayBuffer||ArrayBuffer.isView(e.body))await c(e.body).pipeTo(r,h);else if(e.body instanceof Blob)await e.body.stream().pipeTo(r,h);else{if(!(e.body instanceof ReadableStream))return void await r.abort(Error("Invalid body type"));await e.body.pipeTo(r,h)}yield}else if(e.parts){if(!t)return void await r.abort(Error("Runtime exception: undefined part boundary"));yield*p(t,e.parts,r),yield}}if(!o)return void await r.abort(Error("At least one part is required"));let s=n.encode(`\r\n--${e}--`);await c(s).pipeTo(r,h)}var y=(e,t)=>{let r=new TransformStream,n=p(e,t,r.writable),i=!1,o=r.readable.getReader();return new ReadableStream({start(e){(async()=>{for(;;)try{let t=await o.read();if(t.done){let t=new Uint8Array([13,10]);return e.enqueue(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)),void e.close()}e.enqueue(t.value)}catch(t){return void e.error(t)}})().catch((()=>{}))},async pull(){i||(await n.next()).done&&(i=!0,await r.writable.close())}})},g=(e,t)=>{e:for(let r=0;r<=e.length-t.length;r++){for(let n=0;n<t.length;n++)if(e[r+n]!==t[n])continue e;return r}return-1},b=new TextDecoder,m=(new TextEncoder).encode("\r\n"),v=[9,32],_=e=>{let t=0,r=[];for(;-1!==(t=g(e,m))&&0!==t;){let n=e.indexOf(58);if(-1===n)throw new Error("Invalid header");let i=b.decode(e.subarray(0,n));for(;v.includes(e[t+2]);){let r=g(e.subarray(t+2),m);if(r<1)break;t+=2+r}let o=b.decode(e.subarray(n+1,t)).replace(/\r\n/g,"");r.push([i,o]),e=e.subarray(t+m.length)}let n=new Headers(r);return n.has("content-transfer-encoding")||n.set("content-transfer-encoding","7bit"),n.has("content-type")||n.set("content-type","text/plain; charset=us-ascii"),{headers:n,body:-1===t?null:e.subarray(t+m.length)}},w=(e,...t)=>{let r=t.reduce(((e,t)=>e+t.byteLength),e.length),n=new(Object(t[0]).constructor)(r);n.set(e);let i=e.length;return t.forEach((e=>{n.set(e,i),i+=e.byteLength})),n};var S=async function*e(t,r){var n;if(!a.test(r))throw new Error("Invalid boundary delimiter");let i=new TextEncoder,o=[9,32],s=new Uint8Array([13,10]),f=i.encode(`\r\n--${r}`),l=new Uint8Array,d=0,h=!1,p=t.getReader();try{for(;3!==d;){let{done:t,value:i}=await p.read();if(t){if(0===l.length||h)throw new Error("Invalid message");h=!0}else l=w(l,ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i));for(;l.length>0;){let i=NaN;if(0===d&&(i=g(l,f.slice(2))-2,-3===i)||(-2!==i&&(i=g(l,f)),-1===i))break;let a=i+f.length,h=t?0:g(l.subarray(a,a+32),s);if(-1===h&&l.length-a<32)break;if(-1===h||!Array.from(l.subarray(a+Math.min(2,h),a+h)).every((e=>o.includes(e))))throw new Error(`Invalid boundary at index ${i}`);if(t||h>=2)if([1,2].includes(d)&&l[a+0]===l[a+1]&&45===l[a+0])d=3;else if(!o.includes(l[a+0])||!o.includes(l[a+1]))throw new Error(`Invalid boundary at index ${i} (${r}): ${null==(n=l[a+1])?void 0:n.toString(16)}`);switch(d){case 0:d=1;break;case 1:d=2;case 2:case 3:if(l.subarray(i,a).length>0){let t,r=l.subarray(0,i),n=_(r),o=n.headers.get("content-type");if(n.body&&null!=o&&o.startsWith("multipart/")){let r=o.match(u);if(r){let i=r[1]||r[2];t=e(c(n.body),i)}else t=null}yield{headers:n.headers,body:n.body,...void 0!==t&&{parts:t}}}}if(3===d){l=l.subarray(l.length);break}l=l.subarray(h+a+2)}}}finally{p.releaseLock()}}},7188:(e,t,r)=>{"use strict";var n=r(48287).Buffer;function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:s}=Object,a=(u=Object.create(null),e=>{const t=o.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const c=e=>(e=e.toLowerCase(),t=>a(t)===e),f=e=>t=>typeof t===e,{isArray:l}=Array,d=f("undefined");const h=c("ArrayBuffer");const p=f("string"),y=f("function"),g=f("number"),b=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==a(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},v=c("Date"),_=c("File"),w=c("Blob"),S=c("FileList"),E=c("URLSearchParams");function A(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),l(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function x(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,I=e=>!d(e)&&e!==k;const T=(C="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>C&&e instanceof C);var C;const O=c("HTMLFormElement"),P=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),M=c("RegExp"),B=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};A(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},D="abcdefghijklmnopqrstuvwxyz",R="0123456789",j={DIGIT:R,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+R};const L=c("AsyncFunction");var N={isArray:l,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=a(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:p,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:b,isPlainObject:m,isUndefined:d,isDate:v,isFile:_,isBlob:w,isRegExp:M,isFunction:y,isStream:e=>b(e)&&y(e.pipe),isURLSearchParams:E,isTypedArray:T,isFileList:S,forEach:A,merge:function e(){const{caseless:t}=I(this)&&this||{},r={},n=(n,i)=>{const o=t&&x(r,i)||i;m(r[o])&&m(n)?r[o]=e(r[o],n):m(n)?r[o]=e({},n):l(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&A(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(A(t,((t,n)=>{r&&y(t)?e[n]=i(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;const u={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],n&&!n(a,e,t)||u[a]||(t[a]=e[a],u[a]=!0);e=!1!==r&&s(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:c,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(l(e))return e;let t=e.length;if(!g(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:O,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:B,freezeMethods:e=>{B(e,((t,r)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];y(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return l(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:x,global:k,isContextDefined:I,ALPHABET:j,generateString:(e=16,t=j.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(b(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=l(e)?[]:{};return A(e,((e,t)=>{const o=r(e,n+1);!d(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:L,isThenable:e=>e&&(b(e)||y(e))&&y(e.then)&&y(e.catch)};function U(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}N.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const H=U.prototype,F={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{F[e]={value:e}})),Object.defineProperties(U,F),Object.defineProperty(H,"isAxiosError",{value:!0}),U.from=(e,t,r,n,i,o)=>{const s=Object.create(H);return N.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),U.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};function z(e){return N.isPlainObject(e)||N.isArray(e)}function q(e){return N.endsWith(e,"[]")?e.slice(0,-2):e}function K(e,t,r){return e?e.concat(t).map((function(e,t){return e=q(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const V=N.toFlatObject(N,{},null,(function(e){return/^is[A-Z]/.test(e)}));function W(e,t,r){if(!N.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(r=N.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!N.isUndefined(t[e])}))).metaTokens,o=r.visitor||f,s=r.dots,a=r.indexes,u=(r.Blob||"undefined"!=typeof Blob&&Blob)&&N.isSpecCompliantForm(t);if(!N.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(N.isDate(e))return e.toISOString();if(!u&&N.isBlob(e))throw new U("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(e)||N.isTypedArray(e)?u&&"function"==typeof Blob?new Blob([e]):n.from(e):e}function f(e,r,n){let o=e;if(e&&!n&&"object"==typeof e)if(N.endsWith(r,"{}"))r=i?r:r.slice(0,-2),e=JSON.stringify(e);else if(N.isArray(e)&&function(e){return N.isArray(e)&&!e.some(z)}(e)||(N.isFileList(e)||N.endsWith(r,"[]"))&&(o=N.toArray(e)))return r=q(r),o.forEach((function(e,n){!N.isUndefined(e)&&null!==e&&t.append(!0===a?K([r],n,s):null===a?r:r+"[]",c(e))})),!1;return!!z(e)||(t.append(K(n,r,s),c(e)),!1)}const l=[],d=Object.assign(V,{defaultVisitor:f,convertValue:c,isVisitable:z});if(!N.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!N.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),N.forEach(r,(function(r,i){!0===(!(N.isUndefined(r)||null===r)&&o.call(t,r,N.isString(i)?i.trim():i,n,d))&&e(r,n?n.concat(i):[i])})),l.pop()}}(e),t}function $(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Q(e,t){this._pairs=[],e&&W(e,this,t)}const G=Q.prototype;function X(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Y(e,t,r){if(!t)return e;const n=r&&r.encode||X,i=r&&r.serialize;let o;if(o=i?i(t,r):N.isURLSearchParams(t)?t.toString():new Q(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}G.append=function(e,t){this._pairs.push([e,t])},G.toString=function(e){const t=e?function(t){return e.call(this,t,$)}:$;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var J=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Z={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ee={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Q,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const te="undefined"!=typeof window&&"undefined"!=typeof document,re=(ne="undefined"!=typeof navigator&&navigator.product,te&&["ReactNative","NativeScript","NS"].indexOf(ne)<0);var ne;const ie="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var oe={...Object.freeze({__proto__:null,hasBrowserEnv:te,hasStandardBrowserWebWorkerEnv:ie,hasStandardBrowserEnv:re}),...ee};function se(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&N.isArray(n)?n.length:o,a)return N.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&N.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&N.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s}if(N.isFormData(e)&&N.isFunction(e.entries)){const r={};return N.forEachEntry(e,((e,n)=>{t(function(e){return N.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const ae={transitional:Z,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=N.isObject(e);i&&N.isHTMLForm(e)&&(e=new FormData(e));if(N.isFormData(e))return n?JSON.stringify(se(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return W(e,new oe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return oe.isNode&&N.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return W(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(N.isString(e))try{return(t||JSON.parse)(e),N.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ae.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&N.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw U.from(e,U.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],(e=>{ae.headers[e]={}}));var ue=ae;const ce=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const fe=Symbol("internals");function le(e){return e&&String(e).trim().toLowerCase()}function de(e){return!1===e||null==e?e:N.isArray(e)?e.map(de):String(e)}function he(e,t,r,n,i){return N.isFunction(n)?n.call(this,t,r):(i&&(t=r),N.isString(t)?N.isString(n)?-1!==t.indexOf(n):N.isRegExp(n)?n.test(t):void 0:void 0)}class pe{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=le(t);if(!i)throw new Error("header name must be a non-empty string");const o=N.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=de(e))}const o=(e,t)=>N.forEach(e,((e,r)=>i(e,r,t)));return N.isPlainObject(e)||e instanceof this.constructor?o(e,t):N.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&ce[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=le(e)){const r=N.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(N.isFunction(t))return t.call(this,e,r);if(N.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=le(e)){const r=N.findKey(this,e);return!(!r||void 0===this[r]||t&&!he(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=le(e)){const i=N.findKey(r,e);!i||t&&!he(0,r[i],i,t)||(delete r[i],n=!0)}}return N.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!he(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return N.forEach(this,((n,i)=>{const o=N.findKey(r,i);if(o)return t[o]=de(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=de(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return N.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&N.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[fe]=this[fe]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=le(e);t[n]||(!function(e,t){const r=N.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return N.isArray(e)?e.forEach(n):n(e),this}}pe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),N.reduceDescriptors(pe.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),N.freezeMethods(pe);var ye=pe;function ge(e,t){const r=this||ue,n=t||r,i=ye.from(n.headers);let o=n.data;return N.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function be(e){return!(!e||!e.__CANCEL__)}function me(e,t,r){U.call(this,null==e?"canceled":e,U.ERR_CANCELED,t,r),this.name="CanceledError"}N.inherits(me,U,{__CANCEL__:!0});var ve=oe.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];N.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),N.isString(n)&&s.push("path="+n),N.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _e(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var we=oe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=N.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};function Se(e,t){let r=0;const n=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const u=Date.now(),c=n[s];i||(i=u),r[o]=a,n[o]=u;let f=s,l=0;for(;f!==o;)l+=r[f++],f%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),u-i<t)return;const d=c&&u-c;return d?Math.round(1e3*l/d):void 0}}(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,u=n(a);r=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Ee={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){let n=e.data;const i=ye.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:u}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(N.isFormData(n))if(oe.hasStandardBrowserEnv||oe.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(s=i.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let f=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+r))}const l=_e(e.baseURL,e.url);function d(){if(!f)return;const n=ye.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());!function(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new U("Request failed with status code "+r.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}((function(e){t(e),c()}),(function(e){r(e),c()}),{data:a&&"text"!==a&&"json"!==a?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}if(f.open(e.method.toUpperCase(),Y(l,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=d:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(d)},f.onabort=function(){f&&(r(new U("Request aborted",U.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new U("Network Error",U.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||Z;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new U(t,n.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,e,f)),f=null},oe.hasStandardBrowserEnv&&(u&&N.isFunction(u)&&(u=u(e)),u||!1!==u&&we(l))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&ve.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===n&&i.setContentType(null),"setRequestHeader"in f&&N.forEach(i.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),N.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),a&&"json"!==a&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",Se(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",Se(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{f&&(r(!t||t.type?new me(null,e,f):t),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l);h&&-1===oe.protocols.indexOf(h)?r(new U("Unsupported protocol "+h+":",U.ERR_BAD_REQUEST,e)):f.send(n||null)}))}};N.forEach(Ee,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ae=e=>`- ${e}`,xe=e=>N.isFunction(e)||null===e||!1===e;var ke=e=>{e=N.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!xe(r)&&(n=Ee[(t=String(r)).toLowerCase()],void 0===n))throw new U(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new U("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Ae).join("\n"):" "+Ae(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Ie(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new me(null,e)}function Te(e){Ie(e),e.headers=ye.from(e.headers),e.data=ge.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ke(e.adapter||ue.adapter)(e).then((function(t){return Ie(e),t.data=ge.call(e,e.transformResponse,t),t.headers=ye.from(t.headers),t}),(function(t){return be(t)||(Ie(e),t&&t.response&&(t.response.data=ge.call(e,e.transformResponse,t.response),t.response.headers=ye.from(t.response.headers))),Promise.reject(t)}))}const Ce=e=>e instanceof ye?e.toJSON():e;function Oe(e,t){t=t||{};const r={};function n(e,t,r){return N.isPlainObject(e)&&N.isPlainObject(t)?N.merge.call({caseless:r},e,t):N.isPlainObject(t)?N.merge({},t):N.isArray(t)?t.slice():t}function i(e,t,r){return N.isUndefined(t)?N.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!N.isUndefined(t))return n(void 0,t)}function s(e,t){return N.isUndefined(t)?N.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Ce(e),Ce(t),!0)};return N.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=u[n]||i,s=o(e[n],t[n],n);N.isUndefined(s)&&o!==a||(r[n]=s)})),r}const Pe="1.6.7",Me={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Me[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Be={};Me.transitional=function(e,t,r){function n(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new U(n(i," has been removed"+(t?" in "+t:"")),U.ERR_DEPRECATED);return t&&!Be[i]&&(Be[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var De={assertOptions:function(e,t,r){if("object"!=typeof e)throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new U("option "+o+" must be "+r,U.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new U("Unknown option "+o,U.ERR_BAD_OPTION)}},validators:Me};const Re=De.validators;class je{constructor(e){this.defaults=e,this.interceptors={request:new J,response:new J}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Oe(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&De.assertOptions(r,{silentJSONParsing:Re.transitional(Re.boolean),forcedJSONParsing:Re.transitional(Re.boolean),clarifyTimeoutError:Re.transitional(Re.boolean)},!1),null!=n&&(N.isFunction(n)?t.paramsSerializer={serialize:n}:De.assertOptions(n,{encode:Re.function,serialize:Re.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&N.merge(i.common,i[t.method]);i&&N.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=ye.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let f,l=0;if(!a){const e=[Te.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,u),f=e.length,c=Promise.resolve(t);l<f;)c=c.then(e[l++],e[l++]);return c}f=s.length;let d=t;for(l=0;l<f;){const e=s[l++],t=s[l++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=Te.call(this,d)}catch(e){return Promise.reject(e)}for(l=0,f=u.length;l<f;)c=c.then(u[l++],u[l++]);return c}getUri(e){return Y(_e((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],(function(e){je.prototype[e]=function(t,r){return this.request(Oe(r||{},{method:e,url:t,data:(r||{}).data}))}})),N.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}je.prototype[e]=t(),je.prototype[e+"Form"]=t(!0)}));var Le=je;class Ne{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new me(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ne((function(t){e=t})),cancel:e}}}var Ue=Ne;const He={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(He).forEach((([e,t])=>{He[t]=e}));var Fe=He;const ze=function e(t){const r=new Le(t),n=i(Le.prototype.request,r);return N.extend(n,Le.prototype,r,{allOwnKeys:!0}),N.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Oe(t,r))},n}(ue);ze.Axios=Le,ze.CanceledError=me,ze.CancelToken=Ue,ze.isCancel=be,ze.VERSION=Pe,ze.toFormData=W,ze.AxiosError=U,ze.Cancel=ze.CanceledError,ze.all=function(e){return Promise.all(e)},ze.spread=function(e){return function(t){return e.apply(null,t)}},ze.isAxiosError=function(e){return N.isObject(e)&&!0===e.isAxiosError},ze.mergeConfig=Oe,ze.AxiosHeaders=ye,ze.formToJSON=e=>se(N.isHTMLForm(e)?new FormData(e):e),ze.getAdapter=ke,ze.HttpStatusCode=Fe,ze.default=ze,e.exports=ze},86425:(e,t,r)=>{"use strict";var n=r(48287).Buffer;function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:s}=Object,a=(u=Object.create(null),e=>{const t=o.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const c=e=>(e=e.toLowerCase(),t=>a(t)===e),f=e=>t=>typeof t===e,{isArray:l}=Array,d=f("undefined");const h=c("ArrayBuffer");const p=f("string"),y=f("function"),g=f("number"),b=e=>null!==e&&"object"==typeof e,m=e=>{if("object"!==a(e))return!1;const t=s(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},v=c("Date"),_=c("File"),w=c("Blob"),S=c("FileList"),E=c("URLSearchParams"),[A,x,k,I]=["ReadableStream","Request","Response","Headers"].map(c);function T(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,i;if("object"!=typeof e&&(e=[e]),l(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function C(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,P=e=>!d(e)&&e!==O;const M=(B="undefined"!=typeof Uint8Array&&s(Uint8Array),e=>B&&e instanceof B);var B;const D=c("HTMLFormElement"),R=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),j=c("RegExp"),L=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};T(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},N="abcdefghijklmnopqrstuvwxyz",U="0123456789",H={DIGIT:U,ALPHA:N,ALPHA_DIGIT:N+N.toUpperCase()+U};const F=c("AsyncFunction");var z={isArray:l,isArrayBuffer:h,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=a(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t},isString:p,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:b,isPlainObject:m,isReadableStream:A,isRequest:x,isResponse:k,isHeaders:I,isUndefined:d,isDate:v,isFile:_,isBlob:w,isRegExp:j,isFunction:y,isStream:e=>b(e)&&y(e.pipe),isURLSearchParams:E,isTypedArray:M,isFileList:S,forEach:T,merge:function e(){const{caseless:t}=P(this)&&this||{},r={},n=(n,i)=>{const o=t&&C(r,i)||i;m(r[o])&&m(n)?r[o]=e(r[o],n):m(n)?r[o]=e({},n):l(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&T(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(T(t,((t,n)=>{r&&y(t)?e[n]=i(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;const u={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],n&&!n(a,e,t)||u[a]||(t[a]=e[a],u[a]=!0);e=!1!==r&&s(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:c,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(l(e))return e;let t=e.length;if(!g(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:D,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:L,freezeMethods:e=>{L(e,((t,r)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];y(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return l(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:C,global:O,isContextDefined:P,ALPHABET:H,generateString:(e=16,t=H.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(b(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=l(e)?[]:{};return T(e,((e,t)=>{const o=r(e,n+1);!d(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:F,isThenable:e=>e&&(b(e)||y(e))&&y(e.then)&&y(e.catch)};function q(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}z.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const K=q.prototype,V={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{V[e]={value:e}})),Object.defineProperties(q,V),Object.defineProperty(K,"isAxiosError",{value:!0}),q.from=(e,t,r,n,i,o)=>{const s=Object.create(K);return z.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),q.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};function W(e){return z.isPlainObject(e)||z.isArray(e)}function $(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Q(e,t,r){return e?e.concat(t).map((function(e,t){return e=$(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const G=z.toFlatObject(z,{},null,(function(e){return/^is[A-Z]/.test(e)}));function X(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!z.isUndefined(t[e])}))).metaTokens,o=r.visitor||f,s=r.dots,a=r.indexes,u=(r.Blob||"undefined"!=typeof Blob&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(z.isDate(e))return e.toISOString();if(!u&&z.isBlob(e))throw new q("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(e)||z.isTypedArray(e)?u&&"function"==typeof Blob?new Blob([e]):n.from(e):e}function f(e,r,n){let o=e;if(e&&!n&&"object"==typeof e)if(z.endsWith(r,"{}"))r=i?r:r.slice(0,-2),e=JSON.stringify(e);else if(z.isArray(e)&&function(e){return z.isArray(e)&&!e.some(W)}(e)||(z.isFileList(e)||z.endsWith(r,"[]"))&&(o=z.toArray(e)))return r=$(r),o.forEach((function(e,n){!z.isUndefined(e)&&null!==e&&t.append(!0===a?Q([r],n,s):null===a?r:r+"[]",c(e))})),!1;return!!W(e)||(t.append(Q(n,r,s),c(e)),!1)}const l=[],d=Object.assign(G,{defaultVisitor:f,convertValue:c,isVisitable:W});if(!z.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!z.isUndefined(r)){if(-1!==l.indexOf(r))throw Error("Circular reference detected in "+n.join("."));l.push(r),z.forEach(r,(function(r,i){!0===(!(z.isUndefined(r)||null===r)&&o.call(t,r,z.isString(i)?i.trim():i,n,d))&&e(r,n?n.concat(i):[i])})),l.pop()}}(e),t}function Y(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function J(e,t){this._pairs=[],e&&X(e,this,t)}const Z=J.prototype;function ee(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function te(e,t,r){if(!t)return e;const n=r&&r.encode||ee,i=r&&r.serialize;let o;if(o=i?i(t,r):z.isURLSearchParams(t)?t.toString():new J(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}Z.append=function(e,t){this._pairs.push([e,t])},Z.toString=function(e){const t=e?function(t){return e.call(this,t,Y)}:Y;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var re=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ie={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:J,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const oe="undefined"!=typeof window&&"undefined"!=typeof document,se=(ae="undefined"!=typeof navigator&&navigator.product,oe&&["ReactNative","NativeScript","NS"].indexOf(ae)<0);var ae;const ue="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ce=oe&&window.location.href||"http://localhost";var fe={...Object.freeze({__proto__:null,hasBrowserEnv:oe,hasStandardBrowserWebWorkerEnv:ue,hasStandardBrowserEnv:se,origin:ce}),...ie};function le(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&z.isArray(n)?n.length:o,a)return z.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&z.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&z.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,((e,n)=>{t(function(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null}const de={transitional:ne,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=z.isObject(e);i&&z.isHTMLForm(e)&&(e=new FormData(e));if(z.isFormData(e))return n?JSON.stringify(le(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return X(e,new fe.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return fe.isNode&&z.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return X(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||de.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw q.from(e,q.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],(e=>{de.headers[e]={}}));var he=de;const pe=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const ye=Symbol("internals");function ge(e){return e&&String(e).trim().toLowerCase()}function be(e){return!1===e||null==e?e:z.isArray(e)?e.map(be):String(e)}function me(e,t,r,n,i){return z.isFunction(n)?n.call(this,t,r):(i&&(t=r),z.isString(t)?z.isString(n)?-1!==t.indexOf(n):z.isRegExp(n)?n.test(t):void 0:void 0)}class ve{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=ge(t);if(!i)throw new Error("header name must be a non-empty string");const o=z.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=be(e))}const o=(e,t)=>z.forEach(e,((e,r)=>i(e,r,t)));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(z.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&pe[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(z.isHeaders(e))for(const[t,n]of e.entries())i(n,t,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=ge(e)){const r=z.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(z.isFunction(t))return t.call(this,e,r);if(z.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ge(e)){const r=z.findKey(this,e);return!(!r||void 0===this[r]||t&&!me(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=ge(e)){const i=z.findKey(r,e);!i||t&&!me(0,r[i],i,t)||(delete r[i],n=!0)}}return z.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!me(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return z.forEach(this,((n,i)=>{const o=z.findKey(r,i);if(o)return t[o]=be(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=be(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return z.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&z.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[ye]=this[ye]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=ge(e);t[n]||(!function(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return z.isArray(e)?e.forEach(n):n(e),this}}ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),z.reduceDescriptors(ve.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),z.freezeMethods(ve);var _e=ve;function we(e,t){const r=this||he,n=t||r,i=_e.from(n.headers);let o=n.data;return z.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Se(e){return!(!e||!e.__CANCEL__)}function Ee(e,t,r){q.call(this,null==e?"canceled":e,q.ERR_CANCELED,t,r),this.name="CanceledError"}function Ae(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new q("Request failed with status code "+r.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}z.inherits(Ee,q,{__CANCEL__:!0});var xe=(e,t,r=3)=>{let n=0;const i=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const u=Date.now(),c=n[s];i||(i=u),r[o]=a,n[o]=u;let f=s,l=0;for(;f!==o;)l+=r[f++],f%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),u-i<t)return;const d=c&&u-c;return d?Math.round(1e3*l/d):void 0}}(50,250);return function(e,t){let r=0;const n=1e3/t;let i=null;return function(){const t=!0===this,o=Date.now();if(t||o-r>n)return i&&(clearTimeout(i),i=null),r=o,e.apply(null,arguments);i||(i=setTimeout((()=>(i=null,r=Date.now(),e.apply(null,arguments))),n-(o-r)))}}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,u=i(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:r,lengthComputable:null!=s};c[t?"download":"upload"]=!0,e(c)}),r)},ke=fe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=z.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},Ie=fe.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];z.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),z.isString(n)&&s.push("path="+n),z.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Te(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ce=e=>e instanceof _e?{...e}:e;function Oe(e,t){t=t||{};const r={};function n(e,t,r){return z.isPlainObject(e)&&z.isPlainObject(t)?z.merge.call({caseless:r},e,t):z.isPlainObject(t)?z.merge({},t):z.isArray(t)?t.slice():t}function i(e,t,r){return z.isUndefined(t)?z.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!z.isUndefined(t))return n(void 0,t)}function s(e,t){return z.isUndefined(t)?z.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Ce(e),Ce(t),!0)};return z.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=u[n]||i,s=o(e[n],t[n],n);z.isUndefined(s)&&o!==a||(r[n]=s)})),r}var Pe=e=>{const t=Oe({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:u}=t;if(t.headers=a=_e.from(a),t.url=te(Te(t.baseURL,t.url),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),z.isFormData(n))if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(fe.hasStandardBrowserEnv&&(i&&z.isFunction(i)&&(i=i(t)),i||!1!==i&&ke(t.url))){const e=o&&s&&Ie.read(s);e&&a.set(o,e)}return t};var Me="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Pe(e);let i=n.data;const o=_e.from(n.headers).normalize();let s,{responseType:a}=n;function u(){n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function f(){if(!c)return;const n=_e.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());Ae((function(e){t(e),u()}),(function(e){r(e),u()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:n,config:e,request:c}),c=null}c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout,"onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(f)},c.onabort=function(){c&&(r(new q("Request aborted",q.ECONNABORTED,n,c)),c=null)},c.onerror=function(){r(new q("Network Error",q.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const t=n.transitional||ne;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new q(e,t.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,n,c)),c=null},void 0===i&&o.setContentType(null),"setRequestHeader"in c&&z.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),z.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),a&&"json"!==a&&(c.responseType=n.responseType),"function"==typeof n.onDownloadProgress&&c.addEventListener("progress",xe(n.onDownloadProgress,!0)),"function"==typeof n.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",xe(n.onUploadProgress)),(n.cancelToken||n.signal)&&(s=t=>{c&&(r(!t||t.type?new Ee(null,e,c):t),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const l=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);l&&-1===fe.protocols.indexOf(l)?r(new q("Unsupported protocol "+l+":",q.ERR_BAD_REQUEST,e)):c.send(i||null)}))};var Be=(e,t)=>{let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof q?t:new Ee(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new q(`timeout ${t} of ms exceeded`,q.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]};const De=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},Re=(e,t,r,n,i)=>{const o=async function*(e,t,r){for await(const n of e)yield*De(ArrayBuffer.isView(n)?n:await r(String(n)),t)}(e,t,i);let s=0;return new ReadableStream({type:"bytes",async pull(e){const{done:t,value:i}=await o.next();if(t)return e.close(),void n();let a=i.byteLength;r&&r(s+=a),e.enqueue(new Uint8Array(i))},cancel:e=>(n(e),o.return())},{highWaterMark:2})},je=(e,t)=>{const r=null!=e;return n=>setTimeout((()=>t({lengthComputable:r,total:e,loaded:n})))},Le="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Ne=Le&&"function"==typeof ReadableStream,Ue=Le&&("function"==typeof TextEncoder?(He=new TextEncoder,e=>He.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var He;const Fe=Ne&&(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),ze=Ne&&!!(()=>{try{return z.isReadableStream(new Response("").body)}catch(e){}})(),qe={stream:ze&&(e=>e.body)};var Ke;Le&&(Ke=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!qe[e]&&(qe[e]=z.isFunction(Ke[e])?t=>t[e]():(t,r)=>{throw new q(`Response type '${e}' is not supported`,q.ERR_NOT_SUPPORT,r)})})));const Ve=async(e,t)=>{const r=z.toFiniteNumber(e.getContentLength());return null==r?(async e=>null==e?0:z.isBlob(e)?e.size:z.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:z.isArrayBufferView(e)?e.byteLength:(z.isURLSearchParams(e)&&(e+=""),z.isString(e)?(await Ue(e)).byteLength:void 0))(t):r};const We={http:null,xhr:Me,fetch:Le&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:f,withCredentials:l="same-origin",fetchOptions:d}=Pe(e);c=c?(c+"").toLowerCase():"text";let h,p,[y,g]=i||o||s?Be([i,o],s):[];const b=()=>{!h&&setTimeout((()=>{y&&y.unsubscribe()})),h=!0};let m;try{if(u&&Fe&&"get"!==r&&"head"!==r&&0!==(m=await Ve(f,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});z.isFormData(n)&&(e=r.headers.get("content-type"))&&f.setContentType(e),r.body&&(n=Re(r.body,65536,je(m,xe(u)),null,Ue))}z.isString(l)||(l=l?"cors":"omit"),p=new Request(t,{...d,signal:y,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",withCredentials:l});let i=await fetch(p);const o=ze&&("stream"===c||"response"===c);if(ze&&(a||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=z.toFiniteNumber(i.headers.get("content-length"));i=new Response(Re(i.body,65536,a&&je(t,xe(a,!0)),o&&b,Ue),e)}c=c||"text";let s=await qe[z.findKey(qe,c)||"text"](i,e);return!o&&b(),g&&g(),await new Promise(((t,r)=>{Ae(t,r,{data:s,headers:_e.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(t){if(b(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new q("Network Error",q.ERR_NETWORK,e,p),{cause:t.cause||t});throw q.from(t,t&&t.code,e,p)}})};z.forEach(We,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const $e=e=>`- ${e}`,Qe=e=>z.isFunction(e)||null===e||!1===e;var Ge=e=>{e=z.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Qe(r)&&(n=We[(t=String(r)).toLowerCase()],void 0===n))throw new q(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new q("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map($e).join("\n"):" "+$e(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Xe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function Ye(e){Xe(e),e.headers=_e.from(e.headers),e.data=we.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ge(e.adapter||he.adapter)(e).then((function(t){return Xe(e),t.data=we.call(e,e.transformResponse,t),t.headers=_e.from(t.headers),t}),(function(t){return Se(t)||(Xe(e),t&&t.response&&(t.response.data=we.call(e,e.transformResponse,t.response),t.response.headers=_e.from(t.response.headers))),Promise.reject(t)}))}const Je="1.7.2",Ze={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ze[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const et={};Ze.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.2] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new q(n(i," has been removed"+(t?" in "+t:"")),q.ERR_DEPRECATED);return t&&!et[i]&&(et[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var tt={assertOptions:function(e,t,r){if("object"!=typeof e)throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new q("option "+o+" must be "+r,q.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new q("Unknown option "+o,q.ERR_BAD_OPTION)}},validators:Ze};const rt=tt.validators;class nt{constructor(e){this.defaults=e,this.interceptors={request:new re,response:new re}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Oe(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&tt.assertOptions(r,{silentJSONParsing:rt.transitional(rt.boolean),forcedJSONParsing:rt.transitional(rt.boolean),clarifyTimeoutError:rt.transitional(rt.boolean)},!1),null!=n&&(z.isFunction(n)?t.paramsSerializer={serialize:n}:tt.assertOptions(n,{encode:rt.function,serialize:rt.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&z.merge(i.common,i[t.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=_e.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let f,l=0;if(!a){const e=[Ye.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,u),f=e.length,c=Promise.resolve(t);l<f;)c=c.then(e[l++],e[l++]);return c}f=s.length;let d=t;for(l=0;l<f;){const e=s[l++],t=s[l++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=Ye.call(this,d)}catch(e){return Promise.reject(e)}for(l=0,f=u.length;l<f;)c=c.then(u[l++],u[l++]);return c}getUri(e){return te(Te((e=Oe(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],(function(e){nt.prototype[e]=function(t,r){return this.request(Oe(r||{},{method:e,url:t,data:(r||{}).data}))}})),z.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Oe(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}nt.prototype[e]=t(),nt.prototype[e+"Form"]=t(!0)}));var it=nt;class ot{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new Ee(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new ot((function(t){e=t})),cancel:e}}}var st=ot;const at={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(at).forEach((([e,t])=>{at[t]=e}));var ut=at;const ct=function e(t){const r=new it(t),n=i(it.prototype.request,r);return z.extend(n,it.prototype,r,{allOwnKeys:!0}),z.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Oe(t,r))},n}(he);ct.Axios=it,ct.CanceledError=Ee,ct.CancelToken=st,ct.isCancel=Se,ct.VERSION=Je,ct.toFormData=X,ct.AxiosError=q,ct.Cancel=ct.CanceledError,ct.all=function(e){return Promise.all(e)},ct.spread=function(e){return function(t){return e.apply(null,t)}},ct.isAxiosError=function(e){return z.isObject(e)&&!0===e.isAxiosError},ct.mergeConfig=Oe,ct.AxiosHeaders=_e,ct.formToJSON=e=>le(z.isHTMLForm(e)?new FormData(e):e),ct.getAdapter=Ge,ct.HttpStatusCode=ut,ct.default=ct,e.exports=ct},17089:e=>{"use strict";e.exports={rE:"6.5.4"}},3219:e=>{"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:e=>{"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:e=>{"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:e=>{"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:e=>{"use strict";e.exports={rE:"6.5.5"}},15579:e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BtcHelper:()=>an,CkbHelper:()=>on,RgbppSDK:()=>$f,convertToTxSkeleton:()=>rn,createBurnXudtTransaction:()=>pn,createIssueXudtTransaction:()=>yn,createMergeXudtTransaction:()=>bn,createTransferXudtTransaction:()=>mn,distributeCombined:()=>wn,launchCombined:()=>Sn,leapFromBtcToCKB:()=>En,leapFromCkbToBtc:()=>gn,transferCombined:()=>An});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{OG:()=>qt,My:()=>Dt,Ph:()=>Lt,lX:()=>Nt,Id:()=>zt,fg:()=>Wt,qj:()=>Ft,aT:()=>jt,lq:()=>Ut,z:()=>Ht,Q5:()=>Qt});var t=__webpack_require__(60720),r=__webpack_require__(41256),n=(__webpack_require__(22343),__webpack_require__(48287));function i(...e){return new Uint8Array(e.reduce(((e,t)=>(e.push(...o(t)),e)),[]))}function o(e,t){if(e instanceof Uint8Array)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(Array.isArray(e)){if(e.some((e=>e<0||255<e)))throw new Error(`Invalid bytes ${JSON.stringify(e)}`);return new Uint8Array(e)}if(void 0!==t)return n.Buffer.from(e,t);const r=e.startsWith("0x")?e.slice(2):e,i=r.length%2==0?r:`0${r}`,o=n.Buffer.from(i,"hex");if(2*o.length!==i.length)throw new Error(`Invalid bytes ${e}`);return o}function s(e){return`0x${t=o(e),r="hex",n.Buffer.from(o(t)).toString(r)}`;var t,r}function a(e,t){throw new Error(`Invalid data length! Required: ${t}, actual: ${e}`)}function u(e,t){e!==t&&a(e,t)}function c(e){if(e instanceof Object&&e.toArrayBuffer instanceof Function&&(e=e.toArrayBuffer()),e instanceof Uint8Array)return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset);if(!(e instanceof ArrayBuffer))throw new Error("Provided value must be an ArrayBuffer or can be transformed into ArrayBuffer!");return e}function f(e,t,r){e.byteLength<4&&a(e.byteLength,">4");const n=e.getUint32(0,!0);if(u(e.byteLength,n),4===n)return[n];n<8&&a(e.byteLength,">8");const i=e.getUint32(4,!0);if(i%4!=0||i<8)throw new Error(`Invalid first offset: ${i}`);const o=i/4-1;if(o<t)throw new Error(`Item count not enough! Required: ${t}, actual: ${o}`);if(!r&&o>t)throw new Error(`Item count is more than required! Required: ${t}, actual: ${o}`);if(n<i)throw new Error(`First offset is larger than byte length: ${i}`);const s=[];for(let t=0;t<o;t++){const r=4+4*t;s.push(e.getUint32(r,!0))}s.push(n);for(let e=0;e<s.length-1;e++)if(s[e]>s[e+1])throw new Error(`Offset index ${e}: ${s[e]} is larger than offset index ${e+1}: ${s[e+1]}`);return s}function l(e){const t=e.length;let r=4*(t+1);const n=[];for(let i=0;i<t;i++)n.push(r),r+=e[i].byteLength;const i=new ArrayBuffer(r),o=new Uint8Array(i),s=new DataView(i);s.setUint32(0,r,!0);for(let r=0;r<t;r++)s.setUint32(4+4*r,n[r],!0),o.set(new Uint8Array(e[r]),n[r]);return i}class d{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){u(this.view.byteLength,4)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}toBigEndianUint32(){return this.view.getUint32(0,!1)}toLittleEndianUint32(){return this.view.getUint32(0,!0)}static size(){return 4}}function h(e){const t=c(e);return u(t.byteLength,4),t}class p{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){u(this.view.byteLength,8)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 8}}function y(e){const t=c(e);return u(t.byteLength,8),t}class g{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){u(this.view.byteLength,32)}indexAt(e){return this.view.getUint8(e)}raw(){return this.view.buffer}static size(){return 32}}function b(e){const t=c(e);return u(t.byteLength,32),t}class m{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){this.view.byteLength<4&&a(this.view.byteLength,">4");const t=this.length()+4;u(this.view.byteLength,t)}raw(){return this.view.buffer.slice(4)}indexAt(e){return this.view.getUint8(4+e)}length(){return this.view.getUint32(0,!0)}}function v(e){const t=c(e),r=new Uint8Array(4+t.byteLength);return new DataView(r.buffer).setUint32(0,t.byteLength,!0),r.set(new Uint8Array(t),4),r.buffer}class _{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new m(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}function w(e){return e?v(e):new ArrayBuffer(0)}function S(e){return l(e.map((e=>v(e))))}class E{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){this.hasValue()&&this.value().validate(e)}value(){return new A(this.view.buffer,{validate:!1})}hasValue(){return this.view.byteLength>0}}class A{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){const t=f(this.view,0,!0);if(new g(this.view.buffer.slice(t[0],t[1]),{validate:!1}).validate(),t[2]-t[1]!=1)throw new Error(`Invalid offset for hashType: ${t[1]} - ${t[2]}`);new m(this.view.buffer.slice(t[2],t[3]),{validate:!1}).validate()}getCodeHash(){const e=this.view.getUint32(4,!0),t=this.view.getUint32(8,!0);return new g(this.view.buffer.slice(e,t),{validate:!1})}getHashType(){const e=this.view.getUint32(8,!0),t=this.view.getUint32(12,!0);return new DataView(this.view.buffer.slice(e,t)).getUint8(0)}getArgs(){const e=this.view.getUint32(12,!0),t=this.view.byteLength;return new m(this.view.buffer.slice(e,t),{validate:!1})}}function x(e){const t=[];t.push(b(e.codeHash));const r=new DataView(new ArrayBuffer(1));return r.setUint8(0,e.hashType),t.push(r.buffer),t.push(v(e.args)),l(t)}class k{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}getTxHash(){return new g(this.view.buffer.slice(0,0+g.size()),{validate:!1})}getIndex(){return new d(this.view.buffer.slice(0+g.size(),0+g.size()+d.size()),{validate:!1})}validate(e=!1){u(this.view.byteLength,k.size()),this.getTxHash().validate(e),this.getIndex().validate(e)}static size(){return 0+g.size()+d.size()}}function I(e){const t=new Uint8Array(0+g.size()+d.size());new DataView(t.buffer);return t.set(new Uint8Array(b(e.txHash)),0),t.set(new Uint8Array(h(e.index)),0+g.size()),t.buffer}class T{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}getSince(){return new p(this.view.buffer.slice(0,0+p.size()),{validate:!1})}getPreviousOutput(){return new k(this.view.buffer.slice(0+p.size(),0+p.size()+k.size()),{validate:!1})}validate(e=!1){u(this.view.byteLength,T.size()),this.getSince().validate(e),this.getPreviousOutput().validate(e)}static size(){return 0+p.size()+k.size()}}function C(e){const t=new Uint8Array(0+p.size()+k.size());new DataView(t.buffer);return t.set(new Uint8Array(y(e.since)),0),t.set(new Uint8Array(I(e.previousOutput)),0+p.size()),t.buffer}class O{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){const t=f(this.view,0,!0);new p(this.view.buffer.slice(t[0],t[1]),{validate:!1}).validate(),new A(this.view.buffer.slice(t[1],t[2]),{validate:!1}).validate(),new E(this.view.buffer.slice(t[2],t[3]),{validate:!1}).validate()}getCapacity(){const e=this.view.getUint32(4,!0),t=this.view.getUint32(8,!0);return new p(this.view.buffer.slice(e,t),{validate:!1})}getLock(){const e=this.view.getUint32(8,!0),t=this.view.getUint32(12,!0);return new A(this.view.buffer.slice(e,t),{validate:!1})}getType(){const e=this.view.getUint32(12,!0),t=this.view.byteLength;return new E(this.view.buffer.slice(e,t),{validate:!1})}}function P(e){const t=[];return t.push(y(e.capacity)),t.push(x(e.lock)),t.push(function(e){return e?x(e):new ArrayBuffer(0)}(e.type)),l(t)}class M{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}getOutPoint(){return new k(this.view.buffer.slice(0,0+k.size()),{validate:!1})}getDepType(){return this.view.getUint8(0+k.size())}validate(e=!1){u(this.view.byteLength,M.size()),this.getOutPoint().validate(e)}static size(){return 0+k.size()+1}}function B(e){const t=new Uint8Array(0+k.size()+1),r=new DataView(t.buffer);return t.set(new Uint8Array(I(e.outPoint)),0),r.setUint8(0+k.size(),e.depType),t.buffer}function D(e){const t=[];return t.push(h(e.version)),t.push(function(e){const t=new Uint8Array(4+M.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=B(e[r]);t.set(new Uint8Array(n),4+r*M.size())}return t.buffer}(e.cellDeps)),t.push(function(e){const t=new Uint8Array(4+g.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=b(e[r]);t.set(new Uint8Array(n),4+r*g.size())}return t.buffer}(e.headerDeps)),t.push(function(e){const t=new Uint8Array(4+T.size()*e.length);new DataView(t.buffer).setUint32(0,e.length,!0);for(let r=0;r<e.length;r++){const n=C(e[r]);t.set(new Uint8Array(n),4+r*T.size())}return t.buffer}(e.inputs)),t.push(function(e){return l(e.map((e=>P(e))))}(e.outputs)),t.push(S(e.outputsData)),l(t)}class R{constructor(e,{validate:t=!0}={}){this.view=new DataView(c(e)),t&&this.validate()}validate(e=!1){const t=f(this.view,0,!0);new _(this.view.buffer.slice(t[0],t[1]),{validate:!1}).validate(),new _(this.view.buffer.slice(t[1],t[2]),{validate:!1}).validate(),new _(this.view.buffer.slice(t[2],t[3]),{validate:!1}).validate()}getLock(){const e=this.view.getUint32(4,!0),t=this.view.getUint32(8,!0);return new _(this.view.buffer.slice(e,t),{validate:!1})}getInputType(){const e=this.view.getUint32(8,!0),t=this.view.getUint32(12,!0);return new _(this.view.buffer.slice(e,t),{validate:!1})}getOutputType(){const e=this.view.getUint32(12,!0),t=this.view.byteLength;return new _(this.view.buffer.slice(e,t),{validate:!1})}}const j={type:1,data:0,data1:2,data2:4},L={1:"type",0:"data",2:"data1",4:"data2"},N=Object.keys(j);function U(e){const t="number"==typeof e?L[e]:"bigint"==typeof e?L[Number(e)]:N.includes(e)?e:void 0;if(void 0===t)throw new Error(`Invalid hash type ${e}`);return t}function H(e){return o([j[U(e)]])}function F(e){return L[o(e)[0]]}class z{constructor(e,t,r){this.codeHash=e,this.hashType=t,this.args=r}static from(e){return e instanceof z?e:new z(s(e.codeHash),U(e.hashType),s(e.args))}_toMolData(){return{codeHash:o(this.codeHash),hashType:H(this.hashType),args:o(this.args)}}toBytes(){return o(x(this._toMolData()))}static fromBytes(e){const t=e instanceof A?e:new A(o(e));return new z(s(t.getCodeHash().raw()),F([t.getHashType()]),s(t.getArgs().raw()))}eq(e){const t=z.from(e);return this.codeHash===t.codeHash&&this.args===t.args&&this.hashType===t.hashType}}var q=__webpack_require__(72206),K=__webpack_require__.n(q);class V{constructor(e=32,t="ckb-default-hash"){this.hasher=K()(e,void 0,void 0,o(t,"utf8"))}update(e){return this.hasher.update(o(e)),this}digest(){return`0x${this.hasher.digest("hex")}`}}function W(e){return"bigint"==typeof e?e:"string"==typeof e||"number"==typeof e?BigInt(e):BigInt(s(e))}function $(e){return`0x${W(e).toString(16)}`}function Q(e,t){return function(e,t){return function(e,t){const r=o(W(e).toString(16));if(null==t)return r;return i(Array.from(Array(t-r.length),(()=>0)),r)}(e,t).reverse()}(e,t)}function G(e){return function(e){return function(e){return W(o(e))}(o(e).reverse())}(e)}function X(e,t){return null==t?t:e(t)}function Y(e){if(e.hasValue())return e.value()}const J={code:0,depGroup:1},Z={0:"code",1:"depGroup"};Object.keys(J);function ee(e){const t="number"==typeof e?Z[e]:"bigint"==typeof e?Z[Number(e)]:e;if(void 0===t)throw new Error(`Invalid dep type ${e}`);return t}class te{constructor(e,t){this.txHash=e,this.index=t}static from(e){return e instanceof te?e:new te(s(e.txHash),W(e.index))}_toMolData(){return{txHash:o(this.txHash),index:Q(this.index,4)}}encode(){return o(I(this._toMolData()))}static fromBytes(e){const t=e instanceof k?e:new k(o(e));return new te(s(t.getTxHash().raw()),G(t.getIndex().raw()))}}class re{constructor(e,t,r){this.capacity=e,this.lock=t,this.type=r}static from(e){return e instanceof re?e:new re(W(e.capacity),z.from(e.lock),X(z.from,e.type))}_toMolData(){return{capacity:Q(this.capacity,8),lock:this.lock._toMolData(),type:this.type?._toMolData()}}toBytes(){return o(P(this._toMolData()))}static fromBytes(e){const t=e instanceof O?e:new O(o(e));return new re(G(t.getCapacity().raw()),z.fromBytes(t.getLock()),X(z.fromBytes,Y(t.getType())))}}class ne{constructor(e,t,r,n,i){this.previousOutput=e,this.since=t,this.cellOutput=r,this.outputData=n,this.blockNumber=i}static from(e){return e instanceof ne?e:new ne(te.from(e.previousOutput),W(e.since),X(re.from,e.cellOutput),X(s,e.outputData),X(W,e.blockNumber))}async completeExtraInfos(e){if(this.cellOutput&&this.outputData&&this.blockNumber)return this;const t=await e.getCell(this.previousOutput);return t&&(this.cellOutput=t.cellOutput,this.outputData=t.outputData,this.blockNumber=t.blockNumber),this}_toMolData(){return{previousOutput:this.previousOutput._toMolData(),since:Q(this.since,8)}}toBytes(){return o(C(this._toMolData()))}static fromBytes(e){const t=e instanceof T?e:new T(o(e));return new ne(te.fromBytes(t.getPreviousOutput()),G(t.getSince().raw()))}}class ie{constructor(e,t){this.outPoint=e,this.depType=t}static from(e){return e instanceof ie?e:new ie(te.from(e.outPoint),ee(e.depType))}_toMolData(){return{outPoint:this.outPoint._toMolData(),depType:(e=this.depType,o([J[ee(e)]]))};var e}toBytes(){return o(B(this._toMolData()))}fromBytes(e){const t=e instanceof M?e:new M(o(e));return new ie(te.fromBytes(t.getOutPoint()),function(e){return Z[o(e)[0]]}([t.getDepType()]))}}class oe{constructor(e,t,r){this.lock=e,this.inputType=t,this.outputType=r}static from(e){return e instanceof oe?e:new oe(X(s,e.lock),X(s,e.inputType),X(s,e.outputType))}_toMolData(){return{lock:X(o,this.lock),inputType:X(o,this.inputType),outputType:X(o,this.outputType)}}toBytes(){return o(function(e){const t=[];return t.push(w(e.lock)),t.push(w(e.inputType)),t.push(w(e.outputType)),l(t)}(this._toMolData()))}static fromBytes(e){const t=e instanceof R?e:new R(o(e));return new oe(X(s,Y(t.getLock())?.raw()),X(s,Y(t.getInputType())?.raw()),X(s,Y(t.getOutputType())?.raw()))}}class se{constructor(e,t,r,n,i,o,s){this.version=e,this.cellDeps=t,this.headerDeps=r,this.inputs=n,this.outputs=i,this.outputsData=o,this.witnesses=s}static default(){return new se(0n,[],[],[],[],[],[])}static from(e){return e instanceof se?e:new se(W(e.version),e.cellDeps.map((e=>ie.from(e))),e.headerDeps.map(s),e.inputs.map((e=>ne.from(e))),e.outputs.map((e=>re.from(e))),e.outputsData.map(s),e.witnesses.map(s))}static fromLumosSkeleton(e){return se.from({version:0n,cellDeps:e.cellDeps.toArray(),headerDeps:e.headerDeps.toArray(),inputs:e.inputs.toArray().map(((t,r)=>{if(!t.outPoint)throw new Error("outPoint is required in input");return ne.from({previousOutput:t.outPoint,since:e.inputSinces.get(r,"0x0"),cellOutput:t.cellOutput,outputData:t.data})})),outputs:e.outputs.toArray().map((e=>e.cellOutput)),outputsData:e.outputs.toArray().map((e=>e.data)),witnesses:e.witnesses.toArray()})}stringify(){return JSON.stringify(this,((e,t)=>"bigint"==typeof t?$(t):t))}rawToBytes(){return o(D({version:Q(this.version,4),cellDeps:this.cellDeps.map((e=>e._toMolData())),headerDeps:this.headerDeps.map((e=>o(e))),inputs:this.inputs.map((e=>e._toMolData())),outputs:this.outputs.map((e=>e._toMolData())),outputsData:this.outputsData.map((e=>o(e)))}))}hash(){return e=this.rawToBytes(),(new V).update(e).digest();var e}static hashWitnessToHasher(e,t){const r=o(s(e));t.update(Q(r.length,8)),t.update(r)}async getSignHashInfo(e,t){const r=z.from(e);let n=-1;const i=new V;i.update(this.hash());for(let e=0;e<this.witnesses.length;e+=1){if(this.inputs[e]){const i=await this.inputs[e].completeExtraInfos(t);if(!i.cellOutput)throw Error("Unable to resolve inputs info");if(!r.eq(i.cellOutput.lock))continue;-1===n&&(n=e)}if(-1===n)return;se.hashWitnessToHasher(this.witnesses[e],i)}if(-1!==n)return{message:i.digest(),position:n}}async findInputIndexByLock(e,t){const r=z.from(e);for(let e=0;e<this.inputs.length;e+=1){const n=await this.inputs[e].completeExtraInfos(t);if(!n.cellOutput)throw Error("Unable to resolve inputs info");if(r.eq(n.cellOutput.lock))return e}}getWitnessArgsAt(e){const t=this.witnesses[e];return"0x"!==(t??"0x")?oe.fromBytes(t):void 0}setWitnessArgsAt(e,t){return this.witnesses.length<e&&this.witnesses.push(...Array.from(new Array(e-this.witnesses.length),(()=>"0x"))),this.witnesses[e]=s(t.toBytes()),this}async prepareSighashAllWitness(e,t,r){const n=await this.findInputIndexByLock(e,r);if(void 0===n)return this;const i=this.getWitnessArgsAt(n)??oe.from({});return i.lock=s(Array.from(new Array(t),(()=>0))),this.setWitnessArgsAt(n,i)}}function ae(e,t=8){if("bigint"==typeof e)return e;const[r,n]=("number"==typeof e?e.toFixed(t):e.toString()).split("."),i=BigInt(r.padEnd(r.length+t,"0"));return void 0===n?i:i+BigInt(n.slice(0,t).padEnd(t,"0"))}ae("1");var ue;!function(e){e[e.Secp256k1Blake160=0]="Secp256k1Blake160",e[e.Secp256k1Multisig=1]="Secp256k1Multisig",e[e.AnyoneCanPay=2]="AnyoneCanPay",e[e.JoyId=3]="JoyId",e[e.COTA=4]="COTA",e[e.OmniLock=5]="OmniLock"}(ue||(ue={}));ue.Secp256k1Blake160,ue.Secp256k1Multisig,ue.AnyoneCanPay,ue.JoyId,ue.COTA,ue.OmniLock;__webpack_require__(59819);ue.Secp256k1Blake160,ue.Secp256k1Multisig,ue.AnyoneCanPay,ue.JoyId,ue.COTA,ue.OmniLock;var ce;!function(e){e[e.Full=0]="Full",e[e.Short=1]="Short",e[e.FullData=2]="FullData",e[e.FullType=4]="FullType"}(ce||(ce={}));new Uint8Array(new Uint32Array([287454020]).buffer)[0];const fe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),le=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let de=[le],he=[le.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[de,he])t.push(t[e].map((e=>fe[e])));__webpack_require__(59045);const pe=globalThis.crypto;pe.subtle;var ye=class extends Error{constructor(e,t="Invalid Params",r=void 0){super(e),this.name="User Rejected"===e?e:t,this.rawError=r}};function ge(e){if(!e)return"";const t=decodeURIComponent(e);return"false"!==t&&("true"===t||(0*+t==0&&""+ +t===t?+t:t))}var be;be=JSON.parse,function(e,t){function r(r){if("object"==typeof r&&null!==r)try{return e(r)}catch(e){}else if("string"==typeof r&&"function"==typeof t)try{return t(r),e(r)}catch(e){}return r}}(JSON.stringify,JSON.parse);Error,Error;function me(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ve(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function _e(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function we(e,t){ve(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Se=BigInt(2**32-1),Ee=BigInt(32);function Ae(e,t=!1){return t?{h:Number(e&Se),l:Number(e>>Ee&Se)}:{h:0|Number(e>>Ee&Se),l:0|Number(e&Se)}}function xe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Ae(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const ke=(e,t,r)=>e<<r|t>>>32-r,Ie=(e,t,r)=>t<<r|e>>>32-r,Te=(e,t,r)=>t<<r-32|e>>>64-r,Ce=(e,t,r)=>e<<r-32|t>>>64-r;const Oe=e=>e instanceof Uint8Array;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Pe(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Oe(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Me{clone(){return this._cloneInto()}}const[Be,De,Re]=[[],[],[]],je=BigInt(0),Le=BigInt(1),Ne=BigInt(2),Ue=BigInt(7),He=BigInt(256),Fe=BigInt(113);for(let e=0,t=Le,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Be.push(2*(5*n+r)),De.push((e+1)*(e+2)/2%64);let i=je;for(let e=0;e<7;e++)t=(t<<Le^(t>>Ue)*Fe)%He,t&Ne&&(i^=Le<<(Le<<BigInt(e))-Le);Re.push(i)}const[ze,qe]=xe(Re,!0),Ke=(e,t,r)=>r>32?Te(e,t,r):ke(e,t,r),Ve=(e,t,r)=>r>32?Ce(e,t,r):Ie(e,t,r);class We extends Me{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,me(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,i=(t+2)%10,o=r[i],s=r[i+1],a=Ke(o,s,1)^r[n],u=Ve(o,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=De[r],o=Ke(t,i,n),s=Ve(t,i,n),a=Be[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=ze[n],e[1]^=qe[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){_e(this);const{blockLen:t,state:r}=this,n=(e=Pe(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){_e(this,!1),ve(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return me(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(we(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new We(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const $e=(e,t,r)=>function(e){const t=t=>e().update(Pe(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}((()=>new We(t,e,r))),Qe=$e(1,136,32),Ge="6.13.1";function Xe(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}function Ye(e,t,r){for(let n in t){let i=t[n];const o=r?r[n]:null;o&&Xe(i,o,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Je(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(Je).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return Je(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${Je(t)}: ${Je(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ze(e,t,r,n){if(!e)throw function(e,t,r){let n,i=e;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Je(r)}`);for(const e in r){if("shortMessage"===e)continue;const t=r[e];n.push(e+"="+Je(t))}}n.push(`code=${t}`),n.push(`version=${Ge}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(e);break;default:n=new Error(e)}return Ye(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&Ye(n,{shortMessage:i}),n}(t,r,n)}function et(e,t,r,n){Ze(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function tt(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}et(!1,"invalid BytesLike value",t||"value",e)}function rt(e,t){return tt(e,t,!1)}const nt="0123456789abcdef";function it(e){const t=rt(e);let r="0x";for(let e=0;e<t.length;e++){const n=t[e];r+=nt[(240&n)>>4]+nt[15&n]}return r}let ot=!1;const st=function(e){return Qe(e)};let at=st;function ut(e){const t=rt(e,"data");return it(at(t))}ut._=st,ut.lock=function(){ot=!0},ut.register=function(e){if(ot)throw new TypeError("keccak256 is locked");at=e},Object.freeze(ut);BigInt(0),BigInt(36);const ct={};for(let e=0;e<10;e++)ct[String(e)]=String(e);for(let e=0;e<26;e++)ct[String.fromCharCode(65+e)]=String(10+e);!function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}}();function ft(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function lt(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function dt(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");ft(e.outputLen),ft(e.blockLen)}function ht(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function pt(e,t){lt(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const yt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,gt=e=>e instanceof Uint8Array,bt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),mt=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function vt(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!gt(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class _t{clone(){return this._cloneInto()}}function wt(e){const t=t=>e().update(vt(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function St(e=32){if(yt&&"function"==typeof yt.getRandomValues)return yt.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Et extends _t{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=bt(this.buffer)}update(e){ht(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=vt(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=bt(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ht(this),pt(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=bt(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)s.setUint32(4*e,c[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const At=(e,t,r)=>e&t^e&r^t&r,xt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),It=new Uint32Array(64);class Tt extends Et{constructor(){super(64,32,8,!1),this.A=0|kt[0],this.B=0|kt[1],this.C=0|kt[2],this.D=0|kt[3],this.E=0|kt[4],this.F=0|kt[5],this.G=0|kt[6],this.H=0|kt[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)It[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=It[e-15],r=It[e-2],n=mt(t,7)^mt(t,18)^t>>>3,i=mt(r,17)^mt(r,19)^r>>>10;It[e]=i+It[e-7]+n+It[e-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let e=0;e<64;e++){const t=c+(mt(s,6)^mt(s,11)^mt(s,25))+((f=s)&a^~f&u)+xt[e]+It[e]|0,l=(mt(r,2)^mt(r,13)^mt(r,22))+At(r,n,i)|0;c=u,u=a,a=s,s=o+t|0,o=i,i=n,n=r,r=t+l|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,u,c)}roundClean(){It.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ct=wt((()=>new Tt)),Ot=(BigInt(0),BigInt(1)),Pt=BigInt(2),Mt=e=>e instanceof Uint8Array,Bt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Dt(e){if(!Mt(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Bt[e[r]];return t}function Rt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function jt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const n=2*t,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[t]=o}return r}function Lt(e){return Rt(Dt(e))}function Nt(e){if(!Mt(e))throw new Error("Uint8Array expected");return Rt(Dt(Uint8Array.from(e).reverse()))}function Ut(e,t){return jt(e.toString(16).padStart(2*t,"0"))}function Ht(e,t){return Ut(e,t).reverse()}function Ft(e,t,r){let n;if("string"==typeof t)try{n=jt(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!Mt(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function zt(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!Mt(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}const qt=e=>(Pt<<BigInt(e-1))-Ot,Kt=e=>new Uint8Array(e),Vt=e=>Uint8Array.from(e);function Wt(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=Kt(e),i=Kt(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),u=(e=Kt())=>{i=a(Vt([0]),e),n=a(),0!==e.length&&(i=a(Vt([1]),e),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return zt(...r)};return(e,t)=>{let r;for(s(),u(e);!(r=t(c()));)u();return s(),r}}const $t={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Qt(e,t,r={}){const n=(t,r,n)=>{const i=$t[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(n&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Gt=BigInt(0),Xt=BigInt(1),Yt=BigInt(2),Jt=BigInt(3),Zt=BigInt(4),er=BigInt(5),tr=BigInt(8);BigInt(9),BigInt(16);function rr(e,t){const r=e%t;return r>=Gt?r:t+r}function nr(e,t,r){if(r<=Gt||t<Gt)throw new Error("Expected power/modulo > 0");if(r===Xt)return Gt;let n=Xt;for(;t>Gt;)t&Xt&&(n=n*e%r),e=e*e%r,t>>=Xt;return n}function ir(e,t,r){let n=e;for(;t-- >Gt;)n*=n,n%=r;return n}function or(e,t){if(e===Gt||t<=Gt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=rr(e,t),n=t,i=Gt,o=Xt,s=Xt,a=Gt;for(;r!==Gt;){const e=n/r,t=n%r,u=i-s*e,c=o-a*e;n=r,r=t,i=s,o=a,s=u,a=c}if(n!==Xt)throw new Error("invert: does not exist");return rr(i,t)}function sr(e){if(e%Zt===Jt){const t=(e+Xt)/Zt;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%tr===er){const t=(e-er)/tr;return function(e,r){const n=e.mul(r,Yt),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,Yt),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Xt)/Yt;let r,n,i;for(r=e-Xt,n=0;r%Yt===Gt;r/=Yt,n++);for(i=Yt;i<e&&nr(i,t,e)!==e-Xt;i++);if(1===n){const t=(e+Xt)/Zt;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+Xt)/Yt;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,u=e.pow(e.mul(e.ONE,i),r),c=e.pow(s,o),f=e.pow(s,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(f);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(u,Xt<<BigInt(a-t-1));u=e.sqr(r),c=e.mul(c,r),f=e.mul(f,u),a=t}return c}}(e)}const ar=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ur(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function cr(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function fr(e){const t=cr(e);return t+Math.ceil(t/2)}class lr extends _t{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,dt(e);const r=vt(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return ht(this),this.iHash.update(e),this}digestInto(e){ht(this),lt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dr=(e,t,r)=>new lr(e,t).update(r).digest();dr.create=(e,t)=>new lr(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const hr=BigInt(0),pr=BigInt(1);function yr(e){return Qt(e.Fp,ar.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Qt(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ur(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:gr,aT:br}=e,mr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=mr;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:gr(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=mr,r="string"==typeof e?br(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=mr._parseInt(r.subarray(2)),{d:s,l:a}=mr._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),u=r(s);return`30${r(s+o+4)}02${u}${i}02${a}${n}`}},vr=BigInt(0),_r=BigInt(1),wr=(BigInt(2),BigInt(3));BigInt(4);function Sr(e){const t=
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function(e){const t=yr(e);Qt(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return zt(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&vr<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Dt(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let s;try{s="bigint"==typeof e?e:Lt(Ft("private key",e,n))}catch(t){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=rr(s,o)),a(s),s}const c=new Map;function f(e){if(!(e instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof l)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?l.ZERO:new l(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(l.fromAffine)}static fromHex(e){const t=l.fromAffine(i(Ft("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return l.BASE.multiply(u(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,u=r.eql(r.mul(t,a),r.mul(o,i)),c=r.eql(r.mul(n,a),r.mul(s,i));return u&&c}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,wr),{px:o,py:s,pz:a}=this;let u=r.ZERO,c=r.ZERO,f=r.ZERO,d=r.mul(o,o),h=r.mul(s,s),p=r.mul(a,a),y=r.mul(o,s);return y=r.add(y,y),f=r.mul(o,a),f=r.add(f,f),u=r.mul(e,f),c=r.mul(i,p),c=r.add(u,c),u=r.sub(h,c),c=r.add(h,c),c=r.mul(u,c),u=r.mul(y,u),f=r.mul(i,f),p=r.mul(e,p),y=r.sub(d,p),y=r.mul(e,y),y=r.add(y,f),f=r.add(d,d),d=r.add(f,d),d=r.add(d,p),d=r.mul(d,y),c=r.add(c,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,y),u=r.sub(u,d),f=r.mul(p,h),f=r.add(f,f),f=r.add(f,f),new l(u,c,f)}add(e){f(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let c=r.ZERO,d=r.ZERO,h=r.ZERO;const p=t.a,y=r.mul(t.b,wr);let g=r.mul(n,s),b=r.mul(i,a),m=r.mul(o,u),v=r.add(n,i),_=r.add(s,a);v=r.mul(v,_),_=r.add(g,b),v=r.sub(v,_),_=r.add(n,o);let w=r.add(s,u);return _=r.mul(_,w),w=r.add(g,m),_=r.sub(_,w),w=r.add(i,o),c=r.add(a,u),w=r.mul(w,c),c=r.add(b,m),w=r.sub(w,c),h=r.mul(p,_),c=r.mul(y,m),h=r.add(c,h),c=r.sub(b,h),h=r.add(b,h),d=r.mul(c,h),b=r.add(g,g),b=r.add(b,g),m=r.mul(p,m),_=r.mul(y,_),b=r.add(b,m),m=r.sub(g,m),m=r.mul(p,m),_=r.add(_,m),g=r.mul(b,_),d=r.add(d,g),g=r.mul(w,_),c=r.mul(v,c),c=r.sub(c,g),g=r.mul(v,b),h=r.mul(w,h),h=r.add(h,g),new l(c,d,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(l.ZERO)}wNAF(e){return h.wNAFCached(this,c,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(l.fromAffine)}))}multiplyUnsafe(e){const n=l.ZERO;if(e===vr)return n;if(a(e),e===_r)return this;const{endo:i}=t;if(!i)return h.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:u,k2:c}=i.splitScalar(e),f=n,d=n,p=this;for(;s>vr||c>vr;)s&_r&&(f=f.add(p)),c&_r&&(d=d.add(p)),p=p.double(),s>>=_r,c>>=_r;return o&&(f=f.negate()),u&&(d=d.negate()),d=new l(r.mul(d.px,i.beta),d.py,d.pz),f.add(d)}multiply(e){a(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:u}=s.splitScalar(o);let{p:c,f}=this.wNAF(t),{p:d,f:p}=this.wNAF(u);c=h.constTimeNegate(e,c),d=h.constTimeNegate(a,d),d=new l(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=f.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return l.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=l.BASE,i=(e,t)=>t!==vr&&t!==_r&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),u=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===_r)return!0;if(r)return r(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===_r?this:r?r(l,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(l,this,e)}toHex(e=!0){return Dt(this.toRawBytes(e))}}l.BASE=new l(t.Gx,t.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,h=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>hr;)r&pr&&(n=n.add(i)),i=i.double(),r>>=pr;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=n(t);let u=e.ZERO,c=e.BASE;const f=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let n=Number(o&f);o>>=d,n>a&&(n-=l,o+=pr);const s=t,h=t+Math.abs(n)-1,p=e%2!=0,y=n<0;0===n?c=c.add(r(p,i[s])):u=u.add(r(y,i[h]))}return{p:u,f:c}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}(l,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:s}}function Er(e){const t=function(e){const t=yr(e);return Qt(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return rr(e,n)}function a(e){return or(e,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:l}=Sr({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),s=zt;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=Lt(s);if(!(vr<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=f(e);let i=r.sqrt(t);return!(1&~n)!==((i&_r)===_r)&&(i=r.neg(i)),{x:e,y:i}}var a}}),d=e=>Dt(Ut(e,t.nByteLength));function h(e){return e>n>>_r}const p=(e,t,r)=>Lt(e.slice(t,r));class y{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=Ft("compactSignature",e,2*r),new y(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=mr.toSig(Ft("DER",e));return new y(t,r)}assertValidity(){if(!l(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,c=v(Ft("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+t.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&o?"03":"02",h=u.fromHex(l+d(f)),p=a(f),y=s(-c*p),g=s(i*p),b=u.BASE.multiplyAndAddUnsafe(h,y,g);if(!b)throw new Error("point at infinify");return b.assertValidity(),b}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return jt(this.toDERHex())}toDERHex(){return mr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return jt(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=fr(t.n);return function(e,t,r=!1){const n=e.length,i=cr(t),o=fr(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);const s=rr(r?Lt(e):Nt(e),t-Xt)+Xt;return r?Ht(s,i):Ut(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function b(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof u}const m=t.bits2int||function(e){const r=Lt(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},v=t.bits2int_modN||function(e){return s(m(e))},_=qt(t.nBitLength);function w(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(vr<=e&&e<_))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Ut(e,t.nByteLength)}function S(e,n,i=E){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:d,prehash:p,extraEntropy:g}=i;null==d&&(d=!0),e=Ft("msgHash",e),p&&(e=Ft("prehashed msgHash",o(e)));const b=v(e),_=c(n),S=[w(_),w(b)];if(null!=g){const e=!0===g?f(r.BYTES):g;S.push(Ft("extraEntropy",e))}const A=zt(...S),x=b;return{seed:A,k2sig:function(e){const t=m(e);if(!l(t))return;const r=a(t),n=u.BASE.multiply(t).toAffine(),i=s(n.x);if(i===vr)return;const o=s(r*s(x+i*_));if(o===vr)return;let c=(n.x===i?0:2)|Number(n.y&_r),f=o;return d&&h(o)&&(f=function(e){return h(e)?s(-e):e}(o),c^=1),new y(i,f,c)}}}const E={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(b(e))throw new Error("first arg must be private key");if(!b(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,r,n=E){const{seed:i,k2sig:o}=S(e,r,n),s=t;return Wt(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,r,n,i=A){const o=e;if(r=Ft("msgHash",r),n=Ft("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:f}=i;let l,d;try{if("string"==typeof o||o instanceof Uint8Array)try{l=y.fromDER(o)}catch(e){if(!(e instanceof mr.Err))throw e;l=y.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;l=new y(e,t)}}d=u.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;f&&(r=t.hash(r));const{r:h,s:p}=l,g=v(r),b=a(p),m=s(g*b),_=s(h*b),w=u.BASE.multiplyAndAddUnsafe(d,m,_)?.toAffine();return!!w&&s(w.x)===h},ProjectivePoint:u,Signature:y,utils:g}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function Ar(e){return{hash:e,hmac:(t,...r)=>dr(e,t,function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!gt(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}(...r)),randomBytes:St}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const xr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ir=BigInt(1),Tr=BigInt(2),Cr=(e,t)=>(e+t/Tr)/t;function Or(e){const t=xr,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,f=c*c*e%t,l=ir(f,r,t)*f%t,d=ir(l,r,t)*f%t,h=ir(d,Tr,t)*c%t,p=ir(h,i,t)*h%t,y=ir(p,o,t)*p%t,g=ir(y,a,t)*y%t,b=ir(g,u,t)*g%t,m=ir(b,a,t)*y%t,v=ir(m,r,t)*f%t,_=ir(v,s,t)*p%t,w=ir(_,n,t)*c%t,S=ir(w,Tr,t);if(!Pr.eql(Pr.sqr(S),e))throw new Error("Cannot find square root");return S}const Pr=function(e,t,r=!1,n={}){if(e<=Gt)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=ur(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=sr(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:qt(i),ZERO:Gt,ONE:Xt,create:t=>rr(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Gt<=t&&t<e},is0:e=>e===Gt,isOdd:e=>(e&Xt)===Xt,neg:t=>rr(-t,e),eql:(e,t)=>e===t,sqr:t=>rr(t*t,e),add:(t,r)=>rr(t+r,e),sub:(t,r)=>rr(t-r,e),mul:(t,r)=>rr(t*r,e),pow:(e,t)=>function(e,t,r){if(r<Gt)throw new Error("Expected power > 0");if(r===Gt)return e.ONE;if(r===Xt)return t;let n=e.ONE,i=t;for(;r>Gt;)r&Xt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Xt;return n}(a,e,t),div:(t,r)=>rr(t*or(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>or(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Ht(e,o):Ut(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?Nt(e):Lt(e)}});return Object.freeze(a)}(xr,void 0,void 0,{sqrt:Or}),Mr=function(e,t){const r=t=>Er({...e,...Ar(t)});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:Pr,n:kr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=kr,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Ir*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Cr(o*e,t),u=Cr(-n*e,t);let c=rr(e-a*r-u*i,t),f=rr(-a*n-u*o,t);const l=c>s,d=f>s;if(l&&(c=t-c),d&&(f=t-f),c>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:d,k2:f}}}},Ct);BigInt(0);Mr.ProjectivePoint;BigInt(0),BigInt(1);BigInt(0),BigInt(1),BigInt(2),BigInt(27),BigInt(28),BigInt(35);Symbol.for("nodejs.util.inspect.custom");function Br(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}Object.freeze({error:function(e,t,r,n,i){et(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:Br,replace:function(e,t,r,n,i){return"OVERLONG"===e?(et("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),Br(e,t,r))}});var Dr,Rr;!function(e){e.Unknown="Unknown",e.BtcEcdsa="BtcEcdsa",e.EvmPersonal="EvmPersonal",e.JoyId="JoyId"}(Dr||(Dr={})),function(e){e.EVM="EVM",e.BTC="BTC",e.CKB="CKB"}(Rr||(Rr={}));__webpack_require__(33470),__webpack_require__(48287).Buffer;var jr=__webpack_require__(33089),Lr=__webpack_require__(33701),Nr=__webpack_require__(30096),Ur=__webpack_require__(41600),Hr=__webpack_require__(71313),Fr=__webpack_require__(28670);function zr(e){return{capacity:e.capacity,lock:e.lock,type:e.type?e.type:void 0}}const{table:qr,option:Kr,vector:Vr,byteVecOf:Wr}=Hr.molecule,{Uint8:$r}=Hr.number,{bytify:Qr,hexify:Gr}=Hr.bytes;const Xr=Wr({pack:Qr,unpack:Gr}),Yr=Kr(Xr);var Jr;const Zr=qr({codeHash:(Jr=32,(0,Hr.createFixedBytesCodec)({byteLength:Jr,pack:e=>Qr(e),unpack:e=>Gr(e)})),hashType:$r,args:Xr},["codeHash","hashType","args"]),en=qr({owner_script:Kr(Zr),owner_signature:Yr,raw_extension_data:Kr(Vr(Zr)),extension_data:Vr(Xr)},["owner_script","owner_signature","raw_extension_data","extension_data"]),tn=(()=>{const e=en.pack({extension_data:[]}),t=en.pack({extension_data:[]}),r=Ur.blockchain.WitnessArgs.pack({lock:"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",inputType:e,outputType:t});return Hr.bytes.hexify(r)})();async function rn(e,t){console.debug("Starting conversion to TransactionSkeleton"),console.debug("Mapping rawTransaction to transaction object");const r={...e,witnesses:e.witnesses.map((e=>(console.debug(`Processing witness: ${"string"==typeof e?e:"non-string witness"}`),"string"==typeof e?e:tn))),inputs:e.inputs.map((e=>(console.debug(`Converting cell input: ${JSON.stringify(e)}`),function(e){if(!e.previousOutput)throw new Error("CellInput previousOutput is required but was not provided.");return{previousOutput:e.previousOutput,since:e.since}}(e)))),outputs:e.outputs.map((e=>(console.debug(`Converting cell output: ${JSON.stringify(e)}`),zr(e)))),cellDeps:e.cellDeps.map((e=>(console.debug(`Converting cell dep: ${JSON.stringify(e)}`),function(e){if(!e.outPoint)throw new Error("CellDep outPoint is required but was not provided.");return{outPoint:e.outPoint,depType:e.depType}}(e))))};console.debug("Initializing TransactionSkeleton");let n=(0,Fr.TransactionSkeleton)();console.debug("Updating cellDeps and headerDeps in TransactionSkeleton"),n=n.update("cellDeps",(e=>(console.debug(`Adding cellDeps: ${JSON.stringify(r.cellDeps)}`),e.push(...r.cellDeps)))).update("headerDeps",(e=>(console.debug(`Adding headerDeps: ${JSON.stringify(r.headerDeps)}`),e.push(...r.headerDeps)))),console.debug("Fetching input cells");const i=(await t.getLiveCells(r.inputs.map((e=>e.previousOutput)),!0)).map(((e,t)=>{return n=e,i=r.inputs[t].previousOutput,{cellOutput:zr(n.output),data:n.data?n.data.content:"",outPoint:i};var n,i}));console.debug("Updating inputs in TransactionSkeleton"),n=n.update("inputs",(e=>(console.debug(`Adding inputCells: ${JSON.stringify(i)}`),e.push(...i)))),console.debug("Updating inputSinces in TransactionSkeleton"),n=n.update("inputSinces",(e=>(console.debug("Mapping inputSinces"),r.inputs.reduce(((e,t,r)=>(console.debug(`Setting since for input at index ${r}: ${t.since}`),e.set(r,t.since))),e)))),console.debug("Mapping output cells");const o=r.outputs.map(((e,t)=>(console.debug(`Creating output cell for output at index ${t}: ${JSON.stringify(e)}`),{cellOutput:e,data:r.outputsData[t]??"0x"})));return console.debug("Updating outputs and witnesses in TransactionSkeleton"),n=n.update("outputs",(e=>(console.debug(`Adding outputCells: ${JSON.stringify(o)}`),e.push(...o)))).update("witnesses",(e=>(console.debug(`Adding witnesses: ${JSON.stringify(r.witnesses)}`),e.push(...r.witnesses)))),console.debug("Conversion to TransactionSkeleton completed"),n}const nn=async(e,t,r)=>{const n=await rn(e,t);return{txHash:await r.sendTransaction(se.fromLumosSkeleton(n))}};class on{collector;isMainnet;constructor(e){this.isMainnet=e,this.collector=e?new r.Collector({ckbNodeUrl:"https://mainnet.ckbapp.dev",ckbIndexerUrl:"https://mainnet.ckbapp.dev/indexer"}):new r.Collector({ckbNodeUrl:"https://testnet.ckbapp.dev",ckbIndexerUrl:"https://testnet.ckb.dev"})}}const sn=e=>{let t;t=void 0===e?"https://api.rgbpp.io":"Signet"===e?"https://api.signet.rgbpp.io":"https://api.testnet.rgbpp.io";return Nr.zW.fromToken(t,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJNb2JpdCIsImF1ZCI6Im1vYml0LmFwcCIsImp0aSI6IjNjMTAzNGNmLTcwZWEtNDgzMy04MGUwLTRlMDA2NTNkNTY3YiIsImlhdCI6MTcxODM0Njg0OX0.97pGqGCPMpP9rVaqq1QNaDcjykQLThGildYJWu93DiM","https://mobit.app")};class an{btcDataSource;btcTestnetType;btcService;unisat;networkType;constructor(e,t,r){this.btcTestnetType=r,this.networkType=t,this.btcService=sn(r),this.btcDataSource=new Nr.qS(this.btcService,t),this.unisat=e}}async function un(e,t){let r;r=e?Lr.MAINNET:Lr.TESTNET;const n=r.SCRIPTS,i=[],o=t.some((e=>(0,jr.isOmnilockAddress)(e,r))),s=t.some((e=>(0,jr.isAcpAddress)(e,r))),a=t.some((e=>(0,jr.isSecp256k1Blake160Address)(e,r))),u=t.some((e=>(0,jr.isSecp256k1Blake160MultisigAddress)(e,r)));if(o){const e=n.OMNILOCK;if(!e)throw new Error("OMNILOCK script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}if(s){const e=n.ANYONE_CAN_PAY;if(!e)throw new Error("ANYONE_CAN_PAY script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}if(a){const e=n.SECP256K1_BLAKE160;if(!e)throw new Error("SECP256K1_BLAKE160 script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}if(u){const e=n.SECP256K1_BLAKE160_MULTISIG;if(!e)throw new Error("SECP256K1_BLAKE160_MULTISIG script configuration is missing.");i.push({outPoint:{txHash:e.TX_HASH,index:e.INDEX},depType:e.DEP_TYPE})}return i}const cn=292,fn=41,ln=65,dn=130;function hn(e,t){let r;return r=t?Lr.MAINNET:Lr.TESTNET,(0,jr.isOmnilockAddress)(e,r)?cn:(0,jr.isAcpAddress)(e,r)?fn:(0,jr.isSecp256k1Blake160Address)(e,r)?ln:(0,jr.isSecp256k1Blake160MultisigAddress)(e,r)?dn:(console.warn(`Unknown address type for address: ${e}. Using default witness size.`),ln)}async function pn({xudtArgs:e,burnAmount:n,ckbAddress:i,collector:o,isMainnet:s}){const a={...(0,r.getXudtTypeScript)(s),args:e},u=(0,t.addressToScript)(i),c=await o.getCells({lock:u,type:a});if(console.debug("Fetched xudt cells:",c),!c||0===c.length)throw new r.NoXudtLiveCellError("The address has no xudt cells");const{inputs:f,sumInputsCapacity:l,sumAmount:d}=o.collectUdtInputs({liveCells:c,needAmount:n});let h=l,p=f;if(console.debug("Collected inputs:",p),console.debug("Sum of inputs capacity:",l),console.debug("Sum of amount:",d),d<n)throw new Error("Not enough xUDT tokens to burn");const y=[],g=[];let b=BigInt(0);if(d>n){const e=(0,r.calculateUdtCellCapacity)(u);y.push({lock:u,type:a,capacity:(0,r.append0x)(e.toString(16))}),g.push((0,r.append0x)((0,r.u128ToLe)(d-n))),b+=e,console.debug("XUDT change capacity:",e),console.debug("Updated outputs:",y),console.debug("Updated outputs data:",g)}const m=r.MAX_FEE;if(l<=b){let e=await o.getCells({lock:u});if(console.debug("Fetched Empty Cells:",e),e=e.filter((e=>!e.output.type)),!e||0===e.length)throw new r.NoLiveCellError("The address has no empty cells");const t=b-l,{inputs:n,sumInputsCapacity:i}=o.collectInputs(e,t,m,{minCapacity:r.MIN_CAPACITY});p=[...p,...n],h+=i,console.debug("Need Capacity:",t),console.debug("Empty Inputs:",n),console.debug("Sum Empty Capacity:",i)}let v=h-b;y.push({lock:u,capacity:(0,r.append0x)(v.toString(16))}),g.push("0x"),console.debug("Change Capacity:",v),console.debug("Updated Outputs:",y),console.debug("Updated Outputs Data:",g);const _={lock:"",inputType:"",outputType:""},w=p.map(((e,t)=>0===t?_:"0x")),S={version:"0x0",cellDeps:[...await un(s,[i]),...await(0,r.fetchTypeIdCellDeps)(s,{xudt:!0})],headerDeps:[],inputs:p,outputs:y,outputsData:g,witnesses:w};if(console.debug("Unsigned transaction:",S),m===r.MAX_FEE){const e=(0,t.getTransactionSize)(S)+hn(i,s),n=(0,r.calculateTransactionFee)(e);v-=n,S.outputs[S.outputs.length-1].capacity=(0,r.append0x)(v.toString(16)),console.debug("Transaction size:",e),console.debug("Estimated transaction fee:",n),console.debug("Updated change capacity:",v),console.debug("Updated unsigned transaction:",S)}return S}async function yn({xudtTotalAmount:e,tokenInfo:n,ckbAddress:i,collector:o,isMainnet:s}){const a=(0,t.addressToScript)(i);let u=await o.getCells({lock:a});if(console.debug("Fetched empty cells:",u),!u||0===u.length)throw new r.NoLiveCellError("The address has no empty cells");u=u.filter((e=>!e.output.type)),console.debug("Filtered empty cells without a type:",u);const c=(0,r.calculateUdtCellCapacity)(a);console.debug("Calculated xUDT cell capacity:",c);const f=(0,r.calculateXudtTokenInfoCellCapacity)(n,a);console.debug("Calculated xUDT token info cell capacity:",f);const l=r.MAX_FEE;console.debug("Set transaction fee to maximum fee:",l);const{inputs:d,sumInputsCapacity:h}=o.collectInputs(u,c+f,l,{minCapacity:r.MIN_CAPACITY});console.debug("Collected inputs:",d),console.debug("Sum of inputs capacity:",h);const p={...(0,r.getXudtTypeScript)(s),args:(0,r.append0x)((0,t.scriptToHash)(a))};console.debug("Defined xUDT type script:",p),console.log("xUDT type script",p);let y=h-c-f;console.debug("Calculated change capacity:",y);const g=[{lock:a,type:p,capacity:(0,r.append0x)(c.toString(16))},{lock:a,type:{...(0,r.getUniqueTypeScript)(s),args:(0,r.generateUniqueTypeArgs)(d[0],1)},capacity:(0,r.append0x)(f.toString(16))},{lock:a,capacity:(0,r.append0x)(y.toString(16))}];console.debug("Defined outputs:",g);const b=e*BigInt(10**n.decimal);console.debug("Calculated total amount:",b);const m=[(0,r.append0x)((0,r.u128ToLe)(b)),(0,r.encodeRgbppTokenInfo)(n),"0x"];console.debug("Defined outputs data:",m);const v={lock:"",inputType:"",outputType:""};console.debug("Defined empty witness:",v);const _=d.map(((e,t)=>0===t?v:"0x"));console.debug("Defined witnesses:",_);const w=[...await un(s,[i]),...await(0,r.fetchTypeIdCellDeps)(s,{xudt:!0,unique:!0})];console.debug("Defined cell dependencies:",w);const S={version:"0x0",cellDeps:w,headerDeps:[],inputs:d,outputs:g,outputsData:m,witnesses:_};if(console.debug("Defined unsigned transaction:",S),l===r.MAX_FEE){const e=(0,t.getTransactionSize)(S)+hn(i,s),n=(0,r.calculateTransactionFee)(e);y-=n,S.outputs[S.outputs.length-1].capacity=(0,r.append0x)(y.toString(16)),console.debug("Adjusted transaction fee:",n),console.debug("Updated change capacity:",y)}return console.info("Unsigned transaction created:",S),S}const gn=async({outIndex:e,btcTxId:t,xudtTypeArgs:n,transferAmount:i,isMainnet:o,collector:s,ckbAddress:a,btcTestnetType:u,cccSigner:c})=>{const f=(0,r.buildRgbppLockArgs)(e,t),l={...(0,r.getXudtTypeScript)(o),args:n},d=await(0,r.genCkbJumpBtcVirtualTx)({collector:s,fromCkbAddress:a,toRgbppLockArgs:f,xudtTypeBytes:(0,r.serializeScript)(l),transferAmount:i,btcTestnetType:u}),h={...d,cellDeps:[...d.cellDeps,...await un(o,[a])],witnesses:[{lock:"",inputType:"",outputType:""},...d.witnesses.slice(1)]},{txHash:p}=await nn(h,s,c);return console.info(`Rgbpp asset has been jumped from CKB to BTC and CKB tx hash is ${p}`),p};async function bn({xudtArgs:e,ckbAddresses:n,collector:i,isMainnet:o},s=n[0]){const a=(0,t.addressToScript)(s),u={...(0,r.getXudtTypeScript)(o),args:e},c=await async function({ckbAddresses:e,type:r,collector:n}){const i=e.map(t.addressToScript);let o=[];console.debug("Starting to fetch indexer cells for addresses:",e),console.debug("Converted addresses to locks:",i);for(const e of i){console.debug("Fetching cells for lock:",e);try{const t=await n.getCells({lock:e,type:r});console.debug("Fetched cells for lock:",e,"Cells:",t),o=o.concat(t)}catch(t){throw console.error("Error fetching cells for lock:",e,"Error:",t),t}}return console.debug("Total indexer cells fetched:",o),o}({ckbAddresses:n,type:u,collector:i});if(console.debug("Fetched xudt cells:",c),!c||0===c.length)throw new r.NoXudtLiveCellError("The addresses have no xudt cells");if(1===c.length)throw new Error("Only one xudt cell found, no need to merge");const{inputs:f,sumInputsCapacity:l,sumAmount:d}=function(e){const t=[];let n=BigInt(0),i=BigInt(0);for(const o of e)"0x"!==o.outputData&&(t.push({previousOutput:{txHash:o.outPoint.txHash,index:o.outPoint.index},since:"0x0"}),n+=BigInt(o.output.capacity),i+=(0,r.leToU128)((0,r.remove0x)(o.outputData).slice(0,32)));return{inputs:t,sumInputsCapacity:n,sumAmount:i}}(c),h=l,p=f;console.debug("Collected inputs:",p),console.debug("Sum of inputs capacity:",l),console.debug("Sum of amount:",d);const y=(0,r.calculateUdtCellCapacity)(a),g=[{lock:a,type:u,capacity:(0,r.append0x)(y.toString(16))}],b=[(0,r.append0x)((0,r.u128ToLe)(d))],m=y;console.debug("Merged XUDT capacity:",y),console.debug("Updated outputs:",g),console.debug("Updated outputs data:",b);const v=r.MAX_FEE;if(l<=m)throw new Error("Thetotal input capacity is less than or equal to the total output capacity, which is not possible in a merge function.");let _=h-m;g.push({lock:a,capacity:(0,r.append0x)(_.toString(16))}),b.push("0x"),console.debug("Change Capacity:",_),console.debug("Updated Outputs:",g),console.debug("Updated Outputs Data:",b);const w={lock:"",inputType:"",outputType:""},S=p.map(((e,t)=>0===t?w:"0x")),E={version:"0x0",cellDeps:[...await un(o,n),...await(0,r.fetchTypeIdCellDeps)(o,{xudt:!0})],headerDeps:[],inputs:p,outputs:g,outputsData:b,witnesses:S};if(console.debug("Unsigned transaction:",E),v===r.MAX_FEE){const e=(0,t.getTransactionSize)(E)+hn(s,o),n=(0,r.calculateTransactionFee)(e);_-=n,E.outputs[E.outputs.length-1].capacity=(0,r.append0x)(_.toString(16)),console.debug("Transaction size:",e),console.debug("Estimated transaction fee:",n),console.debug("Updated change capacity:",_),console.debug("Updated unsigned transaction:",E)}return E}async function mn({xudtArgs:e,receivers:n,ckbAddress:i,collector:o,isMainnet:s}){const a={...(0,r.getXudtTypeScript)(s),args:e},u=(0,t.addressToScript)(i),c=await o.getCells({lock:u,type:a});if(console.debug("Fetched xudt cells:",c),!c||0===c.length)throw new r.NoXudtLiveCellError("The address has no xudt cells");const f=n.map((e=>e.transferAmount)).reduce(((e,t)=>e+t),BigInt(0));console.debug("Sum Transfer Amount:",f);let l=n.map((({toAddress:e})=>(0,r.calculateUdtCellCapacity)((0,t.addressToScript)(e)))).reduce(((e,t)=>e+t),BigInt(0));console.debug("Sum XUDT Output Capacity:",l);const{inputs:d,sumInputsCapacity:h,sumAmount:p}=o.collectUdtInputs({liveCells:c,needAmount:f});console.debug("Sum XUDT Inputs Capacity:",h),console.debug("Sum Amount:",p);let y=h,g=d;const b=n.map((({toAddress:e})=>({lock:(0,t.addressToScript)(e),type:a,capacity:(0,r.append0x)((0,r.calculateUdtCellCapacity)((0,t.addressToScript)(e)).toString(16))}))),m=n.map((({transferAmount:e})=>(0,r.append0x)((0,r.u128ToLe)(e))));if(console.debug("Outputs:",b),console.debug("Outputs Data:",m),p>f){const e=(0,r.calculateUdtCellCapacity)(u);b.push({lock:u,type:a,capacity:(0,r.append0x)(e.toString(16))}),m.push((0,r.append0x)((0,r.u128ToLe)(p-f))),l+=e,console.debug("XUDT Change Capacity:",e),console.debug("Updated Outputs:",b),console.debug("Updated Outputs Data:",m)}const v=r.MAX_FEE;if(h<=l){let e=await o.getCells({lock:u});if(console.debug("Fetched Empty Cells:",e),e=e.filter((e=>!e.output.type)),!e||0===e.length)throw new r.NoLiveCellError("The address has no empty cells");const t=l-h,{inputs:n,sumInputsCapacity:i}=o.collectInputs(e,t,v,{minCapacity:r.MIN_CAPACITY});g=[...g,...n],y+=i,console.debug("Need Capacity:",t),console.debug("Empty Inputs:",n),console.debug("Sum Empty Capacity:",i)}let _=y-l;b.push({lock:u,capacity:(0,r.append0x)(_.toString(16))}),m.push("0x"),console.debug("Change Capacity:",_),console.debug("Updated Outputs:",b),console.debug("Updated Outputs Data:",m);const w={lock:"",inputType:"",outputType:""},S=g.map(((e,t)=>0===t?w:"0x"));console.debug("Witnesses:",S);const E=[...await un(s,[i]),...await(0,r.fetchTypeIdCellDeps)(s,{xudt:!0})];console.debug("Cell Deps:",E);const A={version:"0x0",cellDeps:E,headerDeps:[],inputs:g,outputs:b,outputsData:m,witnesses:S};if(console.debug("Unsigned Transaction:",A),v===r.MAX_FEE){const e=(0,t.getTransactionSize)(A)+hn(i,s),n=(0,r.calculateTransactionFee)(e);_-=n,A.outputs[A.outputs.length-1].capacity=(0,r.append0x)(_.toString(16)),console.debug("Transaction Size:",e),console.debug("Estimated Transaction Fee:",n),console.debug("Updated Change Capacity:",_),console.debug("Updated Unsigned Transaction:",A)}return A}var vn=__webpack_require__(61611);async function _n(e,t,r){console.debug("Starting PSBT signing process..."),console.debug("PSBT before signing:",e.toHex());try{console.debug("test");const n=vn.bitcoin.Psbt.fromHex(await t.signPsbt(e.toHex()));console.debug("PSBT after signing:",n.toBase64());const i=n.extractTransaction(),o=i.toHex();console.debug("Extracted transaction hex:",o),console.debug("Sending transaction to service...");const{txid:s}=await r.sendBtcTransaction(o);console.debug("Transaction sent successfully. TXID:",s);const a=(0,vn.transactionToHex)(i,!1);return console.debug("Raw transaction hex (excluding witness):",a),{txHex:o,txId:s,rawTxHex:a}}catch(e){throw console.error("Error during PSBT signing or transaction sending:",e),e}}const wn=async({xudtTypeArgs:e,receivers:t,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:s,fromBtcAccount:a,fromBtcAccountPubkey:u,unisat:c,filterRgbppArgslist:f,btcService:l})=>{const d=await(async({xudtTypeArgs:e,fromBtcAccount:t,isMainnet:n,btcService:i})=>{const o=encodeURIComponent(JSON.stringify({codeHash:(0,r.getXudtTypeScript)(n).codeHash,args:e,hashType:"type"}));console.log(o);const s=await i.getRgbppAssetsByBtcAddress(t,{type_script:o,no_cache:!1});return console.log(s),{rgbppLockArgsList:s.map((e=>e.cellOutput.lock.args))}})({xudtTypeArgs:e,fromBtcAccount:a,isMainnet:s,btcService:l}),h=await f(d.rgbppLockArgsList),p=await(async({rgbppLockArgsList:e,receivers:t,xudtTypeArgs:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l})=>{const d={...(0,r.getXudtTypeScript)(a),args:n},h=await(0,r.genBtcBatchTransferCkbVirtualTx)({collector:i,rgbppLockArgsList:e,xudtTypeBytes:(0,r.serializeScript)(d),rgbppReceivers:t,isMainnet:a,btcTestnetType:s}),{commitment:p,ckbRawTx:y,needPaymasterCell:g}=h,b=await(0,vn.sendRgbppUtxos)({ckbVirtualTx:y,commitment:p,tos:t.map((e=>e.toBtcAddress)),needPaymaster:g,ckbCollector:i,from:u,fromPubkey:c,source:o}),{txId:m,rawTxHex:v}=await _n(b,f,l);console.log(`BTC ${s} TxId: ${m}`),await l.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:h});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await l.getRgbppTransactionState(m);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await l.getRgbppTransactionHash(m);console.info(`Rgbpp asset has been transferred on BTC and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:m}})({rgbppLockArgsList:h,receivers:t,xudtTypeArgs:e,collector:n,btcDataSource:i,btcTestnetType:o,isMainnet:s,fromBtcAccount:a,fromBtcAccountPubkey:u,unisat:c,btcService:l});return p},Sn=async({rgbppTokenInfo:e,collector:n,isMainnet:i,btcTestnetType:o,btcAccount:s,btcDataSource:a,btcAccountPubkey:u,launchAmount:c,ckbAddress:f,filterUtxo:l,btcService:d,unisat:h,cccSigner:p})=>{const y=await d.getBtcUtxos(s,{only_non_rgbpp_utxos:!0,only_confirmed:!0,min_satoshi:1e4}),{outIndex:g,btcTxId:b}=await l(y),m=await(async({outIndex:e,btcTxId:n,rgbppTokenInfo:i,ckbAddress:o,collector:s,isMainnet:a,btcTestnetType:u})=>{const c=(0,t.addressToScript)(o);console.log("ckb address: ",o);const f=(0,r.calculateRgbppCellCapacity)()+(0,r.calculateRgbppTokenInfoCellCapacity)(i,a);let l=await s.getCells({lock:c});if(!l||0===l.length)throw new r.NoLiveCellError("The address has no empty cells");l=l.filter((e=>!e.output.type));const d=r.MAX_FEE,{inputs:h,sumInputsCapacity:p}=s.collectInputs(l,f,d),y=[{lock:(0,r.genRgbppLockScript)((0,r.buildRgbppLockArgs)(e,n),a,u),capacity:(0,r.append0x)(f.toString(16))}];let g=p-f;y.push({lock:c,capacity:(0,r.append0x)(g.toString(16))});const b={lock:"",inputType:"",outputType:""},m=h.map(((e,t)=>0===t?b:"0x")),v={version:"0x0",cellDeps:[...await un(a,[o])],headerDeps:[],inputs:h,outputs:y,outputsData:["0x","0x"],witnesses:m},_=(0,t.getTransactionSize)(v)+hn(o,a);return g-=(0,r.calculateTransactionFee)(_),v.outputs[v.outputs.length-1].capacity=(0,r.append0x)(g.toString(16)),v})({outIndex:g,btcTxId:b,rgbppTokenInfo:e,ckbAddress:f,collector:n,isMainnet:i,btcTestnetType:o}),{txHash:v}=await nn(m,n,p);console.info(`Launch cell has been created and the CKB tx hash ${v}`);const _=(0,r.buildRgbppLockArgs)(g,b),{btcTxId:w}=await(async({ownerRgbppLockArgs:e,rgbppTokenInfo:t,collector:n,isMainnet:i,btcTestnetType:o,btcAccount:s,btcDataSource:a,btcAccountPubkey:u,launchAmount:c,btcService:f,unisat:l})=>{const d=await(0,r.genRgbppLaunchCkbVirtualTx)({collector:n,ownerRgbppLockArgs:e,rgbppTokenInfo:t,launchAmount:c,isMainnet:i,btcTestnetType:o}),{commitment:h,ckbRawTx:p,needPaymasterCell:y}=d;console.log("RGB++ Asset type script args: ",p.outputs[0].type?.args);const g=await(0,vn.sendRgbppUtxos)({ckbVirtualTx:p,commitment:h,tos:[s],needPaymaster:y,ckbCollector:n,from:s,fromPubkey:u,source:a}),{txId:b,rawTxHex:m}=await _n(g,l,f);console.log(`BTC ${o} TxId: ${b}`);const v=setInterval((async()=>{try{console.log("Waiting for BTC tx and proof to be ready");const e=await f.getRgbppSpvProof(b,0);clearInterval(v);const t=(0,r.updateCkbTxWithRealBtcTxId)({ckbRawTx:p,btcTxId:b,isMainnet:i}),o=await(0,r.appendCkbTxWitnesses)({ckbRawTx:t,btcTxBytes:m,rgbppApiSpvProof:e}),s=await(0,r.sendCkbTx)({collector:n,signedTx:o});console.info(`RGB++ Asset has been launched and CKB tx hash is ${s}`)}catch(e){throw console.error(e),e}}),3e4);return{btcTxId:b}})({ownerRgbppLockArgs:_,rgbppTokenInfo:e,collector:n,isMainnet:i,btcAccount:s,btcDataSource:a,btcAccountPubkey:u,btcTestnetType:o,launchAmount:c,btcService:d,unisat:h});return{btcTxId:w,ckbTxHash:v}},En=async({rgbppLockArgsList:e,toCkbAddress:t,xudtTypeArgs:n,transferAmount:i,isMainnet:o,collector:s,btcTestnetType:a,fromBtcAccountPubkey:u,fromBtcAccount:c,btcDataSource:f,btcService:l,unisat:d})=>{const h={...(0,r.getXudtTypeScript)(o),args:n},p=await(0,r.genBtcJumpCkbVirtualTx)({collector:s,rgbppLockArgsList:e,xudtTypeBytes:(0,r.serializeScript)(h),transferAmount:i,toCkbAddress:t,isMainnet:o,btcTestnetType:a}),{commitment:y,ckbRawTx:g}=p,b=await(0,Nr.PE)({ckbVirtualTx:g,commitment:y,tos:[c],ckbCollector:s,from:c,fromPubkey:u,source:f}),{txId:m}=await _n(b,d,l);console.log(`BTC ${a} TxId: ${m}`),await l.sendRgbppCkbTransaction({btc_txid:m,ckb_virtual_result:p});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await l.getRgbppTransactionState(m);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await l.getRgbppTransactionHash(m);console.info(`Rgbpp asset has been jumped from BTC to CKB and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:m}},An=async({toBtcAddress:e,xudtTypeArgs:t,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l})=>{const d=await(async({xudtTypeArgs:e,fromBtcAccount:t,isMainnet:n,btcService:i})=>{const o=JSON.stringify({...(0,r.getXudtTypeScript)(n),args:e});console.log(o);const s=await i.getRgbppAssetsByBtcAddress(t,{type_script:encodeURIComponent(o),no_cache:!1});return console.log(s),{rgbppLockArgsList:s.map((e=>e.cellOutput.lock.args))}})({xudtTypeArgs:t,fromBtcAccount:u,isMainnet:a,btcService:l}),h=await(async({rgbppLockArgsList:e,toBtcAddress:t,xudtTypeArgs:r,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l})=>{const{ckbVirtualTxResult:d,btcPsbtHex:h}=await(0,Nr.X9)({ckb:{collector:i,xudtTypeArgs:r,rgbppLockArgsList:e,transferAmount:n},btc:{fromAddress:u,toAddress:t,fromPubkey:c,dataSource:o,testnetType:s},isMainnet:a});console.log(h);const p=vn.bitcoin.Psbt.fromHex(h),{txId:y}=await _n(p,f,l);console.log(`BTC ${s} TxId: ${y}`),await l.sendRgbppCkbTransaction({btc_txid:y,ckb_virtual_result:d});try{const e=setInterval((async()=>{const{state:t,failedReason:r}=await l.getRgbppTransactionState(y);if(console.log("state",t),"completed"===t||"failed"===t)if(clearInterval(e),"completed"===t){const{txhash:e}=await l.getRgbppTransactionHash(y);console.info(`Rgbpp asset has been transferred on BTC and the related CKB tx hash is ${e}`)}else console.warn(`Rgbpp CKB transaction failed and the reason is ${r} `)}),3e4)}catch(e){throw console.error(e),e}return{btcTxId:y}})({rgbppLockArgsList:d.rgbppLockArgsList,toBtcAddress:e,xudtTypeArgs:t,transferAmount:n,collector:i,btcDataSource:o,btcTestnetType:s,isMainnet:a,fromBtcAccount:u,fromBtcAccountPubkey:c,unisat:f,btcService:l});return h};var xn=function(e,t){return xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},xn(e,t)};function kn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}xn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var In=function(){return In=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},In.apply(this,arguments)};function Tn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function Cn(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function On(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function Pn(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Mn="Invariant Violation",Bn=Object.setPrototypeOf,Dn=void 0===Bn?function(e,t){return e.__proto__=t,e}:Bn,Rn=function(e){function t(r){void 0===r&&(r=Mn);var n=e.call(this,"number"==typeof r?Mn+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=Mn,Dn(n,t.prototype),n}return kn(t,e),t}(Error);function jn(e,t){if(!e)throw new Rn(t)}var Ln=["debug","log","warn","error","silent"],Nn=Ln.indexOf("log");function Un(e){return function(){if(Ln.indexOf(e)>=Nn)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=Un("debug"),e.log=Un("log"),e.warn=Un("warn"),e.error=Un("error")}(jn||(jn={}));var Hn="3.11.1";function Fn(e){try{return e()}catch(e){}}const zn=Fn((function(){return globalThis}))||Fn((function(){return window}))||Fn((function(){return self}))||Fn((function(){return global}))||Fn((function(){return Fn.constructor("return this")()}));var qn=new Map;function Kn(e){var t=qn.get(e)||1;return qn.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function Vn(e,t){void 0===t&&(t=0);var r=Kn("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?r:t}),t).split(JSON.stringify(r)).join("<undefined>")}function Wn(e){return function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if("number"==typeof t){var i=t;(t=Yn(i))||(t=Jn(i,r),r=[])}e.apply(void 0,[t].concat(r))}}var $n=Object.assign((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];e||jn(e,Yn(t,r)||Jn(t,r))}),{debug:Wn(jn.debug),log:Wn(jn.log),warn:Wn(jn.warn),error:Wn(jn.error)});function Qn(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Rn(Yn(e,t)||Jn(e,t))}var Gn=Symbol.for("ApolloErrorMessageHandler_"+Hn);function Xn(e){if("string"==typeof e)return e;try{return Vn(e,2).slice(0,1e3)}catch(e){return"<non-serializable>"}}function Yn(e,t){if(void 0===t&&(t=[]),e)return zn[Gn]&&zn[Gn](e,t.map(Xn))}function Jn(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Hn,message:e,args:t.map(Xn)})))}globalThis.__DEV__;function Zn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ti(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ri(e,t,r){return t&&ti(e.prototype,t),r&&ti(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ni=function(){return"function"==typeof Symbol},ii=function(e){return ni()&&Boolean(Symbol[e])},oi=function(e){return ii(e)?Symbol[e]:"@@"+e};ni()&&!ii("observable")&&(Symbol.observable=Symbol("observable"));var si=oi("iterator"),ai=oi("observable"),ui=oi("species");function ci(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function fi(e){var t=e.constructor;return void 0!==t&&null===(t=t[ui])&&(t=void 0),void 0!==t?t:_i}function li(e){return e instanceof _i}function di(e){di.log?di.log(e):setTimeout((function(){throw e}))}function hi(e){Promise.resolve().then((function(){try{e()}catch(e){di(e)}}))}function pi(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var r=ci(t,"unsubscribe");r&&r.call(t)}}catch(e){di(e)}}function yi(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function gi(e,t,r){e._state="running";var n=e._observer;try{var i=ci(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(yi(e),!i)throw r;i.call(n,r);break;case"complete":yi(e),i&&i.call(n)}}catch(e){di(e)}"closed"===e._state?pi(e):"running"===e._state&&(e._state="ready")}function bi(e,t,r){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void hi((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(gi(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)}))):void gi(e,t,r);e._queue.push({type:t,value:r})}}var mi=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var r=new vi(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(yi(this),pi(this))},ri(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),vi=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){bi(this._subscription,"next",e)},t.error=function(e){bi(this._subscription,"error",e)},t.complete=function(){bi(this._subscription,"complete")},ri(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),_i=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new mi(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(r,n){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){n(e),i.unsubscribe()}},error:n,complete:r});else n(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),r()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(fi(this))((function(r){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(fi(this))((function(r){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=fi(this),n=arguments.length>1,i=!1,o=arguments[1];return new r((function(r){return t.subscribe({next:function(t){var s=!i;if(i=!0,!s||n)try{o=e(o,t)}catch(e){return r.error(e)}else o=t},error:function(e){r.error(e)},complete:function(){if(!i&&!n)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(o),r.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=fi(this);return new i((function(t){var n,o=0;return function e(s){n=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===r.length?(n=void 0,t.complete()):e(i.from(r[o++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=fi(this);return new r((function(n){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var o=r.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){n.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&n.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[ai]=function(){return this},e.from=function(t){var r="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var n=ci(t,ai);if(n){var i=n.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return li(i)&&i.constructor===r?i:new r((function(e){return i.subscribe(e)}))}if(ii("iterator")&&(n=ci(t,si)))return new r((function(e){hi((function(){if(!e.closed){for(var r,i=Zn(n.call(t));!(r=i()).done;){var o=r.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new r((function(e){hi((function(){if(!e.closed){for(var r=0;r<t.length;++r)if(e.next(t[r]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new("function"==typeof this?this:e)((function(e){hi((function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}}))}))},ri(e,null,[{key:ui,get:function(){return this}}]),e}();function wi(e){return null!==e&&"object"==typeof e}function Si(e,t){var r=t,n=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw Qn(73,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&n.push(e)})),void 0===r&&($n(1===n.length,74,n.length),r=n[0].name.value),In(In({},e),{definitions:Pn([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],e.definitions,!0)})}function Ei(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function Ai(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var r=e.name.value;if("function"==typeof t)return t(r);var n=t&&t[r];return $n(n,75,r),n||null;default:return null}}function xi(){}ni()&&Object.defineProperty(_i,Symbol("extensions"),{value:{symbol:ai,hostReportError:di},configurable:!0});const ki=xi,Ii="undefined"!=typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},Ti="undefined"!=typeof WeakMap?WeakMap:Map,Ci="undefined"!=typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:xi,unregister:xi}};class Oi{constructor(e=1/0,t=ki){this.max=e,this.dispose=t,this.map=new Ti,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const r=t.key;delete t.key,t.keyRef=new Ii(r),this.registry.register(r,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new Ci(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}function Pi(){}class Mi{constructor(e=1/0,t=Pi){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:r}=t;r&&(r.older=e),e&&(e.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}var Bi=new WeakSet;function Di(e){e.size<=(e.max||-1)||Bi.has(e)||(Bi.add(e),setTimeout((function(){e.clean(),Bi.delete(e)}),100))}var Ri=function(e,t){var r=new Oi(e,t);return r.set=function(e,t){var r=Oi.prototype.set.call(this,e,t);return Di(this),r},r},ji=function(e,t){var r=new Mi(e,t);return r.set=function(e,t){var r=Mi.prototype.set.call(this,e,t);return Di(this),r},r},Li=Symbol.for("apollo.cacheSize"),Ni=In({},zn[Li]),Ui={};function Hi(e,t){Ui[e]=t}var Fi=!1!==globalThis.__DEV__?function(){var e,t,r,n,i;if(!1===globalThis.__DEV__)throw new Error("only supported in development mode");return{limits:Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map((function(e){var t=e[0],r=e[1];return[t,Ni[t]||r]}))),sizes:In({print:null===(e=Ui.print)||void 0===e?void 0:e.call(Ui),parser:null===(t=Ui.parser)||void 0===t?void 0:t.call(Ui),canonicalStringify:null===(r=Ui.canonicalStringify)||void 0===r?void 0:r.call(Ui),links:Gi(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:$i(this.queryManager.documentTransform)}},null===(i=(n=this.cache).getMemoryInternals)||void 0===i?void 0:i.call(n))}}:void 0,zi=!1!==globalThis.__DEV__?function(){var e=this.config.fragments;return In(In({},Ki.apply(this)),{addTypenameDocumentTransform:$i(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Vi(this.storeReader.executeSelectionSet),executeSubSelectedArray:Vi(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Vi(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Vi(null==e?void 0:e.findFragmentSpreads),lookup:Vi(null==e?void 0:e.lookup),transform:Vi(null==e?void 0:e.transform)}})}:void 0,qi=!1!==globalThis.__DEV__?Ki:void 0;function Ki(){return{cache:{fragmentQueryDocuments:Vi(this.getFragmentDoc)}}}function Vi(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function Wi(e){return null!=e}function $i(e){return Qi(e).map((function(e){return{cache:e}}))}function Qi(e){return e?Pn(Pn([Vi(null==e?void 0:e.performWork)],Qi(null==e?void 0:e.left),!0),Qi(null==e?void 0:e.right),!0).filter(Wi):[]}function Gi(e){var t;return e?Pn(Pn([null===(t=null==e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],Gi(null==e?void 0:e.left),!0),Gi(null==e?void 0:e.right),!0).filter(Wi):[]}var Xi,Yi=Object.assign((function(e){return JSON.stringify(e,Ji)}),{reset:function(){Xi=new ji(Ni.canonicalStringify||1e3)}});function Ji(e,t){if(t&&"object"==typeof t){var r=Object.getPrototypeOf(t);if(r===Object.prototype||null===r){var n=Object.keys(t);if(n.every(Zi))return t;var i=JSON.stringify(n),o=Xi.get(i);if(!o){n.sort();var s=JSON.stringify(n);o=Xi.get(s)||n,Xi.set(i,o),Xi.set(s,o)}var a=Object.create(r);return o.forEach((function(e){a[e]=t[e]})),a}}return t}function Zi(e,t,r){return 0===t||r[t-1]<=e}function eo(e){return{__ref:String(e)}}function to(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function ro(e,t,r,n){if(function(e){return"IntValue"===e.kind}(r)||function(e){return"FloatValue"===e.kind}(r))e[t.value]=Number(r.value);else if(function(e){return"BooleanValue"===e.kind}(r)||function(e){return"StringValue"===e.kind}(r))e[t.value]=r.value;else if(function(e){return"ObjectValue"===e.kind}(r)){var i={};r.fields.map((function(e){return ro(i,e.name,e.value,n)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(r)){var o=(n||{})[r.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(r))e[t.value]=r.values.map((function(e){var r={};return ro(r,t,e,n),r[t.value]}));else if(function(e){return"EnumValue"===e.kind}(r))e[t.value]=r.value;else{if(!function(e){return"NullValue"===e.kind}(r))throw Qn(84,t.value,r.kind);e[t.value]=null}}!1!==globalThis.__DEV__&&Hi("canonicalStringify",(function(){return Xi.size})),Yi.reset();var no=["connection","include","skip","client","rest","export","nonreactive"],io=Yi,oo=Object.assign((function(e,t,r){if(t&&r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach((function(e){i[e]=t[e]})),"".concat(r.connection.key,"(").concat(io(i),")")}return r.connection.key}var o=e;if(t){var s=io(t);o+="(".concat(s,")")}return r&&Object.keys(r).forEach((function(e){-1===no.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?o+="@".concat(e,"(").concat(io(r[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=io;return io=e,t}});function so(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach((function(e){var n=e.name,i=e.value;return ro(r,n,i,t)})),r}return null}function ao(e){return e.alias?e.alias.value:e.name.value}function uo(e,t,r){for(var n,i=0,o=t.selections;i<o.length;i++){if(co(u=o[i])){if("__typename"===u.name.value)return e[ao(u)]}else n?n.push(u):n=[u]}if("string"==typeof e.__typename)return e.__typename;if(n)for(var s=0,a=n;s<a.length;s++){var u,c=uo(e,Ai(u=a[s],r).selectionSet,r);if("string"==typeof c)return c}}function co(e){return"Field"===e.kind}function fo(e){$n(e&&"Document"===e.kind,76);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw Qn(77,e.kind);return e}));return $n(t.length<=1,78,t.length),e}function lo(e){return fo(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function ho(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function po(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function yo(e){var t=lo(e);return $n(t&&"query"===t.operation,79),t}function go(e){var t;fo(e);for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw Qn(83)}function bo(e){var t=Object.create(null),r=e&&e.variableDefinitions;return r&&r.length&&r.forEach((function(e){e.defaultValue&&ro(t,e.variable.name,e.defaultValue)})),t}function mo(e,t){return t?t(e):_i.of()}function vo(e){return"function"==typeof e?new wo(e):e}function _o(e){return e.request.length<=1}var wo=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return _i.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(vo).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,r,n){var i,o=vo(r),s=vo(n||new e(mo));return i=_o(o)&&_o(s)?new e((function(e){return t(e)?o.request(e)||_i.of():s.request(e)||_i.of()})):new e((function(e,r){return t(e)?o.request(e,r)||_i.of():s.request(e,r)||_i.of()})),Object.assign(i,{left:o,right:s})},e.execute=function(e,t){return e.request(function(e,t){var r=In({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){r=In(In({},r),"function"==typeof e?e(r):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return In({},r)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?ho(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw Qn(43,i)}return e}(t))))||_i.of()},e.concat=function(t,r){var n=vo(t);if(_o(n))return!1!==globalThis.__DEV__&&$n.warn(35,n),n;var i,o=vo(r);return i=_o(o)?new e((function(e){return n.request(e,(function(e){return o.request(e)||_i.of()}))||_i.of()})):new e((function(e,t){return n.request(e,(function(e){return o.request(e,t)||_i.of()}))||_i.of()})),Object.assign(i,{left:n,right:o})},e.prototype.split=function(t,r,n){return this.concat(e.split(t,r,n||new e(mo)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw Qn(36)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),So=wo.execute;function Eo(e,t){if(!Boolean(e))throw new Error(t)}const Ao=10,xo=2;function ko(e){return Io(e,[])}function Io(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const r=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Io(t,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>xo)return"[Array]";const r=Math.min(Ao,e.length),n=e.length-r,i=[];for(let n=0;n<r;++n)i.push(Io(e[n],t));1===n?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`);return"["+i.join(", ")+"]"}(e,r);return function(e,t){const r=Object.entries(e);if(0===r.length)return"{}";if(t.length>xo)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const n=r.map((([e,r])=>e+": "+Io(r,t)));return"{ "+n.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}class To{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Co{constructor(e,t,r,n,i,o){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Oo={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Po=new Set(Object.keys(Oo));function Mo(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&Po.has(t)}var Bo,Do;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(Bo||(Bo={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(Do||(Do={}));const Ro=Object.freeze({});function jo(e,t,r=Oo){const n=new Map;for(const e of Object.values(Do))n.set(e,Lo(t,e));let i,o,s,a=Array.isArray(e),u=[e],c=-1,f=[],l=e;const d=[],h=[];do{c++;const e=c===u.length,b=e&&0!==f.length;if(e){if(o=0===h.length?void 0:d[d.length-1],l=s,s=h.pop(),b)if(a){l=l.slice();let e=0;for(const[t,r]of f){const n=t-e;null===r?(l.splice(n,1),e++):l[n]=r}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[e,t]of f)l[e]=t}c=i.index,u=i.keys,f=i.edits,a=i.inArray,i=i.prev}else if(s){if(o=a?c:u[c],l=s[o],null==l)continue;d.push(o)}let m;if(!Array.isArray(l)){var p,y;Mo(l)||Eo(!1,`Invalid AST Node: ${ko(l)}.`);const r=e?null===(p=n.get(l.kind))||void 0===p?void 0:p.leave:null===(y=n.get(l.kind))||void 0===y?void 0:y.enter;if(m=null==r?void 0:r.call(t,l,o,s,d,h),m===Ro)break;if(!1===m){if(!e){d.pop();continue}}else if(void 0!==m&&(f.push([o,m]),!e)){if(!Mo(m)){d.pop();continue}l=m}}var g;if(void 0===m&&b&&f.push([o,l]),e)d.pop();else i={inArray:a,index:c,keys:u,edits:f,prev:i},a=Array.isArray(l),u=a?l:null!==(g=r[l.kind])&&void 0!==g?g:[],c=-1,f=[],s&&h.push(s),s=l}while(void 0!==i);return 0!==f.length?f[f.length-1][1]:e}function Lo(e,t){const r=e[t];return"object"==typeof r?r:"function"==typeof r?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function No(e,t){var r=e.directives;return!r||!r.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var r=e.arguments,n=e.name.value;$n(r&&1===r.length,70,n);var i=r[0];$n(i.name&&"if"===i.name.value,71,n);var o=i.value;$n(o&&("Variable"===o.kind||"BooleanValue"===o.kind),72,n),t.push({directive:e,ifArgument:i})}}));return t}(r).every((function(e){var r=e.directive,n=e.ifArgument,i=!1;return"Variable"===n.value.kind?(i=t&&t[n.value.name.value],$n(void 0!==i,69,r.name.value)):i=n.value.value,"skip"===r.name.value?!i:i}))}function Uo(e,t,r){var n=new Set(e),i=n.size;return jo(t,{Directive:function(e){if(n.delete(e.name.value)&&(!r||!n.size))return Ro}}),r?!n.size:n.size<i}function Ho(e){return e&&Uo(["client","export"],e,!0)}var Fo=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=Qn(39,t,e.message);throw n.parseError=e,n}return r},zo=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")},qo="ReactNative"==Fn((function(){return navigator.product})),Ko="function"==typeof WeakMap&&!(qo&&!global.HermesInternal),Vo="function"==typeof WeakSet,Wo="function"==typeof Symbol&&"function"==typeof Symbol.for,$o=Wo&&Symbol.asyncIterator;Fn((function(){return window.document.createElement})),Fn((function(){return navigator.userAgent.indexOf("jsdom")>=0}));function Qo(e){var t=null,r=null,n=!1,i=[],o=[];function s(e){if(!r){if(o.length){var t=o.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}i.push(e)}}function a(e){r=e,o.slice().forEach((function(t){t[1](e)})),!t||t()}function u(){n=!0,o.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",u),e.removeListener("finish",u),e.removeListener("close",u)},e.on("data",s),e.on("error",a),e.on("end",u),e.on("finish",u),e.on("close",u);var c={next:function(){return new Promise((function(e,t){return r?t(r):i.length?e({value:i.shift(),done:!1}):n?e({value:void 0,done:!0}):void o.push([e,t])}))}};return $o&&(c[Symbol.asyncIterator]=function(){return this}),c}function Go(e){var t={next:function(){return e.read()}};return $o&&(t[Symbol.asyncIterator]=function(){return this}),t}function Xo(e){var t,r,n,i=e;if(e.body&&(i=e.body),function(e){return!(!$o||!e[Symbol.asyncIterator])}(i))return function(e){var t,r=e[Symbol.asyncIterator]();return(t={next:function(){return r.next()}})[Symbol.asyncIterator]=function(){return this},t}(i);if(function(e){return!!e.getReader}(i))return Go(i.getReader());if(function(e){return!!e.stream}(i))return Go(i.stream().getReader());if(function(e){return!!e.arrayBuffer}(i))return t=i.arrayBuffer(),r=!1,n={next:function(){return r?Promise.resolve({value:void 0,done:!0}):(r=!0,new Promise((function(e,r){t.then((function(t){e({value:t,done:!1})})).catch(r)})))}},$o&&(n[Symbol.asyncIterator]=function(){return this}),n;if(function(e){return!!e.pipe}(i))return Qo(i);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Yo=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},Jo=Symbol();var Zo=function(e){function t(r){var n,i,o=r.graphQLErrors,s=r.protocolErrors,a=r.clientErrors,u=r.networkError,c=r.errorMessage,f=r.extraInfo,l=e.call(this,c)||this;return l.name="ApolloError",l.graphQLErrors=o||[],l.protocolErrors=s||[],l.clientErrors=a||[],l.networkError=u||null,l.message=c||(i=Pn(Pn(Pn([],(n=l).graphQLErrors,!0),n.clientErrors,!0),n.protocolErrors,!0),n.networkError&&i.push(n.networkError),i.map((function(e){return wi(e)&&e.message||"Error message not found."})).join("\n")),l.extraInfo=f,l.cause=Pn(Pn(Pn([u],o||[],!0),s||[],!0),a||[],!0).find((function(e){return!!e}))||null,l.__proto__=t.prototype,l}return kn(t,e),t}(Error),es=Array.isArray;function ts(e){return Array.isArray(e)&&e.length>0}var rs=Object.prototype.hasOwnProperty;function ns(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return is(e)}function is(e){var t=e[0]||{},r=e.length;if(r>1)for(var n=new ss,i=1;i<r;++i)t=n.merge(t,e[i]);return t}var os=function(e,t,r){return this.merge(e[r],t[r])},ss=function(){function e(e){void 0===e&&(e=os),this.reconciler=e,this.isObject=wi,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var r=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return wi(t)&&wi(e)?(Object.keys(t).forEach((function(i){if(rs.call(e,i)){var o=e[i];if(t[i]!==o){var s=r.reconciler.apply(r,Pn([e,t,i],n,!1));s!==o&&((e=r.shallowCopyForMerge(e))[i]=s)}}else(e=r.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){return wi(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):In({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}();function as(e){return"incremental"in e}function us(e){return wi(e)&&"payload"in e}function cs(e,t){var r=e,n=new ss;return as(t)&&ts(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,i=e.path,o=i.length-1;o>=0;--o){var s=i[o],a=!isNaN(+s)?[]:{};a[s]=t,t=a}r=n.merge(r,t)})),r}var fs=Object.prototype.hasOwnProperty;function ls(e){var t={};return e.split("\n").forEach((function(e){var r=e.indexOf(":");if(r>-1){var n=e.slice(0,r).trim().toLowerCase(),i=e.slice(r+1).trim();t[n]=i}})),t}function ds(e,t){if(e.status>=300){Yo(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(n){var r=n;throw r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,r}}function hs(e){return function(t){return t.text().then((function(e){return ds(t,e)})).then((function(r){return Array.isArray(r)||fs.call(r,"data")||fs.call(r,"errors")||Yo(t,r,"Server response was missing for query '".concat(Array.isArray(e)?e.map((function(e){return e.operationName})):e.operationName,"'.")),r}))}}var ps=function(e){if(!e&&"undefined"==typeof fetch)throw Qn(37)};function ys(e){return 9===e||32===e}function gs(e){return e>=48&&e<=57}function bs(e){return e>=97&&e<=122||e>=65&&e<=90}function ms(e){return bs(e)||95===e}function vs(e){return bs(e)||gs(e)||95===e}function _s(e){var t;let r=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let t=0;t<e.length;++t){var o;const s=e[t],a=ws(s);a!==s.length&&(n=null!==(o=n)&&void 0!==o?o:t,i=t,0!==t&&a<r&&(r=a))}return e.map(((e,t)=>0===t?e:e.slice(r))).slice(null!==(t=n)&&void 0!==t?t:0,i+1)}function ws(e){let t=0;for(;t<e.length&&ys(e.charCodeAt(t));)++t;return t}const Ss=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Es(e){return As[e.charCodeAt(0)]}const As=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];const xs={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>ks(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Ts("(",ks(e.variableDefinitions,", "),")"),r=ks([e.operation,ks([e.name,t]),ks(e.directives," ")]," ");return("query"===r?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+Ts(" = ",r)+Ts(" ",ks(n," "))},SelectionSet:{leave:({selections:e})=>Is(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:i}){const o=Ts("",e,": ")+t;let s=o+Ts("(",ks(r,", "),")");return s.length>80&&(s=o+Ts("(\n",Cs(ks(r,"\n")),"\n)")),ks([s,ks(n," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Ts(" ",ks(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>ks(["...",Ts("on ",e),ks(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${e}${Ts("(",ks(r,", "),")")} on ${t} ${Ts("",ks(n," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=1===n.length,o=n.length>1&&n.slice(1).every((e=>0===e.length||ys(e.charCodeAt(0)))),s=r.endsWith('\\"""'),a=e.endsWith('"')&&!s,u=e.endsWith("\\"),c=a||u,f=!(null!=t&&t.minimize)&&(!i||e.length>70||c||o||s);let l="";const d=i&&ys(e.charCodeAt(0));return(f&&!d||o)&&(l+="\n"),l+=r,(f||c)&&(l+="\n"),'"""'+l+'"""'}(e):`"${e.replace(Ss,Es)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+ks(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+ks(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Ts("(",ks(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>Ts("",e,"\n")+ks(["schema",ks(t," "),Is(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>Ts("",e,"\n")+ks(["scalar",t,ks(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>Ts("",e,"\n")+ks(["type",t,Ts("implements ",ks(r," & ")),ks(n," "),Is(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:i})=>Ts("",e,"\n")+t+(Os(r)?Ts("(\n",Cs(ks(r,"\n")),"\n)"):Ts("(",ks(r,", "),")"))+": "+n+Ts(" ",ks(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:i})=>Ts("",e,"\n")+ks([t+": "+r,Ts("= ",n),ks(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:i})=>Ts("",e,"\n")+ks(["interface",t,Ts("implements ",ks(r," & ")),ks(n," "),Is(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>Ts("",e,"\n")+ks(["union",t,ks(r," "),Ts("= ",ks(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>Ts("",e,"\n")+ks(["enum",t,ks(r," "),Is(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>Ts("",e,"\n")+ks([t,ks(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>Ts("",e,"\n")+ks(["input",t,ks(r," "),Is(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:i})=>Ts("",e,"\n")+"directive @"+t+(Os(r)?Ts("(\n",Cs(ks(r,"\n")),"\n)"):Ts("(",ks(r,", "),")"))+(n?" repeatable":"")+" on "+ks(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>ks(["extend schema",ks(e," "),Is(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>ks(["extend scalar",e,ks(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>ks(["extend type",e,Ts("implements ",ks(t," & ")),ks(r," "),Is(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>ks(["extend interface",e,Ts("implements ",ks(t," & ")),ks(r," "),Is(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>ks(["extend union",e,ks(t," "),Ts("= ",ks(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>ks(["extend enum",e,ks(t," "),Is(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>ks(["extend input",e,ks(t," "),Is(r)]," ")}};function ks(e,t=""){var r;return null!==(r=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==r?r:""}function Is(e){return Ts("{\n",Cs(ks(e,"\n")),"\n}")}function Ts(e,t,r=""){return null!=t&&""!==t?e+t+r:""}function Cs(e){return Ts("  ",e.replace(/\n/g,"\n  "))}function Os(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var Ps,Ms=Object.assign((function(e){var t=Ps.get(e);return t||(t=function(e){return jo(e,xs)}(e),Ps.set(e,t)),t}),{reset:function(){Ps=new Ri(Ni.print||2e3)}});Ms.reset(),!1!==globalThis.__DEV__&&Hi("print",(function(){return Ps?Ps.size:0}));var Bs={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Ds=function(e,t){return t(e)};function Rs(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach((function(e){i=In(In(In({},i),e.options),{headers:In(In({},i.headers),e.headers)}),e.credentials&&(i.credentials=e.credentials),o=In(In({},o),e.http)})),i.headers&&(i.headers=function(e,t){if(!t){var r=Object.create(null);return Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]=e[t]})),r}var n=Object.create(null);Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]={originalName:t,value:e[t]}}));var i=Object.create(null);return Object.keys(n).forEach((function(e){i[n[e].originalName]=n[e].value})),i}(i.headers,o.preserveHeaderCase));var s=e.operationName,a=e.extensions,u=e.variables,c=e.query,f={operationName:s,variables:u};return o.includeExtensions&&(f.extensions=a),o.includeQuery&&(f.query=t(c,Ms)),{options:i,body:f}}function js(e){return new _i((function(t){t.error(e)}))}function Ls(e,t){var r=In({},e),n=new Set(Object.keys(e));return jo(t,{Variable:function(e,t,r){r&&"VariableDefinition"!==r.kind&&n.delete(e.name.value)}}),n.forEach((function(e){delete r[e]})),r}var Ns={kind:Do.FIELD,name:{kind:Do.NAME,value:"__typename"}};function Us(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===Do.FRAGMENT_SPREAD&&Us(t[e.name.value],t)}))}function Hs(e){return Us(lo(e)||function(e){$n("Document"===e.kind,80),$n(e.definitions.length<=1,81);var t=e.definitions[0];return $n("FragmentDefinition"===t.kind,82),t}(e),Ei(po(e)))?null:e}function Fs(e){var t=new Map,r=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&r.set(e.test,e))})),function(e){var n=t.get(e.name.value);return!n&&r.size&&r.forEach((function(t,r){r(e)&&(n=t)})),n}}function zs(e){var t=new Map;return function(r){void 0===r&&(r=e);var n=t.get(r);return n||t.set(r,n={variables:new Set,fragmentSpreads:new Set}),n}}function qs(e,t){fo(t);for(var r=zs(""),n=zs(""),i=function(e){for(var t=0,i=void 0;t<e.length&&(i=e[t]);++t)if(!es(i)){if(i.kind===Do.OPERATION_DEFINITION)return r(i.name&&i.name.value);if(i.kind===Do.FRAGMENT_DEFINITION)return n(i.name.value)}return!1!==globalThis.__DEV__&&$n.error(85),null},o=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===Do.OPERATION_DEFINITION&&++o;var a=Fs(e),u=function(e){return ts(e)&&e.map(a).some((function(e){return e&&e.remove}))},c=new Map,f=!1,l={enter:function(e){if(u(e.directives))return f=!0,null}},d=jo(t,{Field:l,InlineFragment:l,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,r,n,o){var s=i(o);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,r,n,o){if(u(e.directives))return f=!0,null;var s=i(o);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,r,n){c.set(JSON.stringify(n),e)},leave:function(e,t,r,i){return e===c.get(JSON.stringify(i))?e:o>0&&e.selectionSet.selections.every((function(e){return e.kind===Do.FIELD&&"__typename"===e.name.value}))?(n(e.name.value).removed=!0,f=!0,null):void 0}},Directive:{leave:function(e){if(a(e))return f=!0,null}}});if(!f)return t;var h=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){h(n(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},p=new Set;d.definitions.forEach((function(e){e.kind===Do.OPERATION_DEFINITION?h(r(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){p.add(e)})):e.kind!==Do.FRAGMENT_DEFINITION||0!==o||n(e.name.value).removed||p.add(e.name.value)})),p.forEach((function(e){h(n(e)).fragmentSpreads.forEach((function(e){p.add(e)}))}));var y={enter:function(e){if(t=e.name.value,!p.has(t)||n(t).removed)return null;var t}};return Hs(jo(d,{FragmentSpread:y,FragmentDefinition:y,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=h(r(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return In(In({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var Ks=Object.assign((function(e){return jo(e,{SelectionSet:{enter:function(e,t,r){if(!r||r.kind!==Do.OPERATION_DEFINITION){var n=e.selections;if(n)if(!n.some((function(e){return co(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=r;if(!(co(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return In(In({},e),{selections:Pn(Pn([],n,!0),[Ns],!1)})}}}}})}),{added:function(e){return e===Ns}});function Vs(e){return"query"===go(e).operation?e:jo(e,{OperationDefinition:{enter:function(e){return In(In({},e),{operation:"query"})}}})}function Ws(e){return fo(e),qs([{test:function(e){return"client"===e.name.value},remove:!0}],e)}var $s=Fn((function(){return fetch})),Qs=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,n=e.fetch,i=e.print,o=void 0===i?Ds:i,s=e.includeExtensions,a=e.preserveHeaderCase,u=e.useGETForQueries,c=e.includeUnusedVariables,f=void 0!==c&&c,l=Tn(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&ps(n||$s);var d={http:{includeExtensions:s,preserveHeaderCase:a},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new wo((function(e){var t=zo(e,r),i=e.getContext(),s={};if(i.clientAwareness){var a=i.clientAwareness,c=a.name,l=a.version;c&&(s["apollographql-client-name"]=c),l&&(s["apollographql-client-version"]=l)}var h=In(In({},s),i.headers),p={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:h};if(Uo(["client"],e.query)){var y=Ws(e.query);if(!y)return js(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=y}var g,b=Rs(e,o,Bs,d,p),m=b.options,v=b.body;v.variables&&!f&&(v.variables=Ls(v.variables,e.query)),m.signal||"undefined"==typeof AbortController||(g=new AbortController,m.signal=g.signal);var _,w="OperationDefinition"===(_=go(e.query)).kind&&"subscription"===_.operation,S=Uo(["defer"],e.query);if(u&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(m.method="GET"),S||w){m.headers=m.headers||{};var E="multipart/mixed;";w&&S&&!1!==globalThis.__DEV__&&$n.warn(38),w?E+="boundary=graphql;subscriptionSpec=1.0,application/json":S&&(E+="deferSpec=20220824,application/json"),m.headers.accept=E}if("GET"===m.method){var A=function(e,t){var r=[],n=function(e,t){r.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&n("query",t.query),t.operationName&&n("operationName",t.operationName),t.variables){var i=void 0;try{i=Fo(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var o=void 0;try{o=Fo(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",o)}var s="",a=e,u=e.indexOf("#");-1!==u&&(s=e.substr(u),a=e.substr(0,u));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+r.join("&")+s}}(t,v),x=A.newURI,k=A.parseError;if(k)return js(k);t=x}else try{m.body=Fo(v,"Payload")}catch(k){return js(k)}return new _i((function(r){var i=n||Fn((function(){return fetch}))||$s,o=r.next.bind(r);return i(t,m).then((function(t){var r;e.setContext({response:t});var n=null===(r=t.headers)||void 0===r?void 0:r.get("content-type");return null!==n&&/^multipart\/mixed/i.test(n)?function(e,t){return Cn(this,void 0,void 0,(function(){var r,n,i,o,s,a,u,c,f,l,d,h,p,y,g,b,m,v,_,w,S,E,A,x;return On(this,(function(k){switch(k.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");r=new TextDecoder("utf-8"),n=null===(x=e.headers)||void 0===x?void 0:x.get("content-type"),i="boundary=",o=(null==n?void 0:n.includes(i))?null==n?void 0:n.substring((null==n?void 0:n.indexOf(i))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s="\r\n--".concat(o),a="",u=Xo(e),c=!0,k.label=1;case 1:return c?[4,u.next()]:[3,3];case 2:for(f=k.sent(),l=f.value,d=f.done,h="string"==typeof l?l:r.decode(l),p=a.length-s.length+1,c=!d,y=(a+=h).indexOf(s,p);y>-1;){if(g=void 0,E=[a.slice(0,y),a.slice(y+s.length)],a=E[1],b=(g=E[0]).indexOf("\r\n\r\n"),m=ls(g.slice(0,b)),(v=m["content-type"])&&-1===v.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(_=g.slice(b))if(w=ds(e,_),Object.keys(w).length>1||"data"in w||"incremental"in w||"errors"in w||"payload"in w)if(us(w)){if(S={},"payload"in w){if(1===Object.keys(w).length&&null===w.payload)return[2];S=In({},w.payload)}"errors"in w&&(S=In(In({},S),{extensions:In(In({},"extensions"in S?S.extensions:null),(A={},A[Jo]=w.errors,A))})),t(S)}else t(w);else if(1===Object.keys(w).length&&"hasNext"in w&&!w.hasNext)return[2];y=a.indexOf(s)}return[3,1];case 3:return[2]}}))}))}(t,o):hs(e)(t).then(o)})).then((function(){g=void 0,r.complete()})).catch((function(e){g=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,r)})),function(){g&&g.abort()}}))}))},Gs=function(e){function t(t){void 0===t&&(t={});var r=e.call(this,Qs(t).request)||this;return r.options=t,r}return kn(t,e),t}(wo);const{toString:Xs,hasOwnProperty:Ys}=Object.prototype,Js=Function.prototype.toString,Zs=new Map;function ea(e,t){try{return ra(e,t)}finally{Zs.clear()}}const ta=ea;function ra(e,t){if(e===t)return!0;const r=Xs.call(e);if(r!==Xs.call(t))return!1;switch(r){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(sa(e,t))return!0;const r=na(e),n=na(t),i=r.length;if(i!==n.length)return!1;for(let e=0;e<i;++e)if(!Ys.call(t,r[e]))return!1;for(let n=0;n<i;++n){const i=r[n];if(!ra(e[i],t[i]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(sa(e,t))return!0;const n=e.entries(),i="[object Map]"===r;for(;;){const e=n.next();if(e.done)break;const[r,o]=e.value;if(!t.has(r))return!1;if(i&&!ra(o,t.get(r)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=Js.call(e);return r===Js.call(t)&&!function(e,t){const r=e.length-t.length;return r>=0&&e.indexOf(t,r)===r}(r,oa)}}return!1}function na(e){return Object.keys(e).filter(ia,e)}function ia(e){return void 0!==this[e]}const oa="{ [native code] }";function sa(e,t){let r=Zs.get(e);if(r){if(r.has(t))return!0}else Zs.set(e,r=new Set);return r.add(t),!1}const aa=()=>Object.create(null),{forEach:ua,slice:ca}=Array.prototype,{hasOwnProperty:fa}=Object.prototype;class la{constructor(e=!0,t=aa){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return ua.call(e,(e=>t=t.getChildTrie(e))),fa.call(t,"data")?t.data:t.data=this.makeData(ca.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){const n=t.mapFor(e[r],!1);t=n&&n.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const r=e[0],n=this.mapFor(r,!1),i=n&&n.get(r);i&&(t=i.removeArray(ca.call(e,1)),i.data||i.weak||i.strong&&i.strong.size||n.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let r=t.get(e);return r||t.set(e,r=new la(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}const da=()=>Object.create(null),{forEach:ha,slice:pa}=Array.prototype,{hasOwnProperty:ya}=Object.prototype;class ga{constructor(e=!0,t=da){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return ha.call(e,(e=>t=t.getChildTrie(e))),ya.call(t,"data")?t.data:t.data=this.makeData(pa.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let r=0,n=e.length;t&&r<n;++r){const n=this.weakness&&ba(e[r])?t.weak:t.strong;t=n&&n.get(e[r])}return t&&t.data}getChildTrie(e){const t=this.weakness&&ba(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let r=t.get(e);return r||t.set(e,r=new ga(this.weakness,this.makeData)),r}}function ba(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}let ma=null;const va={};let _a=1;function wa(e){try{return e()}catch(e){}}const Sa="@wry/context:Slot",Ea=wa((()=>globalThis))||wa((()=>global))||Object.create(null),Aa=Ea[Sa]||Array[Sa]||function(e){try{Object.defineProperty(Ea,Sa,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",_a++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=ma;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===va)break;return e!==ma&&(ma.slots[this.id]=t),!0}return ma&&(ma.slots[this.id]=va),!1}getValue(){if(this.hasValue())return ma.slots[this.id]}withValue(e,t,r,n){const i={__proto__:null,[this.id]:e},o=ma;ma={parent:o,slots:i};try{return t.apply(n,r)}finally{ma=o}}static bind(e){const t=ma;return function(){const r=ma;try{return ma=t,e.apply(this,arguments)}finally{ma=r}}}static noContext(e,t,r){if(!ma)return e.apply(r,t);{const n=ma;try{return ma=null,e.apply(r,t)}finally{ma=n}}}}),{bind:xa,noContext:ka}=Aa;const Ia=new Aa;const{hasOwnProperty:Ta}=Object.prototype,Ca=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function Oa(e){const{unsubscribe:t}=e;"function"==typeof t&&(e.unsubscribe=void 0,t())}const Pa=[],Ma=100;function Ba(e,t){if(!e)throw new Error(t||"assertion failure")}function Da(e,t){const r=e.length;return r>0&&r===t.length&&e[r-1]===t[r-1]}function Ra(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function ja(e){return e.slice(0)}class La{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++La.count}peek(){if(1===this.value.length&&!Ha(this))return Na(this),this.value[0]}recompute(e){return Ba(!this.recomputing,"already recomputing"),Na(this),Ha(this)?function(e,t){$a(e),Ia.withValue(e,Ua,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{Oa(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,Ha(e))return;za(e)}(e);return Ra(e.value)}(this,e):Ra(this.value)}setDirty(){this.dirty||(this.dirty=!0,Fa(this),Oa(this))}dispose(){this.setDirty(),$a(this),qa(this,((e,t)=>{e.setDirty(),Qa(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=Pa.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(Ca(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),Pa.push(this.deps),this.deps=null)}}function Na(e){const t=Ia.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),Ha(e)?Ka(t,e):Va(t,e),t}function Ua(e,t){e.recomputing=!0;const{normalizeResult:r}=e;let n;r&&1===e.value.length&&(n=ja(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),r&&n&&!Da(n,e.value))try{e.value[0]=r(e.value[0],n[0])}catch(e){}}catch(t){e.value[1]=t}e.recomputing=!1}function Ha(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Fa(e){qa(e,Ka)}function za(e){qa(e,Va)}function qa(e,t){const r=e.parents.size;if(r){const n=Ca(e.parents);for(let i=0;i<r;++i)t(n[i],e)}}function Ka(e,t){Ba(e.childValues.has(t)),Ba(Ha(t));const r=!Ha(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=Pa.pop()||new Set;e.dirtyChildren.add(t),r&&Fa(e)}function Va(e,t){Ba(e.childValues.has(t)),Ba(!Ha(t));const r=e.childValues.get(t);0===r.length?e.childValues.set(t,ja(t.value)):Da(r,t.value)||e.setDirty(),Wa(e,t),Ha(e)||za(e)}function Wa(e,t){const r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(Pa.length<Ma&&Pa.push(r),e.dirtyChildren=null))}function $a(e){e.childValues.size>0&&e.childValues.forEach(((t,r)=>{Qa(e,r)})),e.forgetDeps(),Ba(null===e.dirtyChildren)}function Qa(e,t){t.parents.delete(e),e.childValues.delete(t),Wa(e,t)}La.count=0;const Ga={setDirty:!0,dispose:!0,forget:!0};function Xa(e){const t=new Map,r=e&&e.subscribe;function n(e){const n=Ia.getValue();if(n){let i=t.get(e);i||t.set(e,i=new Set),n.dependOn(i),"function"==typeof r&&(Oa(i),i.unsubscribe=r(e))}}return n.dirty=function(e,r){const n=t.get(e);if(n){const i=r&&Ta.call(Ga,r)?r:"setDirty";Ca(n).forEach((e=>e[i]())),t.delete(e),Oa(n)}},n}let Ya;function Ja(...e){return(Ya||(Ya=new ga("function"==typeof WeakMap))).lookupArray(e)}const Za=new Set;function eu(e,{max:t=Math.pow(2,16),keyArgs:r,makeCacheKey:n=Ja,normalizeResult:i,subscribe:o,cache:s=Mi}=Object.create(null)){const a="function"==typeof s?new s(t,(e=>e.dispose())):s,u=function(){const t=n.apply(null,r?r.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=a.get(t);s||(a.set(t,s=new La(e)),s.normalizeResult=i,s.subscribe=o,s.forget=()=>a.delete(t));const u=s.recompute(Array.prototype.slice.call(arguments));return a.set(t,s),Za.add(a),Ia.hasValue()||(Za.forEach((e=>e.clean())),Za.clear()),u};function c(e){const t=e&&a.get(e);t&&t.setDirty()}function f(e){const t=e&&a.get(e);if(t)return t.peek()}function l(e){return!!e&&a.delete(e)}return Object.defineProperty(u,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(u.options={max:t,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:o,cache:a}),u.dirtyKey=c,u.dirty=function(){c(n.apply(null,arguments))},u.peekKey=f,u.peek=function(){return f(n.apply(null,arguments))},u.forgetKey=l,u.forget=function(){return l(n.apply(null,arguments))},u.makeCacheKey=n,u.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(u)}function tu(e){return e}var ru=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=Vo?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(tu,{cache:!1})},e.split=function(t,r,n){return void 0===n&&(n=e.identity()),Object.assign(new e((function(e){return(t(e)?r:n).transformDocument(e)}),{cache:!1}),{left:r,right:n})},e.prototype.resetCache=function(){var t=this;if(this.cached){var r=new la(Ko);this.performWork=eu(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var n=t.getCacheKey(e);if(n)return $n(Array.isArray(n),68),r.lookupArray(n)},max:Ni["documentTransform.cache"],cache:Oi})}},e.prototype.performWork=function(e){return fo(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var r=this;return Object.assign(new e((function(e){return t.transformDocument(r.transformDocument(e))}),{cache:!1}),{left:this,right:t})},e}();function nu(e,t,r){return new _i((function(n){var i={then:function(e){return new Promise((function(t){return t(e())}))}};function o(e,t){return function(r){if(e){var o=function(){return n.closed?0:e(r)};i=i.then(o,o).then((function(e){return n.next(e)}),(function(e){return n.error(e)}))}else n[t](r)}}var s={next:o(t,"next"),error:o(r,"error"),complete:function(){i.then((function(){return n.complete()}))}},a=e.subscribe(s);return function(){return a.unsubscribe()}}))}function iu(e){return ts(ou(e))}function ou(e){var t=ts(e.errors)?e.errors.slice(0):[];return as(e)&&ts(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}function su(e,t,r){var n=[];e.forEach((function(e){return e[t]&&n.push(e)})),n.forEach((function(e){return e[t](r)}))}function au(e){function t(t){Object.defineProperty(e,t,{value:_i})}return Wo&&Symbol.species&&t(Symbol.species),t("@@species"),e}function uu(e){return e&&"function"==typeof e.then}var cu,fu=function(e){function t(t){var r=e.call(this,(function(e){return r.addObserver(e),function(){return r.removeObserver(e)}}))||this;return r.observers=new Set,r.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),r.handlers={next:function(e){null!==r.sub&&(r.latest=["next",e],r.notify("next",e),su(r.observers,"next",e))},error:function(e){var t=r.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),r.sub=null,r.latest=["error",e],r.reject(e),r.notify("error",e),su(r.observers,"error",e))},complete:function(){var e=r,t=e.sub,n=e.sources;if(null!==t){var i=(void 0===n?[]:n).shift();i?uu(i)?i.then((function(e){return r.sub=e.subscribe(r.handlers)}),r.handlers.error):r.sub=i.subscribe(r.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),r.sub=null,r.latest&&"next"===r.latest[0]?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),su(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(e){r.reject(e),r.sources=[],r.handlers.complete()},r.promise.catch((function(e){})),"function"==typeof t&&(t=[new _i(t)]),uu(t)?t.then((function(e){return r.start(e)}),r.handlers.error):r.start(t),r}return kn(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],r=e[t];r&&r.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach((function(r){return r(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(r,n){t||(t=!0,e(r,n))}))},t}(_i);function lu(e){return!!e&&e<7}function du(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];void 0!==n&&(r[t]=n)}))})),r}au(fu),function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(cu||(cu={}));var hu=Object.prototype.toString;function pu(e){return yu(e)}function yu(e,t){switch(hu.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var r=e.slice(0);return t.set(e,r),r.forEach((function(e,n){r[n]=yu(e,t)})),r;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var n=Object.create(Object.getPrototypeOf(e));return t.set(e,n),Object.keys(e).forEach((function(r){n[r]=yu(e[r],t)})),n;default:return e}}function gu(e,t,r,n){var i=t.data,o=Tn(t,["data"]),s=r.data,a=Tn(r,["data"]);return ta(o,a)&&bu(go(e).selectionSet,i,s,{fragmentMap:Ei(po(e)),variables:n})}function bu(e,t,r,n){if(t===r)return!0;var i=new Set;return e.selections.every((function(e){if(i.has(e))return!0;if(i.add(e),!No(e,n.variables))return!0;if(mu(e))return!0;if(co(e)){var o=ao(e),s=t&&t[o],a=r&&r[o],u=e.selectionSet;if(!u)return ta(s,a);var c=Array.isArray(s),f=Array.isArray(a);if(c!==f)return!1;if(c&&f){var l=s.length;if(a.length!==l)return!1;for(var d=0;d<l;++d)if(!bu(u,s[d],a[d],n))return!1;return!0}return bu(u,s,a,n)}var h=Ai(e,n.fragmentMap);return h?!!mu(h)||bu(h.selectionSet,t,r,n):void 0}))}function mu(e){return!!e.directives&&e.directives.some(vu)}function vu(e){return"nonreactive"===e.name.value}var _u=Object.assign,wu=Object.hasOwnProperty,Su=function(e){function t(t){var r=t.queryManager,n=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=Au)}catch(e){}var r=!o.observers.size;o.observers.add(e);var n=o.last;return n&&n.error?e.error&&e.error(n.error):n&&n.result&&e.next&&e.next(n.result),r&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=n,o.queryManager=r,o.waitForOwnResult=ku(i.fetchPolicy),o.isTornDown=!1,o.subscribeToMore=o.subscribeToMore.bind(o);var s=r.defaultOptions.watchQuery,a=(void 0===s?{}:s).fetchPolicy,u=void 0===a?"cache-first":a,c=i.fetchPolicy,f=void 0===c?u:c,l=i.initialFetchPolicy,d=void 0===l?"standby"===f?u:f:l;o.options=In(In({},i),{initialFetchPolicy:d,fetchPolicy:f}),o.queryId=n.queryId||r.generateQueryId();var h=lo(o.query);return o.queryName=h&&h.name&&h.name.value,o}return kn(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:r},i=e.subscribe(n)}))},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),r=this.queryInfo.networkStatus||t&&t.networkStatus||cu.ready,n=In(In({},t),{loading:lu(r),networkStatus:r}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if(ku(o)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(n.data=s.result),ea(n.data,{})&&(n.data=void 0),s.complete?(delete n.partial,!s.complete||n.networkStatus!==cu.loading||"cache-first"!==o&&"cache-only"!==o||(n.networkStatus=cu.ready,n.loading=!1)):n.partial=!0,!1===globalThis.__DEV__||s.complete||this.options.partialRefetch||n.loading||n.data||n.error||xu(s.missing)}return e&&this.updateLastResult(n),n},t.prototype.isDifferentFromLastResult=function(e,t){return!this.last||((this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!gu(this.query,this.last.result,e,this.variables):!ea(this.last.result,e))||t&&!ea(this.last.variables,t))},t.prototype.getLast=function(e,t){var r=this.last;if(r&&r[e]&&(!t||ea(r.variables,this.variables)))return r[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,r={pollInterval:0},n=this.options.fetchPolicy;if(r.fetchPolicy="cache-and-network"===n?n:"no-cache"===n?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&wu.call(e,"variables")){var i=yo(this.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&$n.warn(20,e,(null===(t=i.name)||void 0===t?void 0:t.value)||i)}return e&&!ea(this.options.variables,e)&&(r.variables=this.options.variables=In(In({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(r,cu.refetch)},t.prototype.fetchMore=function(e){var t=this,r=In(In({},e.query?e:In(In(In(In({},this.options),{query:this.options.query}),e),{variables:In(In({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});r.query=this.transformDocument(r.query);var n=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):r.query;var i=this.queryInfo,o=i.networkStatus;i.networkStatus=cu.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var s=new Set;return this.queryManager.fetchQuery(n,r,cu.fetchMore).then((function(a){return t.queryManager.removeQuery(n),i.networkStatus===cu.fetchMore&&(i.networkStatus=o),t.queryManager.cache.batch({update:function(n){var i=e.updateQuery;i?n.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return i(e,{fetchMoreResult:a.data,variables:r.variables})})):n.writeQuery({query:r.query,variables:r.variables,data:a.data})},onWatchUpdated:function(e){s.add(e.query)}}),a})).finally((function(){s.has(t.query)||Eu(t)}))},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(r){var n=e.updateQuery;n&&t.updateQuery((function(e,t){var i=t.variables;return n(e,{subscriptionData:r,variables:i})}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&$n.error(21,t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=du(this.options,e||{});_u(this.options,t)},t.prototype.setVariables=function(e){return ea(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},cu.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,r=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});r&&(t.cache.writeQuery({query:this.options.query,data:r,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var r=t.fetchPolicy,n=void 0===r?"cache-first":r,i=t.initialFetchPolicy,o=void 0===i?n:i;"standby"===n||("function"==typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(n,{reason:e,options:t,observable:this,initialFetchPolicy:o}):t.fetchPolicy="variables-changed"===e?o:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,e,t,r)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,r=this.options.pollInterval;if(r&&this.hasObservers()){if(!t||t.interval!==r){$n(r,22),(t||(this.pollingInfo={})).interval=r;var n=function(){var t,r;e.pollingInfo&&(lu(e.queryInfo.networkStatus)||(null===(r=(t=e.options).skipPollAttempt)||void 0===r?void 0:r.call(t))?i():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},cu.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(n,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var r=this.getLastError();return r&&this.last&&!ea(t,this.last.variables)&&(r=void 0),this.last=In({result:this.queryManager.assumeImmutableResults?e:pu(e),variables:t},r?{error:r}:null)},t.prototype.reobserveAsConcast=function(e,t){var r=this;this.isTornDown=!1;var n=t===cu.refetch||t===cu.fetchMore||t===cu.poll,i=this.options.variables,o=this.options.fetchPolicy,s=du(this.options,e||{}),a=n?s:_u(this.options,s),u=this.transformDocument(a.query);this.lastQuery=u,n||(this.updatePolling(),!e||!e.variables||ea(e.variables,i)||"standby"===a.fetchPolicy||a.fetchPolicy!==o&&"function"!=typeof a.nextFetchPolicy||(this.applyNextFetchPolicy("variables-changed",a),void 0===t&&(t=cu.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=ku(a.fetchPolicy));var c=function(){r.concast===d&&(r.waitForOwnResult=!1)},f=a.variables&&In({},a.variables),l=this.fetch(a,t,u),d=l.concast,h=l.fromLink,p={next:function(e){ea(r.variables,f)&&(c(),r.reportResult(e,f))},error:function(e){ea(r.variables,f)&&(c(),r.reportError(e,f))}};return n||!h&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=d,this.observer=p),d.addObserver(p),d},t.prototype.reobserve=function(e,t){return this.reobserveAsConcast(e,t).promise},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.last;this.resetLastResults();var n=this.subscribe.apply(this,e);return this.last=r,n},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var r=this.getLastError(),n=this.isDifferentFromLastResult(e,t);(r||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(r||n)&&su(this.observers,"next",e)},t.prototype.reportError=function(e,t){var r=In(In({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:cu.error,loading:!1});this.updateLastResult(r,t),su(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t}(_i);function Eu(e){var t=e.options,r=t.fetchPolicy,n=t.nextFetchPolicy;return"cache-and-network"===r||"network-only"===r?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,t){return this.nextFetchPolicy=n,"function"==typeof this.nextFetchPolicy?this.nextFetchPolicy(e,t):r}}):e.reobserve()}function Au(e){!1!==globalThis.__DEV__&&$n.error(23,e.message,e.stack)}function xu(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&$n.debug(24,e)}function ku(e){return"network-only"===e||"no-cache"===e||"standby"===e}au(Su);var Iu=new(Ko?WeakMap:Map);function Tu(e,t){var r=e[t];"function"==typeof r&&(e[t]=function(){return Iu.set(e,(Iu.get(e)+1)%1e15),r.apply(this,arguments)})}function Cu(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Ou=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;Iu.has(r)||(Iu.set(r,0),Tu(r,"evict"),Tu(r,"modify"),Tu(r,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||cu.loading;return this.variables&&this.networkStatus!==cu.loading&&!ea(this.variables,e.variables)&&(t=cu.setVariables),ea(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Cu(this),this.dirty=!1},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&ea(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,r=this,n=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(null===(t=this.observableQuery)||void 0===t?void 0:t.getLastError())||(this.updateLastDiff(e),this.dirty||ea(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return r.notify()}),0))))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():Eu(e)})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Cu(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(lu(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel;var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var r=this.observableQuery;if(!r||"no-cache"!==r.options.fetchPolicy){var n=In(In({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&ea(n,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=n))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===Iu.get(this.cache)&&ea(t,r.variables)&&ea(e.data,r.result.data))},e.prototype.markResult=function(e,t,r,n){var i=this,o=new ss,s=ts(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&ts(e.incremental)){var a=cs(this.getDiff().result,e);e.data=a}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=o.merge(u.result,e.data)}this.graphQLErrors=s,"no-cache"===r.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):0!==n&&(Pu(e,r.errorPolicy)?this.cache.performTransaction((function(o){if(i.shouldWrite(e,r.variables))o.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:1===n}),i.lastWrite={result:e,variables:r.variables,dmCount:Iu.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var s=i.getDiffOptions(r.variables),a=o.diff(s);!i.stopped&&ea(i.variables,r.variables)&&i.updateWatch(r.variables),i.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=cu.ready},e.prototype.markError=function(e){return this.networkStatus=cu.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function Pu(e,t){void 0===t&&(t="none");var r="ignore"===t||"all"===t,n=!iu(e);return!n&&r&&e.data&&(n=!0),n}var Mu=Object.prototype.hasOwnProperty,Bu=Object.create(null),Du=function(){function e(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Ri(Ni["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new la(!1);var r=new ru((function(e){return t.cache.transformDocument(e)}),{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults;var n=e.documentTransform;this.documentTransform=n?r.concat(n).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,r){e.stopQueryNoBroadcast(r)})),this.cancelPendingFetches(Qn(25))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return Cn(this,arguments,void 0,(function(e){var t,r,n,i,o,s,a,u=e.mutation,c=e.variables,f=e.optimisticResponse,l=e.updateQueries,d=e.refetchQueries,h=void 0===d?[]:d,p=e.awaitRefetchQueries,y=void 0!==p&&p,g=e.update,b=e.onQueryUpdated,m=e.fetchPolicy,v=void 0===m?(null===(s=this.defaultOptions.mutate)||void 0===s?void 0:s.fetchPolicy)||"network-only":m,_=e.errorPolicy,w=void 0===_?(null===(a=this.defaultOptions.mutate)||void 0===a?void 0:a.errorPolicy)||"none":_,S=e.keepRootFields,E=e.context;return On(this,(function(e){switch(e.label){case 0:return $n(u,26),$n("network-only"===v||"no-cache"===v,27),t=this.generateMutationId(),u=this.cache.transformForLink(this.transform(u)),r=this.getDocumentInfo(u).hasClientExports,c=this.getVariables(u,c),r?[4,this.localState.addExportedVariables(u,c,E)]:[3,2];case 1:c=e.sent(),e.label=2;case 2:return n=this.mutationStore&&(this.mutationStore[t]={mutation:u,variables:c,loading:!0,error:null}),i=f&&this.markMutationOptimistic(f,{mutationId:t,document:u,variables:c,fetchPolicy:v,errorPolicy:w,context:E,updateQueries:l,update:g,keepRootFields:S}),this.broadcastQueries(),o=this,[2,new Promise((function(e,r){return nu(o.getObservableFromLink(u,In(In({},E),{optimisticResponse:i?f:void 0}),c,{},!1),(function(e){if(iu(e)&&"none"===w)throw new Zo({graphQLErrors:ou(e)});n&&(n.loading=!1,n.error=null);var r=In({},e);return"function"==typeof h&&(h=h(r)),"ignore"===w&&iu(r)&&delete r.errors,o.markMutationResult({mutationId:t,result:r,document:u,variables:c,fetchPolicy:v,errorPolicy:w,context:E,update:g,updateQueries:l,awaitRefetchQueries:y,refetchQueries:h,removeOptimistic:i?t:void 0,onQueryUpdated:b,keepRootFields:S})})).subscribe({next:function(t){o.broadcastQueries(),"hasNext"in t&&!1!==t.hasNext||e(t)},error:function(e){n&&(n.loading=!1,n.error=e),i&&o.cache.removeOptimistic(t),o.broadcastQueries(),r(e instanceof Zo?e:new Zo({networkError:e}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var r=this;void 0===t&&(t=this.cache);var n=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&Pu(n,e.errorPolicy)){if(as(n)||i.push({result:n.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),as(n)&&ts(n.incremental)){var s=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),a=void 0;s.result&&(a=cs(s.result,n)),void 0!==a&&(n.data=a,i.push({result:a,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach((function(e,o){var s=e.observableQuery,a=s&&s.queryName;if(a&&Mu.call(u,a)){var c=u[a],f=r.queries.get(o),l=f.document,d=f.variables,h=t.diff({query:l,variables:d,returnPartialData:!0,optimistic:!1}),p=h.result;if(h.complete&&p){var y=c(p,{mutationResult:n,queryName:l&&ho(l)||void 0,queryVariables:d});y&&i.push({result:y,dataId:"ROOT_QUERY",query:l,variables:d})}}}))}if(i.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var s,a=e.update,u=!(as(s=n)||function(e){return"hasNext"in e&&"data"in e}(s))||as(n)&&!n.hasNext;if(a){if(!o){var c=t.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(n=In(In({},n),{data:c.result}))&&delete n.incremental,"hasNext"in n&&delete n.hasNext)}u&&a(t,n,{context:e.context,variables:e.variables})}o||e.keepRootFields||!u||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var r=t.fieldName,n=t.DELETE;return"__typename"===r?e:n}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return c.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then((function(){return n}))}return Promise.resolve(n)},e.prototype.markMutationOptimistic=function(e,t){var r=this,n="function"==typeof e?e(t.variables,{IGNORE:Bu}):e;return n!==Bu&&(this.cache.recordOptimisticTransaction((function(e){try{r.markMutationResult(In(In({},t),{result:{data:n}}),e)}catch(e){!1!==globalThis.__DEV__&&$n.error(e)}}),t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(e,t,r).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:Ho(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:Uo(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:qs([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:bo(lo(e)),asQuery:In(In({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?In(In({},e),{operation:"query"}):e}))})};t.set(e,r)}return t.get(e)},e.prototype.getVariables=function(e,t){return In(In({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);void 0===(e=In(In({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=new Ou(this),n=new Su({queryManager:this,queryInfo:r,options:e});return n.lastQuery=t,this.queries.set(n.queryId,r),r.init({document:t,observableQuery:n,variables:n.variables}),n},e.prototype.query=function(e,t){var r=this;return void 0===t&&(t=this.generateQueryId()),$n(e.query,28),$n("Document"===e.query.kind,29),$n(!e.returnPartialData,30),$n(!e.pollInterval,31),this.fetchQuery(t,In(In({},e),{query:this.transform(e.query)})).finally((function(){return r.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(Qn(32)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=cu.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var r=new Map,n=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var r;"string"==typeof e?n.set(e,!1):wi(r=e)&&"Document"===r.kind&&Array.isArray(r.definitions)?n.set(t.transform(e),!1):wi(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,s=t.document;if(o){if("all"===e)return void r.set(i,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&n.has(a)||s&&n.has(s))&&(r.set(i,o),a&&n.set(a,!0),s&&n.set(s,!0))}})),i.size&&i.forEach((function(e){var n=Kn("legacyOneTimeQuery"),i=t.getQuery(n).init({document:e.query,variables:e.variables}),o=new Su({queryManager:t,queryInfo:i,options:In(In({},e),{fetchPolicy:"network-only"})});$n(o.queryId===n),i.setObservableQuery(o),r.set(n,o)})),!1!==globalThis.__DEV__&&n.size&&n.forEach((function(e,t){e||!1!==globalThis.__DEV__&&$n.warn("string"==typeof t?33:34,t)})),r},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach((function(n,i){var o=n.options.fetchPolicy;n.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&r.push(n.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(r)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.fetchPolicy,i=e.errorPolicy,o=void 0===i?"none":i,s=e.variables,a=e.context,u=void 0===a?{}:a,c=e.extensions,f=void 0===c?{}:c;r=this.transform(r),s=this.getVariables(r,s);var l=function(e){return t.getObservableFromLink(r,u,e,f).map((function(i){"no-cache"!==n&&(Pu(i,o)&&t.cache.write({query:r,result:i.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var s=iu(i),a=function(e){return!!e.extensions&&Array.isArray(e.extensions[Jo])}(i);if(s||a){var u={};if(s&&(u.graphQLErrors=i.errors),a&&(u.protocolErrors=i.extensions[Jo]),"none"===o||a)throw new Zo(u)}return"ignore"===o&&delete i.errors,i}))};if(this.getDocumentInfo(r).hasClientExports){var d=this.localState.addExportedVariables(r,s,u).then(l);return new _i((function(e){var t=null;return d.then((function(r){return t=r.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return l(s)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,n,i){var o,s,a=this;void 0===i&&(i=null!==(o=null==t?void 0:t.queryDeduplication)&&void 0!==o?o:this.queryDeduplication);var u=this.getDocumentInfo(e),c=u.serverQuery,f=u.clientQuery;if(c){var l=this.inFlightLinkObservables,d=this.link,h={query:c,variables:r,operationName:ho(c)||void 0,context:this.prepareContext(In(In({},t),{forceFetch:!i})),extensions:n};if(t=h.context,i){var p=Ms(c),y=Yi(r),g=l.lookup(p,y);if(!(s=g.observable)){var b=new fu([So(d,h)]);s=g.observable=b,b.beforeNext((function(){l.remove(p,y)}))}}else s=new fu([So(d,h)])}else s=new fu([_i.of({data:{}})]),t=this.prepareContext(t);return f&&(s=nu(s,(function(e){return a.localState.runResolvers({document:f,remoteResult:e,context:t,variables:r})}))),s},e.prototype.getResultsFromLink=function(e,t,r){var n=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(r.query);return nu(this.getObservableFromLink(i,r.context,r.variables),(function(o){var s=ou(o),a=s.length>0;if(n>=e.lastRequestId){if(a&&"none"===r.errorPolicy)throw e.markError(new Zo({graphQLErrors:s}));e.markResult(o,i,r,t),e.markReady()}var u={data:o.data,loading:!1,networkStatus:cu.ready};return a&&"ignore"!==r.errorPolicy&&(u.errors=s,u.networkStatus=cu.error),u}),(function(t){var r=t.hasOwnProperty("graphQLErrors")?t:new Zo({networkError:t});throw n>=e.lastRequestId&&e.markError(r),r}))},e.prototype.fetchConcastWithInfo=function(e,t,r,n){var i=this;void 0===r&&(r=cu.loading),void 0===n&&(n=t.query);var o,s,a=this.getVariables(n,t.variables),u=this.getQuery(e),c=this.defaultOptions.watchQuery,f=t.fetchPolicy,l=void 0===f?c&&c.fetchPolicy||"cache-first":f,d=t.errorPolicy,h=void 0===d?c&&c.errorPolicy||"none":d,p=t.returnPartialData,y=void 0!==p&&p,g=t.notifyOnNetworkStatusChange,b=void 0!==g&&g,m=t.context,v=void 0===m?{}:m,_=Object.assign({},t,{query:n,variables:a,fetchPolicy:l,errorPolicy:h,returnPartialData:y,notifyOnNetworkStatusChange:b,context:v}),w=function(e){_.variables=e;var n=i.fetchQueryByPolicy(u,_,r);return"standby"!==_.fetchPolicy&&n.sources.length>0&&u.observableQuery&&u.observableQuery.applyNextFetchPolicy("after-fetch",t),n},S=function(){return i.fetchCancelFns.delete(e)};if(this.fetchCancelFns.set(e,(function(e){S(),setTimeout((function(){return o.cancel(e)}))})),this.getDocumentInfo(_.query).hasClientExports)o=new fu(this.localState.addExportedVariables(_.query,_.variables,_.context).then(w).then((function(e){return e.sources}))),s=!0;else{var E=w(_.variables);s=E.fromLink,o=new fu(E.sources)}return o.promise.then(S,S),{concast:o,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,n=e.include,i=e.optimistic,o=void 0!==i&&i,s=e.removeOptimistic,a=void 0===s?o?Kn("refetchQueries"):void 0:s,u=e.onQueryUpdated,c=new Map;n&&this.getObservableQueries(n).forEach((function(e,r){c.set(r,{oq:e,lastDiff:t.getQuery(r).getDiff()})}));var f=new Map;return r&&this.cache.batch({update:r,optimistic:o&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,r){var n=e.watcher instanceof Ou&&e.watcher.observableQuery;if(n){if(u){c.delete(n.queryId);var i=u(n,t,r);return!0===i&&(i=n.refetch()),!1!==i&&f.set(n,i),i}null!==u&&c.set(n.queryId,{oq:n,lastDiff:r,diff:t})}}}),c.size&&c.forEach((function(e,r){var n,i=e.oq,o=e.lastDiff,s=e.diff;if(u){if(!s){var a=i.queryInfo;a.reset(),s=a.getDiff()}n=u(i,s,o)}u&&!0!==n||(n=i.refetch()),!1!==n&&f.set(i,n),r.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(r)})),a&&this.cache.removeOptimistic(a),f},e.prototype.fetchQueryByPolicy=function(e,t,r){var n=this,i=t.query,o=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,u=t.errorPolicy,c=t.returnPartialData,f=t.context,l=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:i,variables:o,networkStatus:r});var h=function(){return e.getDiff()},p=function(t,r){void 0===r&&(r=e.networkStatus||cu.loading);var s=t.result;!1===globalThis.__DEV__||c||ea(s,{})||xu(t.missing);var a=function(e){return _i.of(In({data:e,loading:lu(r),networkStatus:r},t.complete?null:{partial:!0}))};return s&&n.getDocumentInfo(i).hasForcedResolvers?n.localState.runResolvers({document:i,remoteResult:{data:s},context:f,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):"none"===u&&r===cu.refetch&&Array.isArray(t.missing)?a(void 0):a(s)},y="no-cache"===s?0:r===cu.refetch&&"merge"!==a?1:2,g=function(){return n.getResultsFromLink(e,y,{query:i,variables:o,context:f,fetchPolicy:s,errorPolicy:u})},b=l&&"number"==typeof d&&d!==r&&lu(r);switch(s){default:case"cache-first":return(m=h()).complete?{fromLink:!1,sources:[p(m,e.markReady())]}:c||b?{fromLink:!0,sources:[p(m),g()]}:{fromLink:!0,sources:[g()]};case"cache-and-network":var m;return(m=h()).complete||c||b?{fromLink:!0,sources:[p(m),g()]}:{fromLink:!0,sources:[g()]};case"cache-only":return{fromLink:!1,sources:[p(h(),e.markReady())]};case"network-only":return b?{fromLink:!0,sources:[p(h()),g()]}:{fromLink:!0,sources:[g()]};case"no-cache":return b?{fromLink:!0,sources:[p(e.getDiff()),g()]}:{fromLink:!0,sources:[g()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Ou(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return In(In(In({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}();function Ru(e){return e.kind===Do.FIELD||e.kind===Do.FRAGMENT_SPREAD||e.kind===Do.INLINE_FRAGMENT}var ju=new Aa,Lu=new WeakMap;function Nu(e){var t=Lu.get(e);return t||Lu.set(e,t={vars:new Set,dep:Xa()}),t}function Uu(e){Nu(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Hu(e){var t=new Set,r=new Set,n=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Nu(e).dep.dirty(n),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)}));var s=Array.from(r);r.clear(),s.forEach((function(t){return t(e)}))}}else{var a=ju.getValue();a&&(i(a),Nu(a).dep(n))}return e};n.onNextChange=function(e){return r.add(e),function(){r.delete(e)}};var i=n.attachCache=function(e){return t.add(e),Nu(e).vars.add(n),n};return n.forgetCache=function(e){return t.delete(e)},n}var Fu=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=ns(t.resolvers,e)})):this.resolvers=ns(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return Cn(this,arguments,void 0,(function(e){var t=e.document,r=e.remoteResult,n=e.context,i=e.variables,o=e.onlyRunForcedResolvers,s=void 0!==o&&o;return On(this,(function(e){return t?[2,this.resolveDocument(t,r.data,n,i,this.fragmentMatcher,s).then((function(e){return In(In({},r),{data:e.result})}))]:[2,r]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return Uo(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return Ws(e)},e.prototype.prepareContext=function(e){var t=this.cache;return In(In({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return Cn(this,arguments,void 0,(function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),On(this,(function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then((function(e){return In(In({},t),e.exportedVariables)}))]:[2,In({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return jo(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return Ro}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Vs(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return Cn(this,arguments,void 0,(function(e,t,r,n,i,o){var s,a,u,c,f,l,d,h,p,y;return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),On(this,(function(g){return s=go(e),a=po(e),u=Ei(a),c=this.collectSelectionsToResolve(s,u),f=s.operation,l=f?f.charAt(0).toUpperCase()+f.slice(1):"Query",h=(d=this).cache,p=d.client,y={fragmentMap:u,context:In(In({},r),{cache:h,client:p}),variables:n,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(s.selectionSet,false,t,y).then((function(e){return{result:e,exportedVariables:y.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,r,n){return Cn(this,void 0,void 0,(function(){var i,o,s,a,u,c=this;return On(this,(function(f){return i=n.fragmentMap,o=n.context,s=n.variables,a=[r],u=function(e){return Cn(c,void 0,void 0,(function(){var u,c;return On(this,(function(f){return(t||n.selectionsToResolve.has(e))&&No(e,s)?co(e)?[2,this.resolveField(e,t,r,n).then((function(t){var r;void 0!==t&&a.push(((r={})[ao(e)]=t,r))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(u=i[e.name.value],$n(u,18,e.name.value)):u=e,u&&u.typeCondition&&(c=u.typeCondition.name.value,n.fragmentMatcher(r,c,o))?[2,this.resolveSelectionSet(u.selectionSet,t,r,n).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(u)).then((function(){return is(a)}))]}))}))},e.prototype.resolveField=function(e,t,r,n){return Cn(this,void 0,void 0,(function(){var i,o,s,a,u,c,f,l,d,h=this;return On(this,(function(p){return r?(i=n.variables,o=e.name.value,s=ao(e),a=o!==s,u=r[s]||r[o],c=Promise.resolve(u),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(f=r.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[f])&&(d=l[a?o:s])&&(c=Promise.resolve(ju.withValue(this.cache,d,[r,so(e,i),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,c.then((function(r){var i,o;if(void 0===r&&(r=u),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=r)}))})),!e.selectionSet)return r;if(null==r)return r;var s=null!==(o=null===(i=e.directives)||void 0===i?void 0:i.some((function(e){return"client"===e.name.value})))&&void 0!==o&&o;return Array.isArray(r)?h.resolveSubSelectedArray(e,t||s,r,n):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t||s,r,n):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,r,n){var i=this;return Promise.all(r.map((function(r){return null===r?null:Array.isArray(r)?i.resolveSubSelectedArray(e,t,r,n):e.selectionSet?i.resolveSelectionSet(e.selectionSet,t,r,n):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var r=function(e){return!Array.isArray(e)},n=this.selectionsToResolveCache;return function e(i){if(!n.has(i)){var o=new Set;n.set(i,o),jo(i,{Directive:function(e,t,n,i,s){"client"===e.name.value&&s.forEach((function(e){r(e)&&Ru(e)&&o.add(e)}))},FragmentSpread:function(n,i,s,a,u){var c=t[n.name.value];$n(c,19,n.name.value);var f=e(c);f.size>0&&(u.forEach((function(e){r(e)&&Ru(e)&&o.add(e)})),o.add(n),f.forEach((function(e){o.add(e)})))}})}return n.get(i)}(e)},e}();function zu(e,t){return du(e,t,t.variables&&{variables:du(In(In({},e&&e.variables),t.variables))})}var qu=!1,Ku=function(){function e(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw Qn(15);var r=e.uri,n=e.credentials,i=e.headers,o=e.cache,s=e.documentTransform,a=e.ssrMode,u=void 0!==a&&a,c=e.ssrForceFetchDelay,f=void 0===c?0:c,l=e.connectToDevTools,d=e.queryDeduplication,h=void 0===d||d,p=e.defaultOptions,y=e.defaultContext,g=e.assumeImmutableResults,b=void 0===g?o.assumeImmutableResults:g,m=e.resolvers,v=e.typeDefs,_=e.fragmentMatcher,w=e.name,S=e.version,E=e.devtools,A=e.link;A||(A=r?new Gs({uri:r,credentials:n,headers:i}):wo.empty()),this.link=A,this.cache=o,this.disableNetworkFetches=u||f>0,this.queryDeduplication=h,this.defaultOptions=p||Object.create(null),this.typeDefs=v,this.devtoolsConfig=In(In({},E),{enabled:(null==E?void 0:E.enabled)||l}),void 0===this.devtoolsConfig.enabled&&(this.devtoolsConfig.enabled=!1!==globalThis.__DEV__),f&&setTimeout((function(){return t.disableNetworkFetches=!1}),f),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Hn,this.localState=new Fu({cache:o,client:this,resolvers:m,fragmentMatcher:_}),this.queryManager=new Du({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:y,documentTransform:s,queryDeduplication:h,ssrMode:u,clientAwareness:{name:w,version:S},localState:this.localState,assumeImmutableResults:b,onBroadcast:this.devtoolsConfig.enabled?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("undefined"!=typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this,qu||!1===globalThis.__DEV__||(qu=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout((function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,r=void 0;"string"==typeof t&&(t.indexOf("Chrome/")>-1?r="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(r="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),r&&!1!==globalThis.__DEV__&&$n.log("Download the Apollo DevTools for a better development experience: %s",r)}}),1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=zu(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=In(In({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=zu(this.defaultOptions.query,e)),$n("cache-and-network"!==e.fetchPolicy,16),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=In(In({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=zu(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){return this.cache.watchFragment(e)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return So(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],n=[];t.forEach((function(e,t){r.push(t),n.push(e)}));var i=Promise.all(n);return i.queries=r,i.results=n,i.catch((function(e){!1!==globalThis.__DEV__&&$n.debug(17,e)})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();function Vu(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}!1!==globalThis.__DEV__&&(Ku.prototype.getMemoryInternals=Fi);const Wu=/\r\n|[\n\r]/g;function $u(e,t){let r=0,n=1;for(const i of e.body.matchAll(Wu)){if("number"==typeof i.index||Vu(!1),i.index>=t)break;r=i.index+i[0].length,n+=1}return{line:n,column:t+1-r}}function Qu(e){return Gu(e.source,$u(e.source,e.start))}function Gu(e,t){const r=e.locationOffset.column-1,n="".padStart(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?r:0,u=t.column+a,c=`${e.name}:${s}:${u}\n`,f=n.split(/\r\n|[\n\r]/g),l=f[i];if(l.length>120){const e=Math.floor(u/80),t=u%80,r=[];for(let e=0;e<l.length;e+=80)r.push(l.slice(e,e+80));return c+Xu([[`${s} |`,r[0]],...r.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",r[e+1]]])}return c+Xu([[s-1+" |",f[i-1]],[`${s} |`,l],["|","^".padStart(u)],[`${s+1} |`,f[i+1]]])}function Xu(e){const t=e.filter((([e,t])=>void 0!==t)),r=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(r)+(t?" "+t:""))).join("\n")}class Yu extends Error{constructor(e,...t){var r,n,i;const{nodes:o,source:s,positions:a,path:u,originalError:c,extensions:f}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=Ju(Array.isArray(o)?o:o?[o]:void 0);const l=Ju(null===(r=this.nodes)||void 0===r?void 0:r.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=s?s:null==l||null===(n=l[0])||void 0===n?void 0:n.source,this.positions=null!=a?a:null==l?void 0:l.map((e=>e.start)),this.locations=a&&s?a.map((e=>$u(s,e))):null==l?void 0:l.map((e=>$u(e.source,e.start)));const d="object"==typeof(h=null==c?void 0:c.extensions)&&null!==h?null==c?void 0:c.extensions:void 0;var h;this.extensions=null!==(i=null!=f?f:d)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Yu):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+="\n\n"+Qu(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+Gu(this.source,t);return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Ju(e){return void 0===e||0===e.length?void 0:e}function Zu(e,t,r){return new Yu(`Syntax Error: ${r}`,{source:e,positions:[t]})}var ec,tc;!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(ec||(ec={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(tc||(tc={}));class rc{constructor(e){const t=new Co(tc.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==tc.EOF)do{if(e.next)e=e.next;else{const t=cc(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===tc.COMMENT);return e}}function nc(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ic(e,t){return oc(e.charCodeAt(t))&&sc(e.charCodeAt(t+1))}function oc(e){return e>=55296&&e<=56319}function sc(e){return e>=56320&&e<=57343}function ac(e,t){const r=e.source.body.codePointAt(t);if(void 0===r)return tc.EOF;if(r>=32&&r<=126){const e=String.fromCodePoint(r);return'"'===e?"'\"'":`"${e}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function uc(e,t,r,n,i){const o=e.line,s=1+r-e.lineStart;return new Co(t,r,n,o,s,i)}function cc(e,t){const r=e.source.body,n=r.length;let i=t;for(;i<n;){const t=r.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===r.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return fc(e,i);case 33:return uc(e,tc.BANG,i,i+1);case 36:return uc(e,tc.DOLLAR,i,i+1);case 38:return uc(e,tc.AMP,i,i+1);case 40:return uc(e,tc.PAREN_L,i,i+1);case 41:return uc(e,tc.PAREN_R,i,i+1);case 46:if(46===r.charCodeAt(i+1)&&46===r.charCodeAt(i+2))return uc(e,tc.SPREAD,i,i+3);break;case 58:return uc(e,tc.COLON,i,i+1);case 61:return uc(e,tc.EQUALS,i,i+1);case 64:return uc(e,tc.AT,i,i+1);case 91:return uc(e,tc.BRACKET_L,i,i+1);case 93:return uc(e,tc.BRACKET_R,i,i+1);case 123:return uc(e,tc.BRACE_L,i,i+1);case 124:return uc(e,tc.PIPE,i,i+1);case 125:return uc(e,tc.BRACE_R,i,i+1);case 34:return 34===r.charCodeAt(i+1)&&34===r.charCodeAt(i+2)?vc(e,i):hc(e,i)}if(gs(t)||45===t)return lc(e,i,t);if(ms(t))return _c(e,i);throw Zu(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":nc(t)||ic(r,i)?`Unexpected character: ${ac(e,i)}.`:`Invalid character: ${ac(e,i)}.`)}return uc(e,tc.EOF,n,n)}function fc(e,t){const r=e.source.body,n=r.length;let i=t+1;for(;i<n;){const e=r.charCodeAt(i);if(10===e||13===e)break;if(nc(e))++i;else{if(!ic(r,i))break;i+=2}}return uc(e,tc.COMMENT,t,i,r.slice(t+1,i))}function lc(e,t,r){const n=e.source.body;let i=t,o=r,s=!1;if(45===o&&(o=n.charCodeAt(++i)),48===o){if(o=n.charCodeAt(++i),gs(o))throw Zu(e.source,i,`Invalid number, unexpected digit after 0: ${ac(e,i)}.`)}else i=dc(e,i,o),o=n.charCodeAt(i);if(46===o&&(s=!0,o=n.charCodeAt(++i),i=dc(e,i,o),o=n.charCodeAt(i)),69!==o&&101!==o||(s=!0,o=n.charCodeAt(++i),43!==o&&45!==o||(o=n.charCodeAt(++i)),i=dc(e,i,o),o=n.charCodeAt(i)),46===o||ms(o))throw Zu(e.source,i,`Invalid number, expected digit but got: ${ac(e,i)}.`);return uc(e,s?tc.FLOAT:tc.INT,t,i,n.slice(t,i))}function dc(e,t,r){if(!gs(r))throw Zu(e.source,t,`Invalid number, expected digit but got: ${ac(e,t)}.`);const n=e.source.body;let i=t+1;for(;gs(n.charCodeAt(i));)++i;return i}function hc(e,t){const r=e.source.body,n=r.length;let i=t+1,o=i,s="";for(;i<n;){const n=r.charCodeAt(i);if(34===n)return s+=r.slice(o,i),uc(e,tc.STRING,t,i+1,s);if(92!==n){if(10===n||13===n)break;if(nc(n))++i;else{if(!ic(r,i))throw Zu(e.source,i,`Invalid character within String: ${ac(e,i)}.`);i+=2}}else{s+=r.slice(o,i);const t=117===r.charCodeAt(i+1)?123===r.charCodeAt(i+2)?pc(e,i):yc(e,i):mc(e,i);s+=t.value,i+=t.size,o=i}}throw Zu(e.source,i,"Unterminated string.")}function pc(e,t){const r=e.source.body;let n=0,i=3;for(;i<12;){const e=r.charCodeAt(t+i++);if(125===e){if(i<5||!nc(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|bc(e),n<0)break}throw Zu(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+i)}".`)}function yc(e,t){const r=e.source.body,n=gc(r,t+2);if(nc(n))return{value:String.fromCodePoint(n),size:6};if(oc(n)&&92===r.charCodeAt(t+6)&&117===r.charCodeAt(t+7)){const e=gc(r,t+8);if(sc(e))return{value:String.fromCodePoint(n,e),size:12}}throw Zu(e.source,t,`Invalid Unicode escape sequence: "${r.slice(t,t+6)}".`)}function gc(e,t){return bc(e.charCodeAt(t))<<12|bc(e.charCodeAt(t+1))<<8|bc(e.charCodeAt(t+2))<<4|bc(e.charCodeAt(t+3))}function bc(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function mc(e,t){const r=e.source.body;switch(r.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw Zu(e.source,t,`Invalid character escape sequence: "${r.slice(t,t+2)}".`)}function vc(e,t){const r=e.source.body,n=r.length;let i=e.lineStart,o=t+3,s=o,a="";const u=[];for(;o<n;){const n=r.charCodeAt(o);if(34===n&&34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)){a+=r.slice(s,o),u.push(a);const n=uc(e,tc.BLOCK_STRING,t,o+3,_s(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,n}if(92!==n||34!==r.charCodeAt(o+1)||34!==r.charCodeAt(o+2)||34!==r.charCodeAt(o+3))if(10!==n&&13!==n)if(nc(n))++o;else{if(!ic(r,o))throw Zu(e.source,o,`Invalid character within String: ${ac(e,o)}.`);o+=2}else a+=r.slice(s,o),u.push(a),13===n&&10===r.charCodeAt(o+1)?o+=2:++o,a="",s=o,i=o;else a+=r.slice(s,o),s=o+1,o+=4}throw Zu(e.source,o,"Unterminated string.")}function _c(e,t){const r=e.source.body,n=r.length;let i=t+1;for(;i<n;){if(!vs(r.charCodeAt(i)))break;++i}return uc(e,tc.NAME,t,i,r.slice(t,i))}const wc=globalThis.process&&!0?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"==typeof e&&null!==e){var r;const n=t.prototype[Symbol.toStringTag];if(n===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(r=e.constructor)||void 0===r?void 0:r.name)){const t=ko(e);throw new Error(`Cannot use ${n} "${t}" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.`)}}return!1};class Sc{constructor(e,t="GraphQL request",r={line:1,column:1}){"string"==typeof e||Eo(!1,`Body must be a string. Received: ${ko(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||Eo(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Eo(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class Ec{constructor(e,t={}){const r=function(e){return wc(e,Sc)}(e)?e:new Sc(e);this._lexer=new rc(r),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(tc.NAME);return this.node(e,{kind:Do.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Do.DOCUMENT,definitions:this.many(tc.SOF,this.parseDefinition,tc.EOF)})}parseDefinition(){if(this.peek(tc.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===tc.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Zu(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(tc.BRACE_L))return this.node(e,{kind:Do.OPERATION_DEFINITION,operation:Bo.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let r;return this.peek(tc.NAME)&&(r=this.parseName()),this.node(e,{kind:Do.OPERATION_DEFINITION,operation:t,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(tc.NAME);switch(e.value){case"query":return Bo.QUERY;case"mutation":return Bo.MUTATION;case"subscription":return Bo.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(tc.PAREN_L,this.parseVariableDefinition,tc.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Do.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(tc.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(tc.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(tc.DOLLAR),this.node(e,{kind:Do.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Do.SELECTION_SET,selections:this.many(tc.BRACE_L,this.parseSelection,tc.BRACE_R)})}parseSelection(){return this.peek(tc.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let r,n;return this.expectOptionalToken(tc.COLON)?(r=t,n=this.parseName()):n=t,this.node(e,{kind:Do.FIELD,alias:r,name:n,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(tc.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(tc.PAREN_L,t,tc.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,r=this.parseName();return this.expectToken(tc.COLON),this.node(t,{kind:Do.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(tc.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(tc.NAME)?this.node(e,{kind:Do.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Do.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:Do.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Do.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case tc.BRACKET_L:return this.parseList(e);case tc.BRACE_L:return this.parseObject(e);case tc.INT:return this.advanceLexer(),this.node(t,{kind:Do.INT,value:t.value});case tc.FLOAT:return this.advanceLexer(),this.node(t,{kind:Do.FLOAT,value:t.value});case tc.STRING:case tc.BLOCK_STRING:return this.parseStringLiteral();case tc.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:Do.BOOLEAN,value:!0});case"false":return this.node(t,{kind:Do.BOOLEAN,value:!1});case"null":return this.node(t,{kind:Do.NULL});default:return this.node(t,{kind:Do.ENUM,value:t.value})}case tc.DOLLAR:if(e){if(this.expectToken(tc.DOLLAR),this._lexer.token.kind===tc.NAME){const e=this._lexer.token.value;throw Zu(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Do.STRING,value:e.value,block:e.kind===tc.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:Do.LIST,values:this.any(tc.BRACKET_L,(()=>this.parseValueLiteral(e)),tc.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:Do.OBJECT,fields:this.any(tc.BRACE_L,(()=>this.parseObjectField(e)),tc.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,r=this.parseName();return this.expectToken(tc.COLON),this.node(t,{kind:Do.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(tc.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(tc.AT),this.node(t,{kind:Do.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(tc.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(tc.BRACKET_R),t=this.node(e,{kind:Do.LIST_TYPE,type:r})}else t=this.parseNamedType();return this.expectOptionalToken(tc.BANG)?this.node(e,{kind:Do.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:Do.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(tc.STRING)||this.peek(tc.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),n=this.many(tc.BRACE_L,this.parseOperationTypeDefinition,tc.BRACE_R);return this.node(e,{kind:Do.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(tc.COLON);const r=this.parseNamedType();return this.node(e,{kind:Do.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),n=this.parseConstDirectives();return this.node(e,{kind:Do.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Do.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(tc.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(tc.BRACE_L,this.parseFieldDefinition,tc.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(tc.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:Do.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(tc.PAREN_L,this.parseInputValueDef,tc.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(tc.COLON);const n=this.parseTypeReference();let i;this.expectOptionalToken(tc.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:Do.INPUT_VALUE_DEFINITION,description:t,name:r,type:n,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Do.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:Do.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(tc.EQUALS)?this.delimitedMany(tc.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:Do.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i})}parseEnumValuesDefinition(){return this.optionalMany(tc.BRACE_L,this.parseEnumValueDefinition,tc.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),n=this.parseConstDirectives();return this.node(e,{kind:Do.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw Zu(this._lexer.source,this._lexer.token.start,`${Ac(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:Do.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(tc.BRACE_L,this.parseInputValueDef,tc.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===tc.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),r=this.optionalMany(tc.BRACE_L,this.parseOperationTypeDefinition,tc.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:Do.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),r=this.parseConstDirectives();if(0===r.length)throw this.unexpected();return this.node(e,{kind:Do.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:Do.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:Do.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Do.UNION_TYPE_EXTENSION,name:t,directives:r,types:n})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Do.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:Do.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(tc.AT);const r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:Do.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(tc.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(ec,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new To(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw Zu(this._lexer.source,t.start,`Expected ${xc(e)}, found ${Ac(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==tc.NAME||t.value!==e)throw Zu(this._lexer.source,t.start,`Expected "${e}", found ${Ac(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===tc.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return Zu(this._lexer.source,t.start,`Unexpected ${Ac(t)}.`)}any(e,t,r){this.expectToken(e);const n=[];for(;!this.expectOptionalToken(r);)n.push(t.call(this));return n}optionalMany(e,t,r){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(r));return e}return[]}many(e,t,r){this.expectToken(e);const n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}delimitedMany(e,t){this.expectOptionalToken(e);const r=[];do{r.push(t.call(this))}while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==tc.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Zu(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function Ac(e){const t=e.value;return xc(e.kind)+(null!=t?` "${t}"`:"")}function xc(e){return function(e){return e===tc.BANG||e===tc.DOLLAR||e===tc.AMP||e===tc.PAREN_L||e===tc.PAREN_R||e===tc.SPREAD||e===tc.COLON||e===tc.EQUALS||e===tc.AT||e===tc.BRACKET_L||e===tc.BRACKET_R||e===tc.BRACE_L||e===tc.PIPE||e===tc.BRACE_R}(e)?`"${e}"`:e}var kc=new Map,Ic=new Map,Tc=!0,Cc=!1;function Oc(e){return e.replace(/[\s,]+/g," ").trim()}function Pc(e){var t=new Set,r=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var n=e.name.value,i=Oc((s=e.loc).source.body.substring(s.start,s.end)),o=Ic.get(n);o&&!o.has(i)?Tc&&console.warn("Warning: fragment with name "+n+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||Ic.set(n,o=new Set),o.add(i),t.has(i)||(t.add(i),r.push(e))}else r.push(e);var s})),In(In({},e),{definitions:r})}function Mc(e){var t=Oc(e);if(!kc.has(t)){var r=function(e,t){return new Ec(e,t).parseDocument()}(e,{experimentalFragmentVariables:Cc,allowLegacyFragmentVariables:Cc});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");kc.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(r){var n=e[r];n&&"object"==typeof n&&t.add(n)}))}));var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}(Pc(r)))}return kc.get(t)}function Bc(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var n=e[0];return t.forEach((function(t,r){t&&"Document"===t.kind?n+=t.loc.source.body:n+=t,n+=e[r+1]})),Mc(n)}var Dc,Rc=Bc,jc=function(){kc.clear(),Ic.clear()},Lc=function(){Tc=!1},Nc=function(){Cc=!0},Uc=function(){Cc=!1};(Dc=Bc||(Bc={})).gql=Rc,Dc.resetCaches=jc,Dc.disableFragmentWarnings=Lc,Dc.enableExperimentalFragmentVariables=Nc,Dc.disableExperimentalFragmentVariables=Uc,Bc.default=Bc;var Hc=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=eu(Si,{max:Ni["cache.fragmentQueryDocuments"]||1e3,cache:Oi})}return e.prototype.batch=function(e){var t,r=this,n="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(r)}),n),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(In(In({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.watchFragment=function(e){var t,r=this,n=e.fragment,i=e.fragmentName,o=e.from,s=e.optimistic,a=void 0===s||s,u=Tn(e,["fragment","fragmentName","from","optimistic"]),c=this.getFragmentDoc(n,i),f=In(In({},u),{returnPartialData:!0,id:"string"==typeof o?o:this.identify(o),query:c,optimistic:a});return new _i((function(e){return r.watch(In(In({},f),{immediate:!0,callback:function(r){if(!t||!gu(c,{data:null==t?void 0:t.result},{data:r.result})){var n={data:r.result,complete:!!r.complete};r.missing&&(n.missing=is(r.missing.map((function(e){return e.missing})))),t=r,e.next(n)}}}))}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(In(In({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,r=e.data,n=Tn(e,["id","data"]);return this.write(Object.assign(n,{dataId:t||"ROOT_QUERY",result:r}))},e.prototype.writeFragment=function(e){var t=e.id,r=e.data,n=e.fragment,i=e.fragmentName,o=Tn(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(n,i),dataId:t,result:r}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var n=r.readQuery(e),i=t(n);return null==i?n:(r.writeQuery(In(In({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var n=r.readFragment(e),i=t(n);return null==i?n:(r.writeFragment(In(In({},e),{data:i})),i)}})},e}();!1!==globalThis.__DEV__&&(Hc.prototype.getMemoryInternals=qi);var Fc=function(e){function t(r,n,i,o){var s,a=e.call(this,r)||this;if(a.message=r,a.path=n,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var u=a.path.length-1;u>=0;--u)a.missing=((s={})[a.path[u]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return kn(t,e),t}(Error);function zc(e){var t=new Set([e]);return t.forEach((function(e){wi(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(r){wi(e[r])&&t.add(e[r])}))})),e}function qc(e){return!1!==globalThis.__DEV__&&zc(e),e}var Kc=Object.prototype.hasOwnProperty;function Vc(e){return null==e}function Wc(e,t){var r=e.__typename,n=e.id,i=e._id;if("string"==typeof r&&(t&&(t.keyObject=Vc(n)?Vc(i)?void 0:{_id:i}:{id:n}),Vc(n)&&!Vc(i)&&(n=i),!Vc(n)))return"".concat(r,":").concat("number"==typeof n||"string"==typeof n?n:JSON.stringify(n))}var $c={dataIdFromObject:Wc,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Qc(e){var t=e.canonizeResults;return void 0===t?$c.canonizeResults:t}var Gc=/^[_a-z][_0-9a-z]*/i;function Xc(e){var t=e.match(Gc);return t?t[0]:e}function Yc(e,t,r){return!!wi(t)&&(es(t)?t.every((function(t){return Yc(e,t,r)})):e.selections.every((function(e){if(co(e)&&No(e,r)){var n=ao(e);return Kc.call(t,n)&&(!e.selectionSet||Yc(e.selectionSet,t[n],r))}return!0})))}function Jc(e){return wi(e)&&!to(e)&&!es(e)}function Zc(e,t){var r=Ei(po(e));return{fragmentMap:r,lookupFragment:function(e){var n=r[e];return!n&&t&&(n=t.lookup(e)),n||null}}}var ef=Object.create(null),tf=function(){return ef},rf=Object.create(null),nf=function(){function e(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return qc(to(e)?r.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return to(e)?r.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return eo(e);if(to(e))return e;var n=r.policies.identify(e)[0];if(n){var i=eo(n);return t&&r.merge(n,e),i}}}return e.prototype.toObject=function(){return In({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),Kc.call(this.data,e)){var r=this.data[e];if(r&&Kc.call(r,t))return r[t]}return"__typename"===t&&Kc.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof uf?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),Kc.call(this.data,e)?this.data[e]:this instanceof uf?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var r,n=this;to(e)&&(e=e.__ref),to(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(r=e):e,o="string"==typeof t?this.lookup(r=t):t;if(o){$n("string"==typeof r,1);var s=new ss(ff).merge(i,o);if(this.data[r]=s,s!==i&&(delete this.refs[r],this.group.caching)){var a=Object.create(null);i||(a.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==s[e]){a[e]=1;var t=Xc(e);t===e||n.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||n instanceof uf||delete s[e]}})),!a.__typename||i&&i.__typename||this.policies.rootTypenamesById[r]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return n.group.dirty(r,e)}))}}},e.prototype.modify=function(e,t){var r=this,n=this.lookup(e);if(n){var i=Object.create(null),o=!1,s=!0,a={DELETE:ef,INVALIDATE:rf,isReference:to,toReference:this.toReference,canRead:this.canRead,readField:function(t,n){return r.policies.readField("string"==typeof t?{fieldName:t,from:n||eo(e)}:t,{store:r})}};if(Object.keys(n).forEach((function(u){var c=Xc(u),f=n[u];if(void 0!==f){var l="function"==typeof t?t:t[u]||t[c];if(l){var d=l===tf?ef:l(qc(f),In(In({},a),{fieldName:c,storeFieldName:u,storage:r.getStorage(e,u)}));if(d===rf)r.group.dirty(e,u);else if(d===ef&&(d=void 0),d!==f&&(i[u]=d,o=!0,f=d,!1!==globalThis.__DEV__)){var h=function(e){if(void 0===r.lookup(e.__ref))return!1!==globalThis.__DEV__&&$n.warn(2,e),!0};if(to(d))h(d);else if(Array.isArray(d))for(var p=!1,y=void 0,g=0,b=d;g<b.length;g++){var m=b[g];if(to(m)){if(p=!0,h(m))break}else if("object"==typeof m&&m)r.policies.identify(m)[0]&&(y=m);if(p&&void 0!==y){!1!==globalThis.__DEV__&&$n.warn(3,y);break}}}}void 0!==f&&(s=!1)}})),o)return this.merge(e,i),s&&(this instanceof uf?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,r){var n,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),s=t&&r?this.policies.getStoreFieldName({typename:o,fieldName:t,args:r}):t;return this.modify(e,s?((n={})[s]=tf,n):tf)}return!1},e.prototype.evict=function(e,t){var r=!1;return e.id&&(Kc.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof uf&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach((function(t){Kc.call(e.policies.rootTypenamesById,t)||r.push(t)})),r.length&&(t.__META={extraRootIds:r.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(r){e&&Kc.call(e,r)||t.delete(r)})),e){var r=e.__META,n=Tn(e,["__META"]);Object.keys(n).forEach((function(e){t.merge(e,n[e])})),r&&r.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof uf?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach((function(n){Kc.call(r,n)&&(Object.keys(e.findChildRefIds(n)).forEach(t.add,t),delete r[n])}));var n=Object.keys(r);if(n.length){for(var i=this;i instanceof uf;)i=i.parent;n.forEach((function(e){return i.delete(e)}))}return n},e.prototype.findChildRefIds=function(e){if(!Kc.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var n=new Set([r]);n.forEach((function(e){to(e)&&(t[e.__ref]=!0),wi(e)&&Object.keys(e).forEach((function(t){var r=e[t];wi(r)&&n.add(r)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),of=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Xa():null,this.keyMaker=new la(Ko)},e.prototype.depend=function(e,t){if(this.d){this.d(sf(e,t));var r=Xc(t);r!==t&&this.d(sf(e,r)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(sf(e,t),"__exists"===t?"forget":"setDirty")},e}();function sf(e,t){return t+"#"+e}function af(e,t){lf(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var r=t.policies,n=t.resultCaching,i=void 0===n||n,o=t.seed,s=e.call(this,r,new of(i))||this;return s.stump=new cf(s),s.storageTrie=new la(Ko),o&&s.replace(o),s}return kn(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(nf||(nf={}));var uf=function(e){function t(t,r,n,i){var o=e.call(this,r.policies,i)||this;return o.id=t,o.parent=r,o.replay=n,o.group=i,n(o),o}return kn(t,e),t.prototype.addLayer=function(e,r){return new t(e,this,r,this.group)},t.prototype.removeLayer=function(e){var t=this,r=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var n=t.data[e],i=r.lookup(e);i?n?n!==i&&Object.keys(n).forEach((function(r){ea(n[r],i[r])||t.group.dirty(e,r)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(r){t.group.dirty(e,r)}))):t.delete(e)})),r):r===this.parent?this:r.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return In(In({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return Kc.call(this.data,t)?In(In({},r),e.prototype.findChildRefIds.call(this,t)):r},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(nf),cf=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new of(t.group.caching,t.group))||this}return kn(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}(uf);function ff(e,t,r){var n=e[r],i=t[r];return ea(n,i)?n:i}function lf(e){return!!(e instanceof nf&&e.group.caching)}var df=function(){function e(){this.known=new(Vo?WeakSet:Set),this.pool=new la(Ko),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return wi(e)&&this.known.has(e)},e.prototype.pass=function(e){if(wi(e)){var t=function(e){return wi(e)?es(e)?e.slice(0):In({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(wi(e)){var r=this.passes.get(e);if(r)return r;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var n=e.map(this.admit,this);return(a=this.pool.lookupArray(n)).array||(this.known.add(a.array=n),!1!==globalThis.__DEV__&&Object.freeze(n)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],s=this.sortedKeys(e);o.push(s.json);var a,u=o.length;if(s.sorted.forEach((function(r){o.push(t.admit(e[r]))})),!(a=this.pool.lookupArray(o)).object){var c=a.object=Object.create(i);this.known.add(c),s.sorted.forEach((function(e,t){c[e]=o[u+t]})),!1!==globalThis.__DEV__&&Object.freeze(c)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var n=JSON.stringify(t);(r.keys=this.keysByJSON.get(n))||this.keysByJSON.set(n,r.keys={sorted:t,json:n})}return r.keys},e}();function hf(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var pf=function(){function e(e){var t=this;this.knownResults=new(Ko?WeakMap:Map),this.config=du(e,{addTypename:!1!==e.addTypename,canonizeResults:Qc(e)}),this.canon=e.canon||new df,this.executeSelectionSet=eu((function(e){var r,n=e.context.canonizeResults,i=hf(e);i[3]=!n;var o=(r=t.executeSelectionSet).peek.apply(r,i);return o?n?In(In({},o),{result:t.canon.admit(o.result)}):o:(af(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize||Ni["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:hf,makeCacheKey:function(e,t,r,n){if(lf(r.store))return r.store.makeCacheKey(e,to(t)?t.__ref:t,r.varString,n)}}),this.executeSubSelectedArray=eu((function(e){return af(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize||Ni["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(e){var t=e.field,r=e.array,n=e.context;if(lf(n.store))return n.store.makeCacheKey(t,r,n.varString)}})}return e.prototype.resetCanon=function(){this.canon=new df},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,n=e.rootId,i=void 0===n?"ROOT_QUERY":n,o=e.variables,s=e.returnPartialData,a=void 0===s||s,u=e.canonizeResults,c=void 0===u?this.config.canonizeResults:u,f=this.config.cache.policies;o=In(In({},bo(yo(r))),o);var l,d=eo(i),h=this.executeSelectionSet({selectionSet:go(r).selectionSet,objectOrReference:d,enclosingRef:d,context:In({store:t,query:r,policies:f,variables:o,varString:Yi(o),canonizeResults:c},Zc(r,this.config.fragments))});if(h.missing&&(l=[new Fc(yf(h.missing),h.missing,r,o)],!a))throw l[0];return{result:h.result,complete:!l,missing:l}},e.prototype.isFresh=function(e,t,r,n){if(lf(n.store)&&this.knownResults.get(e)===r){var i=this.executeSelectionSet.peek(r,t,n,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,n=e.objectOrReference,i=e.enclosingRef,o=e.context;if(to(n)&&!o.policies.rootTypenamesById[n.__ref]&&!o.store.has(n.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(n.__ref," object")};var s,a=o.variables,u=o.policies,c=o.store.getFieldValue(n,"__typename"),f=[],l=new ss;function d(e,t){var r;return e.missing&&(s=l.merge(s,((r={})[t]=e.missing,r))),e.result}this.config.addTypename&&"string"==typeof c&&!u.rootIdsByTypename[c]&&f.push({__typename:c});var h=new Set(r.selections);h.forEach((function(e){var r,p;if(No(e,a))if(co(e)){var y=u.readField({fieldName:e.name.value,field:e,variables:o.variables,from:n},o),g=ao(e);void 0===y?Ks.added(e)||(s=l.merge(s,((r={})[g]="Can't find field '".concat(e.name.value,"' on ").concat(to(n)?n.__ref+" object":"object "+JSON.stringify(n,null,2)),r))):es(y)?y.length>0&&(y=d(t.executeSubSelectedArray({field:e,array:y,enclosingRef:i,context:o}),g)):e.selectionSet?null!=y&&(y=d(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:y,enclosingRef:to(y)?y:i,context:o}),g)):o.canonizeResults&&(y=t.canon.pass(y)),void 0!==y&&f.push(((p={})[g]=y,p))}else{var b=Ai(e,o.lookupFragment);if(!b&&e.kind===Do.FRAGMENT_SPREAD)throw Qn(9,e.name.value);b&&u.fragmentMatches(b,c)&&b.selectionSet.selections.forEach(h.add,h)}}));var p={result:is(f),missing:s},y=o.canonizeResults?this.canon.admit(p):qc(p);return y.result&&this.knownResults.set(y.result,r),y},e.prototype.execSubSelectedArrayImpl=function(e){var t,r=this,n=e.field,i=e.array,o=e.enclosingRef,s=e.context,a=new ss;function u(e,r){var n;return e.missing&&(t=a.merge(t,((n={})[r]=e.missing,n))),e.result}return n.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map((function(e,t){return null===e?null:es(e)?u(r.executeSubSelectedArray({field:n,array:e,enclosingRef:o,context:s}),t):n.selectionSet?u(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:e,enclosingRef:to(e)?e:o,context:s}),t):(!1!==globalThis.__DEV__&&function(e,t,r){if(!t.selectionSet){var n=new Set([r]);n.forEach((function(r){wi(r)&&($n(!to(r),10,function(e,t){return to(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,r),t.name.value),Object.values(r).forEach(n.add,n))}))}}(s.store,n,e),e)})),{result:s.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function yf(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var gf=Object.create(null);function bf(e){var t=JSON.stringify(e);return gf[t]||(gf[t]=Object.create(null))}function mf(e){var t=bf(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,r){var n=function(e,t){return r.readField(t,e)},i=r.keyObject=_f(e,(function(e){var i=Ef(r.storeObject,e,n);return void 0===i&&t!==r.storeObject&&Kc.call(t,e[0])&&(i=Ef(t,e,Sf)),$n(void 0!==i,4,e.join("."),t),i}));return"".concat(r.typename,":").concat(JSON.stringify(i))})}function vf(e){var t=bf(e);return t.keyArgsFn||(t.keyArgsFn=function(t,r){var n=r.field,i=r.variables,o=r.fieldName,s=_f(e,(function(e){var r=e[0],o=r.charAt(0);if("@"!==o)if("$"!==o){if(t)return Ef(t,e)}else{var s=r.slice(1);if(i&&Kc.call(i,s)){var a=e.slice(0);return a[0]=s,Ef(i,a)}}else if(n&&ts(n.directives)){var u=r.slice(1),c=n.directives.find((function(e){return e.name.value===u})),f=c&&so(c,i);return f&&Ef(f,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(o+=":"+a),o})}function _f(e,t){var r=new ss;return wf(e).reduce((function(e,n){var i,o=t(n);if(void 0!==o){for(var s=n.length-1;s>=0;--s)(i={})[n[s]]=o,o=i;e=r.merge(e,o)}return e}),Object.create(null))}function wf(e){var t=bf(e);if(!t.paths){var r=t.paths=[],n=[];e.forEach((function(t,i){es(t)?(wf(t).forEach((function(e){return r.push(n.concat(e))})),n.length=0):(n.push(t),es(e[i+1])||(r.push(n.slice(0)),n.length=0))}))}return t.paths}function Sf(e,t){return e[t]}function Ef(e,t,r){return r=r||Sf,Af(t.reduce((function e(t,n){return es(t)?t.map((function(t){return e(t,n)})):t&&r(t,n)}),e))}function Af(e){return wi(e)?es(e)?e.map(Af):_f(Object.keys(e).sort(),(function(t){return Ef(e,t)})):e}function xf(e){return void 0!==e.args?e.args:e.field?so(e.field,e.variables):null}var kf=function(){},If=function(e,t){return t.fieldName},Tf=function(e,t,r){return(0,r.mergeObjects)(e,t)},Cf=function(e,t){return t},Of=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=In({dataIdFromObject:Wc},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var r,n=this,i=t&&(t.typename||(null===(r=t.storeObject)||void 0===r?void 0:r.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,s=t&&t.storeObject||e,a=In(In({},t),{typename:i,storeObject:s,readField:t&&t.readField||function(){var e=Mf(arguments,s);return n.readField(e,{store:n.cache.data,variables:e.variables})}}),u=i&&this.getTypePolicy(i),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var f=c(In(In({},e),s),a);if(!es(f)){o=f;break}c=mf(f)}return o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(r){var n=e[r],i=n.queryType,o=n.mutationType,s=n.subscriptionType,a=Tn(n,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",r),o&&t.setRootTypename("Mutation",r),s&&t.setRootTypename("Subscription",r),Kc.call(t.toBeAdded,r)?t.toBeAdded[r].push(a):t.toBeAdded[r]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var r=this,n=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?Tf:!1===t?Cf:e.merge}s(n,t.merge),n.keyFn=!1===i?kf:es(i)?mf(i):"function"==typeof i?i:n.keyFn,o&&Object.keys(o).forEach((function(t){var n=r.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)n.read=i;else{var a=i.keyArgs,u=i.read,c=i.merge;n.keyFn=!1===a?If:es(a)?vf(a):"function"==typeof a?a:n.keyFn,"function"==typeof u&&(n.read=u),s(n,c)}n.read&&n.merge&&(n.keyFn=n.keyFn||If)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var r="ROOT_"+e.toUpperCase(),n=this.rootTypenamesById[r];t!==n&&($n(!n||n===e,5,e),n&&delete this.rootIdsByTypename[n],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(r){t.getSupertypeSet(r,!0),e[r].forEach((function(e){t.getSupertypeSet(e,!0).add(r);var n=e.match(Gc);n&&n[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!Kc.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var n=this.supertypeMap.get(e);!n&&this.fuzzySubtypes.size&&(n=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(r,i){if(r.test(e)){var o=t.supertypeMap.get(i);o&&o.forEach((function(e){return n.add(e)}))}}))),n&&n.size&&n.forEach((function(e){var n=t.getTypePolicy(e),i=n.fields,o=Tn(n,["fields"]);Object.assign(r,o),Object.assign(r.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(r){t.updateTypePolicy(e,r)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,r){if(e){var n=this.getTypePolicy(e).fields;return n[t]||r&&(n[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},e.prototype.fragmentMatches=function(e,t,r,n){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(t,!0),a=[s],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},c=!(!r||!this.fuzzySubtypes.size),f=!1,l=0;l<a.length;++l){var d=a[l];if(d.has(o))return s.has(o)||(f&&!1!==globalThis.__DEV__&&$n.warn(6,t,o),s.add(o)),!0;d.forEach(u),c&&l===a.length-1&&Yc(e.selectionSet,r,n)&&(c=!1,f=!0,this.fuzzySubtypes.forEach((function(e,r){var n=t.match(e);n&&n[0]===t&&u(r)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!(!r||!r.keyFn)},e.prototype.getStoreFieldName=function(e){var t,r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),o=i&&i.keyFn;if(o&&r)for(var s={typename:r,fieldName:n,field:e.field||null,variables:e.variables},a=xf(e);o;){var u=o(a,s);if(!es(u)){t=u||n;break}o=vf(u)}return void 0===t&&(t=e.field?function(e,t){var r=null;e.directives&&(r={},e.directives.forEach((function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach((function(n){var i=n.name,o=n.value;return ro(r[e.name.value],i,o,t)}))})));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach((function(e){var r=e.name,i=e.value;return ro(n,r,i,t)}))),oo(e.name.value,n,r)}(e.field,e.variables):oo(n,xf(e))),!1===t?n:n===Xc(t)?t:n+":"+t},e.prototype.readField=function(e,t){var r=e.from;if(r&&(e.field||e.fieldName)){if(void 0===e.typename){var n=t.store.getFieldValue(r,"__typename");n&&(e.typename=n)}var i=this.getStoreFieldName(e),o=Xc(i),s=t.store.getFieldValue(r,i),a=this.getFieldPolicy(e.typename,o,!1),u=a&&a.read;if(u){var c=Pf(this,r,e,t,t.store.getStorage(to(r)?r.__ref:r,i));return ju.withValue(this.cache,u,[s,c])}return s}},e.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},e.prototype.getMergeFunction=function(e,t,r){var n=this.getFieldPolicy(e,t,!1),i=n&&n.merge;return!i&&r&&(i=(n=this.getTypePolicy(r))&&n.merge),i},e.prototype.runMergeFunction=function(e,t,r,n,i){var o=r.field,s=r.typename,a=r.merge;return a===Tf?Bf(n.store)(e,t):a===Cf?t:(n.overwrite&&(e=void 0),a(e,t,Pf(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:n.variables},n,i||Object.create(null))))},e}();function Pf(e,t,r,n,i){var o=e.getStoreFieldName(r),s=Xc(o),a=r.variables||n.variables,u=n.store,c=u.toReference,f=u.canRead;return{args:xf(r),field:r.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:to,toReference:c,storage:i,cache:e.cache,canRead:f,readField:function(){return e.readField(Mf(arguments,t,a),n)},mergeObjects:Bf(n.store)}}function Mf(e,t,r){var n,i=e[0],o=e[1],s=e.length;return"string"==typeof i?n={fieldName:i,from:s>1?o:t}:(n=In({},i),Kc.call(n,"from")||(n.from=t)),!1!==globalThis.__DEV__&&void 0===n.from&&!1!==globalThis.__DEV__&&$n.warn(7,Vn(Array.from(e))),void 0===n.variables&&(n.variables=r),n}function Bf(e){return function(t,r){if(es(t)||es(r))throw Qn(8);if(wi(t)&&wi(r)){var n=e.getFieldValue(t,"__typename"),i=e.getFieldValue(r,"__typename");if(n&&i&&n!==i)return r;if(to(t)&&Jc(r))return e.merge(t.__ref,r),t;if(Jc(t)&&to(r))return e.merge(t,r.__ref),r;if(Jc(t)&&Jc(r))return In(In({},t),r)}return r}}function Df(e,t,r){var n="".concat(t).concat(r),i=e.flavors.get(n);return i||e.flavors.set(n,i=e.clientOnly===t&&e.deferred===r?e:In(In({},e),{clientOnly:t,deferred:r})),i}var Rf=function(){function e(e,t,r){this.cache=e,this.reader=t,this.fragments=r}return e.prototype.writeToStore=function(e,t){var r=this,n=t.query,i=t.result,o=t.dataId,s=t.variables,a=t.overwrite,u=lo(n),c=new ss;s=In(In({},bo(u)),s);var f=In(In({store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:s,varString:Yi(s)},Zc(n,this.fragments)),{overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),l=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!to(l))throw Qn(11,i);return f.incomingById.forEach((function(t,n){var i=t.storeObject,o=t.mergeTree,s=t.fieldNodeSet,a=eo(n);if(o&&o.map.size){var u=r.applyMerges(o,a,i,f);if(to(u))return;i=u}if(!1!==globalThis.__DEV__&&!f.overwrite){var c=Object.create(null);s.forEach((function(e){e.selectionSet&&(c[e.name.value]=!0)}));Object.keys(i).forEach((function(e){(function(e){return!0===c[Xc(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,r,n){var i=function(e){var t=n.getFieldValue(e,r);return"object"==typeof t&&t},o=i(e);if(!o)return;var s=i(t);if(!s)return;if(to(o))return;if(ea(o,s))return;if(Object.keys(o).every((function(e){return void 0!==n.getFieldValue(s,e)})))return;var a=n.getFieldValue(e,"__typename")||n.getFieldValue(t,"__typename"),u=Xc(r),c="".concat(a,".").concat(u);if(Ff.has(c))return;Ff.add(c);var f=[];es(o)||es(s)||[o,s].forEach((function(e){var t=n.getFieldValue(e,"__typename");"string"!=typeof t||f.includes(t)||f.push(t)}));!1!==globalThis.__DEV__&&$n.warn(14,u,a,f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"",c,In({},o),In({},s))}(a,i,e,f.store)}))}e.merge(n,i)})),e.retain(l.__ref),l},e.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,n=e.result,i=e.selectionSet,o=e.context,s=e.mergeTree,a=this.cache.policies,u=Object.create(null),c=r&&a.rootTypenamesById[r]||uo(n,i,o.fragmentMap)||r&&o.store.get(r,"__typename");"string"==typeof c&&(u.__typename=c);var f=function(){var e=Mf(arguments,u,o.variables);if(to(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var r=a.readField(In(In({},e),{from:t.storeObject}),o);if(void 0!==r)return r}}return a.readField(e,o)},l=new Set;this.flattenFields(i,n,o,c).forEach((function(e,r){var i,o=ao(r),d=n[o];if(l.add(r),void 0!==d){var h=a.getStoreFieldName({typename:c,fieldName:r.name.value,field:r,variables:e.variables}),p=Lf(s,h),y=t.processFieldValue(d,r,r.selectionSet?Df(e,!1,!1):e,p),g=void 0;r.selectionSet&&(to(y)||Jc(y))&&(g=f("__typename",y));var b=a.getMergeFunction(c,r.name.value,g);b?p.info={field:r,typename:c,merge:b}:Hf(s,h),u=e.merge(u,((i={})[h]=y,i))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||Ks.added(r)||a.getReadFunction(c,r.name.value)||!1!==globalThis.__DEV__&&$n.error(12,ao(r),n)}));try{var d=a.identify(n,{typename:c,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:u,readField:f}),h=d[0],p=d[1];r=r||h,p&&(u=o.merge(u,p))}catch(e){if(!r)throw e}if("string"==typeof r){var y=eo(r),g=o.written[r]||(o.written[r]=[]);if(g.indexOf(i)>=0)return y;if(g.push(i),this.reader&&this.reader.isFresh(n,y,i,o))return y;var b=o.incomingById.get(r);return b?(b.storeObject=o.merge(b.storeObject,u),b.mergeTree=Nf(b.mergeTree,s),l.forEach((function(e){return b.fieldNodeSet.add(e)}))):o.incomingById.set(r,{storeObject:u,mergeTree:Uf(s)?void 0:s,fieldNodeSet:l}),y}return u},e.prototype.processFieldValue=function(e,t,r,n){var i=this;return t.selectionSet&&null!==e?es(e)?e.map((function(e,o){var s=i.processFieldValue(e,t,r,Lf(n,o));return Hf(n,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:n}):!1!==globalThis.__DEV__?pu(e):e},e.prototype.flattenFields=function(e,t,r,n){void 0===n&&(n=uo(t,e,r.fragmentMap));var i=new Map,o=this.cache.policies,s=new la(!1);return function e(a,u){var c=s.lookup(a,u.clientOnly,u.deferred);c.visited||(c.visited=!0,a.selections.forEach((function(s){if(No(s,r.variables)){var a=u.clientOnly,c=u.deferred;if(a&&c||!ts(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var n=so(e,r.variables);n&&!1===n.if||(c=!0)}})),co(s)){var f=i.get(s);f&&(a=a&&f.clientOnly,c=c&&f.deferred),i.set(s,Df(r,a,c))}else{var l=Ai(s,r.lookupFragment);if(!l&&s.kind===Do.FRAGMENT_SPREAD)throw Qn(13,s.name.value);l&&o.fragmentMatches(l,n,t,r.variables)&&e(l.selectionSet,Df(r,a,c))}}})))}(e,r),i},e.prototype.applyMerges=function(e,t,r,n,i){var o,s=this;if(e.map.size&&!to(r)){var a,u=es(r)||!to(t)&&!Jc(t)?void 0:t,c=r;u&&!i&&(i=[to(u)?u.__ref:u]);var f=function(e,t){return es(e)?"number"==typeof t?e[t]:void 0:n.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var r=f(u,t),o=f(c,t);if(void 0!==o){i&&i.push(t);var l=s.applyMerges(e,r,o,n,i);l!==o&&(a=a||new Map).set(t,l),i&&$n(i.pop()===t)}})),a&&(r=es(c)?c.slice(0):In({},c),a.forEach((function(e,t){r[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,n,i&&(o=n.store).getStorage.apply(o,i)):r},e}(),jf=[];function Lf(e,t){var r=e.map;return r.has(t)||r.set(t,jf.pop()||{map:new Map}),r.get(t)}function Nf(e,t){if(e===t||!t||Uf(t))return e;if(!e||Uf(e))return t;var r=e.info&&t.info?In(In({},e.info),t.info):e.info||t.info,n=e.map.size&&t.map.size,i={info:r,map:n?new Map:e.map.size?e.map:t.map};if(n){var o=new Set(t.map.keys());e.map.forEach((function(e,r){i.map.set(r,Nf(e,t.map.get(r))),o.delete(r)})),o.forEach((function(r){i.map.set(r,Nf(t.map.get(r),e.map.get(r)))}))}return i}function Uf(e){return!e||!(e.info||e.map.size)}function Hf(e,t){var r=e.map,n=r.get(t);n&&Uf(n)&&(jf.push(n),r.delete(t))}var Ff=new Set;var zf=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new ru(Ks),r.assumeImmutableResults=!0,r.makeVar=Hu,r.txCount=0,r.config=function(e){return du($c,e)}(t),r.addTypename=!!r.config.addTypename,r.policies=new Of({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return kn(t,e),t.prototype.init=function(){var e=this.data=new nf.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,r=this.storeReader,n=this.config.fragments;this.storeWriter=new Rf(this,this.storeReader=new pf({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Qc(this.config),canon:e?void 0:r&&r.canon,fragments:n}),n),this.maybeBroadcastWatch=eu((function(e,r){return t.broadcastWatch(e,r)}),{max:this.config.resultCacheMaxSize||Ni["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(e){var r=e.optimistic?t.optimisticData:t.data;if(lf(r)){var n=e.optimistic,i=e.id,o=e.variables;return r.makeCacheKey(e.query,e.callback,Yi({optimistic:n,id:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,r=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(In(In({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r})).result||null}catch(e){if(e instanceof Fc)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(Kc.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(In(In({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t,r=this;return this.watches.size||Nu(t=this).vars.forEach((function(e){return e.attachCache(t)})),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){r.watches.delete(e)&&!r.watches.size&&Uu(r),r.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){var t;Yi.reset(),Ms.reset(),this.addTypenameTransform.resetCache(),null===(t=this.config.fragments)||void 0===t||t.resetCaches();var r=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),r},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(to(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){!1!==globalThis.__DEV__&&$n.warn(e)}},t.prototype.evict=function(e){if(!e.id){if(Kc.call(e,"id"))return!1;e=In(In({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),Yi.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),Uu(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,r=this,n=e.update,i=e.optimistic,o=void 0===i||i,s=e.removeOptimistic,a=e.onWatchUpdated,u=function(e){var i=r,o=i.data,s=i.optimisticData;++r.txCount,e&&(r.data=r.optimisticData=e);try{return t=n(r)}finally{--r.txCount,r.data=o,r.optimisticData=s}},c=new Set;return a&&!this.txCount&&this.broadcastWatches(In(In({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"==typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&c.size?(this.broadcastWatches(In(In({},e),{onWatchUpdated:function(e,t){var r=a.call(this,e,t);return!1!==r&&c.delete(e),r}})),c.size&&c.forEach((function(e){return r.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(r){return t.maybeBroadcastWatch(r,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var r=e.lastDiff,n=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(n.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,n,r))||r&&ea(r.result,n.result)||e.callback(e.lastDiff=n,r)},t}(Hc);!1!==globalThis.__DEV__&&(zf.prototype.getMemoryInternals=zi);var qf=function(){function e(e){var t=e.batchDebounce,r=e.batchInterval,n=e.batchMax,i=e.batchHandler,o=e.batchKey;this.batchesByKey=new Map,this.scheduledBatchTimerByKey=new Map,this.batchDebounce=t,this.batchInterval=r,this.batchMax=n||0,this.batchHandler=i,this.batchKey=o||function(){return""}}return e.prototype.enqueueRequest=function(e){var t=this,r=In(In({},e),{next:[],error:[],complete:[],subscribers:new Set}),n=this.batchKey(e.operation);return r.observable||(r.observable=new _i((function(e){var i=t.batchesByKey.get(n);i||t.batchesByKey.set(n,i=new Set);var o=0===i.size,s=0===r.subscribers.size;return r.subscribers.add(e),s&&i.add(r),e.next&&r.next.push(e.next.bind(e)),e.error&&r.error.push(e.error.bind(e)),e.complete&&r.complete.push(e.complete.bind(e)),(o||t.batchDebounce)&&t.scheduleQueueConsumption(n),i.size===t.batchMax&&t.consumeQueue(n),function(){var o;r.subscribers.delete(e)&&r.subscribers.size<1&&i.delete(r)&&i.size<1&&(t.consumeQueue(n),null===(o=i.subscription)||void 0===o||o.unsubscribe())}}))),r.observable},e.prototype.consumeQueue=function(e){void 0===e&&(e="");var t=this.batchesByKey.get(e);if(this.batchesByKey.delete(e),t&&t.size){var r=[],n=[],i=[],o=[],s=[],a=[];t.forEach((function(e){r.push(e.operation),n.push(e.forward),i.push(e.observable),o.push(e.next),s.push(e.error),a.push(e.complete)}));var u=this.batchHandler(r,n)||_i.of(),c=function(e){s.forEach((function(t){t&&t.forEach((function(t){return t(e)}))}))};return t.subscription=u.subscribe({next:function(e){if(Array.isArray(e)||(e=[e]),o.length!==e.length){var t=new Error("server returned results with length ".concat(e.length,", expected length of ").concat(o.length));return t.result=e,c(t)}e.forEach((function(e,t){o[t]&&o[t].forEach((function(t){return t(e)}))}))},error:c,complete:function(){a.forEach((function(e){e&&e.forEach((function(e){return e()}))}))}}),i}},e.prototype.scheduleQueueConsumption=function(e){var t=this;clearTimeout(this.scheduledBatchTimerByKey.get(e)),this.scheduledBatchTimerByKey.set(e,setTimeout((function(){t.consumeQueue(e),t.scheduledBatchTimerByKey.delete(e)}),this.batchInterval))},e}(),Kf=function(e){function t(t){var r=e.call(this)||this,n=t||{},i=n.batchDebounce,o=n.batchInterval,s=void 0===o?10:o,a=n.batchMax,u=void 0===a?0:a,c=n.batchHandler,f=void 0===c?function(){return null}:c,l=n.batchKey,d=void 0===l?function(){return""}:l;return r.batcher=new qf({batchDebounce:i,batchInterval:s,batchMax:u,batchHandler:f,batchKey:d}),t.batchHandler.length<=1&&(r.request=function(e){return r.batcher.enqueueRequest({operation:e})}),r}return kn(t,e),t.prototype.request=function(e,t){return this.batcher.enqueueRequest({operation:e,forward:t})},t}(wo),Vf=Fn((function(){return fetch})),Wf=function(e){function t(t){var r=e.call(this)||this,n=t||{},i=n.uri,o=void 0===i?"/graphql":i,s=n.fetch,a=n.print,u=void 0===a?Ds:a,c=n.includeExtensions,f=n.preserveHeaderCase,l=n.batchInterval,d=n.batchDebounce,h=n.batchMax,p=n.batchKey,y=n.includeUnusedVariables,g=void 0!==y&&y,b=Tn(n,["uri","fetch","print","includeExtensions","preserveHeaderCase","batchInterval","batchDebounce","batchMax","batchKey","includeUnusedVariables"]);!1!==globalThis.__DEV__&&ps(s||Vf);var m={http:{includeExtensions:c,preserveHeaderCase:f},options:b.fetchOptions,credentials:b.credentials,headers:b.headers};r.batchDebounce=d,r.batchInterval=l||10,r.batchMax=h||10;return p=p||function(e){var t=e.getContext(),r={http:t.http,options:t.fetchOptions,credentials:t.credentials,headers:t.headers};return zo(e,o)+JSON.stringify(r)},r.batcher=new Kf({batchDebounce:r.batchDebounce,batchInterval:r.batchInterval,batchMax:r.batchMax,batchKey:p,batchHandler:function(e){var t=zo(e[0],o),r=e[0].getContext(),n={};if(r.clientAwareness){var i=r.clientAwareness,a=i.name,c=i.version;a&&(n["apollographql-client-name"]=a),c&&(n["apollographql-client-version"]=c)}var f={http:r.http,options:r.fetchOptions,credentials:r.credentials,headers:In(In({},n),r.headers)},l=e.map((function(e){var t=e.query;return Uo(["client"],t)?Ws(t):t}));if(l.some((function(e){return!e})))return js(new Error("BatchHttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or enable the `transformOptions.removeClientFields` option."));var d,h=e.map((function(e,t){var r=Rs(In(In({},e),{query:l[t]}),u,Bs,m,f);return r.body.variables&&!g&&(r.body.variables=Ls(r.body.variables,e.query)),r})),p=h.map((function(e){return e.body})),y=h[0].options;if("GET"===y.method)return js(new Error("apollo-link-batch-http does not support GET requests"));try{y.body=Fo(p,"Payload")}catch(e){return js(e)}return y.signal||"undefined"==typeof AbortController||(d=new AbortController,y.signal=d.signal),new _i((function(r){return(s||Fn((function(){return fetch}))||Vf)(t,y).then((function(t){return e.forEach((function(e){return e.setContext({response:t})})),t})).then(hs(e)).then((function(e){return d=void 0,r.next(e),r.complete(),e})).catch((function(e){d=void 0,e.result&&e.result.errors&&e.result.data&&r.next(e.result),r.error(e)})),function(){d&&d.abort()}}))}}),r}return kn(t,e),t.prototype.request=function(e){return this.batcher.request(e)},t}(wo);class $f{service;client;constructor(e,t){this.service=sn(t);const r=e?"https://ckb-graph.unistate.io/v1/graphql":"https://unistate-ckb-test.unistate.io/v1/graphql";this.client=new Ku({cache:new zf,link:new Wf({uri:r,batchMax:5,batchInterval:20}),defaultOptions:{watchQuery:{fetchPolicy:"cache-and-network"}}})}async fetchTxsDetails(e,t){try{return await this.service.getBtcTransactions(e,{after_txid:t})}catch(e){throw console.error("Error fetching transactions:",e),e}}async fetchAssetsAndQueryDetails(e){try{const[t,r]=await Promise.all([this.service.getRgbppAssetsByBtcAddress(e),this.service.getBtcBalance(e)]),n=t.filter((e=>e.outPoint)).map((e=>{const t=e.outPoint;return this.queryAssetDetails(this.formatTxHash(t.txHash),Number(t.index))})),i=await Promise.all(n);return{balance:r,assets:{xudtCells:i.flatMap((e=>e.xudtCell?[e.xudtCell]:[])),sporeActions:i.flatMap((e=>e.sporeAction||[]))}}}catch(e){throw console.error("Error fetching assets and details:",e),e}}formatTxHash(e){return`\\x${e.replace(/^0x/,"")}`}async queryAssetDetails(e,t){const r=Bc`
            query AssetDetails($txHash: bytea!, $txIndex: Int!) {
                xudtCell: xudt_cell_by_pk(transaction_hash: $txHash, transaction_index: $txIndex) {
                    amount is_consumed type_id
                    addressByTypeId {
                        script_args
                        token_info { decimal name symbol }
                    }
                }
                sporeActions: spore_actions_by_pk(tx: $txHash) {
                    cluster {
                        cluster_description cluster_name created_at id
                        is_burned mutant_id owner_address updated_at
                        address {
                            script_args
                        }
                    }
                    spore {
                        cluster_id content content_type created_at id
                        is_burned owner_address updated_at
                        address {
                            script_args
                        }
                    }
                }
            }
        `,{data:n}=await this.client.query({query:r,variables:{txHash:e,txIndex:t}});return{xudtCell:n.xudtCell,sporeAction:n.sporeActions}}}})(),__webpack_exports__})()));
//# sourceMappingURL=sdk.js.map